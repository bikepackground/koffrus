/*! For license information please see published-v8-site.js.LICENSE.txt */
(()=>{var __webpack_modules__={14570(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={_showNames:false,setShowNames:function e(t){this._showNames=t},getShowNames:function e(){return this._showNames}};var n=t["default"]=r},27441(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=o;var n=i(r(60479));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){e.factory("addRowServices",function(e){return{injectAddRowButtons:function t(r){var i=Object.assign({templateRenderer:e.TemplateRenderer,widgetRegister:e.WidgetRegister},r);return(0,n.default)(i)}}});return e}},60479(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t=window.frames.siteFrame.document;var n=r(t.querySelectorAll("#page-zones__main > .js-widget"));var i=e.templateRenderer;var o=e.widgetRegister;if(0===n.length){d(t.getElementById("page-zones__main"),i);return}n.forEach(function(e,t){if(0===t){u(e,i,o);c(e,i,o);return}c(e,i,o)})}function u(e,t,r){var n=e.getAttribute("data-uniqueid");var i=r.get(n);var o=i.get("data");var a=t.render("row_add_button",{isGrid:"grid"===o.sectionType,sibling:e.getAttribute("data-uniqueid"),position:"above"});e.insertAdjacentHTML("beforebegin",a)}function c(e,t,r){var n=e.getAttribute("data-uniqueid");var i=r.get(n);var o=i.get("data");var a=t.render("row_add_button",{isGrid:"grid"===o.sectionType,sibling:n,position:"below"});e.insertAdjacentHTML("afterend",a)}function d(e,t){var r=t.render("row_add_button",{parent:e.getAttribute("data-uniqueid")});e.insertAdjacentHTML("afterbegin",r)}var f=t["default"]=l},42857(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.model=t}o(e,[{key:"storeCurrentState",value:function e(){this.initialState=this.model.toJSON()}},{key:"restoreInitialState",value:function e(){this.model.set(this.initialState)}}]);return e}();var u=t["default"]=l},42235(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(13355);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.envData,s=r.siteData,l=r.userData;a(this,e);this._base=t.App.brand;this._featureConfigBase=t.App.frontEndBucket.featureConfig;this._frontEndBucket=t.App.frontEndBucket;this._mainWindow=t;this._trans=t.App.i18n.preboarding;var u="1"===this._base.capabilities.publishUpgradeToTemplatePicker;var c={tracking:"0"!==this._base.capabilities.mixPanelTracking,publishUpgradeToTemplatePicker:u,googleServices:1!==parseInt(this._base.capabilities.disableGoogleServices,10),fileUpload:1===parseInt(this._base.capabilities.enableFileUpload,10),enableIntercom:1===parseInt(this._base.capabilities.enableIntercom,10),enableAppcues:1===parseInt(this._base.capabilities.enableAppcues,10),enableAtarim:1===parseInt(this._base.capabilities.enableAtarim,10),showDnsInfoAfterFirstPublish:1===parseInt(this._base.capabilities.showDnsInfoAfterFirstPublish,10),enableFilestack:1===parseInt(this._base.capabilities.enableFilestack,10),enableFilestackClouddrive:1===parseInt(this._base.capabilities.enableFilestackClouddrive,10),enableFilestackFacebook:1===parseInt(this._base.capabilities.enableFilestackFacebook,10),enableFilestackInstagram:1===parseInt(this._base.capabilities.enableFilestackInstagram,10),enableFilestackOnedrive:1===parseInt(this._base.capabilities.enableFilestackOnedrive,10),enableFilestackPexels:"pexels"===this._frontEndBucket.stockImageProvider,enableFilestackPicasa:1===parseInt(this._base.capabilities.enableFilestackPicasa,10),enableFilestackUnsplash:1===parseInt(this._base.capabilities.enableFilestackUnsplash,10),enableSitePolicyPages:1===parseInt(this._base.capabilities.enableSitePolicyPages,10),hideUpgradeInUnableToPublish:1===parseInt(this._base.capabilities.hideUpgradeInUnableToPublish,10),blockPublishForUnverifiedEmail:1===parseInt(this._base.capabilities.blockPublishForUnverifiedEmail,10)};var d=t.App.user.owner.externalSubscriptionURL;var h=this._base.externalSubscriptionLink||"";var g={aRecord:this._frontEndBucket.aRecord,brandName:this._base.name,brandDomain:this._base.domain,brandRef:this._base.ref,displayName:this._base.displayName,logoImageURL:this._base.logoImageURL,publishDomain:this._base.publishDomain,externalUpgradeUrl:h,resellerUpgradeUrl:d,brandType:t.App.user.owner.type,googleMapsEmbedKey:this._base.googleMapsEmbedKey,preboardingSettings:this._base.preboardingSettings||{},loginUrl:this._base.loginURL,supportEmail:f(this._base.supportEmail,this._mainWindow.App.user.owner.resellerSupportEmail),upgradeUrl:p(o,s,l,d,h,u),capabilities:c,cookieWarningSetting:this._base.cookieWarningSetting,cookieWarningUrl:this._base.cookieWarningUrl,featureConfig:this._featureConfigBase,skipChooseContentSet:this._frontEndBucket.skipChooseContentSet};n.store.dispatch((0,i.brandSet)(g))}l(e,[{key:"get",value:function e(t){var r=this["get".concat(t[0].toUpperCase()).concat(t.substring(1))];if(r)return r();return n.store.getState().brand[t]}},{key:"has",value:function e(t){return n.store.getState().brand.capabilities[t]}},{key:"getTranslation",value:function e(t){var r="".concat(n.store.getState().brand.brandRef,"-").concat(t);if(this._trans[r])return this._trans[r];return null}}]);return e}();function f(e,t){if(void 0!==t&&null!==t&&t.length)return t;return e}function p(e,t,r,n,i,o){var a=h(e);var s=g(n,i,t,r);if(o||!s)return a;return s}function h(e){return"".concat(e.get("protocol"),"://account.").concat(e.get("domain"),"/subscription")}function g(e,t,r,n){var i=null;var o=e;o&&0!==o.length||(o=t);o&&o.length>0&&(i=v(o,r,n));return i}function v(e,t,r){var n=-1!==e.indexOf("?")?"&":"?";return"".concat(e).concat(n,"accountHolderRef=").concat(r.get("ref"),"&siteRef=").concat(t.get("ref"))}var m=t["default"]=d},8885(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(20907);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;a(this,e);var r=t.App.frontEndBucket.siteContentSet;n.store.dispatch((0,i.contentSetDataSet)(r))}l(e,[{key:"all",value:function e(){return n.store.getState().contentSet}},{key:"get",value:function e(t){return n.store.getState().contentSet[t]}}]);return e}();var f=t["default"]=d},548(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(83502);var o=r(99951);var a=r(68404);var s=l(r(60477));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=v(e,"string");return"symbol"==n(t)?t:t+""}function v(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=S();return function(){var r,n=k(e);if(t){var i=k(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function t(){return!!e})()}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var P=function(e){m(r,e);var t=b(r);function r(){f(this,r);return t.apply(this,arguments)}h(r,[{key:"_snakeToCamel",value:function e(t){return t.replace(/(_)(.)/,function(e,t,r){return r.toUpperCase()})}},{key:"_globalsArrayToObj",value:function e(t){var r=this;return t.reduce(function(e,t){return c(c({},e),{},d({},r._snakeToCamel(t.name),t.value))},{})}},{key:"getDefaultLanguage",value:function e(){return i.store.getState().language.defaultLanguage.language}},{key:"getSiteLanguages",value:function e(){return i.store.getState().language.siteLanguages}},{key:"getSiteRef",value:function e(){return i.store.getState().site.ref}},{key:"getSiteDefaultLanguage",value:function e(){return i.store.getState().language.defaultLanguage}},{key:"extendProperties",value:function e(){var t=this.mainWindow.Editor.Site.Dom.window;var r=this.mainWindow.App.session.get("siteRef");var n=this.mainWindow.App.sites.get(r);var s=this.mainWindow.App.frontEndBucket;Object.assign(this._properties,{templateData:E(t.Server.templateData),templateStylePreprocessorVariableWidgets:E(t.Server.templateStylePreprocessorVariableWidgets),templateName:t.Server.templateData.name,ref:r,app:t.Server.app,blog:t.Server.plugins.blog,ecommerce:t.Server.plugins.ecommerce,connectBookings:t.Server.connect.bookings,pageTree:this.mainWindow.App.pageTree,siteLanguagesPageTree:App.siteLanguagesPageTree,globalValues:App.frontEndBucket.siteGlobalValues,policyPageData:this.getEnabledPolicyPagesDate()});i.store.dispatch((0,o.siteRefSet)(r));i.store.dispatch((0,o.primaryDomainSet)(this.mainWindow.Editor.Site.primaryDomain));i.store.dispatch((0,o.rowsEnabled)(n.get("enableRows")));i.store.dispatch((0,o.editorVersionSet)(n.get("editorVersion")));i.store.dispatch((0,o.emailVerificationSet)(n.get("emailVerification")));i.store.dispatch((0,o.globalValuesSet)(this._globalsArrayToObj(this.mainWindow.App.frontEndBucket.siteGlobalValues)));i.store.dispatch((0,o.lastPublishSet)(n.get("lastPublish")));s.siteDefaultLanguage&&i.store.dispatch((0,a.defaultLanguageSet)(s.siteDefaultLanguage));i.store.dispatch((0,a.siteLanguagesSet)(s.siteLanguages))}},{key:"getWidgetData",value:function e(){return Editor.Site.Dom.window.Server.widgetsOnPage}},{key:"getEnableRows",value:function e(){return"ten"===i.store.getState().site.editorVersion}},{key:"getEnabledPolicyPagesDate",value:function e(){var t=this.mainWindow.App.frontEndBucket.siteGlobalValues;var r=this.mainWindow.App.frontEndBucket.sitePolicyPageData;var n=[];var i=t.find(function(e){return"enablePolicyPages"===e.name});var o=t.find(function(e){return"enableCookiePolicyPage"===e.name});var a=t.find(function(e){return"enableLegalPolicyPage"===e.name});var s=t.find(function(e){return"enableAccessibilityPolicyPage"===e.name});var l="undefined"!==typeof i&&i.value;var u="undefined"!==typeof o&&o.value;var c="undefined"!==typeof a&&a.value;var d="undefined"!==typeof s&&s.value;r.forEach(function(e){"privacy"===e.policyType&&l&&n.push(e);"cookie"===e.policyType&&u&&n.push(e);"legal"===e.policyType&&c&&n.push(e);"accessibility"===e.policyType&&d&&n.push(e)});return n}}]);return r}(s.default);function E(e){return JSON.parse(JSON.stringify(e))}var x=t["default"]=P},39838(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var r=arguments.length>1?arguments[1]:void 0;n(this,e);this.mainWindow=t;this.siteRef=t.App.session.get("siteRef");this.SiteGlobalValuesHelper=r;this._properties={siteLanguageMenuSettings:App.frontEndBucket.siteLanguageMenuSettings}}o(e,[{key:"get",value:function e(t){switch(t){case"siteLanguages":case"siteDefaultLanguage":return this.mainWindow.App.frontEndBucket[t];case"siteLanguageMenuSettings":return this.SiteGlobalValuesHelper.getValue(t,this._properties[t]);case"siteCurrentLanguage":return this.mainWindow.siteFrame.Server.siteCurrentLanguage;default:return this._properties[t]}}}]);return e}();var u=t["default"]=l},81017(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(2961);var o=r(68404);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;s(this,e);var r=t.App;var a=r.frontEndBucket;var l={codeVersion:a.codeVersion,mixpanelEnv:a.mixpanelEnv,mixpanelToken:r.mixpanelToken,stockImageProvider:a.stockImageProvider,customWidgetsDomain:a.customWidgetsDomain,errors:a.errors,allGoogleFonts:a.allGoogleFonts,googleMapsEmbedKey:a.googleMapsEmbedKey,protocol:g(t),domain:v(t),apiProxyBaseUrl:p(t),csrfToken:h(t),siteSubdomain:m(t),siteRef:y(t),languageCode:a.languageCode,languages:a.languages,localisedLanguages:a.localisedLanguages,flags:a.flags,rows:a.rows,rowLayouts:a.rowLayouts,siteColorSet:a.siteColorSet,intercomAppId:a.intercomAppId||"",intercomBaseUrl:a.intercomBaseUrl||"",intercomUserHash:w(t),manageDomain:b(t),maxFileUploadBytes:a.maxFileUploadBytes,V10CompatibilityMode:a.V10CompatibilityMode};n.store.dispatch((0,o.localisedLanguagesSet)(a.localisedLanguages));n.store.dispatch((0,i.envSet)(l))}u(e,[{key:"get",value:function e(t){return n.store.getState().env[t]}}]);return e}();function p(e){if(e.App.session)return e.App.session.get("apiProxyBaseUrl");return e.App.frontEndBucket.apiProxyBaseUrl}function h(e){if(e.App.session)return e.App.session.get("csrfToken");return e.App.frontEndBucket.csrfToken}function g(e){if(e.App.brand&&"inherit"!==e.App.brand.protocol)return e.App.brand.protocol;if(e.App.session)return e.App.session.get("protocol");return e.App.frontEndBucket.protocol}function v(e){if(e.App.session)return e.App.session.get("domain");return e.App.frontEndBucket.domain}function m(e){if(e.App.session)return e.App.session.get("siteSubdomain");return e.App.frontEndBucket.siteSubdomain}function y(e){if(e.App.session)return e.App.session.get("siteRef");return e.App.frontEndBucket.siteRef||e.App.site.ref}function b(e){return e.App.manageDomain||"manage"}function w(e){return e.App.frontEndBucket.intercomUserHash}var _=t["default"]=f},48262(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var r=arguments.length>1?arguments[1]:void 0;var i=arguments.length>2?arguments[2]:void 0;n(this,e);var o=i.has("enableRows")||r.getEnableRows();this._properties={enableRows:o,multiLanguageEditor:i.has("multiLanguageEditor"),enableDesignMode:i.has("enableDesignMode"),formEmailVerification:i.has("formEmailVerification")}}o(e,[{key:"get",value:function e(t){return this._properties[t]}}]);return e}();var u=t["default"]=l},28284(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;n(this,e);this._properties=t.App.frontEndBucket.languages}o(e,[{key:"all",value:function e(){return this._properties}},{key:"get",value:function e(t){return this._properties[t]}},{key:"has",value:function e(t){return this._properties[t]}}]);return e}();var u=t["default"]=l},95234(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(83502);var o=l(r(60477));var a=r(78564);var s=l(r(96342));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==n(t)?t:t+""}function p(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){var t=b();return function(){var r,n=w(e);if(t){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function t(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var _=function(e){h(r,e);var t=v(r);function r(){u(this,r);return t.apply(this,arguments)}d(r,[{key:"getSiteRef",value:function e(){return this._properties.ref}},{key:"getDefaultLanguage",value:function e(){return i.store.getState().language.defaultLanguage.language}},{key:"extendProperties",value:function e(){var t,r,n,o,l,u;var c=this.mainWindow.App.controllerData||{};var d=c.cookiePolicyLocation||{};if("undefined"===typeof this.mainWindow.App.site)return;Object.assign(this._properties,{ref:this.mainWindow.App.site.ref,primaryDomain:this.mainWindow.App.site.primaryDomain.domainName,protocol:this.mainWindow.App.site.protocol,profileRef:this.mainWindow.App.site.profileRef,cookieWarning:this.mainWindow.App.site.cookieWarning,cookieWarningUrl:d.externalLink,activePolicyType:c.activePolicyType,useBrandPolicyContent:c.useBrandPolicyContent,policyPageEnabled:c.policyPageEnabled,policyPageData:c.policyPage,cookiePolicyLocation:d.type});var f=c.policyPage;switch(c.activePolicyType){case"accessibility":null!==(t=f.request)&&void 0!==t?t:f.request=(0,s.default)("manage_v8.policy.url_placeholder_accessibility","accessibility-policy");break;case"cookie":null!==(r=f.request)&&void 0!==r?r:f.request=(0,s.default)("manage_v8.policy.url_placeholder_cookie","cookie-policy");break;case"legal":null!==(n=f.request)&&void 0!==n?n:f.request=(0,s.default)("manage_v8.policy.url_placeholder_legal","legal-policy");break;case"privacy":null!==(o=f.request)&&void 0!==o?o:f.request=(0,s.default)("manage_v8.policy.url_placeholder_privacy","privacy-policy");break}i.store.dispatch((0,a.activePolicyTypeSet)(c.activePolicyType));i.store.dispatch((0,a.cookiePolicyLocationSet)(null!==(l=null===d||void 0===d?void 0:d.type)&&void 0!==l?l:"off"));i.store.dispatch((0,a.cookieWarningSet)(this.mainWindow.App.site.cookieWarning));i.store.dispatch((0,a.cookieWarningUrlSet)(null!==(u=d.externalLink)&&void 0!==u?u:""));i.store.dispatch((0,a.policyPageDataSet)(f));i.store.dispatch((0,a.policyPageEnabledSet)(c.policyPageEnabled));i.store.dispatch((0,a.primaryDomainSet)(this.mainWindow.App.site.primaryDomain.domainName));i.store.dispatch((0,a.useBrandPolicyContentSet)(1===c.useBrandPolicyContent))}}]);return r}(o.default);var S=t["default"]=_},39286(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(83502);var o=a(r(60477));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==n(t)?t:t+""}function d(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=m();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function t(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){f(r,e);var t=h(r);function r(){s(this,r);return t.apply(this,arguments)}u(r,[{key:"getSiteRef",value:function e(){return this._properties.ref}},{key:"getDefaultLanguage",value:function e(){return i.store.getState().language.defaultLanguage.language}},{key:"extendProperties",value:function e(){Object.assign(this._properties,{ref:this.mainWindow.App.session.get("siteRef")})}}]);return r}(o.default);var w=t["default"]=b},70982(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;n(this,e);this._properties={plugins:t.App.plugins}}o(e,[{key:"has",value:function e(t){return-1!==this._properties.plugins.indexOf(t)}}]);return e}();var u=t["default"]=l},84305(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l="ecwid";var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;var r=arguments.length>1?arguments[1]:void 0;n(this,e);this.mainWindow=t;this.userDataProvider=r.userDataProvider;this.featureFlagDataProvider=r.featureFlagDataProvider;this.pluginsDataProvider=r.pluginsDataProvider}o(e,[{key:"getRowGroups",value:function e(){var t=this.mainWindow.App.frontEndBucket.rowGroups;return this._normaliseGroupAndRow(t)}},{key:"_normaliseGroupAndRow",value:function e(t){this._normaliseStoreGroupAndRow(t);this._normaliseBookingsGroupAndRow(t);return t}},{key:"_normaliseStoreGroupAndRow",value:function e(t){this._shouldRemoveStoreWidgets()?this._removeStoreWidgets(t):this._removeEcwidWidget(t)}},{key:"_normaliseBookingsGroupAndRow",value:function e(t){this._shouldRemoveBookingsGroup()&&this._removeBookingsGroup(t)}},{key:"_shouldRemoveStoreWidgets",value:function e(){if(!this._isInV10())return false;return this._isEcwidEnabled()}},{key:"_shouldRemoveBookingsGroup",value:function e(){if(!this._isInV10())return false;return!this._isConnectBookingsEnabled()}},{key:"_isInV10",value:function e(){return"ten"===this.userDataProvider.get("productVersion")}},{key:"_isEcwidEnabled",value:function e(){return this.userDataProvider.has("enableEcwid")}},{key:"_isConnectBookingsEnabled",value:function e(){return this.pluginsDataProvider.has("connect-bookings")}},{key:"_removeStoreWidgets",value:function e(t){if("store"in t){t.store.rows=t.store.rows.filter(function(e){return e.includes(l)});t.store.gridRows=t.store.gridRows.filter(function(e){return e.includes(l)})}}},{key:"_removeBookingsGroup",value:function e(t){"bookings"in t&&delete t.bookings}},{key:"_removeEcwidWidget",value:function e(t){if("store"in t){t.store.rows=t.store.rows.filter(function(e){return!e.includes(l)});t.store.gridRows=t.store.gridRows.filter(function(e){return!e.includes(l)})}}}]);return e}();var c=t["default"]=u},60477(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;n(this,e);this.mainWindow=t;this._properties={};this.extendProperties()}o(e,[{key:"get",value:function e(t){return this._properties[t]}},{key:"extendProperties",value:function e(){}}]);return e}();var u=t["default"]=l},24741(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(11383);var o=a(r(23904));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=g(e,"string");return"symbol"==s(t)?t:t+""}function g(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;d(this,e);var r=t.App.user;var a={ref:r.ref,email:r.email,emailVerified:r.emailVerified,subscriptionPackageRef:r.subscriptionPackageRef,productVersion:r.productVersion,languageCode:r.languageCode,subscriptionPackageName:"",dateCreated:r.created&&r.created.date?r.created.date:"",sites:t.App.sites?(0,o.default)(t.App.sites):[],accountHolderMetadata:r.metadata,firstName:r.firstName,lastName:r.lastName};t.App.package&&t.App.package.name&&(a.subscriptionPackageName=t.App.package.name);var s={multiLanguageEditor:t.App.frontEndBucket&&t.App.frontEndBucket.multiLanguageEditor,disableV8SiteAndPageScripts:0!==parseInt(r.capabilities.disableV8SiteAndPageScripts,10),seoAndRedirects:0!==parseInt(r.capabilities.seoAndRedirects,10),multiLanguageLimit:parseInt(r.capabilities.multiLanguageLimit,10),enableDragAndDropWidgets:parseInt(r.capabilities.enableDragAndDropWidgets,10),formEmailVerification:r.enabledFeatureFlags&&r.enabledFeatureFlags.form_email_verification,imageEditing:0!==parseInt(r.capabilities.imageEditing,10),enableEcwid:0!==parseInt(r.capabilities.enableEcwid,10),enableStandaloneMode:0!==parseInt(r.capabilities.enableStandaloneMode,10),enableAtarim:0!==parseInt(r.capabilities.enableAtarim,10),aiCopyWriterTextGen:0!==parseInt(r.capabilities.aiCopyWriterTextGen,10)};var l=u(u({},a),{},{capabilities:s});n.store.dispatch((0,i.userSet)(l))}p(e,[{key:"all",value:function e(){return n.store.getState().user}},{key:"get",value:function e(t){return n.store.getState().user[t]}},{key:"has",value:function e(t){return n.store.getState().user.capabilities[t]}}]);return e}();var m=t["default"]=v},50230(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=m;var n=v(r(42235));var i=v(r(548));var o=v(r(95234));var a=v(r(39286));var s=v(r(24741));var l=v(r(81017));var u=r(75026);var c=v(r(28284));var d=v(r(39838));var f=v(r(48262));var p=v(r(8885));var h=v(r(84305));var g=v(r(70982));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=window;var r=(0,u.getMainWindowWithProperty)("Editor");var v=(0,u.getAppWindowWithProperty)("session");e.factory("BrandDataProvider",function(e){return new n.default(t,{envData:e.EnvDataProvider,siteData:e.SiteDataProvider,userData:e.UserDataProvider})});e.factory("SiteDataProvider",function(){var e;if(null!==r&&void 0!==r&&r.Editor&&null!==r&&void 0!==r&&r.Editor.Site){t=r;e=i.default}else if(null!==v&&void 0!==v&&v.App.session){t=v;e=a.default}else e=o.default;return new e(t)});e.factory("UserDataProvider",function(){return new s.default(t)});e.factory("ContentSetDataProvider",function(){return new p.default(t)});e.factory("EnvDataProvider",function(){return new l.default(t)});e.factory("LanguageDataProvider",function(){return new c.default(t)});e.factory("editorSiteLanguageDataProvider",function(e){return new d.default(t,e.SiteGlobalValuesHelper)});e.factory("featureFlagDataProvider",function(e){return new f.default(t,e.SiteDataProvider,e.UserDataProvider)});e.factory("PluginsDataProvider",function(){return new g.default(t)});e.factory("RowGroupProvider",function(e){return new h.default(t,{userDataProvider:e.UserDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,pluginsDataProvider:e.PluginsDataProvider})});return e}},73908(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return BaseKit.Static.fonts}},75026(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getMainWindowWithProperty=t.getAppWindowWithProperty=void 0;var r=t.getAppWindowWithProperty=function e(t){try{var r=window;while(true){if(r.App&&r.App[t])return r;if(r===window.top)return null;r=r.parent}}catch(e){return null}};var n=t.getMainWindowWithProperty=function e(t){try{var r=window;while(true){if(r[t])return r;if(r===window.top)return r;r=r.parent}}catch(e){return window}}},64550(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var n=r(83502);var i=a(r(91637));var o=r(69632);function a(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){return function(e){var r=e.ref;return"".concat(r)==="".concat(t)}};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r=t?t.getState():n.store.getState();var a=r.language.current;var l=r.language.defaultLanguage.language;var u=""===a||a===l?r.page.pages:r.page.languages[a].pages;return new i.default((0,o.formatPages)(u).find(s(e)))}},58100(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return BaseKit.Globals.profile}},72154(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return App.session}},21983(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=y(r(96948));var i=y(r(50230));var o=y(r(19913));var a=y(r(18485));var s=y(r(14692));var l=y(r(66150));var u=y(r(44612));var c=y(r(55988));var d=y(r(7107));var f=y(r(16122));var p=y(r(89810));var h=y(r(8921));var g=y(r(68478));var v=y(r(27441));var m=y(r(11474));function y(e){return e&&e.__esModule?e:{default:e}}var b=[i.default,o.default,a.default,f.default,h.default,s.default,c.default,d.default,l.default,u.default,p.default,g.default,v.default,m.default];var w=b.reduce(function(e,t){return t(e)},new n.default);var _=t["default"]=w},94593(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.featureFlagDataProvider=t.featureFlagDataProvider;this.userDataProvider=t.userDataProvider}o(e,[{key:"isEligible",value:function e(t){var r=this.featureFlagDataProvider.get("enableRows");var n=this.userDataProvider.has("enableDragAndDropWidgets");if(r&&n)return this.isEligibleInCustomRowModel(t);if(this.featureFlagDataProvider.get("enableRows"))return this.isEligibleInRowModel(t);if(t.properties.fixed||t.properties.isZone)return false;return true}},{key:"isDroppable",value:function e(t){if(!this.isEligible(t))return false;if(!t.parentUniqueId)return false;var r=BaseKit.Globals.WidgetRegistry.zoneWidgets.getModelByUniqueId(t.parentUniqueId);var n=r.get("data");if("grid"===n.sectionType)return false;return true}},{key:"isEligibleInRowModel",value:function e(t){var r="widget.row"===t.properties.type;var n="preheader"===t.properties.parentZone;var i="header"===t.properties.parentZone;var o="footer"===t.properties.parentZone;var a=true===t.properties.fixed;var s=i||o||n||a;if(!r)return false;if(r&&s)return false;return true}},{key:"isEligibleInCustomRowModel",value:function e(t){var r=this.isPreheader(t);var n=this.isHeader(t);var i=this.isFooter(t);var o=this.isMainZone(t);var a=true===t.properties.fixed;var s=n||i||r||a;if(s||o)return false;return true}},{key:"isMainZone",value:function e(t){return"main"===t.properties.name}},{key:"isPreheader",value:function e(t){return"preheader"===t.properties.parentZone||"preheader"===t.properties.name}},{key:"isHeader",value:function e(t){var r="header"===t.properties.parentZone;var e="header"===t.properties.name;return r||e}},{key:"isFooter",value:function e(t){var r="footer"===t.properties.parentZone;var e="footer"===t.properties.name;return r||e}}]);return e}();var u=t["default"]=l},92569(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(21983));function i(e){return e&&e.__esModule?e:{default:e}}var o=10;var a={getColumnEl:function e(t){var r=$(t).find(".js-column-drop");if(r.length>0){this.resizeDropEl(t,r);return r[0]}r=this.createDropEl($(t).data("uniqueid"));var n=$(t);n.append(r);this.resizeDropEl(t,r);return r[0]},createDropEl:function e(t){var r=n.default.container.featureFlagDataProvider.get("enableRows");var i=$("<div></div>").addClass("js-column-drop").css("position","absolute").css("bottom","".concat(o,"px")).data("uniqueid",t);r&&i.css("display","none");return i},resizeDropEl:function e(t,r){var n=$(t);r.css("left","".concat(n.position().left,"px"));r.css("width","".concat(n.outerWidth(),"px"));if(0===n.find(".js-droppable").length)r.css("height","".concat(n.parent().height(),"px"));else{var i=n.find(".js-droppable").last();var a=i.position().top+i.outerHeight(true);r.css("height","".concat(n.parent().innerHeight()-a-o,"px"))}}};var s=t["default"]=a},99939(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.BASE_BEHAVIOUR=void 0;var n=r(80219);var i=r(41985);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=t.BASE_BEHAVIOUR="base";var f=function(){function e(t){a(this,e);this.dropAreaTimeout=null;this.iframe=t.iframe;this.$iframe=$(this.iframe);this.iFrameOffset={};this.highlighter=t.highlighter;this.context=t.context;this.userOnDragStart=t.onDragStart||function(){return false};this.userOnDragMove=t.onDragMove||function(){return false};this.userOnDragEnd=t.onDragEnd||function(){return false};this.iframeWindow=this.iframe.contentWindow?this.iframe.contentWindow:this.iframe.contentDocument.defaultView;this.iframeBody=$(this.iframeWindow.document.body)[0];this.highlightWidthString="15px";this.highlightWidth=15;this.maximumColumnLimit=4}l(e,[{key:"load",value:function e(){return{helper:this.helper,scroll:true,frameEl:this.iframe,context:this.context||"frame",scrollable:this.iframe,scrollSensitivity:100,onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),onDragEndAnimation:this.onDragEndAnimation.bind(this),droppableLeaningAllowed:this.droppableLeaningAllowed.bind(this),behaviourType:d}}},{key:"onStart",value:function e(t,r){var n=this;var o;this.$iframe.css("pointer-events","none");this.iFrameOffset=this.$iframe.offset();if((0,i.isIE)()||(0,i.isEdge)()){o=document.createElement("div");$(o).addClass("drag-layer").css({top:"".concat(this.iFrameOffset.top,"px"),position:"absolute",left:"".concat(this.iFrameOffset.left,"px"),width:"".concat(this.$iframe.width(),"px"),height:"".concat(this.$iframe.height(),"px"),"z-index":1});this.$iframe.parent().append(o);$(this.iframe).css("z-index",-1)}if((0,i.iOSFixRequired)()){var a=document.querySelector(".js-site-preview");var s=a.scrollTop;setTimeout(function(){n.iframe.style.position="absolute";n.iframe.style.top=0;n.iframe.style.left=0;window.scrollTo(0,s)},200)}this.iframeBody.classList.add("drag-active");document.body.classList.add("drag-active");setTimeout(function(){document.body.classList.remove("show-sidebar");r.draggable=t;n.userOnDragStart(r)},100)}},{key:"onDrag",value:function e(t,r){var n=null;var i;var o;var a;var s;var l;if(null!==r)switch(r.leaning){case"top":o=this.isColumnEmptySpace(r)||this.isMainZone(r)?"".concat(r.height,"px"):this.highlightWidthString;this.setDropIndicatorPosition(this.highlighter,r.x+r.scrollX,r.y+r.scrollY,"".concat(r.width,"px"),o);break;case"bottom":a=r.y+r.scrollY;if(this.isColumnEmptySpace(r)||this.isMainZone(r))o="".concat(r.height,"px");else{o=this.highlightWidthString;a+=r.height-this.highlightWidth}this.setDropIndicatorPosition(this.highlighter,r.x+r.scrollX,a,"".concat(r.width,"px"),o);break;case"left":if(this.isDroppableObjInColumn(r)&&!this.isInMainZone(r)){n=this.getElementBoundaries(r.el.parentNode);l=this.getElementBoundaries(r.el.parentNode.parentNode);this.setDropIndicatorPosition(this.highlighter,n.left+r.scrollX,l.top+r.scrollY,this.highlightWidthString,"".concat(l.height,"px"))}else{i=this.isMainZone(r)?"".concat(r.width,"px"):this.highlightWidthString;this.setDropIndicatorPosition(this.highlighter,r.x+r.scrollX,r.y+r.scrollY,i,"".concat(r.height,"px"))}break;case"right":if(this.isDroppableObjInColumn(r)&&!this.isInMainZone(r)){n=this.getElementBoundaries(r.el.parentNode);l=this.getElementBoundaries(r.el.parentNode.parentNode);this.setDropIndicatorPosition(this.highlighter,n.left+r.scrollX+n.width-this.highlightWidth,l.top+r.scrollY,this.highlightWidthString,"".concat(l.height,"px"))}else{s=r.x+r.scrollX;if(this.isMainZone(r))i="".concat(r.width,"px");else{i=this.highlightWidthString;s+=r.width-this.highlightWidth}this.setDropIndicatorPosition(this.highlighter,s,r.y+r.scrollY,i,"".concat(r.height,"px"))}break}else this.setDropIndicatorPosition(this.highlighter,0,0,0,0);this.userOnDragMove(t)}},{key:"onEnd",value:function e(t,r){var o=this;var a=r.dropped;t.el.style.display="none";if(a&&t.wasMoved){clearTimeout(this.dropAreaTimeout);this.dropAreaTimeout=setTimeout(function(){o.iframeBody.classList.remove("drag-active");document.body.classList.remove("drag-active")},500)}else{this.iframeBody.classList.remove("drag-active");document.body.classList.remove("drag-active")}this.$iframe.css("pointer-events","");if((0,i.isIE)()||(0,i.isEdge)()){$(".drag-layer").remove();$(this.iframe).css("z-index",0)}if((0,i.iOSFixRequired)()){this.$iframe.css({position:"",top:"",left:""});(0,i.isiOSTablet)()&&(0,n.hasOrientation)("landscape")&&$("body").css({height:""})}this.setDropIndicatorPosition(this.highlighter,0,0,0,0);r.draggable=t;this.userOnDragEnd(r)}},{key:"onDragEndAnimation",value:function e(){var t=document.querySelector(".js-move-drag");t&&(t.style.display="none");this.iframeWindow.document.querySelectorAll(".js-column-drop").forEach(function(e){e.classList.remove("highlight")})}},{key:"droppableLeaningAllowed",value:function e(t,r){var n=r.getDroppableObject();if(this.isDroppableObjInColumn(n)&&this.isLeaningTopOrBottom(r))return true;return!this.isMaxColumnExceeded(n)}},{key:"isLeaningTopOrBottom",value:function e(t){return"top"===t.leaning||"bottom"===t.leaning}},{key:"isMaxColumnExceeded",value:function e(t){if(this.isDroppableObjInColumn(t)){var r=t.el.parentNode;var n=r.parentNode;if(n&&n.childElementCount===this.maximumColumnLimit)return true}return false}},{key:"isDroppableObjInColumn",value:function e(t){var r=t.el.parentNode;return r&&r.classList.contains("column")}},{key:"isColumnEmptySpace",value:function e(t){return t.el.classList.contains("js-column-drop")}},{key:"setDropIndicatorPosition",value:function e(t,r,n,i,o){0===i&&0===o?Object.assign(t.style,{top:0,left:0,width:0,height:0,display:"none"}):Object.assign(t.style,{top:"".concat(n,"px"),left:"".concat(r,"px"),width:i,height:o,display:"block"})}},{key:"getElementBoundaries",value:function e(t){return t.getBoundingClientRect()}},{key:"isInMainZone",value:function e(t){return"page-zones__main"===t.el.parentNode.id}},{key:"isMainZone",value:function e(t){return"page-zones__main"===t.el.id}},{key:"helper",value:function e(t){return void 0===t.helper||t.helper}}]);return e}();var p=t["default"]=f},225(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.COLUMN_BEHAVIOUR=void 0;var i=r(83502);var o=r(41985);var a=s(r(99939));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=h(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},p.apply(null,arguments)}function h(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=w();return function(){var r,n=_(e);if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(w=function t(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var S=t.COLUMN_BEHAVIOUR="column";var k=function(e){g(r,e);var t=m(r);function r(e){var n;l(this,r);n=t.call(this,e);n.changeHighlightWidth(16);n.isIE=(0,o.isIE)();n.scale=1;n.defaultOverlayPadding=6;return n}c(r,[{key:"load",value:function e(){return Object.assign(p(_(r.prototype),"load",this).call(this),{onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),dropIsAllowed:this.dropIsAllowed.bind(this),droppableLeaningAllowed:this.droppableLeaningAllowed.bind(this),normaliseTargetDroppable:this.normaliseTargetDroppable.bind(this),behaviourType:S})}},{key:"onStart",value:function e(t,n){var i=this;if(this.isWidgetInRow(t)){document.querySelector("body").classList.add("widget-in-row-dragging");this.enableDraggableWidget(t);this.updateDraggableWidgetPosition(t,n.event)}else n.instance.element.classList.add("version-ten");p(_(r.prototype),"onStart",this).call(this,t,n);(0,o.iOSFixRequired)()&&setTimeout(function(){i.iframe.style.top="40px"},200)}},{key:"onDrag",value:function e(t,n,i){this.isWidgetInRow(t)&&document.querySelector("body").classList.contains("widget-in-row-dragging")&&this.updateDraggableWidgetPosition(t,i);p(_(r.prototype),"onDrag",this).call(this,t,n)}},{key:"onEnd",value:function e(t,n){p(_(r.prototype),"onEnd",this).call(this,t,n);if(this.isWidgetInRow(t)){this.disableDraggableWidget(t,n.dropped);document.querySelector("body").classList.remove("widget-in-row-dragging")}else n.instance.element.classList.remove("version-ten")}},{key:"normaliseTargetDroppable",value:function e(t){this.hasReverseLayout(t)?"right"===t.leaning?t.leaning="left":"left"===t.leaning&&(t.leaning="right"):this.hasFlexColumnLayout(t)&&!this.isResponsiveColumns(t.getDroppableObject())&&("top"===t.leaning?t.leaning="left":"bottom"===t.leaning&&(t.leaning="right"));return t}},{key:"dropIsAllowed",value:function e(t,r){if(this.isWidgetInRow(t))return!this.isRowWidget(r);if(this.isRowMoveMode())return this.isRowWidget(r);return true}},{key:"droppableLeaningAllowed",value:function e(t,n){if(!n.leaning||!p(_(r.prototype),"droppableLeaningAllowed",this).call(this,t,n))return false;var i=n.getDroppableObject();if(this.isResponsiveColumns(i)&&this.isLeaningLeftOrRight(n))return false;if(this.hasFlexColumnLayout(n)&&(this.isLeaningLeftOrRight(n)||this.isRestrictedFlexColumnLeaning(t,n)))return false;if(this.isWidgetInRow(t))return true;return!(this.isRowWidget(i)&&this.isLeaningLeftOrRight(n))}},{key:"hasReverseLayout",value:function e(t){var r=t.el.closest(".js-row");return r&&r.classList.contains("row--layout-reverse")}},{key:"hasFlexColumnLayout",value:function e(t){var r=t.el.closest(".js-row");return r&&(r.classList.contains("row--layout-image-text-1c")||r.classList.contains("row--layout-image-text-2b"))}},{key:"isRestrictedFlexColumnLeaning",value:function e(t,n){var i=n.getDroppableObject();if(p(_(r.prototype),"isDroppableObjInColumn",this).call(this,i)&&p(_(r.prototype),"isMaxColumnExceeded",this).call(this,i))return true;if(!this.isResponsiveColumns(i)||!this.isWidgetInRow(t))return false;var o=t.proxied.el.parentNode;var a=o.parentNode;if(a&&a.childElementCount===this.maximumColumnLimit&&p(_(r.prototype),"isLeaningTopOrBottom",this).call(this,n))return false;var s=o.classList.contains("column");if(a&&s&&p(_(r.prototype),"isLeaningTopOrBottom",this).call(this,n))return true;return false}},{key:"isRowWidget",value:function e(t){return t.model&&"widget.row"===t.model.widgetType||t.properties&&"widget.row"===t.properties.type}},{key:"isResponsiveColumns",value:function e(t){return t.isResponsiveColumns}},{key:"isLeaningLeftOrRight",value:function e(t){return"left"===t.leaning||"right"===t.leaning}},{key:"isWidgetInRow",value:function e(t){var r;return!!(null!==(r=t.proxied)&&void 0!==r&&r.el)}},{key:"isRowMoveMode",value:function e(){return i.store.getState().site.isRowMoveMode}},{key:"changeHighlightWidth",value:function e(t){this.highlightWidthString="".concat(t,"px");this.highlightWidth=t}},{key:"enableDraggableWidget",value:function e(t){this.isContentGroupWidget(t.proxied)&&(this.defaultOverlayPadding=20);t.proxied.el.style.height="".concat(t.proxied.el.offsetHeight,"px");t.proxied.el.style.width="".concat(t.proxied.el.offsetWidth,"px");t.clone=t.proxied.el.cloneNode(true);t.clone.classList.add("is-invisible-widget");t.proxied.el.parentNode.insertBefore(t.clone,t.proxied.el);t.proxied.el.classList.add("drag-active-widget");if(this.isIE){t.proxied.el.style.transformOrigin="0 0";t.proxied.el.style.transform="scale(".concat(this.scale,")")}}},{key:"disableDraggableWidget",value:function e(t,r){this.defaultOverlayPadding=6;if(r){var n=t.proxied.el;n.classList.add("is-invisible-widget");setTimeout(function(){n.classList.remove("is-invisible-widget")},500)}t.proxied.el.removeAttribute("style");t.proxied.el.classList.remove("drag-active-widget");t.clone.parentNode.removeChild(t.clone);t=null}},{key:"updateDraggableWidgetPosition",value:function e(t,r){var n=this.getDragOffset(t,r);t.proxied.el.style.top="".concat(n.top,"px");t.proxied.el.style.left="".concat(n.left,"px")}},{key:"getDragOffset",value:function e(t,r){var n=Math.floor(this.defaultOverlayPadding*this.scale);var i=t.proxied.el.getBoundingClientRect();var o=this.iframe.getBoundingClientRect();var a=r.pageX-i.width/2-o.left;var s=r.pageY+n-o.top;return{left:a,top:s}}},{key:"isContentGroupWidget",value:function e(t){return"widget.contentgroup"===t.properties.type}}]);return r}(a.default);var P=t["default"]=k},82909(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=s(r(99939));var i=a(r(225));var o=a(r(16963));function a(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(a=function e(t,i){if(!i&&t&&t.__esModule)return t;var o,a,s={__proto__:null,default:t};if(null===t||"object"!=l(t)&&"function"!=typeof t)return s;if(o=i?n:r){if(o.has(t))return o.get(t);o.set(t,s)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(a.get||a.set)?o(s,u,a):s[u]=t[u]);return s})(e,t)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=v(e,"string");return"symbol"==l(t)?t:t+""}function v(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var m={scroll:false,scrollable:window,scrollSpeed:20,scrollSensitivity:20,animBack:true,helper:false,onStart:function e(){return false},onDrag:function e(){return false},onEnd:function e(){return false}};var y=function(){function e(t){var r=t.featureFlagDataProvider,n=t.userDataProvider;f(this,e);this.enableRows=r.get("enableRows");this.dragAndDropWidgetsEnabled=!!n.has("enableDragAndDropWidgets")}h(e,[{key:"build",value:function e(t){return c(c({},m),this._getBehaviourType(t).load())}},{key:"_getBehaviourType",value:function e(t){switch(true){case t.type===o.GRID_BEHAVIOUR:return new o.default(t);case t.type===i.COLUMN_BEHAVIOUR&&this.enableRows&&this.dragAndDropWidgetsEnabled:return new i.default(t);default:return new n.default(t)}}}]);return e}();var b=t["default"]=y},16963(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.GRID_BEHAVIOUR=void 0;var i=r(83502);var o=s(r(99939));var a=s(r(16973));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=h(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},p.apply(null,arguments)}function h(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=w();return function(){var r,n=_(e);if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(w=function t(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var S=t.GRID_BEHAVIOUR="grid";var k=function(e){g(r,e);var t=m(r);function r(e){var n;l(this,r);n=t.call(this,e);n.scale=1;n.defaultOverlayPadding=6;return n}c(r,[{key:"load",value:function e(){return Object.assign(p(_(r.prototype),"load",this).call(this),{onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),dropIsAllowed:this.dropIsAllowed.bind(this),droppableLeaningAllowed:true,normaliseTargetDroppable:null,behaviourType:S})}},{key:"onStart",value:function e(t,n){if(this.isWidgetInRow(t)){document.querySelector("body").classList.add("widget-in-row-dragging");this.enableDraggableWidget(t);this.updateDraggableWidgetPosition(t,n.event)}else n.instance.element.classList.add("version-ten");p(_(r.prototype),"onStart",this).call(this,t,n)}},{key:"onDrag",value:function e(t,n,i){this.isWidgetInRow(t)&&this.updateDraggableWidgetPosition(t,i);p(_(r.prototype),"onDrag",this).call(this,t,n)}},{key:"onEnd",value:function e(t,n){p(_(r.prototype),"onEnd",this).call(this,t,n);if(this.isWidgetInRow(t)){this.disableDraggableWidget(t,n.dropped);document.querySelector("body").classList.remove("widget-in-row-dragging")}else n.instance.element.classList.remove("version-ten");a.default.activateAllEditLayoutButtons()}},{key:"isWidgetInRow",value:function e(t){var r;return!!(null!==(r=t.proxied)&&void 0!==r&&r.el)}},{key:"dropIsAllowed",value:function e(t,r){var n,o,a;var s=!!(null!==(n=t.proxied)&&void 0!==n&&n.el);var l="widget.row"===(null===(o=r.model)||void 0===o?void 0:o.widgetType)||"widget.row"===(null===(a=r.properties)||void 0===a?void 0:a.type);if(s)return!l;if(i.store.getState().site.isRowMoveMode)return l;return true}},{key:"enableDraggableWidget",value:function e(t){t.proxied.el.style.height="".concat(t.proxied.el.offsetHeight,"px");t.proxied.el.style.width="".concat(t.proxied.el.offsetWidth,"px");t.clone=t.proxied.el.cloneNode(true);t.clone.classList.add("is-invisible-widget");t.proxied.el.parentNode.insertBefore(t.clone,t.proxied.el);t.proxied.el.classList.add("drag-active-widget")}},{key:"disableDraggableWidget",value:function e(t,r){this.defaultOverlayPadding=6;if(r){var n=t.proxied.el;n.classList.add("is-invisible-widget");setTimeout(function(){n.classList.remove("is-invisible-widget")},500)}t.proxied.el.removeAttribute("style");t.proxied.el.classList.remove("drag-active-widget");t.clone.parentNode.removeChild(t.clone);t.clone=null}},{key:"updateDraggableWidgetPosition",value:function e(t,r){var n=Math.floor(this.defaultOverlayPadding*this.scale);var i=t.proxied.el.getBoundingClientRect();var o=this.iframe.getBoundingClientRect();var a=r.pageX-i.width/2-o.left;var s=r.pageY+n-o.top;t.proxied.el.style.top="".concat(s,"px");t.proxied.el.style.left="".concat(a,"px")}}]);return r}(o.default);var P=t["default"]=k},65478(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(41985);var i=o(r(16973));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=d(e,"string");return"symbol"==f(t)?t:t+""}function d(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var p="left";var h="right";var g="top";var v="bottom";var m=40;var y=window.classie;var b=window.document.documentElement;function w(){return window.pageXOffset||b.scrollLeft}function _(){return window.pageYOffset||b.scrollTop}function S(e,t){var r=e.getBoundingClientRect();var i={top:r.top,left:r.left};var o=null;if(null!==t&&"object"===f(t)){o=t.getBoundingClientRect();i.top+=o.top;i.left+=o.left;i.scrollX=t.contentWindow.pageXOffset;i.scrollY=t.contentWindow.pageYOffset;return{top:i.top,left:i.left,realTop:r.top,realLeft:r.left,scrollX:i.scrollX,scrollY:i.scrollY}}if((0,n.isMobileWebKit)()&&e.ownerDocument!==window)return{top:i.top,left:i.left,realTop:r.top,realLeft:r.left,scrollX:w(),scrollY:_()};return{top:i.top+_(),left:i.left+w(),realTop:r.top,realLeft:r.left,scrollX:w(),scrollY:_()}}function k(e){var t=e.pageX;var r=e.pageY;return{top:r-m/2+_(),left:t-m/2+w(),realTop:r-m/2,realLeft:t-m/2,scrollX:w(),scrollY:_()}}var P=function(){function e(t,r){a(this,e);u(this,"options",{onDrop:function e(){return false}});this.el=t;this.leaning=null;this.options=Object.assign({},this.options);Object.assign(this.options,r)}l(e,[{key:"destroy",value:function e(){try{this.getDroppableObject().unregisterDroppable()}catch(e){console.error(e)}}},{key:"getLeaning",value:function e(t,r){if(i.default.isMobileEditMode())return false;var o;var a;var s;var l=S(this.el,this.options.frameEl);var u=this.el.getBoundingClientRect();var c=u.width;var d=u.height;if((0,n.isMobileWebKit)()){o=S(t,null);a=t.offsetWidth;s=t.offsetHeight}else{o=k(r);a=m;s=m}var f=l.left>o.left+a-a/2||l.left+c<o.left+a/2||l.top>o.top+s-s/2||l.top+d<o.top+s/2;if(f)return false;if(o.left+a>l.left+c-30)return h;if(o.left<l.left+30)return p;if(o.top+s/2>l.top+d/2)return v;if(o.top+s/2<l.top+d/2)return g;return false}},{key:"calculateDropInformation",value:function e(t,r,i,o){var a;var s;var l;var u=S(this.el,this.options.frameEl);var c=this.el.getBoundingClientRect();var d=c.width;var f=c.height;if((0,n.isMobileWebKit)()){a=S(t,null);s=t.offsetWidth;l=t.offsetHeight}else{a=k(r);s=m;l=m}var p={leaning:this.getLeaning(t,r),x:u.realLeft,y:u.realTop,width:d,height:f,tl:[u.realLeft,u.realTop],tr:[u.realLeft+d,u.realTop],bl:[u.realLeft,u.realTop+f],br:[u.realLeft+d,u.realTop+f],el:this.el,scrollX:u.scrollX,scrollY:u.scrollY};if(!p.leaning&&true===o)return false;return p}},{key:"calculateAndHighlight",value:function e(t,r,n){var i=this.calculateDropInformation(t,r,n);if(false!==i.leaning){y.add(this.el,"droppable-highlight");if(this.leaning!==i.leaning){y.remove(this.el,"drop-".concat(this.leaning));y.add(this.el,"drop-".concat(i.leaning));this.leaning=i.leaning}}else{y.remove(this.el,"droppable-highlight");y.remove(this.el,"drop-".concat(this.leaning));this.leaning=null}return i}},{key:"collect",value:function e(t){y.remove(this.el,"droppable-highlight");this.options.onDrop(this.getDroppableObject(),t,this.leaning);this.leaning=null;this.removeDropCss()}},{key:"getDroppableObject",value:function e(){return this.options.droppableObject}},{key:"removeDropCss",value:function e(){$(this.el).removeClass("drop-left drop-right drop-top drop-bottom")}}]);return e}();var E=t["default"]=P},34632(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.MAX_WIDGETS_IN_GRID=t.IN_GRID_LEANING=void 0;t.getElementSize=M;t.getGridData=L;var n=r(41985);var i=s(r(16973));var o=r(79969);var a=r(22677);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function v(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=b(e,"string");return"symbol"==w(t)?t:t+""}function b(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var _=t.IN_GRID_LEANING="in-grid";var S=t.MAX_WIDGETS_IN_GRID=24;var k=80;var P=65;var E=4;var x=4;var C=.05;function O(){return window.scrollX||window.document.documentElement.scrollLeft}function j(){return window.scrollY||window.document.documentElement.scrollTop}function A(e,t){var r=e.getBoundingClientRect();var i={top:r.top,left:r.left};if(null!==t&&"object"===w(t)){var o=t.getBoundingClientRect();i.top+=o.top;i.left+=o.left;i.scrollX=t.contentWindow.pageXOffset;i.scrollY=t.contentWindow.pageYOffset;return{top:i.top,left:i.left,realTop:r.top,realLeft:r.left,rawTop:r.top,rawLeft:r.left,scrollX:i.scrollX,scrollY:i.scrollY}}if((0,n.isMobileWebKit)()&&e.ownerDocument!==window)return{top:i.top,left:i.left,realTop:r.top,realLeft:r.left,rawTop:r.top,rawLeft:r.left,scrollX:O(),scrollY:j()};return{top:i.top+j(),left:i.left+O(),realTop:r.top,realLeft:r.left,rawTop:r.top,rawLeft:r.left,scrollX:O(),scrollY:j()}}function T(e){return $(e).offset()}function D(e){var t=e.pageX;var r=e.pageY;return{top:r-P/2+j(),left:t-P/2+O(),realTop:r-P/2,realLeft:t-P/2,rawTop:r,rawLeft:t,scrollX:O(),scrollY:j()}}function L(e){var t=window.getComputedStyle(e);var r=parseFloat(t.getPropertyValue("row-gap"),10)||0;var n=parseFloat(t.getPropertyValue("column-gap"),10)||0;var o=parseFloat(t.getPropertyValue("grid-template-rows").split(" ").shift());var a=parseFloat(t.getPropertyValue("grid-template-columns").split(" ").shift());var s=parseInt(e.style.getPropertyValue("--grid-num-rows"),10);var l=parseInt(e.style.getPropertyValue("--grid-num-rows-mobile"),10);var u=parseInt(e.style.getPropertyValue("--grid-num-cols"),10);var c=i.default.isMobileEditMode()?Math.round(u/2):u;var d=i.default.isMobileEditMode()?l:s;return{gridRowCount:d,gridColumnCount:c,gridRowSize:o+r,gridColumnSize:a+n,rowGap:r,columnGap:n}}function I(e,t){if((0,n.isMobileWebKit)())return{draggableOffset:A(e,null),draggableWidth:e.offsetWidth,draggableHeight:e.offsetHeight};return{draggableOffset:D(t),draggableWidth:P,draggableHeight:P}}function M(e,t,r){var n,i,a,s;var l=(0,o.doesWidgetBelongToGrid)(e,t);var u=L(t),c=u.gridColumnCount,d=u.gridColumnSize,f=u.gridRowCount,p=u.gridRowSize;var h=null!==(n=r&&(null===r||void 0===r||null===(i=r.get)||void 0===i?void 0:i.call(r,"numDefaultRowsHigh")))&&void 0!==n?n:E;var g=null!==(a=r&&(null===r||void 0===r||null===(s=r.get)||void 0===s?void 0:s.call(r,"numDefaultColsWide")))&&void 0!==a?a:x;var v={numRowsHigh:h>f?E:h,numColsWide:g>c?x:g,height:(null===e||void 0===e?void 0:e.offsetHeight)||E*p,width:(null===e||void 0===e?void 0:e.offsetWidth)||x*d};if(e&&l){v.numRowsHigh=Math.max(1,Math.ceil(e.clientHeight/p-C));v.numColsWide=Math.round(e.clientWidth/d)}return v}var R=function(){function e(t,r){h(this,e);m(this,"el",void 0);m(this,"options",{onDrop:function e(){return false}});m(this,"shadow",void 0);m(this,"container",void 0);m(this,"col",null);m(this,"row",null);m(this,"leaning",_);this.el=t;this.options=Object.assign(this.options,r);this.shadow=t.querySelector(".grid-overlay__drop-shadow");this.container=t.querySelector(".js-row-container")}v(e,[{key:"destroy",value:function e(){try{this.getDroppableObject().unregisterDroppable()}catch(e){console.error(e)}}},{key:"getLeaning",value:function e(t,r){return this.leaning}},{key:"calculateDropInformation",value:function e(t,r,n){var i,o;var a=this.el.querySelector(".js-row-container");var s=L(a),l=s.gridColumnSize,u=s.gridColumnCount,c=s.gridRowSize,d=s.gridRowCount,f=s.rowGap;var p=M(null===(i=n.proxied)||void 0===i?void 0:i.el,a,n.model),h=p.numColsWide,g=p.numRowsHigh,v=p.width;var m=A(a,this.options.frameEl),y=m.top,b=m.left;var w=I(t,r),S=w.draggableOffset,P=w.draggableHeight;var E=S.left-b;var x=S.top-y-P+k;var C=Math.round((E-v/2)/l)+1;var O=Math.round((x+(c-f/2))/c);this.colStart=C;this.colEnd=C+h;this.rowStart=O;this.rowEnd=O+g;var j=this.colStart<1||this.colEnd>u+1;var T=this.rowStart<1||this.rowEnd>d+1;if(j||T){this.colStart=null;this.colEnd=null;this.rowStart=null;this.rowEnd=null;this.removeShadow();return null}this.resizeFullWidthWidget(null===(o=n.proxied)||void 0===o?void 0:o.el,a);return{leaning:_,colStart:this.colStart,rowStart:this.rowStart,colEnd:this.colEnd,rowEnd:this.rowEnd}}},{key:"calculateResizeInformation",value:function e(t,r,n){var i=0;if("dragend"!==t.type){var o=this.el.querySelector(".js-row-container");var a=L(o);var s=T(o),l=s.top,u=s.left;var c=I(t.currentTarget,t),d=c.draggableOffset;var f={x:d.rawLeft-u,y:d.rawTop-l};var p=t.currentTarget.dataset.constrain;var h=window.getComputedStyle(o);var g={left:Number.parseInt(h.paddingLeft,10),top:Number.parseInt(h.paddingTop,10),right:Number.parseInt(h.paddingRight,10),bottom:Number.parseInt(h.paddingBottom,10)};this.setBoundaries(r);this.updateBoundaries(p,f,g,a,n,r);i=this.enforceGridBounds(p,a)}if("dragend"===t.type){var v=t.currentTarget.dataset.constrain;var m=this.el.querySelector(".js-row-container");var y=L(m),b=y.gridRowCount;this.roundFinalBoundaries(v,b)}return{leaning:_,colStart:this.colStart,rowStart:this.rowStart,colEnd:this.colEnd,rowEnd:this.rowEnd,outOfRange:i}}},{key:"setBoundaries",value:function e(t){var r,n;var o=window.getComputedStyle(t.view.el);this.colStart=i.default.isMobileEditMode()?Number(null!==(r=t.view.el.dataset.mobileColStart)&&void 0!==r?r:o.getPropertyValue("grid-column-start")):Number(t.view.el.dataset.colStart);this.colEnd=i.default.isMobileEditMode()?Number(null!==(n=t.view.el.dataset.mobileColEnd)&&void 0!==n?n:o.getPropertyValue("grid-column-end")):Number(t.view.el.dataset.colEnd);this.rowStart=i.default.isMobileEditMode()?Number(t.view.el.dataset.mobileRowStart):Number(t.view.el.dataset.rowStart);this.rowEnd=i.default.isMobileEditMode()?Number(t.view.el.dataset.mobileRowEnd):Number(t.view.el.dataset.rowEnd)}},{key:"updateBoundaries",value:function e(t,r,n,i,o,s){if(a.HandleHelpers.handleAllowsLeftDragging(t)){this.colStartRaw=(r.x-n.left)/i.gridColumnSize;this.colStart=Math.round((r.x-n.left)/i.gridColumnSize)+1}if(a.HandleHelpers.handleAllowsRightDragging(t)){this.colEndRaw=(r.x-n.right)/i.gridColumnSize;this.colEnd=Math.round((r.x-n.right)/i.gridColumnSize)+1}a.HandleHelpers.handleAllowsTopDragging(t)&&(this.rowStart=Math.round((r.y-n.top)/i.gridRowSize)+1);a.HandleHelpers.handleAllowsBottomDragging(t)&&(this.rowEnd=Math.round((r.y-n.bottom)/i.gridRowSize)+1);if(o){var l=s.view.el.children[0];var u=l.getBoundingClientRect().height;var c=Math.max(1,Math.ceil(u/i.gridRowSize-C));this.rowEnd=this.rowStart+c}}},{key:"enforceGridBounds",value:function e(t,r){if(this.colStart<1){this.colStart=1;this.removeShadow();return"left"}if(this.colEnd>r.gridColumnCount+1){this.colEnd=r.gridColumnCount+1;this.removeShadow();return"right"}if(this.rowStart<1){this.rowStart=1;this.removeShadow();return"top"}if(this.rowEnd>r.gridRowCount+1){this.removeShadow();return"bottom"}if(a.HandleHelpers.handleAllowsLeftDragging(t)&&this.colStart>=this.colEnd){this.colStart=this.colEnd-1;this.removeShadow();return"left"}if(a.HandleHelpers.handleAllowsRightDragging(t)&&this.colEnd<=this.colStart+1){this.colEnd=this.colStart+1;this.removeShadow();return"right"}if(a.HandleHelpers.handleAllowsTopDragging(t)&&this.rowStart>=this.rowEnd){this.rowStart=this.rowEnd-1;this.removeShadow();return"top"}if(a.HandleHelpers.handleAllowsBottomDragging(t)&&this.rowEnd<=this.rowStart+1){this.rowEnd=this.rowStart+1;this.removeShadow();return"bottom"}}},{key:"roundFinalBoundaries",value:function e(t,r){if(this.rowEnd>r+1){this.rowEnd=r+1;a.HandleHelpers.handleAllowsLeftDragging(t)&&(this.colStart=Math.floor(this.colStartRaw)+1);a.HandleHelpers.handleAllowsRightDragging(t)&&(this.colEnd=Math.ceil(this.colEndRaw)+1)}}},{key:"calculateAndHighlight",value:function e(t,r,n){var i=this.calculateDropInformation(t,r,n);i&&this.addShadow(i);return i}},{key:"collect",value:function e(t){var r;this.options.onDrop(this.getDroppableObject(),t,this.leaning,{colStart:this.colStart,colEnd:this.colEnd,rowStart:this.rowStart,rowEnd:this.rowEnd});null===(r=this.el.closest('.js-widget[data-name="row"]').querySelector(".edit-layout"))||void 0===r?void 0:r.classList.remove("hidden");this.removeShadow()}},{key:"addShadow",value:function e(t){var r=t.rowStart,n=t.rowEnd,o=t.colStart,a=t.colEnd;var s=i.default.isMobileEditMode()?"data-mobile-":"data-";this.shadow.setAttribute("".concat(s,"row-start"),r);this.shadow.setAttribute("".concat(s,"col-start"),o);this.shadow.setAttribute("".concat(s,"row-end"),n);this.shadow.setAttribute("".concat(s,"col-end"),a);this.shadow.classList.remove("hidden");this.container.classList.add("full-overlay-opacity")}},{key:"removeShadow",value:function e(){this.shadow.classList.add("hidden");this.container.classList.remove("full-overlay-opacity")}},{key:"resizeFullWidthWidget",value:function e(t,r){var n,i,o,a;var s=L(r),l=s.gridColumnSize,u=s.gridRowSize;var c=!(null===t||void 0===t||null===(n=t.dataset)||void 0===n||!n.parentuniqueid||null===r||void 0===r||null===(i=r.parentNode)||void 0===i||null===(o=i.parentNode)||void 0===o||null===(a=o.dataset)||void 0===a||!a.uniqueid)&&t.dataset.parentuniqueid===r.parentNode.parentNode.dataset.uniqueid;t&&!c&&r.clientHeight-200<=t.clientHeight&&(t.style.height="".concat(E*u,"px"));t&&!c&&r.clientWidth-200<=t.clientWidth&&(t.style.width="".concat(x*l,"px"))}},{key:"getDroppableObject",value:function e(){return this.options.droppableObject}},{key:"getHighestRowEnd",value:function e(t){var r=this.el.querySelector(".js-row-container");var n=l(r.querySelectorAll(".widget"));var o=t;var a=i.default.isMobileEditMode()?"data-mobile-row-end":"data-row-end";n.forEach(function(e){var t=parseInt(e.getAttribute(a)||"0",10);o=Math.max(o,t)});return o}}]);return e}();var F=t["default"]=R},69505(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(65478));var i=o(r(34632));function o(e){return e&&e.__esModule?e:{default:e}}var a={load:function e(t,r,o){var a;t.el.classList.add("js-droppable");if("grid"===(null===(a=t.model)||void 0===a?void 0:a.get("sectionType")))return new i.default(t.el,{droppableObject:t,onDrop:o,frameEl:r});return new n.default(t.el,{droppableObject:t,onDrop:o,frameEl:r})}};var s=t["default"]=a},72500(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(69505));var i=o(r(19748));function o(e){return e&&e.__esModule?e:{default:e}}var a=[];var s;var l={init:function e(t){s=t;a=[];f()},getDroppables:function e(){return a},registerAsDroppable:function e(t){return d(t)},unregisterDroppable:function e(t){return u(t)},unregisterTarget:function e(t){var r=-1;a.forEach(function(e,n){e.getDroppableObject()===t&&(r=n)});if(-1!==r){var n=a[r];a.splice(r,1);n.destroy()}},registerColumn:function e(t){return c(t)},registerGrid:function e(t){d(t)},reset:function e(){a.forEach(function(e){e.destroy()});a=[]},getDroppableByUniqueId:function e(t){var r=null;a.every(function(e){var n=e.getDroppableObject();if(t===n.getUniqueId()){r=e;return false}return true});return r}};function u(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1);e.destroy()}function c(e){if(a.some(y.bind(null,e)))return;d(e)}function d(e){if(!(e.el||e.get))return;if(h(e))return;var t=p((0,i.default)(e));g(t);return t}function f(){Editor.Events.on("responsiveColumns:init",d);Editor.Events.on("column:init",c);Editor.Events.on("columns:resized",w);Editor.Events.on("columnDrop:destroy",b)}function p(e){return n.default.load(e,m(),s)}function h(e){return a.some(function(t){return t.getDroppableObject()===e})}function g(e){v(e.getDroppableObject())?a.push(e):a.unshift(e)}function v(e){return e.createColumn}function m(){return Editor.Site.Dom.iframe}function y(e,t){return t.getDroppableObject().column===e}function b(e){a.every(function(t){var r=t.getDroppableObject().column;if(r===e){u(t);return false}return true})}function w(e){var t=a.filter(function(e){return e.getDroppableObject().column});t.forEach(_.bind(null,e))}function _(e,t){var r=t.getDroppableObject();var n=r.column;if(e.children.include(n)){u(t);c(n)}}var S=t["default"]=l},62410(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(92569));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.targetEl=t.targetEl;this.el=t.domNode;this.column=t.columnView;this.resizer=n.default.resizeDropEl.bind(null,this.targetEl,$(this.el));this.resizeHandler=this.windowResizeHandler.bind(this);this.timeout=null;Editor.Events.on("googleMap:loaded",this.resizer);$(window).on("resize",this.resizeHandler)}l(e,[{key:"windowResizeHandler",value:function e(){clearTimeout(this.timeout);this.timeout=setTimeout(function(){this.resizer();this.timeout=null}.bind(this),10)}},{key:"getUniqueId",value:function e(){return null}},{key:"container",value:function e(){return this.column}},{key:"unregisterDroppable",value:function e(){Editor.Events.off("googleMap:loaded",this.resizer);$(window).off("resize",this.resizeHandler)}}]);return e}();var f=t["default"]=d},64219(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.el=t;this._uniqueId=t.getAttribute("data-uniqueid");this.isZone=true}o(e,[{key:"getUniqueId",value:function e(){return this._uniqueId}},{key:"container",value:function e(){return null}},{key:"unregisterDroppable",value:function e(){return null}}]);return e}();var u=t["default"]=l},19748(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(92569));var i=a(r(62410));var o=a(r(64219));function a(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){if(t.el){if(!u(t)&&l(t))return new i.default({targetEl:t.el,domNode:n.default.getColumnEl(t.el),columnView:t});return t}return new o.default(t.get(0))};function l(e){return e.isColumn}function u(e){return e.isResponsiveColumns}var c=t["default"]=s},44985(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={init:function e(){},addObservation:function e(){},showProxy:function e(){},addToInitQueue:function e(){}};var n=t["default"]=r},22677(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HandleHelpers=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=t.HandleHelpers=function(){function e(){n(this,e)}o(e,null,[{key:"checkDirectionalConstraint",value:function e(t,r){return t.includes(r)}},{key:"handleAllowsLeftDragging",value:function e(t){return this.checkDirectionalConstraint(t,"left")}},{key:"handleAllowsRightDragging",value:function e(t){return this.checkDirectionalConstraint(t,"right")}},{key:"handleAllowsTopDragging",value:function e(t){return this.checkDirectionalConstraint(t,"top")}},{key:"handleAllowsBottomDragging",value:function e(t){return this.checkDirectionalConstraint(t,"bottom")}},{key:"handleAllowsHorizontalDragging",value:function e(t){return this.handleAllowsLeftDragging(t)||this.handleAllowsRightDragging(t)}},{key:"handleAllowsVerticalDragging",value:function e(t){return this.handleAllowsTopDragging(t)||this.handleAllowsBottomDragging(t)}}]);return e}()},21759(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.globals=t.getGlobals=t["default"]=void 0;var n=i(r(42857));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=t["default"]=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.templateStylePreprocessorVariablesTree,n=void 0===r?{}:r;a(this,e);this.templateStylePreprocessorVariablesTree=n}l(e,[{key:"formattedImages",value:function e(t){var r=[];for(var n in t)t[n]&&r.push(t[n]);return r}},{key:"filterUnusedPresetAttributes",value:function e(){var t=["@color--light","@color--dark","@color--accent","@siteBackgroundColor","@siteBackgroundGradientType","@siteBackgroundGradientFrom","@siteBackgroundGradientTo","@siteBackgroundImageScale","@siteBackgroundImage","@siteBackgroundPositionX","@siteBackgroundPositionY","@siteBackgroundRepeat"];var r=App.frontEndBucket.sitePresetAttributes;var n=r.filter(function(e){return-1!==t.indexOf(e.name)});return n}},{key:"initializeGlobalAssets",value:function e(){var t=document.querySelector("#siteFrame").contentWindow.Server.plugins.assets;BaseKit.Globals.ImageAssets&&void 0===BaseKit.Globals.imageAssets&&(BaseKit.Globals.imageAssets=new BaseKit.Globals.ImageAssets(this.formattedImages(t.images)));BaseKit.Globals.FileAssets&&void 0===BaseKit.Globals.fileAssets&&(BaseKit.Globals.fileAssets=new BaseKit.Globals.FileAssets(t.files))}},{key:"initializeGlobalValues",value:function e(){var t=App.frontEndBucket.siteGlobalValues;if(BaseKit.Globals.SiteGlobalValuesCollection&&void 0===BaseKit.Globals.globalValues){BaseKit.Globals.globalValues=new BaseKit.Globals.SiteGlobalValuesCollection(t);BaseKit.Globals.globalValues.siteRef=App.session.get("siteRef")}}},{key:"initializeGlobalProfile",value:function e(){var t=document.querySelector("#siteFrame").contentWindow.Profile;var r=Object.assign({ref:t.ref},t.profile);if(BaseKit.Globals.Profile&&void 0===BaseKit.Globals.profile){BaseKit.Globals.profile=new BaseKit.Globals.Profile(r);BaseKit.Globals.profile.stateManager=new n.default(BaseKit.Globals.profile);BaseKit.Globals.profile.stateManager.storeCurrentState()}else if(BaseKit.Globals.profile){BaseKit.Globals.profile.off();BaseKit.Globals.profile.clear({silent:true});BaseKit.Globals.profile.set(r);BaseKit.Globals.profile.stateManager.storeCurrentState()}}},{key:"initializePresetAttributes",value:function e(){if(BaseKit.Globals.PresetAttributes&&void 0===BaseKit.Globals.presetAttributes){var t=BaseKit.Globals.PresetAttributes;BaseKit.Globals.presetAttributes=new t(this.filterUnusedPresetAttributes())}}},{key:"handleStylesVariables",value:function e(t,r){var n=[];var i={};t.forEach(function(e){if(e.fontType){i[e.fontType]||(i[e.fontType]=[]);i[e.fontType].push(e)}else n.push(e)});for(var o in i)if(i[o]){var a=i[o];var s={type:"font",name:o,translation:a[0].translation,siteRef:a[0].siteRef,widget:a[0].widget,section:a[0].section,variables:this.getFontVariables(a)};n.push(s)}this.allStylePreprocessorVariables=this.allStylePreprocessorVariables.concat(n);BaseKit.Globals.templateStylePreprocessorVariableSections[r]=new BaseKit.Globals.TemplateStylePreprocessorVariables(n)}},{key:"getFontVariables",value:function e(t){var r=[];t.forEach(function(e){r.push(e)});return r}},{key:"initializeTemplateStylePreprocessorVariables",value:function e(t){if(BaseKit.Globals.TemplateStylePreprocessorVariables&&void 0===BaseKit.Globals.templateStylePreprocessorVariableSections){BaseKit.Globals.templateStylePreprocessorVariableSections=[];this.allStylePreprocessorVariables=[];for(var r in t)if(t[r]){var n=t[r];var i=n.variables;this.handleStylesVariables(i,r)}BaseKit.Globals.templateStylePreprocessorVariables=new BaseKit.Globals.TemplateStylePreprocessorVariables(this.allStylePreprocessorVariables)}}},{key:"init",value:function e(){this.initializeGlobalAssets();this.initializeGlobalValues();this.initializeGlobalProfile();this.initializePresetAttributes();this.initializeTemplateStylePreprocessorVariables(this.templateStylePreprocessorVariablesTree)}}]);return e}();var f=t.globals=BaseKit.Globals;var p=t.getGlobals=function e(){return BaseKit.Globals||window.BaseKit.Globals}},85057(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=a(r(53025));var o=r(59650);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==s(t)?t:t+""}function y(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=function(){function e(){h(this,e);this.iframe=document.getElementById("siteFrame");this.window=this.iframe.contentWindow||this.iframe.contentDocument.defaultView}v(e,[{key:"replaceCss",value:function e(t){this.window.document.querySelector(".js-compiled-styles").textContent=t}},{key:"cleanUpStyles",value:function e(){var t=this.window.document.querySelector(".js-initial-styles");null!==t&&t.remove()}},{key:"hideZoneOverlays",value:function e(){var t=this.window.document.querySelectorAll(".bk-zone-overlay");l(t).forEach(function(e){e.style.display="none"})}},{key:"showZoneOverlays",value:function e(){var t=this.window.document.querySelectorAll(".bk-zone-overlay");l(t).forEach(function(e){e.style.display="block"})}}]);return e}();var w={Site:null,Events:new Backbone.Wreqr.EventAggregator,Models:{},Collections:{},load:function e(){var t=this;var r=document.getElementById("siteFrame");var a=r.contentWindow||r.window;a.addEventListener("visibilityChange",function(){"hidden"===window.document.visibilityState&&t.unloadCleanUp()});w.Site=a.Site;w.Profile=a.Profile;w.getGlobals();w.Site.Dom=new b;App.session=w.Site.Dom.window.App.session;if(BaseKit.Globals.Pages&&void 0===BaseKit.Globals.pages){var s=App.pageTree;BaseKit.Globals.pages=new i.default(s);n.store.dispatch((0,o.addPages)(s));n.store.dispatch((0,o.setCurrentPage)(App.session.get("pageRef")));this.addSiteLanguagePagesToCollection(App.siteLanguagesPageTree);n.store.dispatch((0,o.addLanguagesPageTree)(App.siteLanguagesPageTree))}var l=w.Site.Dom.window;n.store.dispatch((0,o.setCurrentPage)(App.session.get("pageRef")));n.store.dispatch((0,o.setCurrentPageTextEntryMetadata)(l.Server.page.isRTLLanguage))},unloadCleanUp:function e(){BaseKit.Globals.pages&&BaseKit.Globals.pages.off()},getGlobals:function e(){var t=App.frontEndBucket.siteGlobalValues;null!==w.Site&&t.length>0&&t.forEach(function(e){w.Site.Globals[e.name]=e.value})},showZoneOverlays:function e(){w.Site.Dom.showZoneOverlays()},hideZoneOverlays:function e(){w.Site.Dom.hideZoneOverlays()},addSiteLanguagePagesToCollection:function e(t){Object.keys(t).forEach(function(e){BaseKit.Globals.pages.addFromPageTree(t[e].pages)})}};window.Editor=w;var _=t["default"]=w},8882(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);this._envDataProvider=t.envDataProvider;this._parseQueryString=t.parseQueryString;this._notification=t.notification}o(e,[{key:"display",value:function e(){var t=this._parseQueryString();var r=this._envDataProvider.get("errors");t.error&&r[t.error]&&this._notification(void 0,r[t.error],"error")}}]);return e}();var u=t["default"]=l},32072(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){var r=t.brandDataProvider,i=t.DialogPanelView,o=t.SessionTimeoutDialogView;n(this,e);this.brandDataProvider=r;this.DialogPanelView=i;this.SessionTimeoutDialogView=o}o(e,[{key:"display",value:function e(){var t=this.brandDataProvider.get("loginUrl");return new this.DialogPanelView({contentClassname:"dialog__content--center",title:App.t("editor.dialog.title.session-timeout","Session Timeout"),content:new this.SessionTimeoutDialogView({brandLoginUrl:t})})}}]);return e}();var u=t["default"]=l},18485(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=c;var n=u(r(7402));var i=u(r(9385));var o=u(r(32686));var a=u(r(18738));var s=u(r(32072));var l=u(r(8882));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){e.factory("SessionErrorMessage",function(e){return new l.default({parseQueryString:n.default,notification:i.default,envDataProvider:e.EnvDataProvider})});e.factory("SessionTimeoutDialog",function(e){return new s.default({brandDataProvider:e.BrandDataProvider,DialogPanelView:o.default,SessionTimeoutDialogView:a.default})});return e}},96836(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.siteDataProvider,n=void 0===r?{}:r,i=t.envDataProvider,o=void 0===i?{}:i,s=t.siteGlobalValuesCollection,l=void 0===s?{}:s;a(this,e);this.siteDataProvider=n;this.envDataProvider=o;this.siteGlobalValuesCollection=l}l(e,[{key:"getValue",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n=this.siteGlobalValuesCollection.get(t);if("undefined"!==typeof n)return n.get("value");return r}},{key:"saveValue",value:function e(t,r){var n=this.siteDataProvider.getSiteRef();var i=this.siteGlobalValuesCollection.get(t);var o={siteRef:n,name:t,value:r};if("undefined"!==typeof i)return this.updateModel(t,o,i);return this.addModel(o)}},{key:"updateModel",value:function e(t,r,n){n.set(i({},r));return this.putToServer(t,r)}},{key:"addModel",value:function e(t){this.siteGlobalValuesCollection.add(t);return this.postToServer(t)}},{key:"putToServer",value:function e(t,r){var n=this.siteDataProvider.getSiteRef();var i="".concat(this.envDataProvider.get("apiProxyBaseUrl"),"/sites/").concat(n,"/global-values/").concat(t);var o=this.envDataProvider.get("csrfToken");return new Promise(function(e,t){window.fetch(i,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":o},method:"PUT",body:JSON.stringify(r)}).then(e(r)).catch(t)})}},{key:"postToServer",value:function e(t){var r=this.siteDataProvider.getSiteRef();var n="".concat(this.envDataProvider.get("apiProxyBaseUrl"),"/sites/").concat(r,"/global-values");var i=this.envDataProvider.get("csrfToken");return new Promise(function(e,r){window.fetch(n,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":i},method:"POST",body:JSON.stringify(t)}).then(e(t)).catch(r)})}}]);return e}();var f=t["default"]=d},45089(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.openIntercom=t.closeIntercom=void 0;var r=window.matchMedia("(max-width: 930px)").matches;var n=t.openIntercom=function e(){if(window.Intercom&&!r){var t="0"===window.App.brand.capabilities.enableIntercomIcon;window.Intercom("update",{hide_default_launcher:t})}};var i=t.closeIntercom=function e(){window.Intercom&&!r&&window.Intercom("update",{hide_default_launcher:true})}},23656(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(53025);var i=Marionette.ItemView.extend({events:{"click .js-dialog-backstop":"closePanel","click .js-save":"saveClicked","change .js-link-action":"linkActionChanged","click .js-close-dialog":"closePanel","change .js-external-link":"externalLinkChange","keyup .js-external-link":"externalLinkChange","keyup .js-email":"emailChanged","keyup .js-phone-number":"phoneNumberChanged","keypress .js-external-link":"updateExternalLinkTriggered","change .js-external-target":"externalLinkTargetChange","click .js-internal-link":"internalLinkClicked","click .js-remove-link":"removeLinkClicked"},initialize:function e(t){this.currentUrl=t.url||"";this.currentTarget=t.target||"";this.originalUrl=this.currentUrl;this.originalTarget=this.currentTarget;this.linkAction=this._getLinkAction();this.initialLinkAction=this.linkAction;this.listenTo(this,"close:panel",this.closePanel);return this},renderHTML:function e(){var t=this._getContext();this.$el.empty().append(Twig.render(Twig.templates.view_link_editor_dialog,t))},render:function e(){this.renderHTML();this.moveToBody();this.afterRender();return this},afterRender:function e(){this.isLinkEditorOpen=true;"internal"===this.linkAction&&this._scrollToShowSelectedInternalLinkItem();this._setViewElementFocused()},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},closePanel:function e(){this.destroy()},saveClicked:function e(){this.notify()},removeLinkClicked:function e(){this.trigger("link:remove");this.destroy()},notify:function e(){this.trigger("link:change",{target:this.currentTarget,url:this.currentUrl});this.destroy()},destroy:function e(){this.isLinkEditorOpen=false;this.trigger("linkEditor:close");this.remove()},linkActionChanged:function e(t){this.linkAction=t.currentTarget.value;if(this.initialLinkAction===this.linkAction){this.currentUrl=this.originalUrl;this.currentTarget=this.originalTarget}else{this.currentUrl="";this.currentTarget="_self"}this.renderHTML();this.afterRender()},internalLinkClicked:function e(t){var r=t.currentTarget;var n=this._getSelectedInternalPageElement();n&&n.classList.remove("selected");r.classList.add("selected");this.currentUrl=t.currentTarget.dataset.itemValue;this._setDoneButtonEnabled(true)},externalLinkChange:function e(){var t=this.$(".js-external-link").val().trim();var r=/^((http|ftp|ftps|https):\/\/)?[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+(\.[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+)+([\u00C0-\u1FFE\u2C00-\uD7FB\w\-\.,@?\^=%&amp;:\/~\+#!]*[\u00C0-\u1FFE\u2C00-\uD7FB\w\-\@?\^=%&amp;\/~\+#])?$/i;var n=/^(http|ftp|ftps|https)$/i;var i=t.match(r);var o=""!==t;if(o){r.test(t)&&!n.test(i[2])&&(t="http://".concat(t));this.currentUrl=t}this._setDoneButtonEnabled(o)},updateExternalLinkTriggered:function e(t){var r=t.keyCode||t.which;if(13===r){this.externalLinkChange();this.notify()}},externalLinkTargetChange:function e(t){var r=t.currentTarget;this.currentTarget=r.checked?"_blank":"_self";this._setDoneButtonEnabled(this._isLinkAvailable())},emailChanged:function e(t){var r=t.currentTarget.value;var n=this.el.querySelector(".js-email-address-container");var i=/.+@.+/;if(i.test(r)){n.classList.remove("cl-form-fields__container--errored");this.currentUrl="mailto:".concat(r);this._setDoneButtonEnabled(true)}else{n.classList.add("cl-form-fields__container--errored");this._setDoneButtonEnabled(false)}},phoneNumberChanged:function e(t){var r=t.currentTarget.value.trim();if(""!==r){this.currentUrl="tel:".concat(r);this._setDoneButtonEnabled(true)}else this._setDoneButtonEnabled(false)},isOpen:function e(){return this.isLinkEditorOpen},_getContext:function e(){return{action:this.linkAction,target:this._getTarget(),url:this._getUrl(),pages:(0,n.getActiveLanguageInternalPages)(),hasRemoveLink:this._hasRemoveLink(),initialLinkAction:this.initialLinkAction}},_getLinkAction:function e(){if(!this._isInEditor()||!this.currentUrl)return"external";var t=/^https?:\/\//.test(this.currentUrl);var r=/@/.test(this.currentUrl);var n=/tel:/.test(this.currentUrl);if(t)return"external";if(r)return"mail";if(n)return"phone";return"internal"},_getTarget:function e(){return this.currentTarget||"_self"},_getUrl:function e(){return this.currentUrl.replace(/^(mailto:|tel:)/gi,"")},_hasRemoveLink:function e(){return""!==this.originalUrl&&void 0!==this.originalUrl},_isInEditor:function e(){var t=false;"undefined"!==typeof Editor&&Editor&&Editor.Site&&(t=true);return t},_isLinkAvailable:function e(){return""!==this.currentUrl},_getSelectedInternalPageElement:function e(){return this.el.querySelector(".js-internal-link.selected")},_setDoneButtonEnabled:function e(t){var r=this.el.querySelector(".js-save");r.disabled=!t;t?r.classList.remove("cl-button--disabled"):r.classList.add("cl-button--disabled")},_scrollToShowSelectedInternalLinkItem:function e(){var t=this._getSelectedInternalPageElement();if(!t)return;var r=this.el.querySelector(".js-page-select-list-content");var n=r.getBoundingClientRect();var i=t.getBoundingClientRect();var o=i.bottom-n.bottom;o>0&&(r.scrollTop+=o)},_setViewElementFocused:function e(){var t=document.querySelector(".js-close-dialog");setTimeout(function(){t.focus()},500)}});var o=t["default"]=i},64397(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(96342));var i=o(r(3760));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return c(e)||u(e)||g(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return v(e)}function d(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}function p(e,t){return y(e)||m(e,t)||g(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function y(e){if(Array.isArray(e))return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function _(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=k(e,"string");return"symbol"==a(t)?t:t+""}function k(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var P=function(){function e(t){b(this,e);this.templateRenderer=t.templateRenderer;this.rowPanelPreferences=t.rowPanelPreferences;this.envDataProvider=t.envDataProvider;this.rowGroupProvider=t.rowGroupProvider;this.rowGroupData=this.rowGroupProvider.getRowGroups();this.rowPreviewTemplates=[];this.maxWidthForFullScreenMode=875;this.resizeHandler=null;this.precisionSectionsEnabled=this._siteDocument().querySelectorAll(".js-row-template-preview-tabs").length>0;this.precisionSectionsHelpStatus=0;this.selectedTab="standard";this.switchTabBound=this.switchTab.bind(this);this.toggleHelpPageBound=this.toggleHelpPage.bind(this);this.toggleHelpVisibilityBound=this.toggleHelpVisibility.bind(this);this.onHelpDotClickBound=this._onHelpDotClick.bind(this);this.liveRows=null}_(e,[{key:"init",value:function e(){this._bindEvents();this.precisionSectionsEnabled&&this._disableButtons();this._initialiseHelp();this._renderRowGroupMenu();this._renderRowGroupList();this._show()}},{key:"remove",value:function e(){this._hide();this._resetTabs();this._unbindEvents();this._unbindHelpPageEvents();this._removeRowGroupList();this._removeRowGroupMenu();this.rowPreviewTemplates=[]}},{key:"switchTab",value:function e(t){var r=t.target.dataset.tab;var n=this._siteDocument().querySelector('button[data-tab="standard"]');var i=this._siteDocument().querySelector('button[data-tab="precision"]');var o=this._siteDocument().querySelector(".js-precision-help");if(r===this.selectedTab)return;if("precision"===r){this.selectedTab="precision";n.setAttribute("aria-pressed",false);i.setAttribute("aria-pressed",true);null===o||void 0===o?void 0:o.removeAttribute("hidden")}else{this.selectedTab="standard";i.setAttribute("aria-pressed",false);n.setAttribute("aria-pressed",true);null===o||void 0===o?void 0:o.setAttribute("hidden","")}this._loadingElementShow();this._disableButtons();this._emptyRowGroupMenu();this._emptyRowGroupList();this.rowPreviewTemplates=[];this._renderRowGroupMenu();this._renderRowGroupList();this._categoryChanged()}},{key:"toggleHelpPage",value:function e(){var t=this.precisionSectionsHelpStatus;var r=t+1;if(r>3){this.toggleHelpVisibility();return}var n=this._siteDocument().querySelector(".js-precision-help-step-".concat(t));var i=this._siteDocument().querySelector(".js-precision-help-step-".concat(r));n.setAttribute("hidden","");i.removeAttribute("hidden");this.precisionSectionsHelpStatus=r;this._setActiveHelpDot(r)}},{key:"toggleHelpVisibility",value:function e(){if(this.precisionSectionsEnabled){var t=this._siteDocument().querySelector(".js-precision-help-button-open");if(0===this.precisionSectionsHelpStatus){var r=this._siteDocument().querySelector(".js-precision-help-step-1");t.setAttribute("hidden","");r.removeAttribute("hidden");this.precisionSectionsHelpStatus=1;return}var n=this.precisionSectionsHelpStatus;var i=this._siteDocument().querySelector(".js-precision-help-step-".concat(n));i.setAttribute("hidden","");t.removeAttribute("hidden");window.localStorage.setItem("bk-precision-section-onboarding","1");this.precisionSectionsHelpStatus=0}}},{key:"_onHelpDotClick",value:function e(t){var r=Number(t.currentTarget.dataset.step);if(!Number.isFinite(r))return;this._goToHelpStep(r)}},{key:"_goToHelpStep",value:function e(t){var r=3;if(t<1||t>r)return;var n=this.precisionSectionsHelpStatus;var i=this._siteDocument().querySelector(".js-precision-help-step-".concat(n));null===i||void 0===i?void 0:i.setAttribute("hidden","");var o=this._siteDocument().querySelector(".js-precision-help-step-".concat(t));null===o||void 0===o?void 0:o.removeAttribute("hidden");this._setActiveHelpDot(t);this.precisionSectionsHelpStatus=t}},{key:"_setActiveHelpDot",value:function e(t){var r=this._siteDocument().querySelectorAll(".js-precision-help-dot");r.forEach(function(e){var r=Number(e.dataset.step);var n=r===t;e.classList.toggle("is-active",n);e.setAttribute("aria-current",n?"step":"false")})}},{key:"_bindEvents",value:function e(){Editor.Events.on("category:change",this._categoryChanged.bind(this));this.resizeHandler=this._resize.bind(this);window.addEventListener("resize",this.resizeHandler,false);this._loadingElementShow();if(this.precisionSectionsEnabled){var t=this._siteDocument().getElementById("tab-selector-button-standard");var r=this._siteDocument().getElementById("tab-selector-button-precision");t.addEventListener("click",this.switchTabBound);r.addEventListener("click",this.switchTabBound)}}},{key:"_bindHelpPageEvents",value:function e(){var t=this;var r=this._siteDocument().querySelectorAll(".js-precision-help-button-next");var n=this._siteDocument().querySelector(".js-precision-help-button-open");var i=this._siteDocument().querySelectorAll(".js-precision-help-button-close");var o=this._siteDocument().querySelectorAll(".js-precision-help-dot");r.forEach(function(e){return e.addEventListener("click",t.toggleHelpPageBound)});n.addEventListener("click",this.toggleHelpVisibilityBound);i.forEach(function(e){return e.addEventListener("click",t.toggleHelpVisibilityBound)});o.forEach(function(e){return e.addEventListener("click",t.onHelpDotClickBound)})}},{key:"_unbindEvents",value:function e(){Editor.Events.off("category:change");window.removeEventListener("resize",this.resizeHandler,false);if(this.precisionSectionsEnabled){var t=this._siteDocument().getElementById("tab-selector-button-standard");var r=this._siteDocument().getElementById("tab-selector-button-precision");t.removeEventListener("click",this.switchTabBound);r.removeEventListener("click",this.switchTabBound)}}},{key:"_unbindHelpPageEvents",value:function e(){var t=this;if(this.precisionSectionsEnabled&&0!==this.precisionSectionsHelpStatus){var r=this._siteDocument().querySelectorAll(".js-precision-help-button-next");var n=this._siteDocument().querySelector(".js-precision-help-button-open");var i=this._siteDocument().querySelectorAll(".js-precision-help-button-close");var o=this._siteDocument().querySelectorAll(".js-precision-help-dot");r.forEach(function(e){return e.removeEventListener("click",t.toggleHelpPageBound)});n.removeEventListener("click",this.toggleHelpVisibilityBound);i.forEach(function(e){return e.removeEventListener("click",t.toggleHelpVisibilityBound)});o.forEach(function(e){return e.removeEventListener("click",t.onHelpDotClickBound)})}}},{key:"_resetTabs",value:function e(){if(this.precisionSectionsEnabled){var t,r,n;this.selectedTab="standard";var i=null===(t=this._siteDocument())||void 0===t?void 0:t.querySelector('button[data-tab="standard"]');var o=null===(r=this._siteDocument())||void 0===r?void 0:r.querySelector('button[data-tab="precision"]');var a=null===(n=this._siteDocument())||void 0===n?void 0:n.querySelector(".js-precision-help");null===i||void 0===i?void 0:i.setAttribute("aria-pressed",true);null===o||void 0===o?void 0:o.setAttribute("aria-pressed",false);null===a||void 0===a?void 0:a.setAttribute("hidden","")}}},{key:"_initialiseHelp",value:function e(){if(this.precisionSectionsEnabled){this._bindHelpPageEvents();var t=window.localStorage.getItem("bk-precision-section-onboarding");"1"!==t&&this.toggleHelpVisibilityBound()}}},{key:"_siteDocument",value:function e(){return window.frames.siteFrame.document}},{key:"_rowParameter",value:function e(){return this.precisionSectionsEnabled&&"precision"===this.selectedTab?"gridRows":"rows"}},{key:"_liveRowPreviewContainer",value:function e(){return this._siteDocument().getElementById("liveRowPreviewContainer")}},{key:"_rowTemplateGroupMenu",value:function e(){return this._siteDocument().querySelector(".js-row-template-groups-menu")}},{key:"_rowTemplateGroupList",value:function e(){return this._siteDocument().querySelector(".js-row-template-groups-list")}},{key:"_loadingElement",value:function e(){return this._siteDocument().querySelector(".js-loading")}},{key:"_loadingElementShow",value:function e(){this._loadingElement().removeAttribute("hidden")}},{key:"_loadingElementHide",value:function e(){this._loadingElement().setAttribute("hidden","hidden")}},{key:"_disableButtons",value:function e(){var t=this._siteDocument().querySelector('button[data-tab="standard"]');var r=this._siteDocument().querySelector('button[data-tab="precision"]');t.setAttribute("disabled",true);r.setAttribute("disabled",true)}},{key:"_enableButtons",value:function e(){var t=this._siteDocument().querySelector('button[data-tab="standard"]');var r=this._siteDocument().querySelector('button[data-tab="precision"]');t.removeAttribute("disabled");r.removeAttribute("disabled")}},{key:"_show",value:function e(){(0,i.default)("addClass",window.frames.siteFrame,{className:"show",target:"#liveRowPreviewContainer"})}},{key:"_hide",value:function e(){(0,i.default)("removeClass",window.frames.siteFrame,{className:"show",target:"#liveRowPreviewContainer"})}},{key:"_renderRowGroupMenu",value:function e(){var t=this;var r=this._rowTemplateGroupMenu();var i=this._rowParameter();Object.entries(this.rowGroupData).forEach(function(e){var o=p(e,2),a=o[0],s=o[1];if(s[i].length){var l=t.templateRenderer.render("row_preview_group_menu_item",{groupTitle:(0,n.default)("editor.row_panel.row_group_".concat(a),s.displayName),id:a});r.insertAdjacentHTML("beforeend",l)}})}},{key:"_renderRowGroupList",value:function e(){var t=this;var r=this._rowTemplateGroupList();var i=this._rowParameter();var o="";Object.entries(this.rowGroupData).forEach(function(e){var r=p(e,2),a=r[0],s=r[1];s[i].length&&(o+=t.templateRenderer.render("row_preview_group",{isSelected:"image_text"===a,isHighlighted:"image_text"===a,groupTitle:(0,n.default)("editor.row_panel.row_group_".concat(a),s.displayName),rows:s[i],id:a,showNames:t.rowPanelPreferences.getShowNames()}))});r.insertAdjacentHTML("beforeend",o)}},{key:"_emptyRowGroupMenu",value:function e(){var t=this._rowTemplateGroupMenu();t.innerHTML=null}},{key:"_emptyRowGroupList",value:function e(){var t=this._rowTemplateGroupList();t.innerHTML=null}},{key:"_removeRowGroupList",value:function e(){(0,i.default)("removeElement",window.frames.siteFrame,{removeChildNodes:true,target:".js-row-template-groups-list"})}},{key:"_removeRowGroupMenu",value:function e(){(0,i.default)("removeElement",window.frames.siteFrame,{removeChildNodes:true,target:".js-row-template-groups-menu"})}},{key:"_fetchLiveRows",value:function(){var e=f(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:if(this.liveRows){r.next=7;break}r.next=3;return fetch("/_/row-previews",{headers:{"X-CSRF-Token":this.envDataProvider.get("csrfToken")},credentials:"include"});case 3:t=r.sent;r.next=6;return t.json();case 6:this.liveRows=r.sent;case 7:case"end":return r.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_fetchLiveRowTemplates",value:function e(t){var r=this;return new Promise(function(e){if(r._isGroupTemplateLoaded(t)){e(r.rowPreviewTemplates[t]);return}r._processLiveRowTemplates(r.liveRows);e(r.rowPreviewTemplates[t])})}},{key:"_processLiveRowTemplates",value:function e(t){var r=this;var n=this._rowParameter();Object.entries(this.rowGroupData).forEach(function(e){var i=p(e,2),o=i[0],a=i[1];var s=t.filter(function(e){return a[n].includes(e.id)});r.rowPreviewTemplates[o]=s})}},{key:"_isGroupTemplateLoaded",value:function e(t){return void 0!==this.rowPreviewTemplates[t]}},{key:"_categoryChanged",value:function(){var e=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return this._fetchLiveRows();case 2:this._isFullScreenMode()?this._renderAllRowPreviews():this._renderSelectedRowPreviews();case 3:case"end":return t.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_isFullScreenMode",value:function e(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth;return t<=this.maxWidthForFullScreenMode}},{key:"_resize",value:function e(){this._isFullScreenMode()&&this._renderAllRowPreviews()}},{key:"_renderSelectedRowPreviews",value:function e(){var t=this._siteDocument().querySelector(".js-row-template-group.is-selected");this._renderRowGroupPreviews(t.getAttribute("data-id"))}},{key:"_renderAllRowPreviews",value:function e(){var t=this;var r='.js-row-template-group:not([data-rendered="true"])';var n=this._siteDocument().querySelectorAll(r);n.forEach(function(e){t._renderRowGroupPreviews(e.getAttribute("data-id"))})}},{key:"_renderLiveRows",value:function e(t){var r=this;var n=this._liveRowPreviewContainer();var i=".js-row-template-group";"groupId"in t&&(i='.js-row-template-group[data-id="'.concat(t.groupId,'"]'));t.rowJSON.forEach(function(e){var t="".concat(i,' .js-row-template-preview-markup[data-row-template-id="').concat(e.id,'"]');s(n.querySelectorAll(t)).forEach(function(t){t.insertAdjacentHTML("beforeend",e.html);t.setAttribute("data-rendered",true)});s(n.querySelectorAll(".js-row-template-preview-markup img")).forEach(function(e){e.addEventListener("load",function(){r._isFullScreenMode()?r._fixRowPreviewHeight():r._fixSelectedRowPreviewHeight()})})});this._isFullScreenMode()||this._fixSelectedRowPreviewHeight();this._loadingElementHide();this.precisionSectionsEnabled&&this._enableButtons()}},{key:"_renderRowGroupPreviews",value:function e(t){var r=this;var n=this._siteDocument().querySelector('.js-row-template-group[data-id="'.concat(t,'"]'));var i=null!==n.getAttribute("data-rendered");i||this._fetchLiveRowTemplates(t).then(function(e){r._renderLiveRows({rowJSON:e,groupId:t});n.setAttribute("data-rendered",true)});this._isFullScreenMode()?this._fixRowPreviewHeight():this._fixSelectedRowPreviewHeight();window.frames.siteFrame.addEventListener("resize",this._fixRowPreviewHeight.bind(this),false)}},{key:"_fixRowPreviewHeight",value:function e(){s(this._siteDocument().querySelectorAll(".js-row-template-preview-markup")).forEach(function(e){e.parentElement.style.height="".concat(e.getBoundingClientRect().height,"px")})}},{key:"_fixSelectedRowPreviewHeight",value:function e(){var t;var r=(null===(t=this._siteDocument().querySelector(".js-row-template-group.is-selected"))||void 0===t?void 0:t.querySelectorAll(".js-row-template-preview-markup"))||[];r.forEach(function(e){e.parentElement.style.height="".concat(e.getBoundingClientRect().height,"px")})}}]);return e}();var E=t["default"]=P},68478(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var n=o(r(14570));var i=o(r(64397));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){e.factory("RowPanelPreferences",function(){return n.default});e.factory("LiveRowPreviewService",function(e){return new i.default({templateRenderer:e.TemplateRenderer,rowPanelPreferences:e.RowPanelPreferences,envDataProvider:e.EnvDataProvider,rowGroupProvider:e.RowGroupProvider,userDataProvider:e.UserDataProvider})});return e}},8081(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}}var i=Marionette.ItemView.extend({template:"mobile_edit_mode_welcome",render:function e(){var t=Twig.render(Twig.templates[this.template]);this.$el.html(t);return this},open:function e(){this.dialog=new BaseKit.Panels.Dialog({content:this,showContinue:true,useComponentLibraryDialog:true,closeIconOnRight:true,actionButtonsOnLeft:true,dialogClassname:"mobile-edit-mode__dialog",contentClassname:"mobile-edit-mode__content"});this._acknowledge();this.listenTo(this.dialog,"dialog:continue",this.close)},close:function e(){this.dialog.destroy()},_acknowledge:function e(){return n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:window.parent.App.frontEndBucket.metadata.mobileEditModeAcknowledged=true;t.next=3;return fetch("/_/mobile-edit-mode/acknowledge",{credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":App.session.attributes.csrfToken,Accept:"application/json"},method:"POST"});case 3:case"end":return t.stop()}},e)}))()}});var o=t["default"]=i},89860(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=Marionette.ItemView.extend({template:"animation_panel",events:{"click .js-animation-cancel":"cancelChanges","click .js-animation-done":"closePanel","click .js-animation-bg":"cancelChanges","click .js-animation-item":"onAnimationEffectClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentAnimationEffect=t.currentAnimationEffect||"none";this.prevEffect=this.currentAnimationEffect;this.animations=t.animations},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentAnimationEffect:this.currentAnimationEffect,animations:this.animations});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onAnimationEffectClicked:function e(t){this._clearActiveEffectClass();this._addActiveEffectClass(t.currentTarget);this.changeAnimationEffect(t.currentTarget.dataset.name)},changeAnimationEffect:function e(t){if(t===this.currentAnimationEffect)return;this.trigger("animationEffect:change",t);this.currentAnimationEffect=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeAnimationEffect(this.prevEffect);this.closePanel()},_clearActiveEffectClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveEffectClass:function e(t){t.classList.add("is-current")}});var o=t["default"]=i},14692(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(10907));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){e.factory("ImportPanelFactory",function(){return new n.default});return e}var a=t["default"]=o},33346(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=s(r(72314));var o=r(83502);var a=r(1094);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h="is-active";function g(e){return e.ui.colourPanel.activePanel}function v(e){return e.ui.colourPanel.addButtonDisabled}function m(e){return e.ui.colourPanel.selectedColour}function y(e){return e.ui.colourPanel.savedColours}var b=/^(#[0-9a-f]{3}|#[0-9a-f]{6})$/;var w=/^(rgb)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\)$/;var _=/^(hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\)$/;function S(e){var t="".concat(e);if(t.match(b)||t.match(w)||t.match(_))return true;return false}var k=Marionette.ItemView.extend({template:"colour_picker_panel",customColourButtonTemplate:"colour_picker_panel_custom_colour_button",colourPicker:null,events:{"click .js-colour-set-item":"colourSetItemClicked","click .js-palette-colour-item":"paletteColourClicked","click .js-complimentary-palette":"complimentaryColourClicked","click .js-custom-colour-item":"customColourClicked","click .js-colour-set-tab-button":"colourSetTabBtnClicked","click .js-palette-tab-button":"paletteTabBtnClicked","click .js-wheel-tab-button":"wheelTabBtnClicked","change .js-custom-input":"customInputChanged","keyup .js-custom-input":"customInputChanged","paste .js-custom-input":"customInputChanged","click .js-add-custom-colour":"addCustomColourButtonClicked","click .js-remove-custom-colour":"removeCustomColour"},beforeRender:function e(t){return null},afterRender:function e(t){return null},initialize:function e(t){this.model=t.model||null;var r=BaseKit.siteLibraryProvider().BaseKit.Globals;this.globalValues=r.globalValues;this.savedColoursModel=this.globalValues.findWhere({name:"savedColours"})||new r.SiteGlobalValueModel({name:"savedColours",value:[]});this.savedColoursModel.siteRef=o.store.getState().site.ref;this.colourChosen=t.colourChosen||function(){console.warn("colour chosen callback not set")};this.beforeRender=t.beforeRender||function(){};this.afterRender=t.afterRender||function(){};this.showColourSet=t.showColourSet||false;this.colourSet=t.colourSet||[];o.store.dispatch((0,a.savedColoursChanged)(this.savedColoursModel.get("value")));this.unsubscribe=o.store.subscribe(this.handleStateChange.bind(this));return this},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=o.store.getState();switch(g(t)){case"colourSet":this.renderColourSet();break;case"palette":this.renderPalette();break;case"wheel":this.renderWheel();break}v(t)?this.disableButton():this.enableButton();var r=this.el.querySelector(".js-custom-input").value;var n=m(t);r!==n&&this.setInputValue(n)},enableButton:function e(){this.el.querySelector(".js-add-custom-colour").disabled=false},disableButton:function e(){this.el.querySelector(".js-add-custom-colour").disabled=true},setInputValue:function e(t){this.el.querySelector(".js-custom-input").value=t},colourSelected:function e(t){this.colourChosen(this.model.id,t)},updateColourInput:function e(t,r){var n=(0,i.default)(t);var s=n.toHexString();1!==n.getAlpha()&&(s=n.toRgbString());if(1===n.getAlpha()&&r){n.setAlpha(r);s=n.toRgbString()}o.store.dispatch((0,a.colourChanged)(s));o.store.dispatch((0,a.addButtonEnabled)())},customInputChanged:function e(){var t=this.el.querySelector(".js-custom-input").value;t=t.replace(/#{2,}/,"#");o.store.dispatch((0,a.colourChanged)(t));if((0,i.default)(t).isValid()&&S(t)){o.store.dispatch((0,a.addButtonEnabled)());this.colourSelected(t)}else o.store.dispatch((0,a.addButtonDisabled)())},addCustomColourButtonClicked:function e(){var t=m(o.store.getState());if(!(0,i.default)(t).isValid()){o.store.dispatch((0,a.addButtonDisabled)());return}var r=y(o.store.getState());if(!r.includes(t)){var n=[].concat(l(r),[t]);this.addColourToCustomPalette(t);this.saveCustomColours(n)}},removeCustomColour:function e(t){t.preventDefault();var r=t.currentTarget.parentElement;var i=r.dataset.colourValue;var o=this.savedColoursModel.get("value");if(o.includes(i)){var a=o.filter(function(e){return e!==i});this.saveCustomColours(a)}(0,n.remove)(r)},saveCustomColours:function e(t){o.store.dispatch((0,a.savedColoursChanged)(t));this.savedColoursModel.set("value",t);this.savedColoursModel.save()},colourSetTabBtnClicked:function e(t){t.preventDefault();if("colourSet"===g(o.store.getState()))return;o.store.dispatch((0,a.panelChanged)("colourSet"))},paletteTabBtnClicked:function e(t){t.preventDefault();if("palette"===g(o.store.getState()))return;o.store.dispatch((0,a.panelChanged)("palette"))},wheelTabBtnClicked:function e(t){t.preventDefault();if("wheel"===g(o.store.getState()))return;o.store.dispatch((0,a.panelChanged)("wheel"))},renderColourSet:function e(){this._removeActiveTabClass();this._addActiveTabClass(".js-colour-set-tab-button");this.el.querySelector(".js-palette-container").setAttribute("hidden","hidden");this.el.querySelector(".js-wheel-container").setAttribute("hidden","hidden");this.el.querySelector(".js-custom-palette").setAttribute("hidden","hidden");this.el.querySelector(".js-colour-set-container").removeAttribute("hidden")},renderPalette:function e(){this._removeActiveTabClass();this._addActiveTabClass(".js-palette-tab-button");this.showColourSet&&this.el.querySelector(".js-colour-set-container").setAttribute("hidden","hidden");this.el.querySelector(".js-wheel-container").setAttribute("hidden","hidden");this.el.querySelector(".js-custom-palette").removeAttribute("hidden");this.el.querySelector(".js-palette-container").removeAttribute("hidden")},renderWheel:function e(){this._removeActiveTabClass();this._addActiveTabClass(".js-wheel-tab-button");this.showColourSet&&this.el.querySelector(".js-colour-set-container").setAttribute("hidden","hidden");this.el.querySelector(".js-palette-container").setAttribute("hidden","hidden");this.el.querySelector(".js-custom-palette").removeAttribute("hidden");this.el.querySelector(".js-wheel-container").removeAttribute("hidden")},_addActiveTabClass:function e(t){this.el.querySelector(t).classList.add(h)},_removeActiveTabClass:function e(){this.el.querySelector(".js-colourpicker-tabs .is-active").classList.remove(h)},setModel:function e(t){this.model=t},setDefaultColour:function e(t){this.defaultColour=t},render:function e(){if(null===this.model&&null===this.defaultColour)return null;this.beforeRender(this.$el);this.renderColourPickerAndWheel();this.afterRender(this.$el);return this},addColourToCustomPalette:function e(t){var r={colour:t};var i=Twig.render(Twig.templates[this.customColourButtonTemplate],r);(0,n.append)(this.el.querySelector(".js-custom-palette-container"),i)},renderColourPickerAndWheel:function e(){var t={title:this.title,savedColours:y(o.store.getState()),showColourSet:this.showColourSet,colourSet:this.colourSet};var r=Twig.render(Twig.templates[this.template],t);(0,n.emptyElement)(this.el);(0,n.append)(this.el,r);this.showColourSet?o.store.dispatch((0,a.panelChanged)("colourSet")):o.store.dispatch((0,a.panelChanged)("palette"));this.renderColourWheel()},renderColourWheel:function e(){var t=this;this.colourPicker=this.$el.find(".js-colour-wheel").minicolors({inline:true,control:"wheel",defaultValue:"",theme:"default",format:"rgb",changeDelay:200,opacity:true,change:function e(r,n){return t.colourWheelChanged(r,n)}})},colourWheelChanged:function e(t,r){var n=(0,i.default)(t);var o=n.toHexString();1!==n.getAlpha()&&(o=n.toRgbString());if(1===n.getAlpha()&&r){n.setAlpha(r);o=n.toRgbString()}this.updateColourInput(t,r);this.colourSelected(o)},colourSetItemClicked:function e(t){t.preventDefault();var r=t.currentTarget.getAttribute("data-name");this.colourSelected(r)},complimentaryColourClicked:function e(t){t.preventDefault();var r=t.currentTarget.style.backgroundColor;var n=(0,i.default)(r).toHexString();this.updateColourInput(r);this.colourSelected(n)},customColourClicked:function e(t){t.preventDefault();if(t.target.classList.contains("js-remove-custom-colour"))return;var r=t.currentTarget.parentElement.dataset.colourValue;this.updateColourInput(r);this.colourSelected(r);this.updateComplimentaryColours(r)},paletteColourClicked:function e(t){t.preventDefault();var r=getComputedStyle(t.currentTarget).backgroundColor;var n=(0,i.default)(r).toHexString();this.updateColourInput(r);this.colourSelected(n);this.updateComplimentaryColours(r)},updateComplimentaryColours:function e(t){if((0,i.default)(t).isValid())for(var r=1;r<13;r++){var n=".js-colour-tone".concat(r);var o=r<=6?"darken":"lighten";var a=r<=6?5*r:5*(r-6);this.el.querySelector(n).style.backgroundColor=(0,i.default)(t)[o](a).toString()}},onDestroy:function e(){this.unsubscribe()}});var P=t["default"]=k},76110(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(6942);var i=c(r(96342));var o=r(96063);var a=r(45574);var s=c(r(42008));var l=r(62047);var u=r(31605);function c(e){return e&&e.__esModule?e:{default:e}}var d=Backbone.View.extend({defaultViewportPadding:8,template:"custom_color_picker",events:{"click .js-custom-color-picker-save":"close","click .js-custom-color-backdrop":"close","input .js-custom-color-input":"onInput","mouseup .js-custom-color-input":"onInputMouseUp"},initialize:function e(t){this.fill=t.fill;this.colorType=t.colorType;this.colorNode=t.colorNode;this.swatches=t.swatches;this.opacity=t.opacity},render:function e(){var t=Twig.render(Twig.templates[this.template],{hexColor:this.fill,rgbColor:(0,n.hexToRgb)(this.fill),title:(0,i.default)("shared_components.custom_color_picker.header.".concat(this.colorType,"_color_title"),"".concat((0,o.toTitleCase)(this.colorType)," colour"))});(0,l.emptyElement)(this.el);(0,l.append)(this.el,t);document.body.insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this._initializePickerComponent();this.onRender()},onRender:function e(){this._cacheElements();this._addEventListeners();this._reposition()},onInput:function e(t){var r=t.currentTarget;var i=r.value.trim();if(!this._isValidColor(i)){this._showValidationError(r,true);return}var o=r.classList.contains("js-custom-hex-color-input");var a=i;if(!o){var s=i.split(",");a=(0,n.rgbToHex)(s[0],s[1],s[2])}this.pickr.setColor(a);this.setColor(a)},onInputMouseUp:function e(t){var r=this;var n=t.currentTarget;if(""===n.value)return;setTimeout(function(){if(""!==n.value)return;r.onInput(t)},1)},setColor:function e(t){var r=this;this.fill=t;this.colorBox.style.backgroundColor=t;this.hexColorInput.value=t.toUpperCase();this.rgbColorInput.value=(0,n.hexToRgb)(t);this._showValidationError(this.hexColorInput,false);this._showValidationError(this.rgbColorInput,false);this.trigger("change",t);(0,u.debounce)(function(){r.trigger("save",t)},200)()},close:function e(){this._removeEventListeners();this._destroyPickerComponent();this.trigger("close");this.remove()},_initializePickerComponent:function e(){this.pickr=s.default.create({el:".js-color-inputs",appClass:"custom-color-picker__pickr",useAsButton:true,appendToBody:false,inline:true,position:"left",default:this.fill,swatches:this.swatches,components:{preview:false,palette:false,hue:true,opacity:this.opacity}});this.pickr.show()},_cacheElements:function e(){this.colorPicker=this.el.querySelector(".js-custom-color-picker");this.colorArrow=this.el.querySelector(".js-custom-color-arrow");this.colorBox=this.el.querySelector(".js-color-box");this.hexColorInput=this.el.querySelector(".js-custom-hex-color-input");this.rgbColorInput=this.el.querySelector(".js-custom-rgb-color-input");this.doneButton=this.el.querySelector(".js-custom-color-picker-save")},_reposition:function e(){(0,a.isDesktopScreenMode)()?this._repositionOnDesktopScreen():this._repositionOnMobileScreen()},_addEventListeners:function e(){this.resizeHandler=this._resize.bind(this);window.addEventListener("resize",this.resizeHandler,false);this.pickr.on("change",this._onColorPickerChange.bind(this))},_showValidationError:function e(t,r){var n="custom-color-picker__field-error";r?t.parentNode.classList.add(n):t.parentNode.classList.remove(n);this.doneButton.disabled=r},_onColorPickerChange:function e(){this.setColor(this.pickr.getColor().toHEXA().toString())},_repositionOnDesktopScreen:function e(){var t=this._calculatePosition();var r=this._calculateArrowPosition();this._setPosition("".concat(t.left,"px"),"".concat(t.top,"px"));this._setArrowPosition("".concat(r.left,"px"),"".concat(r.top,"px"))},_repositionOnMobileScreen:function e(){this._setPosition("0","auto")},_calculatePosition:function e(){var t=this.colorNode.getBoundingClientRect();var r=this.colorPicker.getBoundingClientRect();var n=this._getElementViewportConstraints(this.colorPicker);var i=t.left+t.width/2-r.width/2;i<n.minLeft&&(i=n.minLeft);i>n.maxLeft&&(i=n.maxLeft);return{left:i,top:t.bottom}},_getElementViewportConstraints:function e(t){return{minLeft:this.defaultViewportPadding,maxLeft:(0,a.getWindowWidth)()-this.defaultViewportPadding-t.getBoundingClientRect().width}},_calculateArrowPosition:function e(){var t=this.colorNode.getBoundingClientRect();var r=this.colorArrow.getBoundingClientRect();return{left:t.left+t.width/2-r.width/2,top:t.bottom-r.height}},_setPosition:function e(t,r){this.colorPicker.style.left=t;this.colorPicker.style.top=r},_setArrowPosition:function e(t,r){this.colorArrow.style.left=t;this.colorArrow.style.top=r},_removeEventListeners:function e(){this.pickr.off("change");window.removeEventListener("resize",this.resizeHandler)},_destroyPickerComponent:function e(){this.pickr.destroy()},_resize:function e(){this._reposition()},_isValidColor:function e(t){return(0,n.isValidHexColour)(t)||(0,n.isValidRgbColour)(t)}});var f=t["default"]=d},50029(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({idAttribute:"cRef"});var n=t["default"]=r},83717(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(50029));function i(e){return e&&e.__esModule?e:{default:e}}var o=Backbone.Collection.extend({model:n.default});var a=t["default"]=o},88926(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(83717));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"custome_display_panel",itemTemplate:"custome_display_results_list",events:{"click .js-close":"closeClicked","click .js-bg":"closePanel","click .js-search":"onSearch","click .js-item":"onSelect"},initialize:function e(){return this},render:function e(){var t=Object.assign({},this.model.toJSON());var r=Twig.render(Twig.templates[this.template],t);this.$el.empty().append(r);this.moveToBody();return this},rerender:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.render()},onSearch:function e(t){var r=this;t.preventDefault();var n=this.model.get("onSearch");var i=this.el.querySelector(".js-search-value").value;if(0===i.trim().length)return;if("function"===typeof n){this.showSearchLoadingUi();n.apply(this,[i]).done(function(e){r.handleResults(e)}).fail(function(e){r.handleResults();console.log("Error: ",e)})}},handleResults:function e(t){this.hideSearchLoadingUi();this.displayResults(t)},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},itemSelected:function e(t){this.trigger("item:selected",t);this.closePanel()},closeClicked:function e(){this.closePanel()},closePanel:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.destroy();this.trigger("panel:close")},onSelect:function e(t){var r=t.currentTarget.getAttribute("data-ref").replace("item-ref-","");this.notify(r);this.closePanel()},notify:function e(t){var r=this.getModel(t);this.trigger("item:selected",r.toJSON())},getModel:function e(t){return this.collection.get(t)},showSearchLoadingUi:function e(){this.el.querySelector(".js-results-list").setAttribute("hidden",true);this.el.querySelector(".js-landing-message").setAttribute("hidden",true);this.el.querySelector(".js-loading").removeAttribute("hidden")},hideSearchLoadingUi:function e(){this.el.querySelector(".js-loading").setAttribute("hidden",true)},displayResults:function e(t){var r=this.formattedResults(t);var n=Twig.render(Twig.templates[this.itemTemplate],{items:r,noSearchResults:this.model.get("noSearchResults")});this.createCollection(r);this.el.querySelector(".js-results-list").innerHTML=n;this.el.querySelector(".js-results-list").removeAttribute("hidden")},createCollection:function e(t){this.collection?this.collection.reset(t):this.collection=new n.default(t)},formattedResults:function e(t){var r=this;var n=[];t&&t.length>0&&t.forEach(function(e){var t=Object.assign(e,{cUrl:e[r.model.get("imageProperty")],cMainTitle:e[r.model.get("mainTitleProperty")],cSecondTitle:e[r.model.get("secondTitleProperty")],cThirdTitle:e[r.model.get("thirdTitleProperty")],cSubTitle:e[r.model.get("subTitleProperty")],cRef:e[r.model.get("idProperty")]});n.push(t)});return n}});var a=t["default"]=o},51882(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"delete_row_dialog",events:{"click .js-cancel":"cancel","click .js-delete":"delete"},initialize:function e(t){this.templateRenderer=t.templateRenderer;return this},cancel:function e(){this.trigger("dialog:resolve","cancel");this.trigger("dialog:close")},delete:function e(){this.trigger("dialog:resolve","delete")},render:function e(){var t=this.templateRenderer;var r=t.render(this.template);var n=document.querySelectorAll(".js-dialog-contents");var i=n.item(n.length-1);i.insertAdjacentHTML("beforeend",r)}});var n=t["default"]=r},50338(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(96342));var i=a(r(32686));var o=a(r(51882));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"==s(t)?t:t+""}function f(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=(0,n.default)("editor_v8.delete_row_dialog.title","Delete content");var h=function(){function e(t){l(this,e);this.templateRenderer=t.templateRenderer}c(e,[{key:"build",value:function e(){var t=this.templateRenderer;return new i.default({title:p,render:false,content:new o.default({templateRenderer:t})})}}]);return e}();var g=t["default"]=h},32686(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(82315);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=Backbone.View.extend({el:"body",events:{"click .js-close-dialog":"handleCancel","click .js-dialog-backstop":"handleCancel","click .js-dialog-cancel":"handleCancel","click .js-dialog-continue":"handleContinue","click .js-dialog-delete":"handleDelete","click .js-dialog-done":"handleDone","click .js-dialog-next":"handleNext","click .js-dialog-save":"handleSave","change input,select":"onChange","input input,textarea":"onChange"},defaults:{title:null,content:null,contentClassname:null,dialogClassname:null,actionClassname:null,fullPage:false,showCancel:false,showContinue:false,showDelete:false,showNext:false,showSaveCancel:false,showSaveDone:false,useComponentLibraryDialog:false,render:true,showSaveButtonTextAsDone:false,customSaveButtonText:"",customCancelButtonText:"",customButtons:[]},initialize:function e(t){t&&(this.options=s(s({},this.defaults),t));this.bodyElement=document.querySelector("body");this.bodyElement.classList.contains("site-iframe")&&(this.bodyElement=window.parent.document.querySelector("body"));this.options.render&&this.render();this.customButtons=[]},addButton:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.options.useComponentLibraryDialog){console.warn("addButton is only supported when useComponentLibraryDialog is enabled");return this}var r={label:"",className:"",testId:null,onClick:function e(){},disabled:false,grow:false,id:"custom-btn-".concat(this.customButtons.length)};var n=s(s({},r),t);this.customButtons.push(n);this.el&&this.el.querySelector&&this.renderCustomButton(n);return this},renderCustomButton:function e(t){var r=this.el.querySelector(".js-dialog-actions");if(!r)return;var n=document.createElement("button");n.type="button";n.className="cl-button js-custom-btn-".concat(t.id," ").concat(t.className);n.textContent=t.label;n.dataset.customBtnId=t.id;t.disabled&&n.setAttribute("disabled","disabled");t.grow&&(n.style.flex="1");t.testId&&n.setAttribute("data-testid",t.testId);n.addEventListener("click",t.onClick);r.appendChild(n)},onChange:function e(t){if(this._changeIsIgnored(t))return;if(this.saveBtnIsEnabled)return;this.enableSave()},_changeIsIgnored:function e(t){if(this.ignoredClasses){var r=t.currentTarget.classList;for(var n=0;n<this.ignoredClasses.length;n++)if(r.contains(this.ignoredClasses[n]))return true}return false},disableChangeListener:function e(t){this.ignoredClasses=t},enableSave:function e(){var t=this.el.querySelector(".js-dialog-save");this.enableActionButton(t);this.saveBtnIsEnabled=true},disableSave:function e(){var t=this.el.querySelector(".js-dialog-save");if(t){t.setAttribute("disabled",true);this.options.useComponentLibraryDialog&&false===t.classList.contains("cl-button--disabled")&&t.classList.add("cl-button--disabled")}this.saveBtnIsEnabled=false},enableNext:function e(){var t=this.el.querySelector(".js-dialog-next");this.enableActionButton(t)},enableDelete:function e(){var t=this.el.querySelector(".js-dialog-delete");this.enableActionButton(t)},disableDelete:function e(){var t=this.el.querySelector(".js-dialog-delete");this.enableActionButton(t)},enableActionButton:function e(t){if(!t)return;t.removeAttribute("disabled");this.options.useComponentLibraryDialog&&t.classList.contains("cl-button--disabled")&&t.classList.remove("cl-button--disabled")},render:function e(){var t=window.parent.Twig.templates.view_dialog||Twig.templates.view_dialog;this.options.useComponentLibraryDialog&&(t=window.parent.Twig.templates.view_cl_dialog||Twig.templates.view_cl_dialog);var r=Twig.render(t,this.options);this.bodyElement.insertAdjacentHTML("beforeend",r);this.setElement(this.bodyElement.querySelector(".js-dialog"));return this.renderModalContent()},setBusy:function e(){if(!this.el.classList.contains("busy")){this.el.classList.add("busy");this.options.useComponentLibraryDialog&&this.setActionBtnLoading(true)}},clearBusy:function e(){if(this.el.classList.contains("busy")){this.el.classList.remove("busy");this.options.useComponentLibraryDialog&&this.setActionBtnLoading(false)}},handleCancel:function e(){this.trigger("dialog:cancel");this.destroy()},handleSave:function e(){this.trigger("dialog:save")},handleDone:function e(){this.trigger("dialog:done")},handleNext:function e(){this.trigger("dialog:next")},handleDelete:function e(){this.trigger("dialog:delete")},handleContinue:function e(){this.trigger("dialog:continue")},renderModalContent:function e(){var t=this;return new Promise(function(e,r){t.options.content.modal={modal:t};t.options.content.setElement(t.bodyElement.querySelector(".js-dialog-contents"));t.options.content.render();t.listenTo(t.options.content,"view:remove",function(){return t.hide()});t.listenTo(t.options.content,"dialog:resolve",function(r){return e({dialog:t,result:r})});t.listenTo(t.options.content,"dialog:reject",function(e){return r({dialog:t,result:e})})})},hide:function e(){this.destroy()},destroy:function e(){this.trigger("panel:close");n.store.dispatch((0,i.modalClosed)());this.remove()},setActionBtnLoading:function e(t){if(!this.options.useComponentLibraryDialog)return;var r=this.el.querySelector(".js-dialog-action-label");var n=this.el.querySelector(".js-dialog-loader");r.setAttribute("hidden",t);t?n.removeAttribute("hidden"):n.setAttribute("hidden",true)}});BaseKit.Panels.Dialog=d;var f=t["default"]=d},36854(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(96342));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}var s=Backbone.View.extend({className:"qa-warning",events:{"click .js-send-email":"sendVerificationEmail"},initialize:function e(t){this.emailToVerify=t.email;this.csrfToken=t.csrfToken;return this},sendVerificationEmail:function e(){var t=this;return a(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:t.addLoading();r="/_/resend-form-email-verification/".concat(t.emailToVerify);i.next=4;return window.parent.fetch(r,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":t.csrfToken},method:"POST"});case 4:n=i.sent;t.removeLoading();n.ok&&t.updateUI();case 7:case"end":return i.stop()}},e)}))()},updateUI:function e(){var t=this;this.el.querySelector(".js-text").textContent=(0,n.default)("widgets.email.sent","Email has been sent");this.el.querySelector(".js-send-email").disabled=true;var r=setTimeout(function(){t.el.querySelector(".js-text").textContent=(0,n.default)("widgets.email.send_link","Resend the email");t.el.querySelector(".js-send-email").disabled=false;clearTimeout(r)},5e3)},addLoading:function e(){this.el.querySelector(".js-send-email").classList.add("loading")},removeLoading:function e(){this.el.querySelector(".js-send-email").classList.remove("loading")},render:function e(){var t=Twig.render(Twig.templates.view_email_verification);this.$el.empty().append(t);return this}});var l=t["default"]=s},40208(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({events:{click:"onFileClick","click .js-delete":"onFileDelete"},initialize:function e(){return this},onFileClick:function e(){this.trigger("select")},onFileDelete:function e(t){t.stopPropagation();this.trigger("delete",this.model)}});var n=t["default"]=r},78754(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(21983));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return/pdf$/.test(e.type)}function a(e){var t=true;Array.prototype.forEach.call(e,function(e){e&&o(e)||(t=false)});return t}function s(){return n.default.container.EnvDataProvider.get("apiProxyBaseUrl")}function l(){return n.default.container.EnvDataProvider.get("csrfToken")}function u(){return c(App.user.capabilities.storageLimit)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;var r=["B","KB","MB","GB","TB"];var n=1024;var i=0;var o=e;while(o/n>=1){o/=n;i+=1}return o.toFixed(t)+r[i]}var d=Marionette.ItemView.extend({events:{"change .js-upload-input":"handleFileSelection","click .js-upload":"openFileUpload","dragenter .js-upload-area":"handleDragEnter","dragover .js-upload-area":"handleDragOver","dragend .js-upload-area":"handleDragEnd","dragexit .js-upload-area":"handleDragEnd","drop .js-upload-area":"handleDrop","click .js-upload-error-back-btn":"errorBackBtnClicked"},initialize:function e(t){var r=this;this.collection=t.collection;this.siteRef=t.siteRef;this.listenTo(this,"upload:file",this.openFileUpload);var n=new Backbone.Wreqr.EventAggregator;this.chunkedUploader=new BaseKit.chunkedUpload.ChunkedUploader({apiProxyBaseUrl:s(),csrfToken:l(),eventDispatcher:n,type:"file",progressCalculator:new BaseKit.chunkedUpload.ProgressCalculator});n.on("file.progress",function(e){return r.showProgress(e)});n.on("file.uploaded",function(e){r.collection.add(e);r.trigger("file:upload",e)});n.on("file.uploaderror",function(e,t){return r.handleErrorUpload(e,t)});return this},openFileUpload:function e(){this.el.querySelector(".js-upload-input").click()},handleDragEnter:function e(t){t.preventDefault();this.el.querySelector(".js-upload-dropzone").classList.add("is-drop-target")},handleDragEnd:function e(t){t.preventDefault();this.el.querySelector(".js-upload-dropzone").classList.remove("is-drop-target")},handleDragOver:function e(t){t.preventDefault()},handleDrop:function e(t){var r=t.originalEvent.dataTransfer.files;t.stopPropagation();t.preventDefault();r.length&&this.filesSelected(r)},handleFileSelection:function e(){var t=document.getElementById("js-upload-input");this.filesSelected(t.files)},handleFilesUpload:function e(t){if(a(t)){this.model.set("filesNum",t.length);this.showUploadingUi();this.uploaded=0;this.progressObj={};this.uploadedAssets=[];this.trigger("file:upload:start");this.chunkedUploader.upload(t)}},filesSelected:function e(t){this.handleFilesUpload(t)},showProgress:function e(t){this.el.querySelector(".js-progress-indicator").setAttribute("value",t);this.el.querySelector(".js-progress-indicator-value").style.width=t},showUploadingUi:function e(){var t=App.t("shared_components.filesspanel.uploading_file","Hold tight, were uploading your file now");this.el.querySelector(".js-upload-area").setAttribute("hidden","hidden");this.el.querySelector(".js-progress-ui").removeAttribute("hidden");this.el.querySelector(".js-progress-message").textContent=t},handleErrorUpload:function e(t,r){var n=this;this.showErrorUI(t,r);setTimeout(function(){n.trigger("file:upload:error")},5e3)},showErrorUI:function e(t,r){var i=u();var o=10;this.el.querySelector(".js-upload-panel-content").setAttribute("hidden","hidden");this.el.querySelector(".js-upload-panel-error-content").removeAttribute("hidden");r&&"cannotUploadAccountHolderExceededStorageLimit"===r&&(this.el.querySelector(".js-upload-error-msg").textContent=App.t("shared_components.filesspanel.uploading_error_exceeded_limit","- you have exceeded the storage limit of %1.",i));r&&"maxUploadSizeExceeded"===r&&(this.el.querySelector(".js-upload-error-msg").textContent=App.t("shared_components.filesspanel.uploading_error_file_too_big","- the size of your uploaded file must be under %1MB.",o));400!==t&&(this.el.querySelector(".js-upload-error-msg").textContent=App.t("shared_components.filesspanel.uploading_error_general","- Were really sorry about this. Please email %1 so our support team can look into this for you",n.default.container.BrandDataProvider.get("supportEmail")))},errorBackBtnClicked:function e(){if(this.model.errorTimeout){clearTimeout(this.model.errorTimeout);this.model.errorTimeout=null}this.trigger("file:upload:error")}});var f=t["default"]=d},2186(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({defaults:{panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")},initialize:function e(){return this}});BaseKit.Panels.FilesPanelModel=r;var n=t["default"]=r},16198(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(78754));var i=a(r(47383));var o=r(80219);function a(e){return e&&e.__esModule?e:{default:e}}var s=616;function l(){var e=(0,o.isTouchDevice)();var t=window.innerWidth<=s;return e&&t}var u=Marionette.ItemView.extend({events:{"click .js-upload":"uploadClicked","click .js-close":"closeClicked","click .js-bg":"closePanel","click .js-recent":"openRecentFilesPanel"},initialize:function e(){this.listenTo(this.model,"change:panel",this.rerender);return this},getGlobalFileAssets:function e(){return BaseKit.Globals.fileAssets},render:function e(){var t=Object.assign({},this.model.toJSON(),{isSmallResTouchDevice:l()});var r=Twig.render(Twig.templates.files_panel,t);this.$el.empty().append(r);this.moveToBody();this.attachPanelEvents();return this},rerender:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.render()},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},attachPanelEvents:function e(){switch(this.model.get("panel")){case"upload":this.attachUploadViewEvents();break;case"recentFiles":this.attachRecentFilesViewEvents();break}},attachUploadViewEvents:function e(){this.filesUploadPanelView=new n.default({el:".js-upload-panel",siteRef:this.siteRef,collection:this.getGlobalFileAssets(),model:new Backbone.Model});this.listenTo(this.filesUploadPanelView,"file:upload",this.uploadFinished);this.listenTo(this.filesUploadPanelView,"file:upload:start",this.uploadStarted);this.listenTo(this.filesUploadPanelView,"file:upload:error",this.rerender);this.currentView=this.filesUploadPanelView},attachRecentFilesViewEvents:function e(){var t=this;this.recentFilesPanelView=new i.default({el:".js-recent-files",collection:this.getGlobalFileAssets()});this.listenTo(this.recentFilesPanelView,"file:select",this.fileSelected);this.listenTo(this.recentFilesPanelView,"file:delete",this.fileDeleted);this.listenTo(this.recentFilesPanelView,"files:loaded",function(){t.el.querySelector(".js-content").removeAttribute("hidden");t.el.querySelector(".js-menu").setAttribute("hidden",true)});this.currentView=this.recentFilesPanelView},uploadClicked:function e(){l()?this.openFileUpload():this.openUploadPanel()},openFileUpload:function e(){this.filesUploadPanelView.trigger("upload:file")},fileSelected:function e(t){this.trigger("file:selected",t);this.closePanel()},fileDeleted:function e(t){this.trigger("file:deleted",t)},uploadFinished:function e(t){this.el.querySelector(".js-menu-overlay").setAttribute("hidden","hidden");this.fileSelected(t)},uploadStarted:function e(){this.hideMenuUI();this.el.querySelector(".js-menu-overlay").removeAttribute("hidden")},hideMenuUI:function e(){this.el.querySelector(".js-menu").setAttribute("hidden","hidden")},closeClicked:function e(){"upload"!==this.model.get("panel")&&l()?this.model.set({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")}):this.closePanel()},closePanel:function e(){this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.destroy();this.trigger("panel:close")},openUploadPanel:function e(){this.model.set({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")})},openRecentFilesPanel:function e(){this.model.set({panel:"recentFiles",title:App.t("shared_components.filespanel.recent_title","Recent")});this.el.querySelector(".js-recent-icon").setAttribute("hidden",true);this.el.querySelector(".js-recent-loading").removeAttribute("hidden");this.el.querySelector(".js-content").setAttribute("hidden",true)}});BaseKit.Panels.FilesPanelView=u;var c=t["default"]=u},47383(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(40208));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return s=t.done,t},e:function e(t){l=!0,o=t},f:function e(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=Marionette.CompositeView.extend({ChildView:n.default,childEvents:function e(){var t=this;return{select:function e(r){t.trigger("file:select",r.model.toJSON())},delete:function e(r){t.collection.remove(r.model);while(t.el.firstChild)t.el.removeChild(t.el.firstChild);t.displayFiles(t.formattedFiles(t.collection.toJSON()));r.model.destroy();t.trigger("file:delete",r.model.toJSON())}}},initialize:function e(){var t=this;this.collection.fetch({success:function e(r){t.displayFiles(t.formattedFiles(r.toJSON()));t.trigger("files:loaded")}});return this},formattedFiles:function e(t){var r=t;var n=o(r),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;a.size=this.humanReadableFileSize(a.fileSize)}}catch(e){n.e(e)}finally{n.f()}return r},humanReadableFileSize:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;var n=["B","KB","MB","GB","TB"];var i=1024;var o=0;var a=t;while(a/i>=1){a/=i;o+=1}return a.toFixed(r)+n[o]},displayFiles:function e(t){var r=Twig.render(Twig.templates.files_panel_file,{files:t});this.$el.append(r);this.attachChildrenEvents();this.el.classList.remove("loading-spinner")},attachChildrenEvents:function e(){this.collection.each(function(e){this.attachFileFunction(e)},this);this.delegateEvents()},attachFileFunction:function e(t){var r=new this.ChildView({el:"[data-file-ref='".concat(t.get("ref"),"']"),model:t});this.proxyChildEvents(r);this.children.add(r)}});var u=t["default"]=l},82912(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(96342));var i=a(r(2186));var o=a(r(16198));function a(e){return e&&e.__esModule?e:{default:e}}var s={build:function e(){return new o.default({model:new i.default({panel:"upload",title:(0,n.default)("shared_components.filespanel.source_title","File source")})})}};var l=t["default"]=s},92399(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(21759);var i=r(62047);function o(){return App.frontEndBucket.sitePresetAttributes}var a=Marionette.ItemView.extend({template:"font_picker_panel",events:{"click .js-toggle-font-family-list":"toggleFontFamilyList","click .js-font-family-button":"fontFamilyChosen","change .js-font-size-select":"fontSizeChosen","change .js-font-weight-select":"fontWeightChosen","change .js-line-height-select":"lineHeightChosen","change .js-letter-spacing-select":"letterSpacingChosen"},beforeRender:function e(t){},afterRender:function e(t){},fontChosen:function e(){},initialize:function e(t){this.model=t.model||null;this.globalValues=n.globals.globalValues;this.fontChosen=t.fontChosen||function(){};this.beforeRender=t.beforeRender||function(){};this.afterRender=t.afterRender||function(){};this.fontListContents=t.fontListContents||[];this.allGoogleFonts=t.allGoogleFonts||{};this.templateStylePreprocessorVariablesEnabled=t.templateStylePreprocessorVariablesEnabled;this.rowsEnabled=t.rowsEnabled;window.setTimeout(this.loadFonts.bind(this),300);return this},fontFamilyChosen:function e(t){var r=this.el.querySelector(".js-font-family-list");var n=t.currentTarget.dataset.fontFamilyValue;var i=this.el.querySelector(".js-toggle-font-family-list");var o=t.currentTarget.innerHTML;$(r).attr("hidden","hidden");$(i).html(o);this.setModelValue("font-family",n);this.fontChosen(this.model)},fontSizeChosen:function e(t){var r=t.target.value;this.setModelValue("font-size",r);this.fontChosen(this.model)},fontWeightChosen:function e(t){var r=t.target.value;this.setModelValue("font-weight",r);this.fontChosen(this.model)},lineHeightChosen:function e(t){var r=t.target.value;this.setModelValue("line-height",r);this.fontChosen(this.model)},letterSpacingChosen:function e(t){var r=t.target.value;this.setModelValue("letter-spacing",r);this.fontChosen(this.model)},setModelValue:function e(t,r){var n="".concat(this.model.get("name"),"-").concat(t);this.templateStylePreprocessorVariablesEnabled&&(n="".concat(this.model.get("name"),"--").concat(t));this.model.variables.findWhere({name:n}).set("value",r)},getModelValue:function e(t){var r="".concat(this.model.get("name"),"-").concat(t);this.templateStylePreprocessorVariablesEnabled&&(r="".concat(this.model.get("name"),"--").concat(t));return this.model.variables.findWhere({name:r}).get("value")},loadFonts:function e(){var t=window.frames.siteFrame;window.WebFont&&window.WebFont.load({google:{families:this.allGoogleFonts}});t&&t.WebFont&&t.WebFont.load({google:{families:this.allGoogleFonts}})},toggleFontFamilyList:function e(t){var r=$(t.currentTarget).next(".js-font-family-list");$(t.currentTarget).toggleClass("is-open");"hidden"===r.attr("hidden")?r.attr("hidden",false):r.attr("hidden","hidden")},setModel:function e(t){this.model=t},setFontChosen:function e(t){this.fontChosen=t},getFontValueString:function e(){var t=this.getModelValue("font-family");var r=window._.findWhere(this.fontListContents,{value:t});var n;var i;if(r)n=r.text;else{var a=o();i=window._.findWhere(a,{name:t});i&&(r=window._.findWhere(this.fontListContents,{value:i.value}));n=r?r.text:null}return n},render:function e(){if(null===this.model)return null;this.beforeRender(this.$el);var t={fontFamily:this.getFontValueString(),fontWeight:this.getModelValue("font-weight"),fontSize:this.getModelValue("font-size"),lineHeight:this.getModelValue("line-height"),letterSpacing:this.getModelValue("letter-spacing"),fontListContents:this.fontListContents,rowsEnabled:this.rowsEnabled};var r=Twig.render(Twig.templates[this.template],t);(0,i.emptyElement)(this.el);(0,i.append)(this.el,r);this.afterRender(this.$el);return this}});var s=t["default"]=a},52872(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=Marionette.ItemView.extend({template:"grid_gap_panel",events:{"click .js-grid-gap-item":"onGapOptionClicked","input .js-grid-gap-slider-horizontal":"onHorizontalSliderInput","input .js-grid-gap-slider-vertical":"onVerticalSliderInput","click .js-grid-gap-cancel":"cancelChanges","click .js-grid-gap-bg":"cancelChanges","click .js-grid-gap-done":"closePanel"},initialize:function e(t){var r,n;this.dialogStyle=t.dialogStyle;this.gridGapTypes=t.gridGapTypes||gridGapTypes;this.selectedGridGap=t.selectedGridGap||"default";this.horizontalGap=String(null!==(r=t.horizontalGap)&&void 0!==r?r:"12");this.verticalGap=String(null!==(n=t.verticalGap)&&void 0!==n?n:"12");this.previousState={selectedGridGap:this.selectedGridGap,horizontalGap:this.horizontalGap,verticalGap:this.verticalGap}},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,gridGapTypes:this.gridGapTypes,selectedGridGap:this.selectedGridGap,horizontalGap:this.horizontalGap,verticalGap:this.verticalGap,minValue:0,maxValue:20});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){this.cacheElements();Editor.Events.on("screenMode:change",this.closePanel.bind(this));this._syncSliders();this._updateCustomPanel()},cacheElements:function e(){this.horizontalSlider=this.el.querySelector(".js-grid-gap-slider-horizontal");this.verticalSlider=this.el.querySelector(".js-grid-gap-slider-vertical");this.horizontalLabel=this.el.querySelector(".js-grid-gap-value-horizontal");this.verticalLabel=this.el.querySelector(".js-grid-gap-value-vertical");this.customPanel=this.el.querySelector(".dialog__panel--control")},onGapOptionClicked:function e(t){var r=t.currentTarget;var n=r.dataset.id;this._setActive(r);this.selectedGridGap=n;if("default"===n||"none"===n){var i=r.dataset.value;this.horizontalGap=i;this.verticalGap=i;this._syncSliders()}this._updateCustomPanel();this._changeGapSettings()},onHorizontalSliderInput:function e(t){this._onSliderInput("horizontal",t.currentTarget.value)},onVerticalSliderInput:function e(t){this._onSliderInput("vertical",t.currentTarget.value)},_onSliderInput:function e(t,r){this.selectedGridGap="custom";if("horizontal"===t){this.horizontalGap=String(r);this._syncHorizontal()}else{this.verticalGap=String(r);this._syncVertical()}this._updateCustomPanel();this._changeGapSettings()},closePanel:function e(){this.trigger("panel:close",{selectedGridGap:this.selectedGridGap,horizontalGap:this.horizontalGap,verticalGap:this.verticalGap});this.destroy()},cancelChanges:function e(){this.selectedGridGap=this.previousState.selectedGridGap;this.horizontalGap=this.previousState.horizontalGap;this.verticalGap=this.previousState.verticalGap;this._syncSliders();this._updateCustomPanel();this._changeGapSettings();this.closePanel()},_setActive:function e(t){this.el.querySelectorAll(".is-current").forEach(function(e){e.classList.remove("is-current")});t.classList.add("is-current")},_syncSliders:function e(){this._syncHorizontal();this._syncVertical()},_syncHorizontal:function e(){this.horizontalSlider&&(this.horizontalSlider.value=this.horizontalGap);this.horizontalLabel&&(this.horizontalLabel.textContent=this.horizontalGap)},_syncVertical:function e(){this.verticalSlider&&(this.verticalSlider.value=this.verticalGap);this.verticalLabel&&(this.verticalLabel.textContent=this.verticalGap)},_updateCustomPanel:function e(){if(!this.customPanel){this.customPanel=this.el.querySelector(".dialog__panel--control");if(!this.customPanel)return}this.customPanel.classList.toggle("is-active","custom"===this.selectedGridGap)},_changeGapSettings:function e(){this.trigger("gap:change",{selectedGridGap:this.selectedGridGap,horizontalGap:this.horizontalGap,verticalGap:this.verticalGap})}});var o=t["default"]=i},99304(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.Behavior.extend({onMouseEnter:function e(){this.view.highlighter.highlightWidget({container:this.view.containerEl,el:this.view.widgetEl})},onMouseLeave:function e(){this.view.highlighter.removeHighlightFromWidget({container:this.view.containerEl,el:this.view.widgetEl})}});var n=t["default"]=r},76865(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"hidden_widgets_panel_item",tag:"div",className:"full-page-panel__field",events:{"change .js-input":"onWidgetVisibilityChange"},triggers:{mouseenter:"MouseEnter",mouseleave:"MouseLeave"},behaviors:function e(){return this.options.behaviors},initialize:function e(t){this.highlighter=t.highlighter;this.globalEventsHandler=t.globalEventsHandler;this.containerEl=t.containerEl;this.siteContainerEl=t.siteContainerEl;this.widgetEl=n(this.siteContainerEl,this.model.get("uniqueHTMLId"))},onWidgetVisibilityChange:function e(){this.setVisibilityDataAttribute()},setVisibilityDataAttribute:function e(){var t="hidden";if(this.isVisible()){this.widgetEl.classList.remove("bk-tpl-hidden-mask");t="visible"}else this.widgetEl.classList.add("bk-tpl-hidden-mask");this.globalEventsHandler.trigger("widget:visibility:".concat(this.model.get("uniqueHTMLId")),t)},isVisible:function e(){return this.widgetEl.classList.contains("bk-tpl-hidden-mask")}});function n(e,t){return e.getElementById(t)}var i=t["default"]=r},174(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(45089);var i=s(r(76865));var o=s(r(39860));var a=s(r(72979));function s(e){return e&&e.__esModule?e:{default:e}}var l=Marionette.CompositeView.extend({childViewContainer:".js-hidden-widgets-panel-contents",template:"hidden_widgets_panel_content",childView:i.default,initialize:function e(t){this.widgetRegister=t.widgetRegister;this.toolbarButtonElement=document.querySelector(".js-reveal");this.globalEventsHandler=t.globalEventsHandler;this.highlighter=t.highlighter;this.childBehavior=t.childBehavior;this.siteContainerEl=u();this.containerEl=document.querySelector(".js-primary-container");this.envDataProvider=t.envDataProvider;this.setCollection();this.attachEvents()},events:{"click .js-cancel":"closePanelClicked"},collectionEvents:{"change:data":"templateWidgetUpdated",reset:"render"},setCollection:function e(){this.collection=this.widgetRegister.getTemplateWidgetCollection()},attachEvents:function e(){this.envDataProvider.get("V10CompatibilityMode")&&Editor.Events.on("sidebarPanel:changed pageSwitch:click dragdrop:dragStart",this.closePanel.bind(this))},childViewOptions:function e(){return{highlighter:this.highlighter,globalEventsHandler:this.globalEventsHandler,siteContainerEl:this.siteContainerEl,containerEl:this.containerEl,behaviors:{Highlight:{behaviorClass:this.childBehavior}}}},refresh:function e(t){this.siteContainerEl=u();this.collection.reset(t);return this},templateWidgetUpdated:function e(){this.render()},closePanelClicked:function e(){this.closePanel();(0,n.openIntercom)()},_toggleTemplateWidgetsMask:function e(){this.panelIsOpen?(0,o.default)():(0,a.default)()},_togglePanelOpenClass:function e(){this.panelIsOpen?this.el.classList.add("is-open"):this.el.classList.remove("is-open")},openPanel:function e(){(0,n.closeIntercom)();this.panelIsOpen=true;this._togglePanelOpenClass();this._toggleTemplateWidgetsMask();this.toolbarButtonElement.setAttribute("data-attr","unreveal")},closePanel:function e(){this.panelIsOpen=false;this._togglePanelOpenClass();this._toggleTemplateWidgetsMask();this.highlighter.removeAllHighlights({container:this.containerEl,siteContainer:this.siteContainerEl});this.toolbarButtonElement.setAttribute("data-attr","reveal")},isOpen:function e(){return this.panelIsOpen}});function u(){return document.getElementById("siteFrame").contentDocument}var c=t["default"]=l},46572(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.Behavior.extend({onMouseEnter:function e(){this.view.highlighter.removeAllHighlights({siteContainer:this.view.siteContainerEl,container:this.view.containerEl});this.view.highlighter.highlightWidget({container:this.view.containerEl,el:this.view.widgetEl})}});var n=t["default"]=r},72979(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=o;var n=i(r(21983));function i(e){return e&&e.__esModule?e:{default:e}}function o(){var e=n.default.container.WidgetRegister.getTemplateWidgetCollection();e.forEach(function(e){var t=e.get("data");if(0===parseInt(t.showTplWidget,10)){var r=Editor.Site.Dom.window.document.querySelector("#".concat(e.get("uniqueHTMLId")));r.classList.add("bk-tpl-hidden");r.classList.remove("bk-tpl-hidden-mask")}})}},39860(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=o;var n=i(r(21983));function i(e){return e&&e.__esModule?e:{default:e}}function o(){var e=n.default.container.WidgetRegister.getTemplateWidgetCollection();e.forEach(function(e){var t=e.get("data");if(0===parseInt(t.showTplWidget,10)){var r=Editor.Site.Dom.window.document.querySelector("#".concat(e.get("uniqueHTMLId")));r.classList.remove("bk-tpl-hidden");r.classList.add("bk-tpl-hidden-mask")}})}},40979(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={highlightWidget:function e(t){var r=i(t.el);t.el.classList.add("highlight");"inView"!==r&&t.container.classList.add("blink-".concat(r))},removeHighlightFromWidget:function e(t){t.el.classList.remove("highlight");n(t.container)},removeAllHighlights:function e(t){var r=t.siteContainer.querySelectorAll(".widget.highlight");Array.prototype.forEach.call(r,function(e){e.classList.remove("highlight")});n(t.container)}};function n(e){["top","bottom"].forEach(function(t){e.classList.remove("blink-".concat(t))})}function i(e){var t=e.getBoundingClientRect();if(t.top<=0)return"top";if(t.bottom>=(window.innerHeight||document.documentElement.clientHeight))return"bottom";return"inView"}var o=t["default"]=r},74686(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=a(r(41985));var o=r(45574);function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.isiOS;var l=Marionette.ItemView.extend({template:"image_focus_panel",events:{"click .js-image-focus-cancel":"cancelChanges","click .js-image-focus-done":"closePanel","click .js-image-focus-bg":"cancelChanges","click .js-image-overlay":"focalPointClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.backgroundImage=t.backgroundImage;this.backgroundPosition=t.backgroundPosition;this.currentBackgroundPosition=t.backgroundPosition;this.bindEvents()},bindEvents:function e(){this.resizeHandler=this.resizeImage.bind(this);window.addEventListener("resize",this.resizeHandler,false)},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,backgroundImage:this.backgroundImage,backgroundPosition:this.backgroundPosition});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){var t=this;Editor.Events.on("screenMode:change",this.closePanel.bind(this));this._loadVirtualImage(this.backgroundImage).then(function(e){var r=t.el.querySelector(".js-image");e.width>e.height?r.style.width="100%":r.style.height="100%";r.removeAttribute("hidden");var n=s()?500:0;setTimeout(function(){var e=t.el.querySelector(".js-image-wrapper");e.style.width="".concat(r.width,"px");e.style.height="".concat(r.height,"px")},n);(0,o.isMobileScreenMode)()&&t.resizeImage();e.remove()})},resizeImage:function e(){var t=this.el.querySelector(".js-image-wrapper");var r=this.el.querySelector(".js-image");if((0,o.isMobileScreenMode)()){t.setAttribute("hidden","true");var n=this.el.querySelector(".js-image-container");var i=n.clientWidth/r.width;var a=n.clientHeight/r.height;var s=i>a?a:i;var l=r.width*s;var u=r.height*s;r.style.width="".concat(l,"px");r.style.height="".concat(u,"px");t.style.width="".concat(l,"px");t.style.height="".concat(u,"px");t.removeAttribute("hidden")}else{if(r.width>r.height){r.style.width="100%";r.style.height=""}else{r.style.height="100%";r.style.width=""}t.style.width="".concat(r.width,"px");t.style.height="".concat(r.height,"px")}},closePanel:function e(){window.removeEventListener("resize",this.resizeHandler,false);this.trigger("panel:close");this.destroy()},cancelChanges:function e(){this.changeFocalPoint(this.backgroundPosition);this.closePanel()},focalPointClicked:function e(t){var r=this.el.querySelector(".js-image-overlay");var n="".concat(Math.floor(t.offsetX/r.clientWidth*100),"%");var i="".concat(Math.floor(t.offsetY/r.clientHeight*100),"%");var o=this.el.querySelector(".js-focal-point");o.style.left=n;o.style.top=i;this.changeFocalPoint({left:n,top:i})},changeFocalPoint:function e(t){if(t===this.currentBackgroundPosition)return;this.trigger("focus:change",t);this.currentBackgroundPosition=t},_loadVirtualImage:function e(t){return new Promise(function(e){var r=document.createElement("img");r.src=t;r.addEventListener("load",function(){e(r)})})}});var u=t["default"]=l},99736(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=a(r(76110));var o=r(31605);function a(e){return e&&e.__esModule?e:{default:e}}var s=Marionette.ItemView.extend({defaultOverlayOpacity:.65,defaultStyleSets:{black:{background:"#000"},grey:{background:"#999"},white:{background:"#fff"}},excludedColours:["#000","#000000","#999","#999999","#fff","#ffffff"],customColourPickerView:null,template:"overlay_settings_panel",events:{"click .js-overlay-settings-cancel":"cancelChanges","click .js-overlay-settings-done":"saveChanges","click .js-overlay-settings-backstop":"cancelChanges","click .js-presets-tab":"showPresets","click .js-custom-tab":"showCustom","click .js-colour-button":"colourClicked","click .js-edit-colour-button":"editColourClicked","click .js-colour-node":"editColourClicked","change .js-slider-input":"onOpacityChanged","input .js-slider-input":"onOpacityChanged"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.styleSets=this.reorderStyleSets(t.styleSets);this.overlayColour=t.overlayColour;this.currentOverlayColour=this.overlayColour;this.overlayColourType=t.overlayColourType||this.findOverlayColourType(this.overlayColour);this.currentOverlayColourType=this.overlayColourType;this.overlayOpacity=t.overlayOpacity||this.defaultOverlayOpacity;this.currentOverlayOpacity=this.overlayOpacity},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,styleSets:this.styleSets,overlayColour:this.overlayColour,overlayColourType:this.overlayColourType,minValue:0,maxValue:100,overlayOpacity:this.normaliseOpacitySliderValue(this.overlayOpacity)});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){this.cacheElements();this.addEventListeners()},cacheElements:function e(){this.presetsTab=this.el.querySelector(".js-presets-tab");this.customTab=this.el.querySelector(".js-custom-tab");this.presetsColourView=this.el.querySelector(".js-colour-list");this.customColourView=this.el.querySelector(".js-custom-colour");this.colourNode=this.el.querySelector(".js-colour-node");this.opacitySlider=this.el.querySelector(".js-slider-input");this.opacityValueLabel=this.el.querySelector(".js-opacity-value-label")},addEventListeners:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},closePanel:function e(){this.destroyCustomColourPicker();this.trigger("panel:close");this.destroy()},saveChanges:function e(){this.closePanel()},cancelChanges:function e(){this.changeOverlaySettings({overlayColour:this.overlayColour,overlayColourType:this.overlayColourType,overlayOpacity:this.overlayOpacity});this.closePanel()},colourClicked:function e(t){var r=t.currentTarget;var n=r.getAttribute("data-colour");this.removeActiveColourButtonClass();r.classList.add("is-selected");this.changeCustomColourNodeBackground(n);this.changeOverlaySettings({overlayColour:n,overlayColourType:"presets",overlayOpacity:this.currentOverlayOpacity})},editColourClicked:function e(){this.customColourPickerView=new i.default({colorType:"overlay",fill:this.currentOverlayColour,colorNode:this.colourNode});this.customColourPickerView.render();this.customColourPickerView.on("save",this.onColourPickerColourSaved.bind(this));this.customColourPickerView.on("change",this.onColourPickerColourChanged.bind(this))},showPresets:function e(){this.customColourView.setAttribute("hidden",true);this.presetsColourView.removeAttribute("hidden");this.removeActiveTabClass();this.presetsTab.classList.add("is-selected")},showCustom:function e(){this.presetsColourView.setAttribute("hidden",true);this.customColourView.removeAttribute("hidden");this.removeActiveTabClass();this.customTab.classList.add("is-selected")},onOpacityChanged:function e(){var t=this.opacitySlider.value.trim();this.changeOpacityLabelValue(t);this.changeOverlayOpacity(Number(t/100).toFixed(2))},reorderStyleSets:function e(t){var r=this;var n=Object.keys(t).reduce(function(e,n){r.excludedColours.includes(t[n].background)||(e[n]=t[n]);return e},{});return Object.assign(n,this.defaultStyleSets)},findOverlayColourType:function e(t){return this.hasSelectedPresetsColour(t)?"presets":"custom"},normaliseOpacitySliderValue:function e(t){return Math.floor(100*t)},destroyCustomColourPicker:function e(){if(!this.customColourPickerView)return;this.customColourPickerView.close();this.customColourPickerView=null},removeActiveTabClass:function e(){this.el.querySelector(".js-tab-button.is-selected").classList.remove("is-selected")},removeActiveColourButtonClass:function e(){var t=this.el.querySelector(".js-colour-button.is-selected");t&&t.classList.remove("is-selected")},hasSelectedPresetsColour:function e(t){var r=this;return Object.keys(this.styleSets).filter(function(e){return r.styleSets[e].background===t}).length>0},isOverlaySettingChanged:function e(t){return t.overlayColour!==this.currentOverlayColour||t.overlayColourType!==this.currentOverlayColourType||t.overlayOpacity!==this.currentOverlayOpacity},changeOverlaySettings:function e(t){if(!this.isOverlaySettingChanged(t))return;this.trigger("overlay:change",{overlayColour:t.overlayColour,overlayColourType:t.overlayColourType,overlayOpacity:t.overlayOpacity});this.currentOverlayColourType=t.overlayColourType;this.currentOverlayColour=t.overlayColour;this.currentOverlayOpacity=t.overlayOpacity},changeOverlayOpacity:function e(t){var r=this;this.trigger("opacity:drag",t);(0,o.debounce)(function(){r.changeOverlaySettings({overlayColour:r.currentOverlayColour,overlayColourType:r.currentOverlayColourType,overlayOpacity:t})},200)()},onColourPickerColourSaved:function e(t){this.changeOverlaySettings({overlayColour:t,overlayColourType:"custom",overlayOpacity:this.currentOverlayOpacity})},onColourPickerColourChanged:function e(t){this.changeCustomColourNodeBackground(t)},changeCustomColourNodeBackground:function e(t){this.colourNode.style.backgroundColor=t},changeOpacityLabelValue:function e(t){this.opacityValueLabel.innerText="".concat(t,"%")}});var l=t["default"]=s},84415(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({initialize:function e(t){t.picture&&t.picture.data&&this.set("picture",t.picture.data.url)}});var n=t["default"]=r},41235(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(84415));function i(e){return e&&e.__esModule?e:{default:e}}var o=Backbone.Collection.extend({model:n.default},{fromFacebookAlbumData:function e(t){return new o(t)}});var a=t["default"]=o},7020(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.ImagesFacebookAlbumView=void 0;var n=r(62047);function i(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,l,"next",e)}function l(e){i(a,n,o,s,l,"throw",e)}s(void 0)})}}var a="loading-spinner";var s=t.ImagesFacebookAlbumView=Backbone.View.extend({tagName:"li",className:"facebook-album-list__wrapper",events:{"click .js-facebook-album":"onClickAlbum"},render:function e(){(0,n.append)(this.el,Twig.render(Twig.templates.images_panel_facebook_album,this.model.toJSON()))},onClickAlbum:function e(){this.trigger("album:click",this.model.get("id"))}});var l=Marionette.CollectionView.extend({childView:s,childEvents:{"album:click":"onClickAlbum"},events:{"click .js-fb-login":"onClickFbLogin"},initialize:function e(t){this.facebookImageRetriever=t.facebookImageRetriever;this.getAlbums()},renderAlbums:function e(t){this.collection=t;this.render();this.hideSpinner()},onClickFbLogin:function e(){var t=this;var r={appId:App.frontEndBucket.facebookAppId,baseUrl:App.frontEndBucket.domain,protocol:App.frontEndBucket.protocol};var n=JSON.stringify({type:"facebook",data:r});if(window.WebViewBridge){window.WebViewBridge.send(n);return}if(window.isReactNative&&"android"===window.reactNativePlatform){postMessage(n);return}this.facebookImageRetriever.login().then(function(){t.hideLogin();t.getAlbums()})},hideLogin:function e(){this.el.classList.add(a);var t=document.querySelector(".js-fb-login-wrapper");t&&(t.hidden=true)},showLogin:function e(){this.hideSpinner();(0,n.append)(this.el,Twig.render(Twig.templates.images_panel_facebook_login));var t=document.querySelector(".js-fb-login-wrapper");t&&(t.hidden=false)},getAlbums:function e(){var t=this;return o(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return t.facebookImageRetriever.getAlbums();case 3:r=n.sent;t.renderAlbums(r);n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](0);t.showLogin();case 10:case"end":return n.stop()}},e,null,[[0,7]])}))()},hideSpinner:function e(){this.trigger("album:loaded");this.el.classList.remove(a)},onClickAlbum:function e(t,r){this.trigger("album:click",r,this.facebookImageRetriever)}});var u=t["default"]=l},76033(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({getImage:function e(){return this.get("images")[0].source}});var n=t["default"]=r},39742(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(41235));var i=o(r(17449));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==a(t)?t:t+""}function p(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=false;var g="/me?fields=albums{name,count,picture}&limit=25";var v="/photos?fields=id,height,width,picture,images&limit=25";function m(e){return e.authResponse.accessToken}function y(e,t){var r=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&#]".concat(r,"=([^&#]*)"));var i=n.exec(t);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}var b=function(){function e(t){u(this,e);this._injectFacebookRootElement();this._injectFacebookScript(t.locale);this._initializeFacebookSDK()}d(e,[{key:"getAlbums",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return this._initializeFacebookSDK();case 2:i.prev=2;i.next=5;return this._getAccessToken();case 5:t=i.sent;this._accessToken=t;i.next=9;return this._getAlbumData();case 9:r=i.sent;return i.abrupt("return",n.default.fromFacebookAlbumData(r));case 13:i.prev=13;i.t0=i["catch"](2);throw new Error(i.t0);case 16:case"end":return i.stop()}},e,this,[[2,13]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getImages",value:function(){var e=l(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return this._getImagesData(t);case 2:r=n.sent;return n.abrupt("return",i.default.fromFacebookImagesData(r));case 4:case"end":return n.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"login",value:function e(){return new Promise(function(e,t){FB.login(function(r){"connected"===r.status?e(m(r)):t()},{scope:"user_photos"})})}},{key:"_initializeFacebookSDK",value:function(){var e=l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(e){h?e(h):window.fbAsyncInit=function(){FB.init({appId:App.frontEndBucket.facebookAppId,cookie:true,xfbml:false,status:true,version:"v2.8"});h=true;e(true)}}));case 1:case"end":return t.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_injectFacebookRootElement",value:function e(){if(!document.getElementById("fb-root")){var t=document.createElement("div");t.setAttribute("id","fb-root");document.body.appendChild(t)}}},{key:"_injectFacebookScript",value:function e(t){var r=document.createElement("script");r.src="".concat(document.location.protocol,"//connect.facebook.net/").concat(t,"/sdk.js");document.getElementById("fb-root").appendChild(r)}},{key:"_getImagesData",value:function e(t){var r=this;this._imagesData=[];return new Promise(function(e){FB.api(t+v,"get",{access_token:r._accessToken},r._processImagesResponse.bind(r,e))})}},{key:"_processImagesResponse",value:function e(t,r){this._imagesData=this._imagesData.concat(r.data);r.paging&&r.paging.next?FB.api(r.paging.next,"get",{access_token:this._accessToken},this._processImagesResponse.bind(this,t)):t(this._imagesData)}},{key:"_getAlbumData",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:this._albumsData=[];return r.abrupt("return",new Promise(function(e){FB.api(g,"get",{access_token:t._accessToken},t._processAlbumResponse.bind(t,e))}));case 2:case"end":return r.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_processAlbumResponse",value:function e(t,r){var n=r.albums?r.albums:r;this._albumsData=this._albumsData.concat(n.data);n.paging&&n.paging.next?FB.api(n.paging.next,"get",{access_token:this._accessToken},this._processAlbumResponse.bind(this,t)):t(this._albumsData)}},{key:"_getAccessToken",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:if(!App.frontEndBucket.facebookAccessToken){r.next=2;break}return r.abrupt("return",Promise.resolve(App.frontEndBucket.facebookAccessToken));case 2:if(!window.location.hash){r.next=7;break}t=y("access_token",window.location.hash);if(!t){r.next=7;break}App.frontEndBucket.facebookAccessToken=t;return r.abrupt("return",Promise.resolve(t));case 7:return r.abrupt("return",new Promise(function(e,t){FB.getLoginStatus(function(r){if("connected"===r.status){var n=m(r);App.frontEndBucket.facebookAccessToken=n;e(n)}else t()})}));case 8:case"end":return r.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}]);return e}();var w=t["default"]=b},17449(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(76033));function i(e){return e&&e.__esModule?e:{default:e}}var o=Backbone.Collection.extend({model:n.default},{fromFacebookImagesData:function e(t){return new o(t)}});var a=t["default"]=o},21694(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.ImagesFacebookImagesCollectionView=t.ImagesFacebookImageView=void 0;var n=i(r(17449));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.ImagesFacebookImageView=Backbone.View.extend({tagName:"li",className:"images-panel-recent__image-wrapper image-list__wrapper",events:{"click .js-facebook-image":"onClickImage"},render:function e(){this.$el.append(Twig.render(Twig.templates.images_panel_facebook_image,this.model.toJSON()))},onClickImage:function e(){this.trigger("image:click",this.model.getImage())}});var a=Backbone.View.extend({tagName:"li",className:"images-panel-recent__image-wrapper image-list__wrapper has-checkbox",events:{"click .js-facebook-image":"onClickImage"},onClickImage:function e(){this.$(".js-image-checkbox").click();this.$el.toggleClass("is-selected",this.$(".js-image-checkbox").is(":checked"));this.trigger("galleryImage:click",this.model,this.$(".js-image-checkbox").is(":checked"))},render:function e(){this.$el.append(Twig.render(Twig.templates.images_panel_facebook_image_for_gallery,this.model.toJSON()))}});var s=t.ImagesFacebookImagesCollectionView=Marionette.CollectionView.extend({childEvents:{"image:click":"onClickImage","galleryImage:click":"onClickGalleryImage"},initialize:function e(){this.selectedImages=new n.default},onClickGalleryImage:function e(t,r,n){n?this.selectedImages.add(r):this.selectedImages.remove(r);this.trigger("images:change",this.selectedImages)},onClickImage:function e(t,r){this.trigger("click:image",r)}});var l=t["default"]=Backbone.View.extend({initialize:function e(t){var r=this;this.siteRef=t.siteRef||void 0;t.fbImageRetriever.getImages(t.albumId).then(function(e){r.initializeCollectionView(e,t.widgetType);"image"!==t.widgetType&&r.renderGalleryButtons(t.widgetType);r.hideSpinner()});this.galleryAssets=t.galleryAssets;this.globalAssets=t.globalAssets;this.listenTo(this,"selection:confirm",this.onSelectionConfirm)},destroy:function e(){this.remove()},hideSpinner:function e(){this.trigger("fbImages:loaded");this.$el.removeClass("loading-spinner")},initializeCollectionView:function e(t,r){this.collectionView=new s({collection:t,el:".js-facebook-collection-view",childView:this.collectionChildView(r)});this.listenTo(this.collectionView,"click:image",this.onClickImage);this.listenTo(this.collectionView,"images:change",this.onChangeImages);this.collectionView.render()},onSelectionConfirm:function e(){var t=this,r;var n=[];this.showSpinner();this.selectedImages.forEach(function(e){var r=e.getImage();var i=$.Deferred();t.uploadFacebookImage(r).done(function(e){t.galleryAssets.push(e);i.resolve()}).fail(i.reject);n.push(i.promise())});(r=$).when.apply(r,n).done(function(){t.trigger("images:select:complete",{assets:t.galleryAssets,enableSave:true})}).fail(this.showErrorUI.bind(this))},onChangeImages:function e(t){this.selectedImages=t;this.$(".js-selected-images-count").text(t.length);this.trigger("images:change")},renderGalleryButtons:function e(){this.selectedImagesCount=0;this.$el.append(Twig.render(Twig.templates.images_panel_facebook_gallery_buttons,{selectedImagesCount:this.selectedImagesCount}))},collectionChildView:function e(t){if("image"===t)return o;return a},showSpinner:function e(){this.collectionView.collection=null;this.collectionView.render();this.$(".js-gallery").prop("hidden",true);this.$el.addClass("loading-spinner")},onClickImage:function e(t){var r=this;this.showSpinner();this.uploadFacebookImage(t).done(function(e){r.trigger("image:click",e)}).fail(this.showErrorUI.bind(this))},showErrorUI:function e(t){var r=Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100;this.$(".js-upload-panel-error-content").removeAttr("hidden");this.hideSpinner();t&&"cannotUploadAccountHolderExceededStorageLimit"===t?this.$(".js-upload-error-msg").text(App.t("shared_components.imagespanel.uploading_error_exceeded_limit","- you have exceeded the storage limit of %1MB.",r)):this.$(".js-upload-error-msg").text(App.t("shared_components.imagespanel.uploading_error_general","- Were really sorry about this. Please email %1 so our support team can look into this for you",App.brand.supportEmail))},uploadFacebookImage:function e(t){var r=this;var n=$.Deferred();this.getUploadToken().done(function(e){var i={token:e,url:t,type:"image",siteRef:App.session.get("siteRef")||r.siteRef};$.ajax({type:"POST",url:"".concat(App.session.get("apiProxyBaseUrl"),"/users/").concat(App.session.get("userRef"),"/assets"),async:true,data:i,xhrFields:{withCredentials:true},headers:{"X-CSRF-TOKEN":App.session.get("csrfToken")}}).done(function(e){var t=JSON.parse(e).result;r.globalAssets.add(new BaseKit.Globals.Asset(t));n.resolve(t)}).fail(function(e){var t=JSON.parse(e.responseText).errorKey;n.reject(t)})});return n.promise()},getUploadToken:function e(){var t=$.Deferred();$.ajax({type:"POST",url:"".concat(App.session.get("apiProxyBaseUrl"),"/users/").concat(App.session.get("userRef"),"/upload-tokens"),async:true,xhrFields:{withCredentials:true},headers:{"X-CSRF-TOKEN":App.session.get("csrfToken")}}).done(function(e){t.resolve(e.token)});return t.promise()}})},32252(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(23656));var i=r(80219);function o(e){return e&&e.__esModule?e:{default:e}}var a=616;function s(){var e=(0,i.isTouchDevice)();var t=window.innerWidth<a;return e&&t}var l=Marionette.ItemView.extend({events:{"click .js-modify-collection":"modifyImagesCollectionClicked","click .js-reset-order":"resetOrderClicked","click .js-delete":"deleteImageClicked","click .js-reorder":"reorderClicked","click .js-image-list-item":"imageListItemClicked","click .js-navigate-prev":"navigatePrevItemClicked","click .js-navigate-next":"navigateNextItemClicked","input .js-title":"titleChanged","input .js-description":"descriptionChanged","click .js-image-link":"imageLinkClicked"},initialize:function e(t){this.isReorderMode=false;this.previousAssets=t.collection.toJSON();this.currentAssets=t.collection.toJSON();this.selectedAsset=this._getFirstAsset(this.currentAssets);s()||this.addSortableEvents();return this},render:function e(t){var r=t||this.previousAssets;this.selectedAsset||(this.selectedAsset=this._getFirstAsset(r));this.$el.empty().append(Twig.render(Twig.templates.images_panel_gallery,{galleryAssets:r,selectedAsset:this.selectedAsset,widgetType:this.model.get("widgetType")}));this.addSortableEvents();return this},renderSettings:function e(){var t=this._getImageSettingsContainer();t.innerHTML=Twig.render(Twig.templates.images_panel_gallery_settings,{galleryAssets:this.currentAssets,selectedAsset:this.selectedAsset,widgetType:this.model.get("widgetType")})},reorderClicked:function e(){this.switchToReorderMode()},switchToReorderMode:function e(){this.trigger("order:edit");this.model.set("mode","mobile-sortable");this.addSortableEvents()},deleteImageClicked:function e(t){t.stopPropagation();var r=t.currentTarget;var n=r.getAttribute("data-ref");var i="asset";if(r.hasAttribute("data-tpl-asset-ref")){n=r.getAttribute("data-tpl-asset-ref");i="tpl"}this.trigger("asset:delete");this.handleAssetDeletion({ref:n,type:i})},handleAssetDeletion:function e(t){var r=t.ref;var n=this.collection.get(r);var i=[];var o=[];if("tpl"===t.type){n=this.collection.findWhere({tplAssetRef:r});_.each(this.currentAssets,function(e){e.tplAssetRef!==r&&i.push(e)});_.each(this.previousAssets,function(e){e.tplAssetRef!==r&&o.push(e)})}else{_.each(this.currentAssets,function(e){parseInt(e.ref,10)!==parseInt(r,10)&&i.push(e)});_.each(this.previousAssets,function(e){parseInt(e.ref,10)!==parseInt(r,10)&&o.push(e)})}this.selectedAsset=null;this.render(i);this.currentAssets=i;this.previousAssets=o;this.collection.remove(n);this.trigger("order:change",i)},onDestroy:function e(){this.removeScrollObserver()},removeScrollObserver:function e(){if(!s())return;$(document).off("touchmove.sortable");$("body").off("touchstart.sortable")},modifyImagesCollectionClicked:function e(){this.trigger("open:upload")},addSortableEvents:function e(){var t=this;if(!this.collection||0===this.collection.length)return;var r={scrollSensitivity:100,scroll:true,sort:true,ghostClass:"sortable-ghost",animation:150,dataIdAttr:"data-ref",onMove:function e(t){var r=-1===t.related.className.indexOf("is-not-sortable");var n=-1===t.dragged.className.indexOf("is-not-sortable");return r&&n},onEnd:function e(){t.updateDisplayOrder()}};if(s()){r.handle=".js-drag-handle";r.draggable=".js-image-list-item"}this.$(".js-image-list").length>0&&Sortable.create(this.$(".js-image-list")[0],r)},updateDisplayOrder:function e(){var t=this;var r=[];this.$(".js-image-list-item").each(function(e,n){var i=void 0!==$(n).data("tpl-asset-ref");var o=t.currentAssets.find(function(e){var t=e.ref,r=e.tplAssetRef;if(i)return r===$(n).data("tpl-asset-ref").toString();return t===$(n).data("ref")});r.push(o)});this.trigger("order:change",r);this.currentAssets=r;this.renderSettings()},resetOrderClicked:function e(){this.render();this.trigger("order:change",this.previousAssets)},imageListItemClicked:function e(t){if(this.isReorderMode)return;this._setActiveImageListItem(t.currentTarget)},navigatePrevItemClicked:function e(){var t=this._getActiveImageItem();t.previousElementSibling&&this._setActiveImageListItem(t.previousElementSibling)},navigateNextItemClicked:function e(){var t=this._getActiveImageItem();t.nextElementSibling&&this._setActiveImageListItem(t.nextElementSibling)},titleChanged:function e(t){this.selectedAsset.title=t.currentTarget.value.trim();this.trigger("settings:change",this.currentAssets)},descriptionChanged:function e(t){this.selectedAsset.description=t.currentTarget.value.trim();this.trigger("settings:change",this.currentAssets)},imageLinkClicked:function e(){this.linkEditorView=new n.default({url:this.selectedAsset.linkUrl,target:this.selectedAsset.linkTarget}).render();this.listenTo(this.linkEditorView,"link:change",this._insertLink);this.listenTo(this.linkEditorView,"link:remove",this._removeLink);this.listenTo(this.linkEditorView,"linkEditor:close",this._linkEditorClosed)},setImageSettingsVisible:function e(t){this._setImageListControlsVisible(!t);this._setImageListContainerVisible(!t);this._setImageSettingsContainerVisible(t)},setReorderModeActive:function e(t){this.isReorderMode=t},_setActiveImageListItem:function e(t){this._removeActiveImageItemState();t.classList.add("is-active");var r=t.dataset.ref?parseInt(t.dataset.ref,10):t.dataset.tplAssetRef;this.selectedAsset=this.currentAssets.filter(function(e){return e.ref===r||e.tplAssetRef===r})[0];this.renderSettings();this.trigger("settings:open")},_insertLink:function e(t){t.url&&this._updateSelectedAssetLink(t.url,t.target)},_removeLink:function e(){this._updateSelectedAssetLink("","")},_updateSelectedAssetLink:function e(t,r){this.selectedAsset.linkUrl=t;this.selectedAsset.linkTarget=r;this.renderSettings();this.trigger("settings:change",this.currentAssets)},_linkEditorClosed:function e(){if(!this.linkEditorView)return;this.stopListening(this.linkEditorView,"link:change");this.stopListening(this.linkEditorView,"link:remove");this.stopListening(this.linkEditorView,"linkEditor:close");this.linkEditorView=null},_getActiveImageItem:function e(){return this.el.querySelector(".js-image-list-item.is-active")},_getFirstAsset:function e(t){return t.length>0?t[0]:null},_removeActiveImageItemState:function e(){var t=this._getActiveImageItem();t.classList.remove("is-active")},_getImageSettingsContainer:function e(){return this.el.querySelector(".js-image-settings-container")},_setImageSettingsContainerVisible:function e(t){var r=this._getImageSettingsContainer();t?r.classList.add("is-active"):r.classList.remove("is-active")},_getImageListContainer:function e(){return this.el.querySelector(".js-image-list-container")},_setImageListContainerVisible:function e(t){var r=this._getImageListContainer();t?r.classList.remove("is-inactive"):r.classList.add("is-inactive")},_getImageListControls:function e(){return this.el.querySelector(".js-controls")},_setImageListControlsVisible:function e(t){var r=this._getImageListControls();t?r.removeAttribute("hidden"):r.setAttribute("hidden","hidden")}});var u=t["default"]=l},43275(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62412);var i=Marionette.ItemView.extend({events:{"change .js-title":"titleChanged","change .js-description":"descriptionChanged","click .js-edit":"openImageEditor","click .js-preview":"openImagePreview","click .js-delete":"deleteClicked",submit:"onSubmit"},initialize:function e(t){this.imageEditor=t.imageEditor;return this},render:function e(){var t=_.extend(this.model.toJSON());this.$el.empty().append(Twig.render(Twig.templates.images_panel_image_edit,{asset:t,editable:App.user.capabilities.imageEditing&&!(0,n.isAssetSvg)(!!this.model&&this.model)}));return this},openImagePreview:function e(){var t=Twig.render(Twig.templates.images_panel_image_preview,_.extend({asset:this.model.toJSON()},this.getImageDimensions(this.model.toJSON())));$("body").append(t);$(".js-close-preview").on("click",function(){$(".js-image-preview").remove()});this.addESCKeyEvent()},addESCKeyEvent:function e(){$(document).keyup(function(e){27===e.keyCode&&$(".js-image-preview").remove()})},getImageDimensions:function e(t){var r=window.innerWidth;var n=window.innerHeight;var i=r-160;var o=n-220;var a=t.imageHeight;var s=t.imageWidth;var l=a;var u=s;if(null===l&&null===u)return{width:i,height:o};if(s>i||a>o)if(s/i>a/o){u=i;l=parseInt(a/(s/u),10)}else{l=o;u=parseInt(s/(a/l),10)}return{width:u,height:l}},titleChanged:function e(){var t=this.$(".js-title").val().trim();this.model.set("title",t)},descriptionChanged:function e(){var t=this.$(".js-description").val().trim();this.model.set("description",t)},onSubmit:function e(t){var r=this;t.preventDefault();this.model.save(void 0,{patch:true,wait:true,success:function e(){r.trigger("asset:saved");r.model.trigger("asset:saved")}})},deleteClicked:function e(t){var r=this;t.preventDefault();this.model.destroy({success:function e(){r.trigger("asset:deleted",r.model)}})},openImageEditor:function e(){this.el.querySelector(".js-image-wrap").classList.add("is-loading");this.imageEditor.open({image:this.el.querySelector(".js-image"),url:this.model.get("url"),onLoad:this.onImageEditorLoad.bind(this),onSave:this.saveEditedImg.bind(this),onError:this.onImageEditorError.bind(this)})},onImageEditorLoad:function e(){this.el.querySelector(".js-image-wrap").classList.remove("is-loading")},onImageEditorError:function e(t){console.error(t)},saveEditedImg:function e(t){var r=this.model.get("title");var n=this.model.get("description");var i=this.model.get("ref");this.model.clear().set(_.extend(t,{title:r,description:n}));this.collection.add(this.model);this.render();this.trigger("asset:edited",this.model.toJSON(),i)}});var o=t["default"]=i},22700(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({events:{"click .js-image":"onImageClick","change .js-image-checkbox":"onImageSelected","click .js-setting":"onSettingClick"},initialize:function e(t){this.widgetType=t.widgetType},onImageClick:function e(t){t.stopPropagation();"image"===this.widgetType?this.trigger("select"):this.selectImage()},onSettingClick:function e(t){t.stopPropagation();this.trigger("edit")},selectImage:function e(){this.$(".js-image-checkbox").click()},onImageSelected:function e(t){t.stopPropagation();this.$el.toggleClass("is-selected",this.$(".js-image-checkbox").is(":checked"));this.trigger("pick",this.$(".js-image-checkbox").is(":checked"))}});var n=t["default"]=r},98686(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({defaults:{widgetType:"image",panel:"upload",parentPanel:void 0,isSubPanel:false,asset:void 0,title:App.t("shared_components.imagespanel.source_title","Image source"),forceHidden:false,showSaveBtn:false,galleryAssets:void 0,errorTimeout:null},initialize:function e(){return this}});BaseKit.Panels.Model=r;var n=t["default"]=r},16706(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=y(r(21983));var i=y(r(39742));var o=y(r(7020));var a=y(r(26832));var s=y(r(20442));var l=y(r(21694));var u=y(r(32252));var c=y(r(94895));var d=y(r(43275));var f=y(r(97475));var p=y(r(27221));var h=y(r(2385));var g=r(80219);var v=r(62412);var m=r(60443);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)})}}var S=616;function k(){return(0,g.isTouchDevice)()&&P()}function P(){return window.innerWidth<S}function E(){if(!App.frontEndBucket)return{};return{facebookAppId:App.frontEndBucket.facebookAppId}}function x(){if(App.user.capabilities.hideFacebookImageImport&&1===parseInt(App.user.capabilities.hideFacebookImageImport,10))return true;return false}function C(){var e=false;if(x())return false;E().facebookAppId&&(e=true);return e}function O(){if(App.user.capabilities.stockImages&&1===parseInt(App.user.capabilities.stockImages,10))return true;return false}function j(){return n.default.container.BrandDataProvider.has("enableFilestack")}function A(){return n.default.container.EnvDataProvider.get("stockImageProvider")}var T=Marionette.ItemView.extend({events:{"click .js-upload":"uploadClicked","click .js-close":"closeClicked","click .js-save":"saveClicked","click .js-image-bg":"closePanel","click .js-recent":"openRecentImagesPanel","click .js-stock":"openStockImagesPanel","click .js-facebook":"openFacebookAlbumsPanel","click .js-selection-confirm":"notifySelection","click .images-panel__source":"sourceSelected","click .js-back":"backClicked"},initialize:function e(t){this.currentView=null;this.siteRef=t.siteRef;this.listenTo(this.model,"change:panel",this.rerender);this.listenTo(this,"close:panel",this.closePanel);return this},notifySelection:function e(){this.currentView.trigger("selection:confirm")},getGlobalAssets:function e(){return BaseKit.Globals.imageAssets},isInEditor:function e(){var t=false;"undefined"!==typeof Editor&&Editor.Site&&(t=true);return t},render:function e(){var t=_.extend(this.model.toJSON(),{isFacebookAvailable:C(),isStockImageAvailable:O(),isSmallResTouchDevice:k(),isFilestackEnabled:j(),stockImageProvider:A()});"gallery"===t.panel&&(t.selectedAsset=this._getFirstGalleryAsset(t.galleryAssets));this.$el.empty().append(Twig.render(Twig.templates.images_panel,t));this.moveToBody();this.attachPanelEvents();this.isInEditor()&&Editor.Events.trigger("imagesPanel:rendered");return this},rerender:function e(){this.currentView&&this.currentView.destroy();var t=!!this.model.get("asset")&&this.model.get("asset");var r=_.extend(this.model.toJSON(),{isFacebookAvailable:C(),isSmallResTouchDevice:k(),isStockImageAvailable:O(),isFilestackEnabled:j(),stockImageProvider:A(),asset:this.model.get("asset")?this.model.get("asset").toJSON():void 0,editable:App.user.capabilities.imageEditing&&!(0,v.isAssetSvg)(t)});"gallery"===r.panel&&(r.selectedAsset=this._getFirstGalleryAsset(r.galleryAssets));var n=Twig.templates.images_panel;this.$el.empty().append(Twig.render(n,r));this.attachPanelEvents();return this},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t)},attachPanelEvents:function e(){switch(this.model.get("panel")){case"upload":this.attachUploadViewEvents();break;case"recentImages":this.attachRecentImagesViewEvents();break;case"stock":this.attachStockImageViewEvents();break;case"unsplashStock":this.attachUnsplashStockViewEvents();break;case"editImage":this.attachEditImageViewEvents();break;case"landing":this.attachLandingViewEvents();break;case"gallery":this.attachGalleryViewEvents();break;case"facebookAlbums":this.attachFacebookAlbumsViewEvents();break;case"facebookImages":this.attachFacebookImagesViewEvents();break}Editor.Events.on("screenMode:change",this.closePanel.bind(this))},attachFacebookAlbumsViewEvents:function e(){var t=this;this.facebookAlbumsView=new o.default({el:".js-facebook-albums",facebookImageRetriever:new i.default({locale:this._getDeducedLocale()})});this.currentView=this.facebookAlbumsView;this.listenTo(this.facebookAlbumsView,"album:click",this.openFacebookImagesPanel);this.listenTo(this.facebookAlbumsView,"album:loaded",function(){t.$(".js-content").attr("hidden",false)})},_getDeducedLocale:function e(){if(this.isInEditor()&&Editor.Site&&Editor.Site.Dom&&Editor.Site.Dom.window)return Editor.Site.Dom.window.Server.app.deducedLocale;return null},attachFacebookImagesViewEvents:function e(){var t=this;this.facebookImagesView=new l.default({el:".js-facebook-images",siteRef:this.siteRef,albumId:this.fbSelectedAlbumRef,fbImageRetriever:this.fbImageRetriever,widgetType:this.model.get("widgetType"),galleryAssets:this.model.get("galleryAssets"),globalAssets:this.getGlobalAssets()});this.currentView=this.facebookImagesView;this.listenTo(this.facebookImagesView,"image:click",this.selectFacebookImage);this.listenTo(this.facebookImagesView,"images:change",this._enableAddImages);this.listenTo(this.facebookImagesView,"images:select:complete",this.openGalleryPanel);this.listenTo(this.facebookImagesView,"fbImages:loaded",function(){t.$(".js-content").attr("hidden",false)})},selectFacebookImage:function e(t){this.trigger("asset:change",t);this.closePanel()},attachUploadViewEvents:function e(){this.imagesUploadPanelView=new p.default({el:".js-upload-panel",siteRef:this.siteRef,collection:this.getGlobalAssets(),model:new Backbone.Model,userDataProvider:n.default.container.UserDataProvider});this.listenTo(this.imagesUploadPanelView,"image:upload",this.uploadFinished);this.listenTo(this.imagesUploadPanelView,"images:upload:finished",this.multipleUploadFinished);this.listenTo(this.imagesUploadPanelView,"image:upload:start",this.uploadStarted);this.listenTo(this.imagesUploadPanelView,"image:upload:error",this.rerender);this.currentView=this.imagesUploadPanelView},openFileUpload:function e(){this.imagesUploadPanelView.trigger("upload:image")},multipleUploadFinished:function e(t){var r=this.model.get("galleryAssets");this.$(".js-menu-overlay").attr("hidden","hidden");this.model.set("galleryAssets",t.concat(r));this.openRecentImagesPanel({enableSave:true});this.sourceSelected()},uploadFinished:function e(t){this.$(".js-menu-overlay").attr("hidden","hidden");this.imageSelected(t)},uploadStarted:function e(){this.hideMenuUI();this.$(".js-menu-overlay").removeAttr("hidden")},hideMenuUI:function e(){this.$(".js-menu").attr("hidden","hidden")},closeClicked:function e(){if(this.model.get("closeAction")&&"function"===typeof this.model.get("closeAction")){this.model.get("closeAction").call();return}"upload"!==this.model.get("panel")&&k()&&"landing"!==this.model.get("panel")&&k()&&"gallery"!==this.model.get("panel")&&k()?this.model.set({panel:"upload",title:App.t("shared_components.imagespanel.source_title","Image source")}):this.model.get("isSubPanel")?this.openParentPanel(this.model.get("parentPanel")):"mobile-sortable"===this.model.get("mode")?this._restoreDefaultGalleryView():"gallery"===this.model.get("panel")||"landing"===this.model.get("panel")||"gallery"!==this.model.get("widgetType")&&"slideshow"!==this.model.get("widgetType")?this.closePanel():this.openGalleryPanel({assets:this.model.get("galleryAssets"),enableSave:void 0!==this.galleryAssetsUpdated&&this.galleryAssetsUpdated})},saveClicked:function e(){if("mobile-sortable"===this.model.get("mode")){this.model.set("mode",void 0);this.model.set("enableSave",true);this.rerender();return}if("image-settings"===this.model.get("mode")){this._restoreDefaultGalleryView();return}if("gallery"===this.model.get("widgetType")||"slideshow"===this.model.get("widgetType")){this.trigger("save:".concat(this.model.get("widgetType")),this.model.get("galleryAssets"));this.closePanel()}},openParentPanel:function e(t){switch(t){case"upload":this.openUploadPanel();break;case"recentImages":this.openRecentImagesPanel();break;case"stock":this.openStockImagesPanel();break;case"gallery":this.openGalleryPanel();break}},closePanel:function e(){"gallery"===this.model.get("panel")&&void 0!==this.galleryAssetsUpdated&&(this.galleryAssetsUpdated=false);this.currentView&&"function"===typeof this.currentView.destroy&&this.currentView.destroy();this.destroy();this.trigger("close:images-panel");var t=document.querySelector(".js-menu--open");t&&t.classList.remove("images-panel__menu--open","js-menu--open")},sourceSelected:function e(){var t=document.querySelector(".js-upload.is-selected");if(!t){var r=document.querySelector(".js-menu");r&&r.classList.add("images-panel__menu--open","js-menu--open")}},uploadClicked:function e(){k()&&window.innerWidth<=S?this.openFileUpload():this.openUploadPanel()},openUploadPanel:function e(){var t=this;return w(regeneratorRuntime.mark(function e(){var r,n,i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:if(!(0,m.isMediaManagerEnabled)()){o.next=9;break}r=t.model.get("galleryAssets");n=r.map(function(e){return e.ref});o.next=5;return(0,m.invokeMediaManager)(true,n);case 5:i=o.sent;i.addEventListener("bk-media-manager:media-selected",function(e){t.openGalleryPanel({assets:e.detail,enableSave:true})});o.next=10;break;case 9:t.model.set({panel:"upload",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")});case 10:case"end":return o.stop()}},e)}))()},openRecentImagesPanel:function e(t){var r=this._isMultipleImagesWidget();var n=t||{};this.model.set({panel:"recentImages",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:r,enableSave:n.enableSave,title:App.t("shared_components.imagespanel.recent_title","Recent")});this.$(".js-recent-icon").attr("hidden",true);this.$(".js-recent-loading").attr("hidden",false);this.$(".js-content").attr("hidden",true)},openFacebookAlbumsPanel:function e(){this.model.set({panel:"facebookAlbums",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.facebook_title","Facebook images")});this.$(".js-facebook-icon").attr("hidden",true);this.$(".js-facebook-loading").attr("hidden",false);this.$(".js-content").attr("hidden",true)},openFacebookImagesPanel:function e(t,r){var n=this._isMultipleImagesWidget();this.fbSelectedAlbumRef=t;this.fbImageRetriever=r;this.model.set({panel:"facebookImages",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:n,title:App.t("shared_components.imagespanel.facebook_title","Facebook images")})},attachRecentImagesViewEvents:function e(){var t=this;this.recentImagesPanelView=new f.default({widgetType:this.model.get("widgetType"),el:".js-recent-images",galleryAssets:this.model.get("galleryAssets")||void 0,collection:new BaseKit.Globals.ImageAssets,userDataProvider:n.default.container.UserDataProvider,serverVars:n.default.container.ServerVars});this.listenTo(this.recentImagesPanelView,"image:select",this.imageSelected);this.listenTo(this.recentImagesPanelView,"images:select",this._enableAddImages);this.listenTo(this.recentImagesPanelView,"image:edit",this.openImageEditPanel);this.listenTo(this.recentImagesPanelView,"image:loaded",function(){t.$(".js-content").attr("hidden",false)});this.listenTo(this.recentImagesPanelView,"images:select:complete",this.openGalleryPanel);this.currentView=this.recentImagesPanelView},openGalleryPanel:function e(t){var r=App.t("shared_components.imagespanel.gallery","Gallery");var n=t||{};"slideshow"===this.model.get("widgetType")&&(r=App.t("shared_components.imagespanel.slideshow","Slideshow"));this.model.set({panel:0===n.assets.length?"landing":"gallery",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:true,enableSave:n.enableSave,galleryAssets:n.assets,title:r})},openStockImagesPanel:function e(){if("unsplash"===A()){this.openUnsplashPanel();return}this.openGenericStockPanel()},openUnsplashPanel:function e(){this.model.set({panel:"unsplashStock",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.stock_title","Stock images")})},openGenericStockPanel:function e(){this.model.set({panel:"stock",parentPanel:void 0,isSubPanel:false,asset:void 0,showSaveBtn:false,title:App.t("shared_components.imagespanel.stock_title","Stock images")})},attachStockImageViewEvents:function e(){this.stockImagesPanelView=new a.default({el:".js-stock-images",widgetType:this.model.get("widgetType"),model:this.model,siteRef:this.siteRef,globalAssets:this.getGlobalAssets()});this.currentView=this.stockImagesPanelView;this.listenTo(this.stockImagesPanelView,"image:select",this.imageSelected);this.listenTo(this.stockImagesPanelView,"image:reset",this.imageReset)},attachUnsplashStockViewEvents:function e(){this.stockImagesPanelView=new s.default({el:".js-stock-images",widgetType:this.model.get("widgetType"),model:this.model,siteRef:this.siteRef,globalAssets:this.getGlobalAssets()});this.currentView=this.stockImagesPanelView;this.listenTo(this.stockImagesPanelView,"image:select",this.imageSelected);this.listenTo(this.stockImagesPanelView,"image:reset",this.imageReset)},imageSelected:function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("image"===this.model.get("widgetType")){this.trigger("asset:change",t);r&&this.closePanel()}else{this.model.get("galleryAssets").unshift(t);this.openRecentImagesPanel({enableSave:true});this.sourceSelected()}},imageReset:function e(){this.trigger("asset:reset")},openImageEditPanel:function e(t){this.model.set({panel:"editImage",parentPanel:"recentImages",isSubPanel:true,asset:t,showSaveBtn:false,title:App.t("shared_components.imagespanel.edit_image","Image Settings")})},attachEditImageViewEvents:function e(){this.editImageView=new d.default({model:this.model.get("asset"),el:".js-edit-image",collection:this.getGlobalAssets(),imageEditor:c.default});this.currentView=this.editImageView;this.listenTo(this.editImageView,"asset:saved",this.openRecentImagesPanel);this.listenTo(this.editImageView,"asset:deleted",this.handleDeletion);this.listenTo(this.editImageView,"asset:edited",this.hendleEditedAsset)},handleDeletion:function e(t){this.trigger("asset:delete",t);this.openRecentImagesPanel()},hendleEditedAsset:function e(t,r){if("gallery"===this.model.get("widgetType")||"slideshow"===this.model.get("widgetType")){var n=this.model.get("galleryAssets");var i=null;n.unshift(t);_.each(n,function(e,t){e.ref===r&&(i=t)});i&&n.splice(i,1)}},attachLandingViewEvents:function e(){this.landingView=new h.default({el:".js-landing"});this.currentView=this.landingView;this.listenTo(this.landingView,"open:main-imagespanel",this.openUploadPanel)},attachGalleryViewEvents:function e(){this.galleryView=new u.default({el:".js-gallery",model:this.model,collection:new BaseKit.Globals.ImageAssets(this.model.get("galleryAssets"))});this.currentView=this.galleryView;this.listenTo(this.galleryView,"open:upload",this.openUploadPanel);this.listenTo(this.galleryView,"order:change",this.updateAssets);this.listenTo(this.galleryView,"order:edit",this.editAssetsOrder);this.listenTo(this.galleryView,"settings:change",this.updateAssets);this.listenTo(this.galleryView,"settings:open",this.openGallerySettings);this.listenTo(this.galleryView,"asset:delete",this.galleryAssetDelete)},updateAssets:function e(t){this.model.set("galleryAssets",t);this.galleryAssetsUpdated=true;t.length<1?this.openGalleryPanel({assets:this.model.get("galleryAssets"),enableSave:true}):this._enableSave()},editAssetsOrder:function e(){this._setGalleryViewInReorderMode(true)},galleryAssetDelete:function e(){this._restoreDefaultGalleryView()},openGallerySettings:function e(){P()&&this.model.set("mode","image-settings");this._setGallerySettingsVisible(true)},backClicked:function e(){this._restoreDefaultGalleryView()},_getFirstGalleryAsset:function e(t){return t.length>0?t[0]:null},_restoreDefaultGalleryView:function e(){"mobile-sortable"!==this.model.get("mode")&&"image-settings"!==this.model.get("mode")||this.model.set("mode",void 0);this._setGalleryViewInReorderMode(false);this._setGallerySettingsVisible(false)},_setGalleryViewInReorderMode:function e(t){var r=this.el.querySelector(".js-images-panel");t?r.classList.add("is-sortable"):r.classList.remove("is-sortable");this.currentView.setReorderModeActive(t)},_setGallerySettingsVisible:function e(t){var r=this.el.querySelector(".js-dialog-header");t?r.classList.add("is-gallery-settings-active"):r.classList.remove("is-gallery-settings-active");this.currentView.setImageSettingsVisible(t)},_isMultipleImagesWidget:function e(){var t=this.model.get("widgetType");return"gallery"===t||"slideshow"===t},_enableAddImages:function e(){this.$(".js-selection-confirm").removeAttr("disabled")},_enableSave:function e(){var t=this.el.querySelector(".js-save");t.removeAttribute("disabled");t.classList.contains("cl-button--disabled")&&t.classList.remove("cl-button--disabled")}});BaseKit.Panels.ImagesPanelView=T;var D=t["default"]=T},97475(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(22700));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return c(e)||u(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function c(e){if(Array.isArray(e))return e}var d=Marionette.CompositeView.extend({childView:n.default,childEvents:{},infiniteScroll:{controller:new AbortController,limit:20,offset:0,total:null},galleryCollection:null,unselectedGalleryAssetsCollection:null,initialize:function e(t){var r=this;this.widgetType=t.widgetType||"image";this.galleryAssets=t.galleryAssets||[];this.userDataProvider=t.userDataProvider;this.serverVars=t.serverVars;this.infiniteScroll.controller=new AbortController;this.infiniteScroll.limit=20;this.infiniteScroll.offset=0;var n=Backbone.Collection.extend({model:BaseKit.Globals.Asset});this.galleryCollection=new n(this.galleryAssets);this.unselectedGalleryAssetsCollection=new Backbone.Collection;this.childEvents={select:function e(t){r.trigger("image:select",t.model.toJSON())},edit:function e(t){r.trigger("image:edit",t.model)},pick:function e(t,n){r.handleSelectedImageCollection(t.model,n)}};this.collection.fetch({data:{offset:this.infiniteScroll.offset,limit:this.infiniteScroll.limit},error:function e(t,r){401===r.status&&Editor.Responsive.displaySessionTimeoutDialog()},success:function e(t,n){r.infiniteScroll.total=n.count;r.infiniteScroll.offset+=r.infiniteScroll.limit;r.addAdditionalAssetsToCollection();"gallery"!==r.widgetType&&"slideshow"!==r.widgetType||r.handleGalleryImages(t);r.render();r.trigger("image:loaded")}});this.listenTo(this,"selection:confirm",this.onSelectionConfirm);return this},handleGalleryImages:function e(t){var r=this;_.each(this.galleryAssets,function(e,n){if(t.get(e.ref)){r.collection.get(e.ref).set("isSelected",true,{silent:true});r.galleryCollection.add(e,{merge:true})}else e.isTplAsset&&e.tplAssetRef&&r.handleWidgetTplAssets(e,n)})},handleInfiniteScroll:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n=r?document.querySelector(".js-image-panel-content"):document.querySelector(".js-image-panel-wrapper");var i=100;var o=Math.abs(n.scrollHeight-n.clientHeight-n.scrollTop);var a=this.infiniteScroll.offset<this.infiniteScroll.total;var s=o<i&&a;if(!s)return;this.collection.fetch({add:true,remove:false,merge:false,reset:true,data:{offset:this.infiniteScroll.offset,limit:this.infiniteScroll.limit},error:function e(t,r){401===r.status&&Editor.Responsive.displaySessionTimeoutDialog()},success:function e(r,n,i){var o=r.clone();t.collection.unshift(i.previousModels);t.infiniteScroll.offset+=t.infiniteScroll.limit;t.hideLoadingSkeleton();"gallery"!==t.widgetType&&"slideshow"!==t.widgetType||t.handleGalleryImages(o);t.renderAppend(o)}})},handleWidgetTplAssets:function e(t,r){var n=t.tplAssetRef;var i=this.collection.findWhere({tplAssetRef:n});var o=this.galleryCollection.findWhere({tplAssetRef:n});if(i)i.set("isSelected",true,{silent:true});else{t.isSelected=true;this.collection.add(t)}this.galleryCollection.remove(o);this.galleryCollection.add(t,{at:r})},render:function e(){var t=Twig.render(Twig.templates.images_panel_image,{resizerDomain:"".concat(App.session.get("protocol"),"://").concat(App.session.get("resizerDomain")),assets:this.collection.toJSON(),widgetType:this.widgetType,selectedImageNumber:this.galleryAssets.length,selectedImageUnit:1===this.galleryAssets.length?App.t("shared_components.imagespanel.image_selected","image selected"):App.t("shared_components.imagespanel.images_selected","images selected"),hasMoreToLoad:this.infiniteScroll.offset<this.infiniteScroll.total,skeletons:this.getSkeletonsNumber()});this.el.innerHTML=t;this.attachChildrenEvents(this.collection);this.attachInfiniteScrollEvents();0===this.collection.toJSON().length&&this.$el.addClass("is-empty");this.$el.removeClass("loading-spinner")},renderAppend:function e(t){var r=Twig.render(Twig.templates.images_panel_image_items,{resizerDomain:"".concat(App.session.get("protocol"),"://").concat(App.session.get("resizerDomain")),assets:t.toJSON(),widgetType:this.widgetType,hasMoreToLoad:this.infiniteScroll.offset<this.infiniteScroll.total,skeletons:this.getSkeletonsNumber()});this.$el.find("ol").append(r);this.attachChildrenEvents(t)},hideLoadingSkeleton:function e(){this.$el.find(".js-image-skeleton").remove()},addAdditionalAssetsToCollection:function e(){var t=[];t="ten"===this.userDataProvider.get("productVersion")?this.getContentSetImages():this.getTemplateAssets();this.collection.add(t)},getTemplateAssets:function e(){var t=[];if(this.isInEditor()){var r=Editor.Site.Theme.current.images;var n=null;var i=Editor.Site.Theme.current.ref;var o=Editor.Site.Theme.current.templateAssetDomain;r.forEach(function(e,r){n={isTplAsset:true,fileName:e,tplAssetRef:"".concat(i,"-").concat(r),path:"".concat(o,"/").concat(e),url:"".concat(o,"/").concat(e)};t.push(n)})}return t},getContentSetImages:function e(){var t=[];if(this.isInEditor()){var r=this.serverVars.getBundle("siteContentSet").get("images")||{};Object.entries(r).forEach(function(e){var r=o(e,2),n=r[0],i=r[1];var a=i.url.split("/").pop();t.push({isTplAsset:true,fileName:a,tplAssetRef:n,dominantColor:i.dominantColor,path:i.url,thumbPath:i.thumb,imageHeight:i.height,imageWidth:i.width,url:i.url})})}return t},getSkeletonsNumber:function e(){var t=document.querySelector(".js-image img")?document.querySelector(".js-image img").clientWidth:116;var r=document.querySelector(".js-recent-images").clientWidth;var n=Math.floor(r/t);var i=this.collection.length%n;var o=n-i||n;return o},isInEditor:function e(){var t=false;"undefined"!==typeof Editor&&Editor.Site&&(t=true);return t},attachChildrenEvents:function e(t){var r=this;t.each(function(e){r.attachImageFunction(e)});this.delegateEvents()},attachInfiniteScrollEvents:function e(){var t=this;this.infiniteScroll.controller.abort();this.infiniteScroll.controller=new AbortController;document.querySelector(".js-image-panel-content").addEventListener("scroll",_.debounce(function(){return t.handleInfiniteScroll(true)},200),{signal:this.infiniteScroll.controller.signal});document.querySelector(".js-image-panel-wrapper").addEventListener("scroll",_.debounce(function(){return t.handleInfiniteScroll(false)},200),{signal:this.infiniteScroll.controller.signal})},attachImageFunction:function e(t){var r=this.getImageViewSelect(t);var n=new this.childView({el:r,model:t,widgetType:this.widgetType});this.proxyChildEvents(n);this.children.add(n)},getImageViewSelect:function e(t){var r="#image-ref-".concat(t.get("ref"));t.get("isTplAsset")&&(r='[data-tpl-asset-ref="'.concat(t.get("tplAssetRef"),'"]'));return r},handleSelectedImageCollection:function e(t,r){if(r){var n=this._getGalleryAssetToBeAdded(t);this.galleryCollection.add(n,{at:0})}else{var i=this._getGalleryAssetToBeRemoved(t);this.galleryCollection.remove(i)}this.trigger("images:select");this.updateCountUi()},updateCountUi:function e(){this.$(".js-selected-images-count").text(this.galleryCollection.size());1===this.galleryCollection.size()?this.$(".js-selected-images-count-unit").text(App.t("shared_components.imagespanel.image_selected","image selected")):this.$(".js-selected-images-count-unit").text(App.t("shared_components.imagespanel.images_selected","images selected"))},onSelectionConfirm:function e(){this.trigger("images:select:complete",{assets:this.galleryCollection.toJSON(),enableSave:true})},onDestroy:function e(){this.cleanUpAssetsProperty()},cleanUpAssetsProperty:function e(){_.each(this.collection.where({isSelected:true}),function(e){e.unset("isSelected",{silent:true})})},_getGalleryAssetToBeAdded:function e(t){var r=this._findAssetFromCollection(this.unselectedGalleryAssetsCollection,t);r?this.unselectedGalleryAssetsCollection.remove(r):r=t;return r},_getGalleryAssetToBeRemoved:function e(t){var r=this._findAssetFromCollection(this.galleryCollection,t);this.unselectedGalleryAssetsCollection.add(r);return r},_findAssetFromCollection:function e(t,r){var n;n=r.get("ref")?t.findWhere({ref:r.get("ref")}):t.findWhere({tplAssetRef:r.get("tplAssetRef")});return n}});var f=t["default"]=d},26832(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(27686);var o=a(r(96342));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}var u=12;var c=616;var d=1;var f=1;function p(){var e;var t=null!==(e=App.brand.capabilities.enforceCreditsForStockImages)&&void 0!==e?e:"0";return"1"===t}function h(){if(p()){var e=parseInt(App.user.capabilities.imageCredits,10);var t=parseInt(App.user.usedImageCredits,10);var r=e-t;var n=r<0?0:r;return n}return Infinity}function g(){return App.user.languageCode}function v(){return App.user.ref}function m(){return n.store.getState().site.ref}function y(){return App.session.get("brand").domain}function b(){return App.session.get("protocol")}function w(){return"".concat(b(),"://account.").concat(y(),"/subscription")}function _(){return App.brand.capabilities.enableBuyCredits}function S(){var e=null;var t=App.user.owner.externalSubscriptionURL;var r=App.brand.externalSubscriptionLink;if(1!==parseInt(_(),10))return null;e=t&&t.length>0?t:r&&r.length>0?r:w();return e}function k(){if(p()){var e=parseInt(App.user.usedImageCredits,10);App.user.usedImageCredits=e+1}}function P(){return Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100}function E(){return App.brand.supportEmail}function x(){return App.frontEndBucket.apiProxyBaseUrl}function C(){App.mixpanelTrack("Editor buy more credits button","")}function O(e){return j.apply(this,arguments)}function j(){j=l(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function e(s){while(1)switch(s.prev=s.next){case 0:r=a.length>1&&void 0!==a[1]?a[1]:"GET";n=a.length>2&&void 0!==a[2]?a[2]:null;i=new Headers;i.append("X-CSRF-TOKEN",App.frontEndBucket.csrfToken);o=new Request(t,{method:r,headers:i,credentials:"include",body:n});return s.abrupt("return",window.fetch(o));case 6:case"end":return s.stop()}},e)}));return j.apply(this,arguments)}var A=Marionette.ItemView.extend({events:{"click .js-image":"onImageClick","click .js-previous":"onPreviousClick","click .js-next":"onNextClick","click .js-confirm":"onConfirm","click .js-buy-credits":"buyCreditClicked","click .js-search":"onSearchSubmit"},initialize:function e(t){this.searchTerm="";this.globalAssets=t.globalAssets;this.siteRef=t.siteRef;this.currentOffset=d;this.selectedImg="";this.inFilestack=!!t.inFilestack;this.collection=new Backbone.Collection;this.unsubscribe=n.store.subscribe(this.handleStateChange.bind(this));return this},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=n.store.getState();t.ui.panel.cancelActive?this.enableCancel():this.disableCancel()},disableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&!t.disabled&&t.setAttribute("disabled","disabled")},enableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&t.disabled&&t.removeAttribute("disabled")},onSearchSubmit:function e(t){t.preventDefault();var r=this.el.querySelector(".js-search-value").value;r&&this.doSearch(r,1)},updateImagesCollection:function e(t){this.collection.set(t)},searchError:function e(){this.hideSearchLoadingUi();this.renderHTMLWithResult();this.updateImagesCollection([])},doSearch:function e(t,r){var n=this;return l(regeneratorRuntime.mark(function e(){var i,o;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:n.searchTerm=t;n.showSearchLoadingUi();a.prev=2;a.next=5;return O("".concat(x(),"/stock-images?search=").concat(t,"&offset=").concat(r,"&count=").concat(u,"&language=").concat(g()));case 5:i=a.sent;if(!i.ok){a.next=16;break}a.next=9;return i.json();case 9:o=a.sent;n.hideSearchLoadingUi();n.renderHTMLWithResult(o.result,r);n.updateImagesCollection(o.result.images);n.currentOffset=r+u;a.next=17;break;case 16:n.searchError();case 17:a.next=22;break;case 19:a.prev=19;a.t0=a["catch"](2);n.searchError();case 22:case"end":return a.stop()}},e,null,[[2,19]])}))()},addImageAuthorCredit:function e(t){var r=t.name,n=t.photoUrl,i=t.authorUrl;var a=document.createElement("span");var s='<a href="%1">Photo</a> by: <a href="%2">%3</a>';var l=(0,o.default)("shared_components.stockimage.pexels.photo_by",s,n,i,r);a.id="author-credit";this.el.querySelector("#images-panel__author-credit").appendChild(a);this.el.querySelector("#author-credit").innerHTML=l;this.el.querySelectorAll("#author-credit a").forEach(function(e){return e.setAttribute("target","_blank")})},renderHTMLWithResult:function e(t,r){var n=t?t.images:[];var i=t?t.result_count:void 0;var a=(0,o.default)("shared_components.stockimage.single_credit_remaining","Credit remaining");var s=(0,o.default)("shared_components.stockimage.credits_remaining","Credits remaining");var l=Twig.render(Twig.templates.images_panel_stock_image_list,{images:n,currentOffset:r,searchTotalCount:i,imageUnit:1===h()?a:s,buyCreditUrl:S(),remainingCredits:h()});this.el.querySelector(".js-image-list").innerHTML=l;this.el.querySelector(".js-image-list").removeAttribute("hidden")},onImageClick:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-ref").replace("image-ref-","");var n=this.collection.find(function(e){return e.get("id").toString()===r});this.openSelectedImagePreview(n)},onPreviousClick:function e(){var t=this.el.querySelector(".js-search-value").value;var r=this.currentOffset-2*u;t&&r>0&&this.doSearch(t,r)},onNextClick:function e(){var t=this.el.querySelector(".js-search-value").value;t&&this.doSearch(t,this.currentOffset)},showSearchLoadingUi:function e(){try{this.el.querySelector(".js-image-list").setAttribute("hidden",true);this.el.querySelector(".js-landing-message").setAttribute("hidden",true);this.el.querySelector(".js-images-loading").removeAttribute("hidden")}catch(e){console.error(e)}},hideSearchLoadingUi:function e(){this.el.querySelector(".js-images-loading").setAttribute("hidden",true)},addCloseAction:function e(){var t=this;this.model.set("closeAction",function(){t.closePreview();t.model.unset("closeAction")})},closePreview:function e(){var t=(0,o.default)("shared_components.stockimage.stock_images","Stock images");this.el.querySelector(".js-stock-image-preview").setAttribute("hidden",true);this.el.querySelector("#images-panel__author-credit").removeChild(this.el.querySelector("#author-credit"));this.el.querySelector(".js-image-wrap").parentNode.removeChild(this.el.querySelector(".js-image-wrap"));this.el.querySelector(".js-stock-images").removeAttribute("hidden");this.el.querySelector(".js-search-wrap").removeAttribute("hidden");this.el.querySelector(".js-selection-confirm").setAttribute("hidden",true);this.el.querySelector(".js-controls").classList.remove("images-panel__callout--compact");document.querySelector(".js-images-panel-header-title").textContent=t;document.querySelector(".js-close").classList.remove("images-panel__button--back")},openSelectedImagePreview:function e(t){var r=Twig.render(Twig.templates.images_panel_stock_image_preview,{asset:t.toJSON(),useFullUrl:window.outerWidth>c});var n=(0,o.default)("shared_components.stockimage.image_preview","Image preview");this.selectedImg=t;this.trigger("image:preview");document.querySelector(".js-confirm").setAttribute("disabled",true);this.preloadImageData(t).then(function(e){if(e.image&&h()>0){document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-uri",e.image.uri);document.querySelector(".js-confirm").removeAttribute("disabled")}});this.$(".js-stock-image-preview").append(r).removeAttr("hidden");this.el.querySelector(".js-stock-images").setAttribute("hidden",true);this.el.querySelector(".js-search-wrap").setAttribute("hidden",true);this.el.querySelector(".js-selection-confirm").removeAttribute("hidden");this.el.querySelector(".js-controls").classList.add("images-panel__callout--compact");document.querySelector(".js-images-panel-header-title").textContent=n;document.querySelector(".js-close").classList.add("images-panel__button--back");t.get("author")&&this.addImageAuthorCredit({name:t.get("author"),photoUrl:t.get("photo_url"),authorUrl:t.get("author_url")});this.addCloseAction()},onConfirm:function e(){var t=this;return l(regeneratorRuntime.mark(function e(){var r,o,a;return regeneratorRuntime.wrap(function e(s){while(1)switch(s.prev=s.next){case 0:r=document.querySelector(".settings-imagedetail__image");r&&(r.src=t.selectedImg.get("preview"));n.store.dispatch((0,i.saveDisabled)());n.store.dispatch((0,i.cancelDisabled)());o=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-uri");a=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-filename");t.setMixpanelSearchTerm();t.showImageLoadingUi();if(!t.inFilestack){s.next=12;break}t.filestackHandoff(o,a);s.next=14;break;case 12:s.next=14;return t.uploadImage(o,a);case 14:t.model.unset("closeAction");case 15:case"end":return s.stop()}},e)}))()},showImageLoadingUi:function e(){var t=(0,o.default)("shared_components.imagespanel.saving_stock_image","Retrieving stock image...");document.querySelector(".js-images-panel-header-title").textContent=t;this.el.querySelector(".js-stock-image-img-loading").removeAttribute("hidden");this.el.querySelector(".js-image-wrap").classList.add("stock-image-wrap--loading");this.el.querySelector(".js-stock-image-img").classList.add("stock-image__image--loading");this.el.querySelector(".js-selection-confirm").setAttribute("hidden","hidden");document.querySelector(".js-images-panel .js-close").setAttribute("hidden","hidden")},preloadImageData:function e(t){return l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return O("".concat(x(),"/stock-images/").concat(t.id));case 3:r=n.sent;if(!r.ok){n.next=6;break}return n.abrupt("return",r.json());case 6:return n.abrupt("return",null);case 9:n.prev=9;n.t0=n["catch"](0);console.error(n.t0);return n.abrupt("return",null);case 13:case"end":return n.stop()}},e,null,[[0,9]])}))()},filestackHandoff:function e(t,r){try{this.trigger("image:select",{stockImageUri:t,stockImageFilename:r})}catch(e){this.handleErrorUpload(e);this.reset()}},uploadImage:function e(t,r){var o=this;return l(regeneratorRuntime.mark(function e(){var a,s,l,u,c,d;return regeneratorRuntime.wrap(function e(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return o.getUploadToken();case 2:a=p.sent;s=new FormData;s.append("token",a);s.append("type","image");s.append("stockImageProviderRef",f);s.append("stockImageUri",t);s.append("stockImageFilename",r);s.append("siteRef",m()||o.siteRef);p.prev=10;p.next=13;return O("".concat(x(),"/users/").concat(v(),"/assets"),"POST",s);case 13:l=p.sent;p.next=16;return l.json();case 16:u=p.sent;n.store.dispatch((0,i.cancelEnabled)());if(!l.ok){p.next=28;break}c=u.result;o.globalAssets.add(c);k();p.next=24;return O("/refresh");case 24:d=p.sent;if(d.ok){o.trigger("image:select",c);n.store.dispatch((0,i.saveEnabled)())}p.next=30;break;case 28:o.handleErrorUpload(u.errorKey);o.reset();case 30:p.next=37;break;case 32:p.prev=32;p.t0=p["catch"](10);console.log(p.t0);o.handleErrorUpload(p.t0);o.reset();case 37:case"end":return p.stop()}},e,null,[[10,32]])}))()},reset:function e(){this.trigger("image:reset");this.hideNotification();document.querySelector(".images-panel__overlay").style.display="none";document.querySelector(".js-images-panel").style.display="inherit";n.store.dispatch((0,i.saveDisabled)());n.store.dispatch((0,i.cancelEnabled)())},hideNotification:function e(){var t=document.querySelector(".action-notification.action-notification--retrieving");t&&t.classList.remove("is-visible")},handleErrorUpload:function e(t){var r=(0,o.default)("shared_components.stockimage.stock_images","Stock images");var n=(0,o.default)("shared_components.stockimage.uploading_error_general","Were really sorry about this. Please email %1 so our support team can look into this for you",E());t&&"cannotUploadAccountHolderExceededStorageLimit"===t&&(n=(0,o.default)("shared_components.stockimage.uploading_error_exceeded_limit","You have exceeded the storage limit of %1MB available on your plan",P()));document.querySelector(".js-images-panel-header-title").textContent=r;this.el.querySelector(".js-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img").setAttribute("hidden","hidden");this.el.querySelector(".js-error-message").textContent=n;this.el.querySelector(".js-error").removeAttribute("hidden");document.querySelector(".js-images-panel .js-close").removeAttribute("hidden")},getUploadToken:function e(){return l(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return O("".concat(x(),"/users/").concat(App.session.get("userRef"),"/upload-tokens"),"POST");case 3:t=n.sent;if(!t.ok){n.next=9;break}n.next=7;return t.json();case 7:r=n.sent;return n.abrupt("return",r.token);case 9:n.next=14;break;case 11:n.prev=11;n.t0=n["catch"](0);return n.abrupt("return",null);case 14:return n.abrupt("return",null);case 15:case"end":return n.stop()}},e,null,[[0,11]])}))()},setMixpanelSearchTerm:function e(){var t={provider:"Getty",searchTerm:this.searchTerm};App.mixpanelTrack("Editor stock image save button",t)},buyCreditClicked:function e(){C()}});var T=t["default"]=A},27221(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=f(r(80971));var i=d(r(17724));var o=d(r(7323));var a=r(80219);var s=d(r(21983));var l=d(r(23933));var u=d(r(26832));var c=d(r(96342));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(f=function e(t,i){if(!i&&t&&t.__esModule)return t;var o,a,s={__proto__:null,default:t};if(null===t||"object"!=p(t)&&"function"!=typeof t)return s;if(o=i?n:r){if(o.has(t))return o.get(t);o.set(t,s)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(a.get||a.set)?o(s,l,a):s[l]=t[l]);return s})(e,t)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var h='<svg viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2.375 0H35.625C36.2549 0 36.859 0.250223 37.3044 0.695621C37.7498 1.14102 38 1.74511 38 2.375V35.625C38 36.2549 37.7498 36.859 37.3044 37.3044C36.859 37.7498 36.2549 38 35.625 38H2.375C1.74511 38 1.14102 37.7498 0.695621 37.3044C0.250223 36.859 0 36.2549 0 35.625V2.375C0 1.74511 0.250223 1.14102 0.695621 0.695621C1.14102 0.250223 1.74511 0 2.375 0Z" fill="#05A081"/>\n    <path d="M15.4375 24.9375H20.0248V20.482H21.4106C21.8978 20.482 22.3802 20.386 22.8303 20.1996C23.2804 20.0132 23.6893 19.7399 24.0338 19.3954C24.3783 19.051 24.6516 18.642 24.838 18.1919C25.0244 17.7418 25.1204 17.2594 25.1204 16.7722C25.1204 16.2851 25.0244 15.8027 24.838 15.3526C24.6516 14.9025 24.3783 14.4935 24.0338 14.1491C23.6893 13.8046 23.2804 13.5313 22.8303 13.3449C22.3802 13.1585 21.8978 13.0625 21.4106 13.0625H15.4375V24.9375ZM22.3998 27.3125H13.0625V10.6875H21.4106C22.9387 10.6872 24.4109 11.2619 25.5348 12.2973C26.6586 13.3327 27.3517 14.753 27.4763 16.276C27.6009 17.799 27.1479 19.3131 26.2074 20.5174C25.2669 21.7218 23.9076 22.5281 22.3998 22.7763V27.3125Z" fill="#fff"/>\n</svg>';function g(e){return/^image/.test(e.type)}function v(e){var t=true;_.each(e,function(e){e&&g(e)||(t=false)});return t}function m(){return s.default.container.BrandDataProvider.has("enableFilestack")}function y(){return Number(s.default.container.EnvDataProvider.get("maxFileUploadBytes"))}var b=10;var w=Marionette.ItemView.extend({events:{"change .js-upload-input":"handleFileSelection","click .js-upload":"openFileUpload","dragenter .js-upload-area":"handleDragEnter","dragover .js-upload-area":"handleDragOver","dragend .js-upload-area":"handleDragEnd","dragexit .js-upload-area":"handleDragEnd","drop .js-upload-area":"handleDrop","click .js-upload-error-back-btn":"errorBackBtnClicked"},initialize:function e(t){var r=this;this.collection=t.collection;this.siteRef=t.siteRef;this.listenTo(this,"upload:image",this.openFileUpload);this.userDataProvider=t.userDataProvider;var n=new Backbone.Wreqr.EventAggregator;this.chunkedUploader=new i.default({apiProxyBaseUrl:App.session.get("apiProxyBaseUrl"),csrfToken:App.session.get("csrfToken"),eventDispatcher:n,type:"image",progressCalculator:new o.default});n.on("file.uploaded",function(e){r.collection.add(e);if(r.model.get("filesNum")>1){r.uploaded=r.uploaded+1;r.uploadedAssets.push(e);r.uploaded===r.model.get("filesNum")&&r.trigger("images:upload:finished",r.uploadedAssets)}else r.trigger("image:upload",e)});n.on("file.progress",function(e){r.showProgress(e)});n.on("file.uploaderror",function(e,t){r.handleErrorUpload(e,t)});this.eventDispatcher=n;return this},getFilestackImageSources:function e(){var t=this;var r={label:"Pexels",name:"pexels",icon:h,mounted:function e(r,n){var i=Twig.render(Twig.templates.images_panel_stock_filestack);r.innerHTML=i;var o=new u.default({el:".js-stock-images",widgetType:t.model.get("widgetType"),model:t.model,siteRef:t.siteRef,globalAssets:BaseKit.Globals.imageAssets,inFilestack:true});t.listenTo(o,"image:preview",function(){var e=document.querySelector(".images-panel__content--filestack .js-close");e.removeAttribute("hidden");e.addEventListener("click",function(){o.closePreview();e.setAttribute("hidden",true)})});t.listenTo(o,"image:select",function(e){n.addCustomUrl({url:e.stockImageUri,type:"image/jpeg",filename:e.stockImageFilename})})}};var n=[{name:"clouddrive",integration:"clouddrive"},{name:"pexels",integration:r},{name:"facebook",integration:"facebook"},{name:"onedrive",integration:"onedrive"},{name:"picasa",integration:"googlephotos"},{name:"unsplash",integration:"unsplash"}];return n.filter(function(e){return s.default.container.BrandDataProvider.has("enableFilestack".concat(e.name.replace(/^\w/,function(e){return e.toUpperCase()})))}).map(function(e){return e.integration})},openFileUpload:function e(){var t=this;if(m()){var r=void 0!==this.$("#js-upload-input").attr("multiple");var i=r?b:1;var o=n.init(window.App.frontEndBucket.filestackApiKey);o.picker({fromSources:["local_file_system"].concat(this.getFilestackImageSources()),accept:["image/*"],maxFiles:i,maxSize:y(),onUploadDone:function e(r){return t.handleFileStackUpload(r)},lang:this._getDefaultFilestackLanguageCode()}).open()}else this.$("#js-upload-input").click()},handleDragEnter:function e(t){t.preventDefault();this.$(".js-upload-dropzone").addClass("is-drop-target")},handleDragEnd:function e(t){t.preventDefault();this.$(".js-upload-dropzone").removeClass("is-drop-target")},handleDragOver:function e(t){t.preventDefault()},handleDrop:function e(t){var r=t.originalEvent.dataTransfer.files;t.stopPropagation();t.preventDefault();r.length&&this.filesSelected(r)},handleFileStackUpload:function e(t){var r=this;var n=t.filesUploaded.length;if(n<1)return;this.model.set("filesNum",n);a.deviceFeaturesHelper.isMobileDevice()||this.$(".js-progress-indicator").attr("hidden","hidden");this.showUploadingUi();this.uploaded=0;this.uploadedAssets=[];this.trigger("image:upload:start");t.filesUploaded.forEach(function(e){var t={filestackImageHandle:e.handle,filestackImageFilename:e.filename};l.default.upload(null,t).then(function(e){r.eventDispatcher.trigger("file.uploaded",e);r.eventDispatcher.trigger("file.progress",Math.floor(r.uploaded/n*1e3)/10)}).catch(function(e){null!==e&&"object"===p(e)&&"status"in e&&r.eventDispatcher.trigger("file.uploaderror",e.status,e.errorKey)})})},handleFileSelection:function e(){var t=document.getElementById("js-upload-input");this.filesSelected(t.files)},handleFilesUpload:function e(t){if(v(t)){this.model.set("filesNum",t.length);this.showUploadingUi();this.uploaded=0;this.progressObj={};this.uploadedAssets=[];this.trigger("image:upload:start");this.chunkedUploader.upload(t)}else this.handleErrorUpload(400,"invalidFileFormat")},filesSelected:function e(t){this.handleFilesUpload(t)},showProgress:function e(t){this.$(".js-progress-indicator").attr("value",t);this.$(".js-progress-indicator-value").css("width","".concat(t,"%"))},showUploadingUi:function e(){var t=App.t("shared_components.imagespanel.uploading_image","Hold tight, were uploading your image now");this.model.get("filesNum")>1&&(t=App.t("shared_components.imagespanel.uploading_images","Hold tight, were uploading your images now"));this.$(".js-upload-title").text(App.t("shared_components.imagedetail.uploading","Uploading image"));this.$(".js-close-popup").attr("disabled","disabled");this.$(".js-upload-area").attr("hidden","hidden");this.$(".js-progress-ui").removeAttr("hidden");this.$(".js-progress-message").text(t)},handleErrorUpload:function e(t,r){var n=this;this.showErrorUI(t,r);this.model.errorTimeout=setTimeout(function(){n.trigger("image:upload:error")},5e3)},replaceJsUploadErrorMsg:function e(t){this.$(".js-upload-error-msg").text(t)},showErrorUI:function e(t,r){var n=Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100;var i=10;this.$(".js-upload-panel-content").attr("hidden","hidden");this.$(".js-upload-panel-error-content").removeAttr("hidden");if(r)switch(r){case"cannotUploadAccountHolderExceededStorageLimit":this.replaceJsUploadErrorMsg(App.t("shared_components.imagespanel.uploading_error_exceeded_limit","- you have exceeded the storage limit of %1MB.",n));break;case"maxUploadSizeExceeded":this.replaceJsUploadErrorMsg(App.t("shared_components.filesspanel.uploading_error_file_too_big","- the size of your uploaded file must be under %1MB.",i));break;case"invalidFileFormat":this.replaceJsUploadErrorMsg(App.t("shared_components.imagespanel.uploading_error_unsupported_file","Sorry, this file format is not supported."));break}400!==t&&this.$(".js-upload-error-msg").text(App.t("shared_components.imagespanel.uploading_error_general","- Were really sorry about this. Please email %1 so our support team can look into this for you",App.brand.supportEmail))},errorBackBtnClicked:function e(){if(this.model.errorTimeout){clearTimeout(this.model.errorTimeout);this.model.errorTimeout=null}this.trigger("image:upload:error")},_getDefaultFilestackLanguageCode:function e(){var t=["ca","da","de","en","es","fr","he","it","ja","ko","nl","no","pl","pt","sv","ru","vi","zh","tr","ar"];var r=this.userDataProvider.get("languageCode");-1!==r.indexOf("_")&&(r=r.split("_")[0]);if(-1!==t.indexOf(r))return r;return"en"}});var S=t["default"]=w},2385(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({events:{"click .js-add-images":"addImagesClicked"},initialize:function e(){return this},addImagesClicked:function e(){this.trigger("open:main-imagespanel")}});var n=t["default"]=r},20442(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(27686);var o=a(r(96342));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}var u=12;var c=616;var d=1;var f="https://unsplash.com/@USERNAME?utm_source=BaseKit&utm_medium=referral";function p(){return App.user.languageCode}function h(){return Math.round(parseInt(App.user.capabilities.storageLimit,10)/1048576*100)/100}function g(){return App.brand.supportEmail}function v(){return App.frontEndBucket.apiProxyBaseUrl}function m(){App.mixpanelTrack("Editor buy more credits button","")}function y(e){return b.apply(this,arguments)}function b(){b=l(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function e(s){while(1)switch(s.prev=s.next){case 0:r=a.length>1&&void 0!==a[1]?a[1]:"GET";n=a.length>2&&void 0!==a[2]?a[2]:null;i=new Headers;i.append("X-CSRF-TOKEN",App.frontEndBucket.csrfToken);o=new Request(t,{method:r,headers:i,credentials:"include",body:n});return s.abrupt("return",window.fetch(o));case 6:case"end":return s.stop()}},e)}));return b.apply(this,arguments)}var w=Marionette.ItemView.extend({events:{"click .js-image":"onImageClick","click .js-previous":"onPreviousClick","click .js-next":"onNextClick","click .js-confirm":"onConfirm","click .js-buy-credits":"buyCreditClicked","click .js-search":"onSearchSubmit"},initialize:function e(t){this.searchTerm="";this.globalAssets=t.globalAssets;this.siteRef=t.siteRef;this.currentOffset=d;this.selectedImg="";this.collection=new Backbone.Collection;this.unsubscribe=n.store.subscribe(this.handleStateChange.bind(this));return this},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=n.store.getState();t.ui.panel.cancelActive?this.enableCancel():this.disableCancel()},disableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&!t.disabled&&t.setAttribute("disabled","disabled")},enableCancel:function e(){var t=document.querySelector(".js-cancel-settings");t&&t.disabled&&t.removeAttribute("disabled")},onSearchSubmit:function e(t){t.preventDefault();var r=this.el.querySelector(".js-search-value").value;r&&this.doSearch(r,1)},updateImagesCollection:function e(t){this.collection.set(t)},searchError:function e(){this.hideSearchLoadingUi();this.renderHTMLWithResult();this.updateImagesCollection([])},doSearch:function e(t,r){var n=this;return l(regeneratorRuntime.mark(function e(){var i,o;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:n.searchTerm=t;n.showSearchLoadingUi();a.prev=2;a.next=5;return y("".concat(v(),"/stock-images?search=").concat(t,"&offset=").concat(r,"&count=").concat(u,"&language=").concat(p()));case 5:i=a.sent;if(!i.ok){a.next=16;break}a.next=9;return i.json();case 9:o=a.sent;n.hideSearchLoadingUi();n.renderHTMLWithResult(o.result,r);n.updateImagesCollection(o.result.images);n.currentOffset=r+u;a.next=17;break;case 16:n.searchError();case 17:a.next=22;break;case 19:a.prev=19;a.t0=a["catch"](2);n.searchError();case 22:case"end":return a.stop()}},e,null,[[2,19]])}))()},renderHTMLWithResult:function e(t,r){var n=t?t.images:[];var i=t?t.result_count:void 0;var o=Twig.render(Twig.templates.images_panel_unsplash_stock_image_list,{images:n,currentOffset:r,searchTotalCount:i});this.el.querySelector(".js-image-list").innerHTML=o;this.el.querySelector(".js-image-list").removeAttribute("hidden")},onImageClick:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-ref").replace("image-ref-","");var n=this.collection.find(function(e){return e.get("id")===r});this.openSelectedImagePreview(n)},onPreviousClick:function e(){var t=this.el.querySelector(".js-search-value").value;var r=this.currentOffset-2*u;t&&r>0&&this.doSearch(t,r)},onNextClick:function e(){var t=this.el.querySelector(".js-search-value").value;t&&this.doSearch(t,this.currentOffset)},showSearchLoadingUi:function e(){try{this.el.querySelector(".js-image-list").setAttribute("hidden",true);this.el.querySelector(".js-landing-message").setAttribute("hidden",true);this.el.querySelector(".js-images-loading").removeAttribute("hidden")}catch(e){console.error(e)}},hideSearchLoadingUi:function e(){this.el.querySelector(".js-images-loading").setAttribute("hidden",true)},addCloseAction:function e(){var t=this;this.model.set("closeAction",function(){t.closePreview();t.model.unset("closeAction")})},closePreview:function e(){var t=(0,o.default)("shared_components.stockimage.stock_images","Stock images");this.el.querySelector(".js-stock-image-preview").setAttribute("hidden",true);this.el.querySelector(".js-image-wrap").parentNode.removeChild(this.el.querySelector(".js-image-wrap"));this.el.querySelector(".js-stock-images").removeAttribute("hidden");this.el.querySelector(".js-search-wrap").removeAttribute("hidden");this.el.querySelector(".js-selection-confirm").setAttribute("hidden",true);this.el.querySelector(".js-controls").classList.remove("images-panel__callout--compact");this.el.querySelector(".js-attribution-display").setAttribute("hidden",true);document.querySelector(".js-images-panel-header-title").textContent=t;document.querySelector(".js-close").classList.remove("images-panel__button--back")},openSelectedImagePreview:function e(t){var r=Twig.render(Twig.templates.images_panel_stock_image_preview,{asset:t.toJSON(),useFullUrl:window.outerWidth>c});var n=(0,o.default)("shared_components.stockimage.image_preview","Image preview");var i=f.replace("USERNAME",t.get("username"));this.el.querySelector(".js-attribution-link").setAttribute("href",i);this.el.querySelector(".js-attribution-link").innerText=t.get("author");this.$(".js-stock-image-preview").append(r).removeAttr("hidden");this.selectedImg=t;document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-uri",t.get("filename"));document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-download-endpoint",t.get("download"));document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-width",t.get("imageWidth"));document.querySelector(".js-image-wrap").setAttribute("data-stock-image-provider-image-height",t.get("imageHeight"));document.querySelector(".js-confirm").removeAttribute("disabled");this.el.querySelector(".js-stock-images").setAttribute("hidden",true);this.el.querySelector(".js-search-wrap").setAttribute("hidden",true);this.el.querySelector(".js-selection-confirm").removeAttribute("hidden");this.el.querySelector(".js-controls").classList.add("images-panel__callout--compact");this.el.querySelector(".js-attribution-display").removeAttribute("hidden");document.querySelector(".js-images-panel-header-title").textContent=n;document.querySelector(".js-close").classList.add("images-panel__button--back");this.addCloseAction()},triggerUnsplashDownloadEvent:function e(t){y("".concat(v(),"/stock-image?endpoint=").concat(t))},handleUnsplashClick:function e(t,r,o,a){this.triggerUnsplashDownloadEvent(r);this.trigger("image:select",{url:t,imageWidth:o,imageHeight:a,type:"jpg"});n.store.dispatch((0,i.saveEnabled)())},onConfirm:function e(){var t=this;return l(regeneratorRuntime.mark(function e(){var r,o,a,s,l;return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:r=document.querySelector(".settings-imagedetail__image");r&&(r.src=t.selectedImg.get("preview"));n.store.dispatch((0,i.saveDisabled)());n.store.dispatch((0,i.cancelDisabled)());o=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-uri");a=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-download-endpoint");s=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-width");l=t.el.querySelector(".js-image-wrap").getAttribute("data-stock-image-provider-image-height");t.setMixpanelSearchTerm();t.handleUnsplashClick(o,a,s,l);t.model.unset("closeAction");case 11:case"end":return u.stop()}},e)}))()},showImageLoadingUi:function e(){var t=(0,o.default)("shared_components.imagespanel.saving_stock_image","Retrieving stock image...");document.querySelector(".js-images-panel-header-title").textContent=t;this.el.querySelector(".js-stock-image-img-loading").removeAttribute("hidden");this.el.querySelector(".js-image-wrap").classList.add("stock-image-wrap--loading");this.el.querySelector(".js-stock-image-img").classList.add("stock-image__image--loading");this.el.querySelector(".js-selection-confirm").setAttribute("hidden","hidden");document.querySelector(".js-images-panel .js-close").setAttribute("hidden","hidden")},reset:function e(){this.trigger("image:reset");this.hideNotification();document.querySelector(".images-panel__overlay").style.display="none";document.querySelector(".js-images-panel").style.display="inherit";n.store.dispatch((0,i.saveDisabled)());n.store.dispatch((0,i.cancelEnabled)())},hideNotification:function e(){var t=document.querySelector(".action-notification.action-notification--retrieving");t&&t.classList.remove("is-visible")},handleErrorUpload:function e(t){var r=(0,o.default)("shared_components.stockimage.stock_images","Stock images");var n=(0,o.default)("shared_components.stockimage.uploading_error_general","Were really sorry about this. Please email %1 so our support team can look into this for you",g());t&&"cannotUploadAccountHolderExceededStorageLimit"===t&&(n=(0,o.default)("shared_components.stockimage.uploading_error_exceeded_limit","You have exceeded the storage limit of %1MB available on your plan",h()));document.querySelector(".js-images-panel-header-title").textContent=r;this.el.querySelector(".js-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img-loading").setAttribute("hidden","hidden");this.el.querySelector(".js-stock-image-img").setAttribute("hidden","hidden");this.el.querySelector(".js-error-message").textContent=n;this.el.querySelector(".js-error").removeAttribute("hidden");document.querySelector(".js-images-panel .js-close").removeAttribute("hidden")},getUploadToken:function e(){return l(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return y("".concat(v(),"/users/").concat(App.session.get("userRef"),"/upload-tokens"),"POST");case 3:t=n.sent;if(!t.ok){n.next=9;break}n.next=7;return t.json();case 7:r=n.sent;return n.abrupt("return",r.token);case 9:n.next=14;break;case 11:n.prev=11;n.t0=n["catch"](0);return n.abrupt("return",null);case 14:return n.abrupt("return",null);case 15:case"end":return n.stop()}},e,null,[[0,11]])}))()},setMixpanelSearchTerm:function e(){var t={provider:"Unsplash",searchTerm:this.searchTerm};App.mixpanelTrack("Editor stock image save button",t)},buyCreditClicked:function e(){m()}});var _=t["default"]=w},94895(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(23933));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)})}}function l(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=null;var f={open:function e(t){d?p(t):g().then(p.bind(null,t))}};function p(e){if(e.image.src.includes("data:image/"))return;var t=document.querySelector(".image-editor");var r=document.querySelector(".js-image-editor-overlay");t.classList.add("open");var i=new Image;var o=Math.round((new Date).getTime()/1e3);i.crossOrigin="anonymous";var a=e.image.src.split(".").pop().toLowerCase();var s="png"===a?a:"jpeg";var l="image/".concat(s);i.src="".concat(e.image.src,"?=").concat(o);d=new PhotoEditorSDK.UI.DesktopUI({container:t,language:b(),displayWelcomeMessage:false,responsive:true,license:y(),editor:{image:i,displayCloseButton:true,enableExport:true,maxMegaPixels:{desktop:2,mobile:2},export:{download:false,type:"data-url",format:l}},assets:{baseUrl:"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/assets")},extensions:{languages:h()}});d.on("export",function(t){r.classList.add("active");var i=e.image.dataset.filename;i||(i=e.image.src.split("/").pop().split("?")[0]);var o={data:t,filename:i};n.default.upload(null,{photoEditorImage:o}).then(function(t){e.onSave(t);d.emit("close")}).catch(function(t){e.onError(t);d.emit("close")})});d.on("close",function(){t.classList.remove("open");r.classList.remove("active");d.dispose()})}function h(){return l({},b(),{pesdk:{common:{title:{error:App.t("shared_components.image_editor.common.title","Error")},text:{loading:App.t("shared_components.image_editor.common.text","Loading...")},button:{cancel:App.t("shared_components.image_editor.common.button","Cancel")}},editor:{button:{export:App.t("shared_components.image_editor.editor.button.export","Done"),close:App.t("shared_components.image_editor.editor.button.close","Close"),newImageChangesLostWarningYes:App.t("shared_components.image_editor.editor.button.newImageChangesLostWarningYes","Yes"),newImageChangesLostWarningNo:App.t("shared_components.image_editor.editor.button.newImageChangesLostWarningNo","No"),discardChangesWarningKeep:App.t("shared_components.image_editor.editor.button.discardChangesWarningKeep","Keep changes"),discardChangesWarningDiscard:App.t("shared_components.image_editor.editor.button.discardChangesWarningDiscard","Discard changes")},title:{newImageChangesLostWarning:App.t("shared_components.image_editor.editor.title.newImageChangesLostWarning","New Image"),imageResizedWarning_maxMegaPixels:App.t("shared_components.image_editor.editor.title.imageResizedWarning_maxMegaPixels","Image resized"),imageResizedWarning_maxDimensions:App.t("shared_components.image_editor.editor.title.imageResizedWarning_maxDimensions","Image resized"),fontLoadingError:App.t("shared_components.image_editor.editor.title.fontLoadingError","Failed to load font"),discardChangesWarning:App.t("shared_components.image_editor.editor.title.discardChangesWarning","Discard changes?")},text:{newImageChangesLostWarning:App.t("shared_components.image_editor.editor.text.newImageChangesLostWarning","Any unsaved changes will be lost. Continue?"),imageResizedWarning_maxMegaPixels:App.t("shared_components.image_editor.editor.text.imageResizedWarning_maxMegaPixels","Your image exceeds the maximum size of ${maxMegaPixels} megapixels and has therefore been resized to ${width}x${height} pixels."),imageResizedWarning_maxDimensions:App.t("shared_components.image_editor.editor.text.imageResizedWarning_maxDimensions","Due to hardware limitations your image has been resized to ${width}x${height} pixels."),renderingError:App.t("shared_components.image_editor.editor.text.renderingError","An error has occurred while rendering the image."),exporting:App.t("shared_components.image_editor.editor.text.exporting","Exporting..."),resizing:App.t("shared_components.image_editor.editor.text.resizing","Resizing..."),loadingFonts:App.t("shared_components.image_editor.editor.text.loadingFonts","Loading fonts..."),fontLoadingError:App.t("shared_components.image_editor.editor.text.fontLoadingError","The following fonts could not be loaded: ${fonts}."),webcamUnavailableError:App.t("shared_components.image_editor.editor.text.webcamUnavailableError","Unable to display webcam image (Error: ${error})"),invalidFileTypeError:App.t("shared_components.image_editor.editor.text.invalidFileTypeError","The file type ${fileType} is not supported."),imageLoadingError:App.t("shared_components.image_editor.editor.text.imageLoadingError","Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported."),discardChangesWarning:App.t("shared_components.image_editor.editor.text.discardChangesWarning","You have unsaved changes. Are you sure you want to discard the changes?")}},library:{title:{name:App.t("shared_components.image_editor.library.title.name","Library")},button:{fileDropZone:App.t("shared_components.image_editor.library.button.fileDropZone","Drag image here or click to browse for one."),fileDropZoneHovered:App.t("shared_components.image_editor.library.button.fileDropZoneHovered","Drop to upload.")},placeholder:{search:App.t("shared_components.image_editor.library.placeholder.search","Search Library")},text:{noResults:App.t("shared_components.image_editor.library.text.noResults","No results")}},transform:{title:{name:App.t("shared_components.image_editor.transform.title.name","Transform")},button:{reset:App.t("shared_components.image_editor.transform.button.reset","Reset Default")},asset:{imgly_transforms_common:{name:App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.name","Common Crops"),asset:{imgly_transform_common_custom:App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_custom","Custom"),imgly_transform_common_square:App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_square","Square"),"imgly_transform_common_4-3":App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_4-3","4:3"),"imgly_transform_common_16-9":App.t("shared_components.image_editor.transform.asset.imgly_transforms_common.asset.imgly_transform_common_16-9","16:9")}},imgly_transforms_facebook:{name:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.name","Facebook"),asset:{imgly_transform_facebook_ad:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_ad","Ad"),imgly_transform_facebook_post:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_post","Post"),imgly_transform_facebook_cover:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_cover","Cover"),imgly_transform_facebook_profile:App.t("shared_components.image_editor.transform.asset.imgly_transforms_facebook.asset.imgly_transform_facebook_profile","Profile Pic")}}},placeholder:{width:App.t("shared_components.image_editor.transform.placeholder.width","w"),height:App.t("shared_components.image_editor.transform.placeholder.height","h")}},filter:{asset:{identity:App.t("shared_components.image_editor.transform.filter.asset.identity","None"),imgly_lut_celsius:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_celsius","Celsius"),imgly_lut_chest:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_chest","Chest"),imgly_lut_fixie:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_fixie","Fixie"),imgly_lut_fridge:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_fridge","Fridge"),imgly_lut_front:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_front","Front"),imgly_lut_k2:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_k2","K2"),imgly_lut_mellow:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_mellow","Mellow"),imgly_lut_sin:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_sin","Sin"),imgly_lut_texas:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_texas","Texas"),imgly_lut_ad1920:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_ad1920","A.D."),imgly_lut_ancient:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_ancient","Ancient"),imgly_lut_bleached:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_bleached","Bleached"),imgly_lut_bleachedblue:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_bleachedblue","Bleached Blue"),imgly_lut_blues:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_blues","Blues"),imgly_lut_blueshadows:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_blueshadows","Blue Shadows"),imgly_lut_breeze:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_breeze","Breeze"),imgly_lut_bw:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_bw","B & W"),imgly_lut_classic:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_classic","Classic"),imgly_lut_colorful:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_colorful","Colorful"),imgly_lut_cool:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_cool","Cool"),imgly_lut_cottoncandy:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_cottoncandy","Cotton Candy"),imgly_lut_creamy:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_creamy","Creamy"),imgly_lut_eighties:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_eighties","Eighties"),imgly_lut_elder:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_elder","Elder"),imgly_lut_evening:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_evening","Evening"),imgly_lut_fall:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_fall","Fall"),imgly_lut_food:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_food","Food"),imgly_lut_glam:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_glam","Glam"),imgly_lut_gobblin:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_gobblin","Gobblin"),imgly_lut_highcarb:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_highcarb","High Carb"),imgly_lut_highcontrast:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_highcontrast","High Contrast"),imgly_lut_k1:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_k1","K1"),imgly_lut_k6:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_k6","K6"),imgly_lut_kdynamic:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_kdynamic","KDynamic"),imgly_lut_keen:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_keen","Keen"),imgly_lut_lenin:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_lenin","Lenin"),imgly_lut_litho:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_litho","Litho"),imgly_lut_lomo100:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_lomo100","Lomo 100"),imgly_lut_lucid:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_lucid","Lucid"),imgly_lut_neat:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_neat","Neat"),imgly_lut_nogreen:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_nogreen","No Green"),imgly_lut_orchid:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_orchid","Orchid"),imgly_lut_pale:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_pale","Pale"),imgly_lut_pitched:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_pitched","Pitched"),imgly_lut_plate:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plate","Plate"),imgly_lut_pola669:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_pola669","Pola 669"),imgly_lut_polasx:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_polasx","Pola SX"),imgly_lut_pro400:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_pro400","Pro 400"),imgly_lut_quozi:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_quozi","Quozi"),imgly_lut_sepiahigh:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_plateimgly_lut_sepiahigh","Sepia High"),imgly_lut_settled:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_settled","Settled"),imgly_lut_seventies:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_seventies","Seventies"),imgly_lut_soft:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_soft","Soft"),imgly_lut_steel:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_steel","Steel"),imgly_lut_summer:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_summer","Summer"),imgly_lut_sunset:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_sunset","Sunset"),imgly_lut_tender:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_tender","Tender"),imgly_lut_twilight:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_twilight","Twilight"),imgly_lut_winter:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_winter","Winter"),imgly_lut_x400:App.t("shared_components.image_editor.transform.filter.asset.imgly_lut_x400","X400")},title:{name:App.t("shared_components.image_editor.transform.filter.title.name","Filters")}},adjustments:{button:{reset:App.t("shared_components.image_editor.transform.adjustments.button.reset","Reset Default")},title:{name:App.t("shared_components.image_editor.transform.adjustments.title.name","Adjust"),basics:App.t("shared_components.image_editor.transform.adjustments.title.basics","Basics"),refinements:App.t("shared_components.image_editor.transform.adjustments.title.refinements","Refinements")},text:{brightness:App.t("shared_components.image_editor.transform.adjustments.text.brightness","Brightness"),saturation:App.t("shared_components.image_editor.transform.adjustments.text.saturation","Saturation"),contrast:App.t("shared_components.image_editor.transform.adjustments.text.contrast","Contrast"),gamma:App.t("shared_components.image_editor.transform.adjustments.text.gamma","Gamma"),clarity:App.t("shared_components.image_editor.transform.adjustments.text.clarity","Clarity"),exposure:App.t("shared_components.image_editor.transform.adjustments.text.exposure","Exposure"),shadows:App.t("shared_components.image_editor.transform.adjustments.text.shadows","Shadows"),highlights:App.t("shared_components.image_editor.transform.adjustments.text.highlights","Highlights"),whites:App.t("shared_components.image_editor.transform.adjustments.text.whites","Whites"),blacks:App.t("shared_components.image_editor.transform.adjustments.text.blacks","Blacks"),temperature:App.t("shared_components.image_editor.transform.adjustments.text.temperature","Temperature"),sharpness:App.t("shared_components.image_editor.transform.adjustments.text.sharpness","Sharpness")}},focus:{title:{name:App.t("shared_components.image_editor.transform.focus.title.name","Focus")},button:{none:App.t("shared_components.image_editor.transform.focus.button.none","None"),radial:App.t("shared_components.image_editor.transform.focus.button.radial","Radial"),mirrored:App.t("shared_components.image_editor.transform.focus.button.mirrored","Mirrored"),linear:App.t("shared_components.image_editor.transform.focus.button.linear","Linear"),gaussian:App.t("shared_components.image_editor.transform.focus.button.gaussian","Gaussian")}},text:{title:{name:App.t("shared_components.image_editor.transform.text.title.name","Text"),font:App.t("shared_components.image_editor.transform.text.title.font","Font"),size:App.t("shared_components.image_editor.transform.text.title.size","Size"),spacing:App.t("shared_components.image_editor.transform.text.title.spacing","Spacing"),line:App.t("shared_components.image_editor.transform.text.title.line","Line"),background:App.t("shared_components.image_editor.transform.text.title.background","Background")},placeholder:{defaultText:App.t("shared_components.image_editor.transform.text.placeholder.defaultText","Double-click to edit!")},button:{new:App.t("shared_components.image_editor.transform.text.button.new","New Text")}},textdesign:{title:{name:App.t("shared_components.image_editor.transform.textdesign.title.name","Text Design"),input:App.t("shared_components.image_editor.transform.textdesign.title.input","Text")},button:{invert:App.t("shared_components.image_editor.transform.textdesign.button.invert","Text as mask")}},sticker:{title:{name:App.t("shared_components.image_editor.transform.sticker.title.name","Stickers"),opacity:App.t("shared_components.image_editor.transform.sticker.title.opacity","Opacity")},text:{stickerLoadingError:App.t("shared_components.image_editor.transform.sticker.text.stickerLoadingError","Failed to load sticker ${path}.")},button:{replace:App.t("shared_components.image_editor.transform.sticker.button.replace","Replace"),new:App.t("shared_components.image_editor.transform.sticker.button.new","New Sticker"),fill:App.t("shared_components.image_editor.transform.sticker.button.fill","Fill")},asset:{imgly_sticker_emoticons:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons","Emoticons"),imgly_sticker_emoticons_alien:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_alien","Alien"),imgly_sticker_emoticons_angel:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_angel","Angel"),imgly_sticker_emoticons_angry:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_angry","Angry"),imgly_sticker_emoticons_anxious:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_anxious","Anxious"),imgly_sticker_emoticons_asleep:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_asleep","Asleep"),imgly_sticker_emoticons_attention:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_attention","Attention"),imgly_sticker_emoticons_baby_chicken:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_baby_chicken","Baby Chicken"),imgly_sticker_emoticons_batman:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_batman","Batman"),imgly_sticker_emoticons_beer:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_beer","Beer"),imgly_sticker_emoticons_black:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_black","Black"),imgly_sticker_emoticons_blue:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_blue","Blue"),imgly_sticker_emoticons_blush:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_blush","Blush"),imgly_sticker_emoticons_boxer:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_boxer","Boxer"),imgly_sticker_emoticons_business:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_business","Business"),imgly_sticker_emoticons_chicken:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_chicken","Chicken"),imgly_sticker_emoticons_cool:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_cool","Cool"),imgly_sticker_emoticons_cry:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_cry","Cry"),imgly_sticker_emoticons_deceased:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_deceased","Deceased"),imgly_sticker_emoticons_devil:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_devil","Devil"),imgly_sticker_emoticons_duckface:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_duckface","Duckface"),imgly_sticker_emoticons_furious:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_furious","Furious"),imgly_sticker_emoticons_grin:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_grin","Grin"),imgly_sticker_emoticons_guitar:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_guitar","Guitar"),imgly_sticker_emoticons_harry_potter:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_harry_potter","Harry Potter"),imgly_sticker_emoticons_hippie:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_hippie","Hippie"),imgly_sticker_emoticons_hitman:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_hitman","Hitman"),imgly_sticker_emoticons_humourous:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_humourous","Humourous"),imgly_sticker_emoticons_idea:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_idea","Idea"),imgly_sticker_emoticons_impatient:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_impatient","Impatient"),imgly_sticker_emoticons_kiss:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_kiss","Kiss"),imgly_sticker_emoticons_kisses:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_kisses","Kisses"),imgly_sticker_emoticons_laugh:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_laugh","Laugh"),imgly_sticker_emoticons_loud_cry:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_loud_cry","Loud Cry"),imgly_sticker_emoticons_loving:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_loving","Loving"),imgly_sticker_emoticons_masked:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_masked","Masked"),imgly_sticker_emoticons_music:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_music","Music"),imgly_sticker_emoticons_nerd:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_nerd","Nerd"),imgly_sticker_emoticons_ninja:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_ninja","Ninja"),imgly_sticker_emoticons_not_speaking_to_you:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_not_speaking_to_you","Not speaking to you"),imgly_sticker_emoticons_pig:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_pig","Pig"),imgly_sticker_emoticons_pumpkin:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_pumpkin","Pumpkin"),imgly_sticker_emoticons_question:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_question","Question"),imgly_sticker_emoticons_rabbit:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_rabbit","Rabbit"),imgly_sticker_emoticons_sad:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sad","Sad"),imgly_sticker_emoticons_sick:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sick","Sick"),imgly_sticker_emoticons_skateboard:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_skateboard","Skateboard"),imgly_sticker_emoticons_skull:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_skull","Skull"),imgly_sticker_emoticons_sleepy:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sleepy","Sleepy"),imgly_sticker_emoticons_smile:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_smile","Smile"),imgly_sticker_emoticons_smoking:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_smoking","Smoking"),imgly_sticker_emoticons_sobbing:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sobbing","Sobbing"),imgly_sticker_emoticons_star:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_star","Star"),imgly_sticker_emoticons_steaming_furious:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_steaming_furious","Steaming Furious"),imgly_sticker_emoticons_sunbathing:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_sunbathing","Sunbathing"),imgly_sticker_emoticons_tired:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_tired","Tired"),imgly_sticker_emoticons_tongue_out_wink:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_tongue_out_wink","Tongue out wink"),imgly_sticker_emoticons_wave:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wave","Wave"),imgly_sticker_emoticons_wide_grin:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wide_grin","Wide Grin"),imgly_sticker_emoticons_wink:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wink","Wink"),imgly_sticker_emoticons_wrestler:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_emoticons_wrestler","Wrestler"),imgly_sticker_shapes:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes","Shapes"),imgly_sticker_shapes_arrow_02:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_arrow_02","Arrow 1"),imgly_sticker_shapes_arrow_03:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_arrow_03","Arrow 2"),imgly_sticker_shapes_badge_01:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_01","Badge 1"),imgly_sticker_shapes_badge_11:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_11","Badge 5"),imgly_sticker_shapes_badge_12:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_12","Badge 6"),imgly_sticker_shapes_badge_13:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_13","Badge 7"),imgly_sticker_shapes_badge_15:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_15","Badge 8"),imgly_sticker_shapes_badge_18:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_18","Badge 9"),imgly_sticker_shapes_badge_19:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_19","Badge 10"),imgly_sticker_shapes_badge_20:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_20","Badge 11"),imgly_sticker_shapes_badge_28:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_28","Badge 12"),imgly_sticker_shapes_badge_32:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_32","Badge 13"),imgly_sticker_shapes_badge_35:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_35","Badge 14"),imgly_sticker_shapes_badge_36:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_36","Badge 15"),imgly_sticker_shapes_badge_04:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_04","Badge 2"),imgly_sticker_shapes_badge_06:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_06","Badge 3"),imgly_sticker_shapes_badge_08:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_badge_08","Badge 4"),imgly_sticker_shapes_spray_01:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_spray_01","Spray 1"),imgly_sticker_shapes_spray_03:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_spray_03","Spray 2"),imgly_sticker_shapes_spray_04:App.t("shared_components.image_editor.transform.sticker.asset.imgly_sticker_shapes_spray_04","Spray 3")}},brush:{title:{name:App.t("shared_components.image_editor.transform.brush.title.name","Brush"),width:App.t("shared_components.image_editor.transform.brush.title.width","Width"),hardness:App.t("shared_components.image_editor.transform.brush.title.hardness","Hardness"),settings:App.t("shared_components.image_editor.transform.brush.title.settings","Brush Settings")}},frame:{title:{name:App.t("shared_components.image_editor.transform.frame.title.name","Frames"),opacity:App.t("shared_components.image_editor.transform.frame.title.opacity","Opacity"),width:App.t("shared_components.image_editor.transform.frame.title.width","Width")},button:{fill:App.t("shared_components.image_editor.transform.frame.button.fill","Fill"),replace:App.t("shared_components.image_editor.transform.frame.button.replace","Replace"),none:App.t("shared_components.image_editor.transform.frame.button.none","None")},asset:{imgly_frame_dia:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_dia","Dia"),imgly_frame_art_decor:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_art_decor","Art Decor"),imgly_frame_black_passepartout:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_black_passepartout","Black Passepartout"),imgly_frame_lowpoly_shadow:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_lowpoly_shadow","Low Poly"),imgly_frame_wood_passepartout:App.t("shared_components.image_editor.transform.frame.asset.imgly_frame_wood_passepartout","Wood Passepartout")}},overlay:{title:{name:App.t("shared_components.image_editor.transform.overlay.title.name","Overlays"),blending:App.t("shared_components.image_editor.transform.overlay.title.blending","Blending"),none:App.t("shared_components.image_editor.transform.overlay.title.none","None"),normal:App.t("shared_components.image_editor.transform.overlay.title.normal","Normal"),overlay:App.t("shared_components.image_editor.transform.overlay.title.overlay","Overlay"),hardLight:App.t("shared_components.image_editor.transform.overlay.title.hardLight","Hard Light"),softLight:App.t("shared_components.image_editor.transform.overlay.title.softLight","Soft Light"),multiply:App.t("shared_components.image_editor.transform.overlay.title.multiply","Multiply"),darken:App.t("shared_components.image_editor.transform.overlay.title.darken","Darken"),lighten:App.t("shared_components.image_editor.transform.overlay.title.lighten","Lighten"),screen:App.t("shared_components.image_editor.transform.overlay.title.screen","Screen"),colorBurn:App.t("shared_components.image_editor.transform.overlay.title.colorBurn","Color Burn")},button:{none:App.t("shared_components.image_editor.transform.overlay.button.none","None")},asset:{imgly_overlay_bokeh:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_bokeh","Bokeh"),imgly_overlay_chop:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_chop","Chop"),imgly_overlay_clouds:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_clouds","Clouds"),imgly_overlay_golden:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_golden","Golden"),imgly_overlay_grain:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_grain","Grain"),imgly_overlay_hearts:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_hearts","Hearts"),imgly_overlay_lightleak1:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_lightleak1","Light Leak 1"),imgly_overlay_lightleak2:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_lightleak2","Light Leak 2"),imgly_overlay_metal:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_metal","Metal"),imgly_overlay_mosaic:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_mosaic","Mosaic"),imgly_overlay_painting:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_painting","Painting"),imgly_overlay_paper:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_paper","Paper"),imgly_overlay_rain:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_rain","Rain"),imgly_overlay_vintage:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_vintage","Vintage"),imgly_overlay_wall1:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_wall1","Wall"),imgly_overlay_wall2:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_wall2","Wall 2"),imgly_overlay_wood:App.t("shared_components.image_editor.transform.overlay.asset.imgly_overlay_wood","Wood")}}}})}function g(){var e=["".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/css/PhotoEditorSDK.UI.DesktopUI.min.css"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/lib/react.production.min.js"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/lib/react-dom.production.min.js"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/PhotoEditorSDK.min.js"),"".concat(App.assetBaseUrl(),"/libs/photoeditorsdk/js/PhotoEditorSDK.UI.DesktopUI.min.js")];return new Promise(function(){var t=s(regeneratorRuntime.mark(function t(r){var n,i,o;return regeneratorRuntime.wrap(function t(a){while(1)switch(a.prev=a.next){case 0:n=0,i=e;case 1:if(!(n<i.length)){a.next=8;break}o=i[n];a.next=5;return v(o);case 5:n++;a.next=1;break;case 8:r();case 9:case"end":return a.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}function v(e){return m.apply(this,arguments)}function m(){m=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(e){var r=t.split(".").pop();var n=null;if("js"===r){n=document.createElement("script");n.type="text/javascript";n.src=t}else{n=document.createElement("link");n.href=t;n.type="text/css";n.rel="stylesheet"}n.onload=function(){e()};document.head.appendChild(n)}));case 1:case"end":return r.stop()}},e)}));return m.apply(this,arguments)}function y(){return App.session.get("photoEditorApiKey")}function b(){return App.session.get("languageCode")}var w=t["default"]=f},23933(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={upload:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o=new Promise(function(e,o){n().then(function(n){i(t,n,r).then(function(t){e(t)}).catch(function(e){o(e)})}).catch(function(e){o(e)})});return o}};function n(){var e="".concat(a(),"/users/").concat(s(),"/upload-tokens");var t=new Promise(function(t,r){window.fetch(e,o()).then(function(e){200!==e.status?r(e):e.json().then(function(e){t(e.token)})})});return t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t=arguments.length>1?arguments[1]:void 0;var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=new Promise(function(n,i){var l=Object.assign({token:t,siteRef:u(),url:e,type:"image"},r);var c={body:JSON.stringify(l)};var d="".concat(a(),"/users/").concat(s(),"/assets");window.fetch(d,_.extend(o(),c)).then(function(e){200!==e.status?e.json().then(function(e){i(e)}):e.json().then(function(e){n(e.result)})})});return n}function o(){return{credentials:"include",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":l()}}}function a(){return App.frontEndBucket.apiProxyBaseUrl}function s(){return App.session.get("userRef")}function l(){return App.frontEndBucket.csrfToken}function u(){return App.session.get("siteRef")}var c=t["default"]=r},10907(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(97382));var i=o(r(88855));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(){s(this,e)}u(e,[{key:"build",value:function e(){Cocktail.mixin(n.default,i.default);return new n.default}}]);return e}();var p=t["default"]=f},97382(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=d(r(96342));var i=d(r(9385));var o=r(83502);var a=r(27686);var s=r(63831);var l=r(88052);var u=r(69632);var c=d(r(72112));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)})}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(function(e){return"folder"!==e.type})}function g(e,t){var r=[];var i=o.store.getState().user.sites;i.forEach(function(i){var o=[];var a=i.ref;var s=i.primaryDomain;var l="desktop"===i.siteType;var u=i.reverseParentRef;if(null!==s&&l)r.push({value:a,selected:false,title:s.domainName,text:s.domainName});else if(null===s&&l){i.domains.forEach(function(e){o.push(parseInt(e,10))});var c=Math.max.apply(null,o);void 0!==i.domains[c]&&r.push({value:a,selected:false,title:i.domains[c],text:i.domains[c]})}e===u&&t&&r.push({value:u,selected:false,title:(0,n.default)("shared_views.importpanel.previous_site","Previous site"),text:(0,n.default)("shared_views.importpanel.previous_site","Previous site")})});return r}function v(e){var t=document.createElement("div");t.innerHTML=e;return t.textContent||t.innerText}var m=Marionette.ItemView.extend({template:"import_panel",events:{"click .js-next":"onImportClick","click .js-back":"closePanel","change .js-import-page-from":"onImportSourcePageChange","change .js-import-content-from":"onImportSourceSiteChange","change .js-import-page-destination":"onImportDestinationPageChange","change .import__checkbox":"onContentToggle","change .js-import-text-filter":"onTextFilterChange","change .js-import-image-filter":"onImgFilterChange","change .js-select-all-text":"onTextToggle","change .js-select-all-images":"onImgToggle"},state:{selectedSourceSite:0,selectedSourcePage:0,selectedDestinationPage:0,sourceSitePages:{},domains:[],siteRef:0,selectedWidgets:[],saveEnabled:false},initialize:function e(){this.apiUnsubscriptions=[];return this},toggle:function e(){this.slice=new c.default({store:o.store,stateId:"importPanel"});this.apiSlice=new c.default({store:o.store,stateId:"api.queries"});this.slice.subscribe(this.handleStateChange.bind(this));this.apiSlice.subscribe(this.handleStateChange.bind(this));var t=o.store.getState();var r=t.site.ref;var n=t.user.sites.find(function(e){return e.ref===r});n.isReversible?this.state.selectedSourceSite=n.reverseParentRef:this.state.selectedSourceSite=App.desktopSite.ref;this.state.domains=g(this.state.selectedSourceSite,n.isReversible);this.state.selectedDestinationPage=t.page.activePage;this.state.selectedSourceSite=this.state.domains[0].value;var i=o.store.dispatch(l.getSitePages.initiate(this.state.selectedSourceSite)),s=i.unsubscribe;this.apiUnsubscriptions.push(s);o.store.dispatch((0,a.panelOpened)("import"));this.render()},handleStateChange:function e(){var t=l.getSitePages.select(this.state.selectedSourceSite)(o.store.getState()),r=t.data,n=void 0===r?[]:r,i=t.isSuccess;var a=l.getWidgets.select({siteRef:this.state.selectedSourceSite,pageRef:this.state.selectedSourcePage})(o.store.getState()),u=a.data,c=void 0===u?[]:u;if(i&&!c.length){if(!this.state.selectedSourcePage||0===this.state.selectedSourcePage){this.state.selectedSourcePage=n[0].ref;o.store.dispatch((0,s.sourcePageChanged)(this.state.selectedSourcePage))}var d=this.state.selectedSourceSite;var f=this.state.selectedSourcePage;var p=o.store.dispatch(l.getWidgets.initiate({siteRef:d,pageRef:f})),h=p.unsubscribe;this.apiUnsubscriptions.push(h)}o.store.getState().ui.panel.panelOpen&&this.render()},onImportClick:function e(){var t=this;return p(regeneratorRuntime.mark(function e(){var r,n,i,a,s,u,c;return regeneratorRuntime.wrap(function e(d){while(1)switch(d.prev=d.next){case 0:r=t.$(".import__content--selected [checked]");n=[];r.each(function(e,t){n.push(parseInt(t.value,10))});i=o.store.getState().site.ref;a=t.state.selectedDestinationPage;s=t.state.selectedSourceSite;u=t.state.selectedSourcePage;c={siteRef:i,pageRef:a,sourceSiteRef:s,sourcePageRef:u,widgetRefs:n};d.prev=8;d.next=11;return o.store.dispatch(l.importContent.initiate(c)).unwrap();case 11:t.onImportSuccess();d.next=17;break;case 14:d.prev=14;d.t0=d["catch"](8);t.onImportError();case 17:case"end":return d.stop()}},e,null,[[8,14]])}))()},render:function e(){var t=o.store.getState();var r=h((0,u.formatPages)(t.page.pages));var n=t.importPanel,i=n.textFilter,a=n.imgFilter,s=n.includeText,c=n.includeImg;var d=l.getSitePages.select(this.state.selectedSourceSite)(o.store.getState()),f=d.data,p=void 0===f?[]:f,g=d.isLoading;var v=l.getWidgets.select({siteRef:this.state.selectedSourceSite,pageRef:this.state.selectedSourcePage})(o.store.getState()),m=v.data,y=void 0===m?[]:m,b=v.isLoading;var w=this.filterWidgets(y,i,a,s,c);var _=this.filterWidgets(y,i,a,false,c);var S=this.filterWidgets(y,i,a,s,false);b||g?this.state.saveEnabled=false:w.length?this.state.saveEnabled=true:this.state.saveEnabled=false;this.tplData={lightBackground:true,pages:r,sourceSite:this.state.selectedSourceSite,sourceSitePages:p?h(p):[],sourcePageRef:this.state.selectedSourcePage,destPageRef:this.state.selectedDestinationPage,widgets:w,selectedImageWidgets:_,selectedTextWidgets:S,domains:this.state.domains,textFilter:i,imgFilter:a,includeImg:c,includeText:s,widgetsLoading:b,pagesLoading:g,importLoading:t.importPanel.importLoading,importError:t.importPanel.importError,saveEnabled:this.state.saveEnabled};"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},onImportSourcePageChange:function e(t){this.state.selectedSourcePage=parseInt(t.target.value,10);o.store.dispatch((0,s.sourcePageChanged)(this.state.selectedSourcePage));var r=l.getWidgets.select({siteRef:this.state.selectedSourceSite,pageRef:this.state.selectedSourcePage})(o.store.getState()),n=r.data,i=void 0===n?[]:n;if(!i.length){var a=this.state.selectedSourceSite;var u=this.state.selectedSourcePage;var c=o.store.dispatch(l.getWidgets.initiate({siteRef:a,pageRef:u})),d=c.unsubscribe;this.apiUnsubscriptions.push(d)}},onImportDestinationPageChange:function e(t){this.state.selectedDestinationPage=parseInt(t.target.value,10)},onImportSourceSiteChange:function e(t){var r=this;return p(regeneratorRuntime.mark(function e(){var n,i,a;return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:r.state.selectedSourceSite=parseInt(t.target.value,10);r.state.selectedSourcePage=0;o.store.dispatch((0,s.sourcePageChanged)(r.state.selectedSourcePage));n=r.state.selectedSourceSite;u.next=6;return o.store.dispatch(l.getSitePages.initiate(n));case 6:i=u.sent;a=i.unsubscribe;r.apiUnsubscriptions.push(a);case 9:case"end":return u.stop()}},e)}))()},onTextFilterChange:function e(t){o.store.dispatch((0,s.textFilterChanged)(parseInt(t.target.value,10)))},onImgFilterChange:function e(t){o.store.dispatch((0,s.imageFilterChanged)(parseInt(t.target.value,10)))},onContentToggle:function e(t){var r=t.currentTarget.closest(".import__content");if(!r)return;r.classList.toggle("import__content--selected")},onTextToggle:function e(){o.store.dispatch((0,s.includeTextChanged)(!o.store.getState().importPanel.includeText))},onImgToggle:function e(){o.store.dispatch((0,s.includeImageChanged)(!o.store.getState().importPanel.includeImg))},onImportSuccess:function e(){this.closePanel();document.querySelector("#siteFrame").contentWindow.location.reload(true);(0,i.default)((0,n.default)("shared_views.language_panel.success","Success"),(0,n.default)("blog.post_import.completed_title","Import complete"),"success")},onImportError:function e(){(0,i.default)((0,n.default)("shared_views.language_panel.error","Error"),(0,n.default)("plugin_v7.blog.wordpress-import.import_failed_title","Import failed"),"error")},closePanel:function e(){this.slice.unsubscribe();this.apiSlice.unsubscribe();this.apiUnsubscriptions.forEach(function(e){return null===e||void 0===e?void 0:e()});o.store.dispatch((0,a.panelClosed)());this.mixinClosePanel()},filterWidgets:function e(t,r,n,i,o){if(!t)return[];if(i&&o&&r===s.NO_FILTER&&n===s.NO_FILTER)return t;if(!i&&!o)return[];var a=t.filter(function(e){if("widget.image"!==e.type){if(i&&v(e.data.content).split(" ").length>r)return e;return false}if(o&&e.data.height>n)return e;return false});return a}});var y=t["default"]=m},95630(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=o(r(21983));function o(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"row_layout_panel",events:{"click .js-row-layout-cancel":"cancelChanges","click .js-row-layout-done":"saveChanges","click .js-row-layout-bg":"cancelChanges","click .js-previous-layout":"previousClicked","click .js-next-layout":"nextClicked","change .js-radio-item":"itemChanged"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.layouts=t.layouts;this.currentLayout=t.currentLayout;this.currentIndex=this.layouts.indexOf(this.currentLayout);this.prevIndex=this.currentIndex},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentLayout:this.currentLayout,layouts:this.layouts});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},closePanel:function e(){this.trigger("panel:close");this.destroy()},saveChanges:function e(){this.closePanel()},cancelChanges:function e(){this.prevIndex!==this.currentIndex&&this.trigger("layout:change",{layout:this.layouts[this.prevIndex]});this.closePanel()},unsetCheckedItem:function e(){var t=this.el.querySelector(".js-radio-item:checked");t.checked=false},checkRadioItem:function e(t){var r=this.el.querySelector(".js-radio-item[value=".concat(t,"]"));r.checked=true},updateLayout:function e(){this.trigger("layout:change",{layout:this.layouts[this.currentIndex]});i.default.container.Tracker.track("Section layout updated")},itemChanged:function e(t){this.currentIndex=this.layouts.indexOf(t.currentTarget.value);this.updateLayout()},previousClicked:function e(){this.currentIndex-1<0?this.currentIndex=this.layouts.length-1:this.currentIndex--;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()},nextClicked:function e(){this.currentIndex+1>this.layouts.length-1?this.currentIndex=0:this.currentIndex++;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()}});var s=t["default"]=a},14301(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.AddLanguage=void 0;var i=b(r(70013));var o=y(r(96342));var a=r(68404);var s=r(88052);var l=r(65825);var u=r(49164);var c=r(59366);var d=y(r(9385));var f=r(83502);var p=r(2961);var h=r(13355);var g=r(11383);var v=r(72);var m=r(72064);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(b=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}function w(e,t){return E(e)||P(e,t)||S(e,t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function E(e){if(Array.isArray(e))return e}var x=t.AddLanguage=function e(){var t=(0,f.useAppDispatch)();var r=(0,f.useAppSelector)(p.selectLanguages);var n=(0,f.useAppSelector)(a.selectActiveLanguage);var y=(0,f.useAppSelector)(h.selectBrandType);var b=(0,f.useAppSelector)(a.selectDefaultLanguage);var _=(0,f.useAppSelector)(h.selectHideUpgradeInUnableToPublishCapability);var S=(0,f.useAppSelector)(g.selectMultiLanguageLimitCapability);var k=(0,f.useAppSelector)(p.selectLocalisedLanguages);var P=(0,f.useAppSelector)(h.selectResellerUpgradeUrl);var E=(0,f.useAppSelector)(p.selectSiteRef);var x=(0,f.useAppSelector)(h.selectUpgradeUrl);var C=(0,f.useAppSelector)(p.selectLanguageCode);var O=(0,s.useGetLanguages)(null!==E&&void 0!==E?E:v.skipToken),j=O.data;var A=(0,s.useSetSiteData)(),T=w(A,2),D=T[0],L=T[1],I=L.isError,M=L.isLoading;var R=C===b.language||null!==j&&void 0!==j&&j.some(function(e){return e.language===C})?"":C;var F=(0,i.useState)(n||R),B=w(F,2),N=B[0],V=B[1];var q=(0,i.useState)(!N),W=w(q,2),U=W[0],z=W[1];var G=(0,m.useTracker)();(0,i.useEffect)(function(){!b.language&&C&&E&&D({data:{defaultLanguage:C},siteRef:E,oldLanguage:""})},[b.language,C,D,E]);(0,i.useEffect)(function(){G.track("DEFAULT LANGUAGE ADDED",{defaultLanguage:b})},[b,G]);var H=function e(){(0,d.default)((0,o.default)("shared_views.ml.error","Error"),(0,o.default)("shared_views.ml.error.default-language-error","Unable to save the default language."),"error")};(0,i.useEffect)(function(){I&&H()},[I]);var $=function e(){if("Reseller"===y&&P&&P.length>0)return P;return x};var K=function e(){var t=b.language||C;var n={};Object.keys(r).forEach(function(e){var i=null===j||void 0===j?void 0:j.find(function(t){return t.language===e});"undefined"===typeof i&&t!==e&&(n[e]=r[e])});return n};var Z=function e(t){t.preventDefault();V(t.target.value);z(!t.target.value)};var Q=function e(r){r.preventDefault();if(N){t((0,a.siteActiveLanguageSet)(N));t((0,l.pagesSelectorOpened)())}};var Y=function e(r){r.preventDefault();t((0,l.addLanguageModalClosed)())};var X=function e(){var t=(0,o.default)("shared_views.ml.next","Next");var r=(0,o.default)("shared_views.ml.add_language","Add language");var n=(0,o.default)("shared_views.ml.site_lang_title","New content language");var a=(0,o.default)("shared_views.ml.site_lang_subtitle","Pick the language you would like to add to your website");return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"ml-modal"},i.default.createElement("div",{className:"ml-modal__header"},i.default.createElement("button",{className:"ml-modal__close-button",onClick:Y},i.default.createElement("span",null,r)),M?i.default.createElement("div",{className:"loader"}):i.default.createElement("button",{className:"ml-modal__done-button",onClick:Q,disabled:U||I},t)),i.default.createElement("div",{className:"ml-modal__content"},i.default.createElement("div",{className:"ml-modal__content-left"},i.default.createElement("div",{className:"ml-modal__description"},i.default.createElement("div",{className:"ml-modal__title"},n),i.default.createElement("div",{className:"ml-modal__subtitle"},a))),i.default.createElement("div",{className:"ml-modal__content-right"},i.default.createElement(u.LanguageSelector,{allLanguages:K(),languageSelected:Z,localisedLanguages:k,selectedLanguage:N})))),i.default.createElement("div",{className:"ml-modal__overlay"}))};var J=function e(){var t=K();var r=Object.keys(t).length;var n=(0,o.default)("editor.dialog.no_available_language","You've used all languages available for your website.");if(0===r)return i.default.createElement(c.LanguageLimitReached,{addCancel:Y,content:n,hideUpgradeInUnableToPublish:true});return false};var ee=function e(){var t=(0,o.default)("editor.dialog.language_limit_reached","You've used all %1 languages available for your website. \n            Either upgrade to a higher package or remove some languages.",S);if(0!==S&&j&&j.length>=S)return i.default.createElement(c.LanguageLimitReached,{addCancel:Y,content:t,upgradeUrl:$(),hideUpgradeInUnableToPublish:_});return false};return i.default.createElement(i.default.Fragment,null,ee()||J()||X())}},3237(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.LanguageAddDone=void 0;var i=g(r(70013));var o=r(83502);var a=r(68404);var s=r(65825);var l=g(r(96342));var u=r(88052);var c=g(r(72154));var d=g(r(64550));var f=r(11383);var p=r(2961);var h=r(72);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=w(e,"string");return"symbol"==n(t)?t:t+""}function w(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _(e,t){return x(e)||E(e,t)||k(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function x(e){if(Array.isArray(e))return e}var C=t.LanguageAddDone=function e(){var t=(0,o.useAppSelector)(a.selectActiveLanguage)||"";var r=(0,o.useAppSelector)(function(e){return(0,p.selectLanguage)(e,t)});var n=(0,o.useAppSelector)(a.selectDefaultLanguage);var g=(0,o.useAppSelector)(p.selectSiteRef);var v=(0,o.useAppSelector)(f.selectProductVersion);var y=(0,u.useGetLanguages)(null!==g&&void 0!==g?g:h.skipToken),b=y.data;var w=(0,o.useAppDispatch)();var S=(0,u.useGetLanguagesPageTree)(),k=_(S,1),P=k[0];var E=(0,l.default)("shared_views.ml.add_language","Add language");var x=(0,l.default)("shared_views.ml.done","Done");var C=(0,l.default)("shared_views.ml.done_message","Language added. You can now edit the %1 version of your site from the Pages Menu",r);var O=function e(){var t=document.getElementById("siteFrame");var r=t.contentWindow;var n=null===r||void 0===r?void 0:r.document.querySelector('[data-name="languagemenu"]');if(b&&b.length>0&&!n){window.Editor.Events.trigger("page:change",(0,d.default)((0,c.default)().get("pageRef")));null===r||void 0===r?void 0:r.location.reload()}};var j=function e(t){var r=document.getElementById("siteFrame");var n=r.contentWindow;var i=m(m({},t),{},{action:"rerender:languagemenu"});r&&n&&n.postMessage(i,"".concat(n.location.protocol,"//").concat(n.location.host))};var A=function e(t){t.preventDefault();w((0,s.addLanguageDoneModalClosed)());w((0,a.siteActiveLanguageRemoved)());if("ten"===v){P();O()}else b&&j({siteDefaultLanguage:n,siteCurrentLanguage:n,siteLanguages:b})};return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"ml-modal"},i.default.createElement("div",{className:"ml-modal__header"},i.default.createElement("button",{className:"ml-modal__close-button",onClick:A},i.default.createElement("span",null,E))),i.default.createElement("div",{className:"ml-modal__content"},i.default.createElement("div",{className:"ml-modal__description--central"},i.default.createElement("div",{className:"ml-modal__icon"}),i.default.createElement("div",{className:"ml-modal__subtitle ml-modal__subtitle--central"},C),i.default.createElement("button",{className:"ml-modal__button--done qa-add-language-done-button",onClick:A},x)))),i.default.createElement("div",{className:"ml-modal__overlay"}))}},86385(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LanguageDropdown=void 0;var n=p(r(70013));var i=r(73096);var o=r(6306);var a=r(65825);var s=r(68404);var l=p(r(96342));var u=r(83502);var c=r(2961);var d=r(88052);var f=r(72);function p(e){return e&&e.__esModule?e:{default:e}}var h=t.LanguageDropdown=function e(){var t=(0,u.useAppDispatch)();var r=(0,u.useAppSelector)(s.selectCurrentLanguage);var p=(0,u.useAppSelector)(s.selectDefaultLanguage);var h=(0,u.useAppSelector)(c.selectLanguageCode);var g=(0,u.useAppSelector)(function(e){return(0,c.selectFlag)(e,h)});var v=(0,u.useAppSelector)(function(e){return(0,s.selectLocalisedLanguage)(e,h)});var m=(0,u.useAppSelector)(c.selectSiteRef);var y=(0,d.useGetLanguages)(null!==m&&void 0!==m?m:f.skipToken),b=y.data;var w=r||p.language||h;var _=(0,l.default)("shared_views.ml.add_language","Add language");var S=(0,l.default)("shared_views.ml.manage_languages","Manage languages");var k=function e(){t((0,i.addLanguageListClosed)())};var P=function e(){t((0,a.addLanguageModalOpened)());k()};var E=function e(){t((0,i.manageLanguageListOpened)());k()};var x=function e(r){t((0,s.languageSet)(r));k()};return n.default.createElement("div",{className:"ml-list"},n.default.createElement("div",{className:"ml-list__content"},n.default.createElement("ul",{className:"ml-list__languges"},n.default.createElement(o.LanguageListItem,{currentLanguageCode:w,language:p.language||h,localisedName:p.localisedName||v,languageFlag:p.flag||g||"",languageSelected:x}),null===b||void 0===b?void 0:b.map(function(e){return n.default.createElement(o.LanguageListItem,{key:e.id,currentLanguageCode:w,language:e.language,localisedName:e.localisedName,languageFlag:e.flag||"",languageSelected:x})})),n.default.createElement("ul",{className:"ml-list__controls"},n.default.createElement("li",{className:"ml-list__controls-item js-add-language",onClick:P},_),b&&b.length>0&&n.default.createElement("li",{className:"ml-list__controls-item js-lang-manager",onClick:E},S))),n.default.createElement("div",{className:"ml-list__overlay",onClick:k}))}},14711(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.ManageLanguage=void 0;var i=m(r(70013));var o=v(r(9385));var a=v(r(96342));var s=r(57472);var l=r(13723);var u=r(68404);var c=r(88052);var d=r(73096);var f=r(83502);var p=r(2961);var h=r(72);var g=r(49164);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(m=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}function y(e,t){return k(e)||S(e,t)||w(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function k(e){if(Array.isArray(e))return e}var P=t.ManageLanguage=function e(){var t=(0,f.useAppDispatch)();var r=(0,c.useDeleteLanguage)(),n=y(r,2),v=n[0],m=n[1],b=m.error,w=m.isSuccess;var _=(0,c.useSetSiteData)(),S=y(_,2),k=S[0],P=S[1],E=P.isError,x=P.isLoading,C=P.isSuccess,O=P.reset;var j=(0,c.useUpdateLanguageStatus)(),A=y(j,2),T=A[0],D=A[1].error;var L=(0,f.useAppSelector)(u.selectCurrentLanguage);var I=(0,f.useAppSelector)(u.selectDefaultLanguage);var M=(0,f.useAppSelector)(p.selectFlags);var R=(0,f.useAppSelector)(p.selectLanguages);var F=(0,f.useAppSelector)(p.selectLocalisedLanguages);var B=(0,f.useAppSelector)(u.selectShowingChangeLanguage);var N=(0,f.useAppSelector)(p.selectSiteRef);var V=(0,c.useGetLanguages)(null!==N&&void 0!==N?N:h.skipToken),q=V.data;var W=(0,i.useState)(true),U=y(W,2),z=U[0],G=U[1];var H=(0,i.useState)(""),$=y(H,2),K=$[0],Z=$[1];var Q=(0,i.useState)(""),Y=y(Q,2),X=Y[0],J=Y[1];var ee=(0,i.useState)(""),te=y(ee,2),re=te[0],ne=te[1];var ie=(0,i.useState)(false),oe=y(ie,2),ae=oe[0],se=oe[1];var le=(0,i.useState)(""),ue=y(le,2),ce=ue[0],de=ue[1];var fe=(0,i.useState)(""),pe=y(fe,2),he=pe[0],ge=pe[1];var ve=function e(){var t=null===q||void 0===q?void 0:q.length;var r=t&&t>0&&(null===q||void 0===q?void 0:q[t-1].language);if(0===t&&ce)return"manage-list--padded";return ce===r?"manage-list--padded":""};var me=function e(){if(!B)return(0,a.default)("shared_views.ml.manage_languages","Manage languages");return(0,a.default)("shared_views.ml.change_default_language","Change default language")};var ye=(0,a.default)("shared_views.ml.delete_language","Delete %1",X);var be=(0,a.default)("shared_views.ml.delete_confirm","Yes, delete %1",X);var we=ve();var _e=z?"nav-drawer__back-button":"nav-drawer__close-button";var Se=me();var ke=x?(0,a.default)("shared_views.ml.saving_default_language","Saving..."):(0,a.default)("shared_views.ml.save_default_language","Save");var Pe=(0,a.default)("shared_views.ml.default_language","Default language");var Ee=(0,i.useCallback)(function(){t((0,d.manageLanguageListClosed)())},[t]);var xe=(0,i.useCallback)(function(){se(false);t((0,u.changeLanguageShown)(false))},[t]);var Ce=function e(t){t.preventDefault();xe()};var Oe=function e(t){t.preventDefault();N&&v({languageCode:K,siteRef:N})};var je=function e(r){r.target.blur();de("");t((0,u.changeLanguageShown)(false))};var Ae=function e(r){ge(r||I.language);ne(r||"");t((0,u.changeLanguageShown)(true))};var Te=function e(t,r){se(true);Z(t);J(r)};var De=function e(t){t.persist();ge(t.target.value)};var Le=function e(t){t.preventDefault();N&&k({data:{defaultLanguage:he},siteRef:N,oldLanguage:re})};var Ie=function e(t,r){var n=1===parseInt(r,10)?0:1;N&&T({active:n,languageCode:t,siteRef:N})};var Me=function e(t){de(function(e){return e===t?"":t})};var Re=function e(t,r){var n=document.querySelector(".page-switcher__button-page-name.js-active-page");if(n){var i=n.innerText.replace(new RegExp("^".concat(t.toUpperCase()," /")),"".concat(r.toUpperCase()," /"));n.innerText=i;n.title=i}};var Fe=function e(t){B?je(t):Ee()};var Be=function e(){var t={};Object.keys(R).forEach(function(e){var r=null===q||void 0===q?void 0:q.find(function(t){return t.language===e});re||"undefined"!==typeof r||(t[e]=R[e])});return t};var Ne=function e(){var t=""===he;var r=x;var n=he===I.language;var i=re===he;return[t,r,n,i].some(function(e){return e})};var Ve=function e(){(0,o.default)((0,a.default)("shared_views.ml.error","Error"),(0,a.default)("shared_views.ml.error.site-language-error","Unable to save the language."),"error")};var qe="cl-button ".concat(Ne()?"cl-button--disabled":"cl-button--nav-modal-confirm");(0,i.useEffect)(function(){if(b||D){Ve();xe()}},[xe,b,D]);(0,i.useEffect)(function(){E&&Ve()},[E]);(0,i.useEffect)(function(){var e=function e(t,r){var n=M[r.toLowerCase()];t.classList.forEach(function(e){e.startsWith("language-selector__icon--")&&t.classList.remove(e)});t.classList.add("language-selector__icon--".concat(n));var i=t.querySelector("span");i&&(i.textContent=r)};var t=function t(r){var n=document.querySelector(".page-control__button--flag");n&&e(n,r)};var r=function e(t,r){var n,i;var o=M[t.toLowerCase()];var a=null===(n=document.getElementById("siteFrame"))||void 0===n||null===(i=n.contentWindow)||void 0===i?void 0:i.document;var s=null===a||void 0===a?void 0:a.querySelector(".language-selector__item---default");if(s){var l=s.querySelectorAll("span"),u=y(l,2),c=u[0],d=u[1];c.className="language-selector__icon language-selector__icon--".concat(o);d.innerText=r}};if(C){xe();if((L===I.language||!L)&&!re){t(he);Re(I.language,he)}r(he,I.localisedName);0===(null===q||void 0===q?void 0:q.length)&&Ee();O()}},[Ee,xe,L,I,M,re,C,O,he,q]);(0,i.useEffect)(function(){var e=function e(r){if(r===L){t((0,u.languageSet)(I.language));q&&q.length>0&&G(false)}};if(w){se(false);de("");e(K)}},[L,I.language,K,w,t,q]);(0,i.useEffect)(function(){var e=document.getElementById("siteFrame");var t=e.contentWindow;var r={siteLanguages:q,action:"rerender:languagemenu"};null===t||void 0===t?void 0:t.postMessage(r,"".concat(t.location.protocol,"//").concat(t.location.host))},[q]);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"nav-drawer"},i.default.createElement("div",{className:"nav-drawer__backstop",onClick:Fe}),i.default.createElement("div",{className:"pages-nav__suface"},i.default.createElement("div",{className:"pages-nav__header"},i.default.createElement("button",{className:_e,type:"button",onClick:Fe},i.default.createElement("span",null,Se))),i.default.createElement("div",{className:"nav-drawer__content\n                        nav-drawer__content--grey-bg\n                        nav-drawer__content--full-width-large-res-only\n                        manage-list ".concat(we)},i.default.createElement("div",{className:"pages-panel manage-list__content pages-panel--no-border"},i.default.createElement("div",{className:"pages-panel__section pages-panel__section--no-border pages-tree pages-panel__section--grey-bg"},B?i.default.createElement(g.LanguageSelector,{label:Pe,languageSelected:De,allLanguages:Be(),localisedLanguages:F,selectedLanguage:he}):i.default.createElement(i.default.Fragment,null,i.default.createElement(l.ManageableLanguageItem,{isDefaultLanguage:true,languageCode:I.language,localisedName:I.localisedName,onDelete:Te,onOffline:Ie,onOptionsClicked:Me,openOptionsFor:ce,onChangeLanguage:function e(){return Ae("")}}),null===q||void 0===q?void 0:q.map(function(e){return i.default.createElement(l.ManageableLanguageItem,{localisedName:e.localisedName,languageCode:e.language,onDelete:Te,onOffline:Ie,onOptionsClicked:Me,openOptionsFor:ce,active:e.active.toString(),onChangeLanguage:function t(){return Ae(e.language)},key:e.id})}))))),B&&i.default.createElement("div",{className:"pages-nav__footer pages-nav__footer--buttons"},i.default.createElement("button",{className:"cl-button cl-button--nav-modal-cancel",onClick:je},"Cancel"),i.default.createElement("button",{className:qe,onClick:Le,disabled:Ne()},ke))),ae&&i.default.createElement(s.DeleteDialog,{deleteConfirm:Oe,deleteCancel:Ce,dialogTitle:ye,confirmButtonText:be})))}},21298(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MultiLanguageContainer=void 0;var n=c(r(70013));var i=r(14301);var o=r(65541);var a=r(48103);var s=r(3237);var l=r(83502);var u=r(65825);function c(e){return e&&e.__esModule?e:{default:e}}var d=t.MultiLanguageContainer=function e(){var t=(0,l.useAppSelector)(u.selectActiveModal);var r=function e(){switch(t){case"add_language":return n.default.createElement(i.AddLanguage,null);case"select_pages":return n.default.createElement(o.PagesSelector,null);case"page_title_edit":return n.default.createElement(a.PageTitleEdit,null);case"add_language_done":return n.default.createElement(s.LanguageAddDone,null);default:return n.default.createElement(n.default.Fragment,null)}};return n.default.createElement("div",null,r())}},41187(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.MultiLanguageController=void 0;var i=c(r(70013));var o=r(83502);var a=r(46900);var s=r(21298);var l=r(3563);var u=r(8496);function c(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(c=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=g(e,"string");return"symbol"==n(t)?t:t+""}function g(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=_();return function(){var r,n=S(e);if(t){var i=S(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function t(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var k=t.MultiLanguageController=function(e){v(r,e);var t=y(r);function r(){d(this,r);return t.apply(this,arguments)}p(r,[{key:"init",value:function e(){this.props.root.render(i.default.createElement(a.Provider,{store:o.store},i.default.createElement(u.TrackerProvider,{value:this.props.tracker},i.default.createElement(s.MultiLanguageContainer,null),i.default.createElement(l.MultiLanguageDropdownContainer,null))))}}]);return r}(i.Component)},3563(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MultiLanguageDropdownContainer=void 0;var n=l(r(70013));var i=r(86385);var o=r(14711);var a=r(83502);var s=r(73096);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.MultiLanguageDropdownContainer=function e(){var t=(0,a.useAppSelector)(s.selectShowLanguageList);var r=(0,a.useAppSelector)(s.selectShowManageList);return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(i.LanguageDropdown,null),r&&n.default.createElement(o.ManageLanguage,null))}},48103(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.PageTitleEdit=void 0;var i=m(r(70013));var o=v(r(96342));var a=r(68404);var s=r(65825);var l=r(5092);var u=r(38170);var c=r(88052);var d=v(r(9385));var f=r(83502);var p=r(2961);var h=r(94811);var g=r(72064);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(m=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=S(e,"string");return"symbol"==n(t)?t:t+""}function S(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function k(e,t){return O(e)||C(e,t)||E(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function O(e){if(Array.isArray(e))return e}var j=t.PageTitleEdit=function e(){var t=(0,i.useState)(true),r=k(t,2),n=r[0],v=r[1];var m=(0,i.useState)({}),y=k(m,2),_=y[0],S=y[1];var P=(0,f.useAppDispatch)();var E=(0,f.useAppSelector)(function(e){return e.page.pages});var x=(0,f.useAppSelector)(a.selectActiveLanguage);var C=(0,f.useAppSelector)(function(e){return(0,p.selectLanguage)(e,null!==x&&void 0!==x?x:"")});var O=(0,f.useAppSelector)(a.selectDefaultLanguage);var j=(0,f.useAppSelector)(a.selectSelectedPages);var A=(0,f.useAppSelector)(p.selectSiteRef);var T=(0,c.useAddSiteLanguagePages)(),D=k(T,2),L=D[0],I=D[1],M=I.isError,R=I.isLoading,F=I.isSuccess;var B=(0,g.useTracker)();var N=(0,o.default)("shared_views.ml.add_language","Add language");var V=(0,o.default)("shared_views.ml.next","Next");var q=(0,o.default)("shared_views.ml.page_titles_title","Name these pages in %1",C);var W=(0,h.getAllSelectedPages)(E,j);var U=function e(){P((0,s.pagesSelectorOpened)())};var z=function e(){(0,d.default)((0,o.default)("shared_views.ml.error","Error"),(0,o.default)("shared_views.ml.error.site-language-error","Unable to save the language."),"error")};var G=function e(t){t.preventDefault();U()};var H=function e(t){t.preventDefault();x&&A&&L({languageCode:x,pageTitles:_,siteRef:A})};var $=function e(t,r){S(function(e){return b(b({},e),w({},t,r))})};(0,i.useEffect)(function(){if(F){B.track("NEW LANGUAGE ADDED",{selectedLanguage:C});P((0,s.addLanguageDoneModalOpened)());P((0,a.selectedPagesRemoved)())}},[C,F,P,B]);(0,i.useEffect)(function(){M&&z()},[M]);(0,i.useEffect)(function(){var e=W.every(function(e){return _[e]});v(!e)},[_,W]);return i.default.createElement(i.Fragment,null,i.default.createElement("div",{className:"ml-modal"},i.default.createElement("div",{className:"ml-modal__header"},i.default.createElement("button",{className:"ml-modal__back-button",onClick:G},i.default.createElement("span",null,N)),R?i.default.createElement("div",{className:"loader"}):i.default.createElement("button",{className:"ml-modal__done-button",onClick:H,disabled:n},V)),i.default.createElement("div",{className:"ml-modal__description--central"},i.default.createElement("div",{className:"ml-modal__title"},q)),i.default.createElement("div",{className:"ml-modal__content is-edit-title"},i.default.createElement("div",{className:"ml-modal__table-header"},i.default.createElement("span",{className:"plain-page-tree__header"},O.name),i.default.createElement("span",{className:"edit-page-tree__header"},C)),i.default.createElement("div",{className:"ml-modal__table-content"},i.default.createElement("div",{className:"plain-page-tree"},i.default.createElement(l.PlainPageTree,{selectedPages:W})),i.default.createElement("div",{className:"edit-page-tree"},i.default.createElement(u.EditTitlePageTree,{activeLanguage:C,selectedPages:W,onPageTitleChange:$}))))),i.default.createElement("div",{className:"ml-modal__overlay"}))}},65541(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.PagesSelector=void 0;var i=f(r(70013));var o=d(r(96342));var a=r(96700);var s=r(68404);var l=r(65825);var u=r(83502);var c=r(2961);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(f=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}function p(e,t){return y(e)||m(e,t)||g(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function y(e){if(Array.isArray(e))return e}var b=t.PagesSelector=function e(){var t=(0,u.useAppSelector)(function(e){return e.page.pages});var r=(0,u.useAppDispatch)();var n=(0,u.useAppSelector)(s.selectActiveLanguage);var d=(0,u.useAppSelector)(function(e){return(0,c.selectLanguage)(e,null!==n&&void 0!==n?n:"")});var f=(0,i.useState)(false),h=p(f,2),g=h[0],v=h[1];var m=(0,o.default)("shared_views.ml.add_language","Add language");var y=(0,o.default)("shared_views.ml.next","Next");var b=(0,o.default)("shared_views.ml.choose_page","Choose pages for %1",d);var w=(0,o.default)("shared_views.ml.choose_page_mesg","Which pages would you like to copy for later translation?");var _=(0,o.default)("shared_views.ml.choose_page_custom","Let me pick which pages");var S=(0,o.default)("shared_views.ml.choose_page_all","All pages");var k=(0,o.default)("shared_views.ml.clone","Clone");var P=function e(t){t.preventDefault();r((0,l.addLanguageModalOpened)())};var E=function e(t){t.preventDefault();r((0,l.pageTitleEditOpened)())};var x=function e(t){v("all"===t.target.value)};(0,i.useEffect)(function(){var e=function e(){var r=[];t.forEach(function(e){var t=null!==e.linkOpenNewTab&&null!==e.linkNofollow;if(["page","home","index"].includes(e.type)||t)r.push(e.ref);else if("folder"===e.type){var n;r.push(e.ref);null===(n=e.subPages)||void 0===n?void 0:n.forEach(function(e){r.push(e.ref)})}});return r};if(g){var n=e();r((0,s.selectedPagesAdded)(n))}else r((0,s.selectedPagesRemoved)())},[r,t,g]);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"ml-modal"},i.default.createElement("div",{className:"ml-modal__header"},i.default.createElement("button",{className:"ml-modal__back-button",onClick:P},i.default.createElement("span",null,m)),i.default.createElement("button",{className:"ml-modal__done-button",onClick:E},y)),i.default.createElement("div",{className:"ml-modal__content"},i.default.createElement("div",{className:"ml-modal__content-left"},i.default.createElement("div",{className:"ml-modal__description"},i.default.createElement("div",{className:"ml-modal__title"},b),i.default.createElement("div",{className:"ml-modal__subtitle"},w))),i.default.createElement("div",{className:"ml-modal__content-right"},i.default.createElement("div",{className:"pretty-select ml-modal__control"},i.default.createElement("label",{className:"ml-modal__control-label"},k),i.default.createElement("select",{id:"pagesSelectionMethod",className:"pretty-select__select ml-modal__select",onChange:x},i.default.createElement("option",{value:"custom",key:"custom"},_),i.default.createElement("option",{value:"all",key:"all"},S))),i.default.createElement("div",{className:"ml-modal__card-wrapper"},i.default.createElement("div",{className:"ml-modal__card"},i.default.createElement(a.SelectablePageTree,{selectAllPages:g})))))),i.default.createElement("div",{className:"ml-modal__overlay"}))}},57472(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DeleteDialog=void 0;var n=o(r(70013));var i=o(r(96342));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.DeleteDialog=function e(t){var r=t.dialogTitle,o=t.confirmButtonText,a=t.deleteCancel,s=t.deleteConfirm;return n.default.createElement("div",{className:"dialog"},n.default.createElement("div",{className:"dialog__backstop"}),n.default.createElement("div",{className:"dialog__surface"},n.default.createElement("div",{className:"dialog__header"},n.default.createElement("h2",{className:"dialog__header-title"},r),n.default.createElement("button",{className:"dialog__header-close",type:"button",onClick:a},n.default.createElement("span",null,"Close"))),n.default.createElement("div",{className:"dialog__content dialog__content--center"},n.default.createElement("p",{className:"dialog__copy"},(0,i.default)("editor.dialog.delete_language.message_warning","Deleting a language will remove all the pages associated with that language.")),n.default.createElement("p",{className:"dialog__copy"},(0,i.default)("editor.dialog.delete_language.message_warning_question","Are you sure you wish to delete this language?")),n.default.createElement("div",{className:"dialog__actions"},n.default.createElement("button",{type:"button",className:"cl-button cl-button--destructive",onClick:s},o),n.default.createElement("button",{type:"button",className:"cl-button cl-button--light",onClick:a},(0,i.default)("editor.dialog.footer.cancel","Cancel"))))))}},63414(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EditTitlePage=void 0;var n=i(r(70013));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.EditTitlePage=function e(t){var r=t.page,i=t.onPageTitleChange,o=t.activeLanguage;return n.default.createElement("div",{className:"edit-page-tree__page"},n.default.createElement("div",{className:"edit-page-tree__pagetitle"},r.title),n.default.createElement("input",{autoFocus:"home"===r.type,className:"edit-page-tree__input",placeholder:r.title,key:r.ref,"data-pageid":r.ref,spellCheck:"false",autoCorrect:"off",onChange:function e(t){return i(r.ref,t.target.value.trim())}}),n.default.createElement("label",{className:"edit-page-tree__label"},o))}},38170(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.EditTitlePageTree=void 0;var i=s(r(70013));var o=r(63414);var a=r(83502);function s(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(s=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}var l=t.EditTitlePageTree=function e(t){var r=t.selectedPages,n=t.onPageTitleChange,s=t.activeLanguage;var l=(0,a.useAppSelector)(function(e){return e.page.pages});var u=l.map(function(e,t){var a=null!==e.linkOpenNewTab&&null!==e.linkNofollow;if((["page","index","home"].includes(e.type)||a)&&r.includes(e.ref))return i.default.createElement(o.EditTitlePage,{key:e.ref,page:e,onPageTitleChange:n,activeLanguage:s});if("folder"===e.type&&r.includes(e.ref)){var l;return i.default.createElement(i.Fragment,{key:t},i.default.createElement(o.EditTitlePage,{key:e.ref,page:e,onPageTitleChange:n,activeLanguage:s}),null===(l=e.subPages)||void 0===l?void 0:l.map(function(e){if(r.includes(e.ref))return i.default.createElement(o.EditTitlePage,{key:e.ref,page:e,onPageTitleChange:n,activeLanguage:s});return null}))}return null});return i.default.createElement(i.default.Fragment,null,u)}},59366(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LanguageLimitReached=void 0;var n=o(r(70013));var i=o(r(96342));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.LanguageLimitReached=function e(t){var r=t.addCancel,o=t.upgradeUrl,a=t.content,s=t.hideUpgradeInUnableToPublish;return n.default.createElement("div",{className:"ml-warning"},n.default.createElement("div",{className:"ml-warning__backstop"}),n.default.createElement("div",{className:"ml-warning__surface"},n.default.createElement("div",{className:"ml-warning__header"},n.default.createElement("h2",{className:"ml-warning__header-title"},(0,i.default)("editor.dialog.language_limit_title","Language limit reached")),n.default.createElement("button",{className:"ml-warning__header-close",type:"button",onClick:r},n.default.createElement("span",null,"Close"))),n.default.createElement("div",{className:"ml-warning__content"},n.default.createElement("div",{className:"ml-warning__information"},n.default.createElement("p",null,a),n.default.createElement("div",{className:"ml-warning__actions"},!s&&n.default.createElement("a",{className:"button--primary ml-warning__actions--primary",href:o},(0,i.default)("shared_views.cannotpublish.upgrade_options","Upgrade options")),n.default.createElement("button",{className:"button--outline ml-warning__action--secondary",onClick:r,type:"button"},(0,i.default)("editor.dialog.footer.cancel","Cancel")))))))}},6306(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LanguageListItem=void 0;var n=i(r(70013));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.LanguageListItem=function e(t){var r=t.localisedName,i=t.languageFlag,o=t.languageSelected,a=t.language,s=t.currentLanguageCode;var l="ml-list__language-item\n        language-selector__icon\n        language-selector__icon--".concat(i);s===a&&(l="".concat(l," is-current-lang"));return n.default.createElement("li",{className:l,"data-lang":a,title:r,onClick:function e(){return o(a)}},n.default.createElement("span",{"data-lang":a},r))}},49164(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LanguageSelector=void 0;var n=o(r(70013));var i=o(r(96342));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.LanguageSelector=function e(t){var r=Object.keys(t.allLanguages).map(function(e){return n.default.createElement("option",{value:e,key:e},t.allLanguages[e]," | ",t.localisedLanguages[e])});var o=(0,i.default)("shared_views.ml.select_a_language","Select a language");return n.default.createElement("div",{className:"pretty-select ml-modal__control ml-modal__control--central"},t.label&&n.default.createElement("label",{htmlFor:"lanuage-selector",className:"pretty-select__label"},t.label),n.default.createElement("select",{id:"lanuage-selector",className:"pretty-select__select ml-modal__select",onChange:t.languageSelected,value:t.selectedLanguage},n.default.createElement("option",{value:""},o),r))}},13723(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ManageableLanguageItem=void 0;var n=o(r(70013));var i=o(r(96342));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ManageableLanguageItem=function e(t){var r=t.isDefaultLanguage,o=t.localisedName,a=t.languageCode,s=t.onDelete,l=t.onOffline,u=t.onOptionsClicked,c=t.onChangeLanguage,d=t.openOptionsFor,f=t.active;var p=(0,i.default)("shared_views.language_panel.default","default");var h=r?"".concat(o):o;var g=f&&"1"===f?(0,i.default)("shared_views.language_panel.take_offline","Take offline"):(0,i.default)("shared_views.language_panel.take_online","Take online");var v=(0,i.default)("shared_views.language_panel.offline","Offline");var m=(0,i.default)("shared_views.language_panel.online","Online");var y=(0,i.default)("shared_views.language_panel.delete","Delete");var b="pages-tree__title pages-tree__title--flex pages-tree__title--not-selectable";var w=(0,i.default)("shared_views.language_panel.change_default","Change default");return n.default.createElement("div",{className:"pages-tree"},n.default.createElement("div",{className:b},n.default.createElement("span",{className:"text text--flex text--bolder",title:h},h,r&&n.default.createElement("span",{className:"cl-chip capitalize ml-10"},p)),f&&"1"!==f?n.default.createElement("span",{className:"pages-tree__flex-offline"},v):n.default.createElement("span",{className:"pages-tree__flex-online"},m)),r?n.default.createElement(n.default.Fragment,null,n.default.createElement("button",{className:"pages-panel__options-button","aria-controls":"language-".concat(a,"-options"),value:a,type:"button",onClick:function e(){return u(a)}},n.default.createElement("span",null,"Options")),d===a?n.default.createElement("ol",{className:"dropdown-menu pages-panel__options","data-ref":"language-".concat(a,"-options")},n.default.createElement("li",{className:"dropdown-menu__item"},n.default.createElement("button",{className:"dropdown-menu__control",title:w,value:a,type:"button",onClick:c},w))):null):n.default.createElement(n.default.Fragment,null,n.default.createElement("button",{className:"pages-panel__deletion-button","aria-controls":"language-".concat(a,"-deletion"),value:a,"data-localisedname":o,title:y,type:"button",onClick:function e(){return s(a,o)}},n.default.createElement("span",null,y)),n.default.createElement("button",{className:"pages-panel__options-button","aria-controls":"language-".concat(a,"-options"),value:a,type:"button",onClick:function e(){return u(a)}},n.default.createElement("span",null,"Options")),d===a?n.default.createElement("ol",{className:"dropdown-menu pages-panel__options","data-ref":"language-".concat(a,"-options")},n.default.createElement("li",{className:"dropdown-menu__item"},n.default.createElement("button",{className:"dropdown-menu__control",title:g,value:a,"data-active":f,type:"button",onClick:function e(){return l(a,null!==f&&void 0!==f?f:"0")}},g))):null))}},5092(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PlainPageTree=void 0;var n=o(r(70013));var i=r(83502);function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PlainPageTree=function e(t){var r=t.selectedPages;var o=(0,i.useAppSelector)(function(e){return e.page.pages});var a=o.map(function(e){var t=null!==e.linkOpenNewTab&&null!==e.linkNofollow;if((["page","index","home"].includes(e.type)||t)&&r.includes(e.ref))return n.default.createElement("div",{className:"plain-page-tree__page",key:e.ref},e.title);if("folder"===e.type&&r.includes(e.ref)){var i;return n.default.createElement("div",{key:e.ref,className:"plain-page-tree__folder"},n.default.createElement("span",null,e.title),null===(i=e.subPages)||void 0===i?void 0:i.map(function(e){if("index"===e.type||r.includes(e.ref))return n.default.createElement("div",{className:"plain-page-tree__page in-folder",key:e.ref},e.title);return null}))}return null});return n.default.createElement(n.default.Fragment,null,a)}},24477(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SelectableFolder=void 0;var n=u(r(70013));var i=r(58668);var o=r(96699);var a=r(68404);var s=r(83502);var l=r(94811);function u(e){return e&&e.__esModule?e:{default:e}}var c=t.SelectableFolder=function e(t){var r=t.folder;var u=(0,s.useAppSelector)(a.selectSelectedPages);var c=function e(){var t;var a=[];null===(t=r.subPages)||void 0===t?void 0:t.map(function(e){"page"!==e.type&&"index"!==e.type||((0,l.isPageAutoSelected)([r],u,e.ref)?a.push(n.default.createElement(o.SelectedPage,{page:e,key:e.ref})):a.push(n.default.createElement(i.SelectablePage,{page:e,key:e.ref})));return null});return a};return n.default.createElement("div",{className:"ml-modal__select-folder"},(0,l.isPageAutoSelected)([r],u,r.ref)?n.default.createElement(o.SelectedPage,{page:r,key:r.ref}):n.default.createElement(i.SelectablePage,{page:r,key:r.ref}),c())}},58668(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SelectablePage=void 0;var n=a(r(70013));var i=r(83502);var o=r(68404);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.SelectablePage=function e(t){var r=t.page;var a=(0,i.useAppDispatch)();var s=(0,i.useAppSelector)(function(e){return(0,o.selectIsPageSelected)(e,r.ref)});var l=function e(){a((0,o.selectedPageToggled)(r.ref))};return n.default.createElement("div",{className:"ml-modal__select-page"},n.default.createElement("label",{className:"page-checkbox__container",title:r.title},n.default.createElement("input",{value:r.ref,type:"checkbox",checked:s,className:"page-checkbox__checkbox","data-pagetype":r.type,onChange:l}),n.default.createElement("span",{className:"page-checkbox__text"},r.title),n.default.createElement("span",{className:"page-checkbox__checkmark"})))}},96700(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SelectablePageTree=void 0;var n=l(r(70013));var i=r(58668);var o=r(96699);var a=r(24477);var s=r(83502);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SelectablePageTree=function e(t){var r=(0,s.useAppSelector)(function(e){return e.page.pages});var l=r.map(function(e){var t=null!==e.linkOpenNewTab&&null!==e.linkNofollow;if("page"===e.type||t)return n.default.createElement(i.SelectablePage,{page:e,key:e.ref});if("home"===e.type)return n.default.createElement(o.SelectedPage,{page:e,key:e.ref});if("folder"===e.type)return n.default.createElement(a.SelectableFolder,{folder:e,key:e.ref});return null});var u=r.map(function(e){var t=null!==e.linkOpenNewTab&&null!==e.linkNofollow;if(["page","home"].includes(e.type)||t)return n.default.createElement(o.SelectedPage,{page:e,key:e.ref});if("folder"===e.type){var r;return n.default.createElement("div",{className:"ml-modal__select-folder",key:e.ref},n.default.createElement(o.SelectedPage,{page:e,key:e.ref}),null===(r=e.subPages)||void 0===r?void 0:r.map(function(e){return n.default.createElement(o.SelectedPage,{page:e,key:e.ref})}))}return null});return n.default.createElement(n.default.Fragment,null,t.selectAllPages?u:l)}},96699(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SelectedPage=void 0;var n=i(r(70013));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.SelectedPage=function e(t){var r=t.page;return n.default.createElement("div",{className:"ml-modal__select-page"},n.default.createElement("label",{className:"page-checkbox__container is-disabled",title:r.title},n.default.createElement("input",{value:r.ref,type:"checkbox",className:"page-checkbox__checkbox",checked:true,disabled:true}),n.default.createElement("span",{className:"page-checkbox__text"},r.title),n.default.createElement("span",{className:"page-checkbox__checkmark"})))}},94811(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isPageAutoSelected=t.getAllSelectedPages=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function e(t){var n=[];t.forEach(function(e){var t;n.push(e);null!==(t=e.subPages)&&void 0!==t&&t.length&&n.push.apply(n,r(e.subPages))});return n};var u=t.isPageAutoSelected=function e(t,r,n){var i=r.includes(n);if(i)return false;var o=t.some(function(e){return"home"===e.type&&n===e.ref});if(o)return true;var a=t.find(function(e){return"folder"===e.type&&n===e.ref});if(a){var s;var u=null===(s=a.subPages)||void 0===s?void 0:s.some(function(e){return r.includes(e.ref)});return null!==u&&void 0!==u&&u}var c=l(t);var d=c.find(function(e){return e.ref===n});if(d){var f=r.includes(d.parentId);if(f)return true;if("index"===d.type){var p=r.map(function(e){var t,r;return null!==(t=null===(r=c.find(function(t){return t.ref===e}))||void 0===r?void 0:r.parentId)&&void 0!==t?t:0});var h=p.includes(d.parentId);return h}}return false};var c=t.getAllSelectedPages=function e(t,r){var n=l(t);var i=[];n.forEach(function(e){(r.includes(e.ref)||u(t,r,e.ref))&&i.push(e.ref)});return i}},72064(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useTracker=void 0;var n=r(70013);var i=r(8496);var o=t.useTracker=function e(){return(0,n.useContext)(i.TrackerContext)}},8496(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.TrackerProvider=t.TrackerContext=void 0;var i=o(r(70013));function o(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(o=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}var a=t.TrackerContext=(0,i.createContext)({track:function e(){return null}});var s=t.TrackerProvider=function e(t){return i.default.createElement(a.Provider,{value:t.value},t.children)}},88855(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={events:{"click .js-backstop":"mixinClosePanel","click .js-back":"mixinClosePanel"},initialize:function e(){},mixinRenderTpl:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=Twig.render(Twig.templates[this.template],this.tplData);this.$el.empty().append(r);if(t.refresh)return;this.moveToBody()},moveToBody:function e(){var t=this.$el.appendTo("body");this.setElement(t);"function"===typeof this.postRender&&this.postRender()},mixinClosePanel:function e(){var t=new Event("panel:close");document.dispatchEvent(t);this.trigger("close");this.destroy()}};var n=t["default"]=r},88617(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(88855));var i=o(r(12162));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageTypes,n=void 0===r?{}:r,i=t.envDataProvider,o=void 0===i?{}:i,a=t.tracker,l=void 0===a?{}:a,u=t.siteDataProvider,c=void 0===u?{}:u,d=t.featureFlagDataProvider,f=void 0===d?{}:d,p=t.serverVars,h=void 0===p?{}:p;s(this,e);this.pageTypes=n;this.envDataProvider=o;this.siteDataProvider=c;this.tracker=l;this.featureFlagDataProvider=f;this.serverVars=h;return this}u(e,[{key:"build",value:function e(t){Cocktail.mixin(i.default,n.default);return new i.default({selectedLanguage:t,pageTypes:this.pageTypes,envDataProvider:this.envDataProvider,tracker:this.tracker,siteDataProvider:this.siteDataProvider,featureFlagDataProvider:this.featureFlagDataProvider,serverVars:this.serverVars})}}]);return e}();var p=t["default"]=f},12162(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(27686);var o=r(59650);var a=r(68404);var s=f(r(9385));var l=f(r(96342));var u=f(r(72154));var c=r(45089);var d=r(53025);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return m(e)||v(e)||g(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function v(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)})}}function _(){return(0,u.default)().get("pageRef")}function S(e,t,r){return k.apply(this,arguments)}function k(){k=w(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",window.fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r},method:"POST",body:JSON.stringify(n)}));case 1:case"end":return i.stop()}},e)}));return k.apply(this,arguments)}var P=Marionette.ItemView.extend({template:"page_add_panel",events:{"click .js-type":"onTypeChange","input input":"onChange","change input,select":"onChange","click .js-done":"onDoneClicked","change .js-new-page-language":"onLanguageChanged","change .js-new-link-language":"onLanguageChanged","click .js-page-password-protect":"onPasswordProtectToggled"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageTypes,i=void 0===r?{}:r,o=t.envDataProvider,a=void 0===o?{}:o,s=t.tracker,l=void 0===s?{}:s,u=t.siteDataProvider,c=void 0===u?{}:u,d=t.selectedLanguage,f=void 0===d?null:d,p=t.featureFlagDataProvider,h=void 0===p?{}:p,g=t.serverVars,v=void 0===g?{}:g;this.getPages();this.pageTypes=i;this.envDataProvider=a;this.tracker=l;this.siteDataProvider=c;this.selectedLanguage=f;this.featureFlagDataProvider=h;this.store=n.store;this.serverVars=v;this.tplData={pageTypes:this.getPageTypesData(),foldersData:this.getFoldersData(this.selectedLanguage),siteLanguages:this.siteDataProvider.getSiteLanguages(),siteDefaultLanguage:this.siteDataProvider.getDefaultLanguage(),localisedLanguages:this.envDataProvider.get("localisedLanguages"),languages:this.envDataProvider.get("languages"),lightBackground:true,selectedLanguage:this.selectedLanguage,rowsEnabled:this.featureFlagDataProvider.get("enableRows"),editorVersion:this.store.getState().site.editorVersion};this.render()},getPages:function e(){var t=BaseKit.Globals.pages;0===t.length&&(t=(0,d.fromPageTree)(App.pageTree));this.pages=t},getApiProxyBaseUrl:function e(){return this.envDataProvider.get("apiProxyBaseUrl")},getCsrfToken:function e(){return this.serverVars.getBundle("session").get("csrfToken")},getSiteRef:function e(){return this.envDataProvider.get("siteRef")},render:function e(){"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},postRender:function e(){this.onPasswordProtectToggled()},onLanguageChanged:function e(t){var r=t.currentTarget.value;this.filterFolders(r)},filterFolders:function e(t){var r=this.getFoldersData(t);var n=this.el.querySelector(".js-new-page-location");while(n.firstChild)n.removeChild(n.firstChild);r.forEach(function(e){var t=document.createElement("option");t.textContent=e.text;t.setAttribute("value",e.value);n.appendChild(t)})},getPageTypesData:function e(){var t=[{name:"default",title:(0,l.default)("shared_views.addpageorfolderpanel.page-type-default","Default")},{name:"clone",title:(0,l.default)("shared_views.addpageorfolderpanel.page-type-clone","Clone current page")}];this.pageTypes.forEach(function(e){t.push({name:e.name,title:(0,l.default)("shared_views.addpageorfolderpanel.page-type-".concat(e.name),e.title)})});return t},getFoldersData:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var r=this.siteDataProvider.getDefaultLanguage();if(!t||""===t||t===r)return this.store.getState().page.folders;return this.store.getState().page.languages[t].folders},onPasswordProtectToggled:function e(){var t=this.el.querySelector(".js-input-username");var r=this.el.querySelector(".js-input-password");if(true===this.el.querySelector(".js-page-password-protect").checked){t.parentNode.removeAttribute("hidden");r.parentNode.removeAttribute("hidden")}else{t.parentNode.setAttribute("hidden","hidden");r.parentNode.setAttribute("hidden","hidden");t.value="";r.value=""}},onChange:function e(){this.clearError();if(this.saveBtnIsEnabled)return;this.enableSave()},enableSave:function e(){this.el.querySelector(".js-done").removeAttribute("disabled");this.saveBtnIsEnabled=true},onTypeChange:function e(t){this.onChange();var r=t.currentTarget.getAttribute("data-type");var n=this.el.querySelectorAll(".js-type");var i=this.el.querySelectorAll(".js-type-card");p(n).forEach(function(e){return e.classList.remove("is-selected")});p(i).forEach(function(e){return e.setAttribute("hidden",true)});t.currentTarget.classList.add("is-selected");this.showSelectedCardType(r)},showSelectedCardType:function e(t){this.el.querySelector('[data-card-type="'.concat(t,'"]')).removeAttribute("hidden")},onDoneClicked:function e(t){t.preventDefault();switch(this.el.querySelector(".js-type.is-selected").getAttribute("data-type")){case"folder":this.createFolder();break;case"page":this.createPage();break;case"link":this.createLink();break}(0,c.openIntercom)()},createPage:function e(){var t=this.el.querySelector(".js-template-type:checked")?this.el.querySelector(".js-template-type:checked").value:"default";var r=this.el.querySelector(".js-new-page-location")?parseInt(this.el.querySelector(".js-new-page-location").value,10):0;var n=_();var i=this.pages.get(_());var o=this.el.querySelector(".js-new-page-title").value;var a=this.el.querySelector(".js-new-page-language");var s=this.siteDataProvider.getDefaultLanguage();var u={siteRef:this.getSiteRef(),type:"page",pageUrl:o.replace(/\s+/g,"-").toLowerCase(),title:o,status:"active",folder:r||void 0};var c=null;var d=null;a&&a.value!==s&&(u.language=a.value);if(0===u.title.trim().length){c=(0,l.default)("shared_views.addpageorfolderpanel.errors_invalid-page-title","Invalid page title");this.el.querySelector(".js-page-title-error").textContent=c;return}if("clone"===t){d="".concat(this.getApiProxyBaseUrl(),"/sites/").concat(this.getSiteRef(),"/pages/").concat(n,"/clone");u.templateType=i.get("templateType")}else{d="".concat(this.getApiProxyBaseUrl(),"/sites/").concat(this.getSiteRef(),"/pages");u.templateType=t}this.apiCall({type:"page",data:u,url:d})},areHtmlValidatorsValid:function e(t){var r=true;for(var n=0;n<t.length;n++){if(!t[n].reportValidity||!t[n].checkValidity)continue;t[n].reportValidity();t[n].checkValidity()||(r=false)}return r},setJointCheckboxRequirement:function e(t,r){true===t.checked?r.setAttribute("required","required"):r.removeAttribute("required")},createFolder:function e(){var t="".concat(this.getApiProxyBaseUrl(),"/sites/").concat(this.getSiteRef(),"/pages");var r=this.el.querySelector(".js-new-folder-title").value;var n=this.el.querySelector(".js-new-folder-language");var i=true===this.el.querySelector(".js-page-password-protect").checked?1:0;var o=this.el.querySelector(".js-input-username");var a=this.el.querySelector(".js-input-password");var s=this.el.querySelector(".js-page-password-protect");var u=o.value;var c=a.value;this.setJointCheckboxRequirement(s,a);this.setJointCheckboxRequirement(s,o);if(!this.areHtmlValidatorsValid([o,a]))return;var d={siteRef:this.getSiteRef(),type:"folder",pageUrl:r.replace(/\s+/g,"-").toLowerCase(),title:r,status:"active",passwordEnabled:i,username:u,password:c};var f=null;n&&(d.language=n.value);if(0===r.trim().length){f=(0,l.default)("shared_views.addpageorfolderpanel.errors_invalid-folder-title","Invalid folder title");this.el.querySelector(".js-folder-title-error").textContent=f;return}this.apiCall({type:"folder",data:d,title:r,url:t})},apiCall:function e(){var t=arguments,r=this;return w(regeneratorRuntime.mark(function e(){var n,i,o,a,s,l,u,c,d,f,p,h,g,v,m;return regeneratorRuntime.wrap(function e(y){while(1)switch(y.prev=y.next){case 0:n=t.length>0&&void 0!==t[0]?t[0]:{},i=n.type,o=void 0===i?"page":i,a=n.url,s=void 0===a?void 0:a,l=n.data,u=void 0===l?{}:l,c=n.title,d=void 0===c?void 0:c;f=o;p=u;h=d;g="folder"===o&&p.passwordEnabled;y.prev=5;y.next=8;return S(s,r.getCsrfToken(),p);case 8:v=y.sent;if(!(200===v.status)){y.next=16;break}y.next=12;return v.json();case 12:m=y.sent;r.handleResponse({type:f,folderTitle:h,rsp:m,isPasswordProtected:g});y.next=17;break;case 16:401===v.status?Editor.Responsive.displaySessionTimeoutDialog():r.handleFetchError(v.status);case 17:y.next=22;break;case 19:y.prev=19;y.t0=y["catch"](5);r.handleFetchError(y.t0);case 22:case"end":return y.stop()}},e,null,[[5,19]])}))()},createLink:function e(){var t="".concat(this.getApiProxyBaseUrl(),"/sites/").concat(this.getSiteRef(),"/pages");var r=this.el.querySelector(".js-new-link-page-title").value;var n=this.el.querySelector(".js-new-page-link").value;var i="redirect";var o=this.el.querySelector(".js-new-link-language");var a=this.siteDataProvider.getDefaultLanguage();var s={type:i,externalUrl:n,title:r,request:r,linkNofollow:0,linkOpenNewTab:0};var l=window.location.search;var u=new URLSearchParams(l);if(u.get("sectionLink")){s.description="sectionLink";var c=new URL(window.location);c.search="";window.history.pushState({},"",c)}if(o&&o.value!==a){s.language=o.value;s.request="".concat(o.value,"/").concat(r)}if(!this.validateLinkInput(s))return;this.apiCall({type:i,data:s,url:t})},validateLinkInput:function e(t){var r=null;var n=null;var i=true;if(0===t.title.trim().length){r=(0,l.default)("shared_views.addpageorfolderpanel.errors_invalid-link-title","Invalid link title");this.el.querySelector(".js-link-page-title-error").textContent=r;i=false}if(0===t.externalUrl.trim().length){n=(0,l.default)("shared_views.addpageorfolderpanel.errors_invalid-link-url","Invalid link URL");this.el.querySelector(".js-page-link-error").textContent=n;i=false}return i},handleResponse:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.type,i=void 0===n?"page":n,s=r.folderTitle,l=void 0===s?void 0:s,u=r.rsp,c=void 0===u?{}:u,d=r.isPasswordProtected,f=void 0!==d&&d;var p=c.page.ref;var h=c.page.language||"";var g="Editor add page";var v=[c.page];if("folder"===i){v=[{hiddenFromNavigation:0,ref:c.page.parentId,type:"folder",status:"active",request:c.page.request.replace("index",""),title:l,parentId:0,password_enabled:f},Object.assign(c.page,{parentTitle:l})];g="Editor add folder"}this.pages.add(v);v.forEach(function(e){return t.store.dispatch((0,o.addSinglePage)(e,h))});h!==this.store.getState().language.current&&this.store.dispatch((0,a.languageSet)(h));this.afterSaved(p,h);this.tracker.track(g,"")},handleFetchError:function e(t){console.error("Error creating page: ".concat(t));(0,s.default)((0,l.default)("editor_v8.delete_row.error","Error"),(0,l.default)("shared_views.pagespanel.errors_creating-page","Unable to add page."),"error");this.closePanel()},afterSaved:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n=r;""===r&&(n=this.siteDataProvider.getDefaultLanguage());this.closePanel();this.store.dispatch((0,i.panelClosed)());this.trigger("page:added",{selectedLanguage:n,currentPageRef:t})},closePanel:function e(){this.destroy()},clearError:function e(){this.el.querySelector(".js-folder-title-error").textContent="";this.el.querySelector(".js-page-title-error").textContent="";this.el.querySelector(".js-link-page-title-error").textContent="";this.el.querySelector(".js-page-link-error").textContent=""}});var E=t["default"]=P},16822(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(88855));var i=o(r(45831));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.featureFlagDataProvider,n=void 0===r?{}:r,i=t.envDataProvider,o=void 0===i?{}:i,a=t.tracker,l=void 0===a?{}:a;s(this,e);this.featureFlagDataProvider=n;this.envDataProvider=o;this.tracker=l;return this}u(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageModel,o=void 0===r?{}:r,a=t.selectedLanguage;Cocktail.mixin(i.default,n.default);return new i.default({model:o,selectedLanguage:a,featureFlagDataProvider:this.featureFlagDataProvider,envDataProvider:this.envDataProvider,tracker:this.tracker})}}]);return e}();var p=t["default"]=f},45831(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=a(r(96342));var o=r(88052);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}function u(e,t){var r=this;var n=true;var o="folder"===t?(0,i.default)("shared_views.addpageorfolderpanel.errors_invalid-folder-title","Invalid folder title"):(0,i.default)("shared_views.addpageorfolderpanel.errors_invalid-page-title","Invalid page title");var a={title:{selector:".js-page-title-error",message:o},pageUrl:{selector:".js-page-url-error",message:(0,i.default)("shared_views.addpageorfolderpanel.errors_invalid-page-url","Invalid page URL")}};Object.keys(a).forEach(function(t){if("undefined"!==typeof e[t]&&0===e[t].trim().length){r.el.querySelector(a[t].selector).textContent=a[t].message;n=false}});return n}var c=Marionette.ItemView.extend({template:"page_edit_panel",events:{"click .js-done":"onDoneClicked","change input,select":"onChange","input input,textarea":"onChange","change .js-convert-home":"onConvertToHomeChanged","click .js-page-password-protect":"onPasswordProtectToggled"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.model,n=void 0===r?{}:r,i=t.selectedLanguage,o=void 0===i?null:i,a=t.featureFlagDataProvider,s=void 0===a?{}:a,l=t.envDataProvider,u=void 0===l?{}:l,c=t.tracker,d=void 0===c?{}:c;this.model=n;this.featureFlagDataProvider=s;this.envDataProvider=u;this.tracker=d;this.selectedLanguage=o;this.setTplData();this.render()},onPasswordProtectToggled:function e(){var t=this.el.querySelector(".js-input-username");var r=this.el.querySelector(".js-input-password");if(true===this.el.querySelector(".js-page-password-protect").checked){t.parentNode.removeAttribute("hidden");r.parentNode.removeAttribute("hidden")}else{t.parentNode.setAttribute("hidden","hidden");r.parentNode.setAttribute("hidden","hidden");t.value="";r.value=""}},setTplData:function e(){this.tplData=Object.assign(this.getModelData(),{folderData:this.getFoldersData(),lightBackground:true,rowsEnabled:this.featureFlagDataProvider.get("enableRows")})},render:function e(){"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},postRender:function e(){Backbone.Syphon.deserialize(this,this.getModelData());this.updateSyntheticFields()},updateSyntheticFields:function e(){var t=this.getModelData();"folder"===t.type&&(t.password_enabled?this.el.querySelector(".js-page-password-protect").checked=true:this.el.querySelector(".js-page-password-protect").checked=false)},getFoldersData:function e(){var t=n.store.getState();var r=t.language.current;if(r&&r!==t.language.defaultLanguage.language)return t.page.languages[r].folders;return t.page.folders},getModelData:function e(){var t=this.model.toJSON();if(0!==parseInt(this.model.get("parentId"),10)){var r=this.model.collection.get(this.model.get("parentId"));var n=r.get("request");t.request=t.request.replace(n,"")}this.selectedLanguage&&(t.request=t.request.replace("".concat(this.selectedLanguage,"/"),""));return t},closePanel:function e(){this.mixinClosePanel();this.destroy()},onChange:function e(){this.clearError();if(this.saveBtnIsEnabled)return;this.enableSave()},clearError:function e(){this.el.querySelector(".js-page-title-error")&&(this.el.querySelector(".js-page-title-error").textContent="");this.el.querySelector(".js-page-url-error")&&(this.el.querySelector(".js-page-url-error").textContent="")},enableSave:function e(){this.el.querySelector(".js-done").removeAttribute("disabled");this.saveBtnIsEnabled=true},areHtmlValidatorsValid:function e(t){var r=true;for(var n=0;n<t.length;n++){if(!t[n].reportValidity||!t[n].checkValidity)continue;t[n].reportValidity();t[n].checkValidity()||(r=false)}return r},setJointCheckboxRequirement:function e(t,r){true===t.checked?r.setAttribute("required","required"):r.removeAttribute("required")},onDoneClicked:function e(t){var r=this;return l(regeneratorRuntime.mark(function e(){var i,a,s,l,c,d,f;return regeneratorRuntime.wrap(function e(p){while(1)switch(p.prev=p.next){case 0:t.preventDefault();i=r.getUpdatedAttributes();a=r.model.get("language")||"";if(i){p.next=6;break}r.closePanel();return p.abrupt("return");case 6:if(u.call(r,i,r.model.get("type"))){p.next=8;break}return p.abrupt("return");case 8:s=r.el.querySelector(".js-input-username");l=r.el.querySelector(".js-input-password");c=r.el.querySelector(".js-page-password-protect");if(!(s&&l)){p.next=15;break}r.setJointCheckboxRequirement(c,s);if(r.areHtmlValidatorsValid([s,l])){p.next=15;break}return p.abrupt("return");case 15:d=r.envDataProvider.get("siteRef");f=r.model.get("ref");p.next=19;return n.store.dispatch(o.setPageData.initiate({data:i,lang:a,pageRef:f,siteRef:d}));case 19:r.tracker.track([{tracker:"Mixpanel",event:"Update page SEO"},{tracker:"Intercom",event:"SEO update page"}],{id:r.model.id,keywords:r.model.get("keywords"),seo_title:r.model.get("seo_title"),description:r.model.get("description")});r.closePanel();r.trigger("page:updated",{selectedLanguage:a});case 22:case"end":return p.stop()}},e)}))()},onConvertToHomeChanged:function e(){var t=this.el.querySelector(".js-convert-home").checked;var r=this.el.querySelector(".js-page-status");var n=this.el.querySelector(".js-folder");if(t){r.setAttribute("hidden",true);n.setAttribute("hidden",true)}else{r.removeAttribute("hidden");n.removeAttribute("hidden")}},getUpdatedAttributes:function e(){var t=null;var r=this.model.clone();r.set(Backbone.Syphon.serialize(this),{silent:true});t=r.changedAttributes();t.parentId&&parseInt(this.model.get("parentId"),10)!==parseInt(t.parentId,10)&&(t.folder=t.parentId);t.request&&(t.pageUrl=t.request);if(t.convertToHome&&1===parseInt(t.convertToHome,10)){t.type="home";t=_.omit(t,"convertToHome");t.status="active";t.folder=0;this.homePageChanged=true}if("redirect"===r.get("type")){t.externalUrl=t.redirection||r.get("redirection");t.request=t.title;"sectionLink"===r.get("description")&&(t.description=r.get("description"))}t.language=r.attributes.language;return t}});var d=t["default"]=c},31723(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(82315);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==o(t)?t:t+""}function p(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=new WeakMap;var g=t["default"]=function(){function e(t){u(this,e);h.set(this,s({},t));this.selectedLanguage=null}d(e,[{key:"setSelectedLanguage",value:function e(t){this.selectedLanguage=t}},{key:"clone",value:function e(t){return this.displayDialog(t).then(this.clonePage.bind(this))}},{key:"clonePage",value:function e(t){var r=t.result,n=r.page,i=r.pageLanguage,o=r.pageTitle;var a=h.get(this).envDataProvider;var s=a.get("apiProxyBaseUrl");var l=a.get("siteRef");var u=a.get("csrfToken");var c="".concat(s,"/sites/").concat(l,"/pages/").concat(n.ref,"/clone");var d={title:o,pageUrl:o.replace(/\s+/g,"-").toLowerCase(),status:"active",language:i};t.dialog.hide();return new Promise(function(e,t){window.fetch(c,{credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":u},method:"POST",body:JSON.stringify(d)}).then(function(e){return e.json()}).then(function(t){return e(t.page)}).catch(t)})}},{key:"displayDialog",value:function e(t){n.store.dispatch((0,i.modalOpened)("clonePage"));var r=h.get(this).siteDataProvider;var o=h.get(this).envDataProvider;var a=r.getSiteLanguages();var s=r.getDefaultLanguage();var l=h.get(this).PageClonerDialogViewFactory;var u=o.get("languages");var c=o.get("localisedLanguages");var d=h.get(this).multiLanguageEditor;var f=this.selectedLanguage;var p=t.toJSON();var g=new l({multiLanguageEditor:d,siteLanguages:a,siteDefaultLanguage:s,languages:u,localisedLanguages:c,selectedLanguage:f,pageData:p});return g.build()}}]);return e}()},6102(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=new WeakMap;var u=Backbone.View.extend({template:"page_clone_dialog",events:{"click .js-cancel":"cancel","click .js-clone":"clone","change .js-page-title":"enableButton","keyup .js-page-title":"checkForReturn"},initialize:function e(t){l.set(this,i({},t))},checkForReturn:function e(t){var r=t.keyCode;var n=this.el.querySelector(".js-clone");this.enableButton();false===n.hasAttribute("disabled")&&13===r&&this.clone()},enableButton:function e(){var t=this.el.querySelector(".js-page-title");var r=this.el.querySelector(".js-clone");""!==t.value?r.removeAttribute("disabled"):r.setAttribute("disabled","disabled")},clone:function e(){var t=this.el.querySelector(".js-page-title");var r=this.el.querySelector(".js-page-language");var n=t.value;var i=l.get(this).context.pageData;var o=null;r&&(o=r.value);this.trigger("dialog:resolve",{page:i,pageTitle:n,pageLanguage:o})},cancel:function e(){this.trigger("dialog:close")},render:function e(){var t=Twig.render(Twig.templates[this.template],l.get(this).context);var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t);this.el.querySelector(".js-page-title").focus()}});var c=t["default"]=u},10305(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(32686));var i=o(r(6102));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"==a(t)?t:t+""}function h(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=new WeakMap;var v=function(){function e(t){c(this,e);g.set(this,l({},t))}f(e,[{key:"build",value:function e(){var t=g.get(this);var r=g.get(this).pageData;var o=new n.default({title:App.t("shared_components.addpageorfolderpanel.page_clone_dialog_title","Clone page '%1'",r.title),showSaveCancel:false,content:new i.default({context:t}),render:false});return o.render()}}]);return e}();var m=t["default"]=v},85513(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.Model.extend({idAttribute:"ref",urlRoot:function e(){return"".concat(App.session.get("apiProxyBaseUrl"),"/sites/").concat(this.getSiteRef(),"/pages/")},getSiteRef:function e(){return App.session.get("siteRef")},parse:function e(t){return t.page}});var n=t["default"]=r},96064(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(55124));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){var r=t.envDataProvider,n=void 0===r?{}:r;a(this,e);this.envDataProvider=n}l(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageModel,i=void 0===r?{}:r;return new n.default({pageRef:i.get("ref"),title:i.get("title"),envDataProvider:this.envDataProvider})}}]);return e}();var f=t["default"]=d},93157(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=u(r(94663));var i=r(83502);var o=u(r(9385));var a=u(r(96342));var s=r(27686);var l=r(88052);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return JSON.stringify(e)===JSON.stringify(t)}var d=Marionette.ItemView.extend({template:"pages_advanced_reorder_panel",events:{"click .js-done":"onSaveClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.language,n=void 0===r?null:r,o=t.pageTree,a=void 0===o?{}:o,l=t.pages,u=void 0===l?{}:l;this.language=n;this.pageTree=a;this.pages=u;this.setTplData();this.render();i.store.dispatch((0,s.panelOpened)("reorder"));this.state=i.store.getState().page;this.unsubscribe=i.store.subscribe(this.handleStateChange.bind(this))},handleStateChange:function e(){if(!this.el){this.unsubscribe();return}var t=i.store.getState();t.ui.panel.saveActive?this.el.querySelector(".js-done").removeAttribute("disabled"):this.el.querySelector(".js-done").disabled="disabled";var r=t.page;if(c(this.state,r))return;if(r.pagesOrdering)return;this.state=r;if(this.state.pagesError&&this.state.pagesErrorDetails)if(401===r.pagesErrorDetails.status)Editor.Responsive.displaySessionTimeoutDialog();else{(0,o.default)((0,a.default)("editor_v8.delete_row.error","Error"),(0,a.default)("shared_views.pages-reorder.error","Error reordering pages"),"error");this.mixinClosePanel();this.destroy()}else{this.updateUI();(0,o.default)((0,a.default)("editor_v8.delete_row.success","Success"),(0,a.default)("shared_views.pages-reorder.saved","Page order updated"),"success")}},onDestroy:function e(){this.unsubscribe()},setTplData:function e(){this.tplData={pages:this.pageTree,lightBackground:true}},render:function e(){"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},postRender:function e(){this.setupReorderEvents()},setupReorderEvents:function e(){var t=this;this.setupTopLevelReorderEvents();var r=this.el.querySelectorAll(".js-sortable-folder");Array.prototype.forEach.call(r,function(e){t.setupFolderSubpagesReorderEvents(e)})},setupTopLevelReorderEvents:function e(){var t=this;var r=this.el.querySelector(".js-top-level");var i={ghostClass:"is-item-ghost",group:"reorder",animation:150,draggable:".js-draggable",handle:".js-drag-handle",chosenClass:"is-drag-chosen",onMove:function e(r){var n=r.dragged;var i=r.related;n.classList.contains("is-folder-wrapper")&&t.collapseFolderNode(n);if(n.classList.contains("is-fixed-top-level")&&t.isMovingPageIntoFolder(i))return false;t.updatePagesInOrOutFolderUI(n,i);t.enableSaveBtn();return true},onEnd:function e(r){var n=r.item;n.classList.contains("is-folder-wrapper")&&t.reopenFolderNode(n)}};n.default.create(r,i)},setupFolderSubpagesReorderEvents:function e(t){var r=this;var i={ghostClass:"is-item-ghost",group:"reorder",animation:150,chosenClass:"is-drag-chosen",draggable:".js-draggable",handle:".js-drag-handle",onMove:function e(t){var n=t.dragged;var i=t.related;if(n.classList.contains("is-folder-index")){if(r.isMovingIntoTopLevel(i))return false;if(r.isMoveingIntoAnoterFolder(n,i))return false}r.updatePagesInOrOutFolderUI(n,i);r.enableSaveBtn();return true}};n.default.create(t,i)},collapseFolderNode:function e(t){t.querySelector(".js-sortable-folder").classList.add("is-collapsed")},reopenFolderNode:function e(t){t.querySelector(".js-sortable-folder").classList.remove("is-collapsed")},isMovingPageIntoFolder:function e(t){return t.parentNode.classList.contains("js-sortable-folder")},isMoveingIntoAnoterFolder:function e(t,r){return t.getAttribute("data-folder-ref")!==r.parentNode.getAttribute("data-folder-ref")},isMovingIntoTopLevel:function e(t){return!t.parentNode.classList.contains("js-sortable-folder")},updatePagesInOrOutFolderUI:function e(t,r){if(this.isMovingPageIntoFolder(r)){t.classList.remove("pages-tree");t.classList.add("pages-tree__folder-wrapper");t.classList.add("is-folder-draggable-item")}else{t.classList.remove("pages-tree__folder-wrapper");t.classList.remove("is-folder-draggable-item");t.classList.add("pages-tree")}},enableSaveBtn:function e(){i.store.dispatch((0,s.saveEnabled)())},onSaveClicked:function e(){var t=this.getNewOrder();this.updatePages(t)},getNewOrder:function e(){var t=[];var r=this.el.querySelector(".js-top-level").children;var n=0;Array.prototype.forEach.call(r,function(e){var r=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(r,10),n,0]);if(e.classList.contains("is-folder-wrapper")){var i=e.querySelectorAll(".js-draggable");Array.prototype.forEach.call(i,function(e){var i=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(i,10),n,parseInt(r,10)])})}});return t},updatePages:function e(t){i.store.dispatch(l.updateOrder.initiate({language:this.language,pagesOrder:t}))},updateUI:function e(){this.notifyNewOrder();this.mixinClosePanel();this.destroy()},notifyNewOrder:function e(){this.trigger("page:order:changed",{fetch:true,selectedLanguage:this.language})}});var f=t["default"]=d},19529(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(27686);var o=r(82315);var a=r(73096);var s=r(65825);var l=c(r(72154));var u=r(45089);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=v(e,"string");return"symbol"==d(t)?t:t+""}function v(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.PagesPanelFactory,n=void 0===r?{}:r,i=t.AddPagePanelFactory,o=void 0===i?{}:i,a=t.EditPagePanelFactory,s=void 0===a?{}:a,l=t.PagesReorderPanelFactory,u=void 0===l?{}:l,c=t.SiteStylePanelFactory,d=void 0===c?{}:c,p=t.SiteScriptsFactory,h=void 0===p?{}:p,g=t.PageScriptsFactory,v=void 0===g?{}:g,m=t.SiteLanguageFactory,y=void 0===m?{}:m,b=t.languageListUIState,w=void 0===b?{}:b;f(this,e);this.PagesPanelFactory=n;this.AddPagePanelFactory=o;this.EditPagePanelFactory=s;this.PagesReorderPanelFactory=u;this.SiteStylePanelFactory=d;this.SiteScriptsFactory=h;this.PageScriptsFactory=v;this.SiteLanguageFactory=y;this.selectedLanguage=null;this.pageRef=null;this.event=Object.assign(this,Backbone.Events);this.languageListUIState=w;return this}h(e,[{key:"openPagesPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selectedLanguage&&(t.selectedLanguage=this.selectedLanguage);this.pageRef&&(t.currentPageRef=this.pageRef);this.pagesPanelView=this.PagesPanelFactory.build(t);this.attachPagesPanelEvents(this.pagesPanelView);n.store.dispatch((0,i.panelOpened)("pagesPanel"))}},{key:"attachPagesPanelEvents",value:function e(t){this.event.listenTo(t,"open:re-order",this.openReorderPanel);this.event.listenTo(t,"open:add-page",this.openAddPagePanel);this.event.listenTo(t,"open:edit-page",this.openEditPagePanel);this.event.listenTo(t,"open:page-script",this.openPageScriptPanel);this.event.listenTo(t,"open:site-style-panel",this.openSiteStylePanel);this.event.listenTo(t,"open:site-scripts",this.openSiteScriptsPanel);this.event.listenTo(t,"open:site-languages",this.openSiteLanguagesPanel);this.event.listenTo(t,"change:language",this.languageChanged);this.event.listenTo(t,"open:language-dropdown",this.openLanguageDropdown);this.event.listenTo(t,"open:add-language",this.openAddLanguage);document.addEventListener("panel:close",this.panelClosed);this.event.listenTo(t,"close",this.close);Editor.Events.on("page:change",this.pageChanged);this.storeSubscribe()}},{key:"storeSubscribe",value:function e(){this.state=this.languageListUIState.get();this.languageListUIState.subscribe(this.handleStateChange.bind(this))}},{key:"handleStateChange",value:function e(t){if(t.showManageList===this.state.showManageList)return;t.showManageList&&!this.state.showManageList&&this.pagesPanelView&&this.pagesPanelView.el.setAttribute("hidden","hidden");t.showManageList||this.pagesPanelView&&this.pagesPanelView.el.removeAttribute("hidden");this.state=this.languageListUIState.get()}},{key:"panelClosed",value:function e(){n.store.dispatch((0,i.subpanelClosed)())}},{key:"close",value:function e(){document.removeEventListener("panel:close",this.panelClosed);n.store.dispatch((0,i.panelClosed)());(0,u.openIntercom)()}},{key:"languageChanged",value:function e(t){this.selectedLanguage=t}},{key:"pageChanged",value:function e(t){this.pageRef=t.get("ref");(0,l.default)().set("pageRef",this.pageRef)}},{key:"openReorderPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.language,n=void 0===r?null:r,i=t.pageTree,o=void 0===i?{}:i;var a=this.PagesReorderPanelFactory.build({pageTree:o,language:n});this.attachReorderPanelEvents(a)}},{key:"attachReorderPanelEvents",value:function e(t){this.event.listenTo(t,"page:order:changed",this.updatePagesPanel)}},{key:"openAddPagePanel",value:function e(){var t=this.AddPagePanelFactory.build(this.selectedLanguage);this.attachAddPagePanelEvents(t);n.store.dispatch((0,i.panelOpened)("addPage"));return t}},{key:"attachAddPagePanelEvents",value:function e(t){this.event.listenTo(t,"page:added",this.updatePagesPanel);this.event.listenTo(t,"close",this.onOverlayPanelClosed)}},{key:"onOverlayPanelClosed",value:function e(){this.pagesPanelView.showPanel()}},{key:"openEditPagePanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,o=void 0===r?{}:r;var a=o;var s=this.EditPagePanelFactory.build({pageModel:a,selectedLanguage:this.selectedLanguage});this.attachEditPagePanelEvents(s);n.store.dispatch((0,i.panelOpened)("editPage"));return s}},{key:"attachEditPagePanelEvents",value:function e(t){this.event.listenTo(t,"page:updated",this.updatePagesPanel);this.event.listenTo(t,"close",this.onOverlayPanelClosed)}},{key:"updatePagesPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.currentPageRef,n=void 0!==r&&r,i=t.fetch,o=void 0===i||i,a=t.pageTree,s=void 0===a?{}:a,l=t.selectedLanguage,u=void 0===l?null:l;this.pagesPanelView.updatePages({currentPageRef:n,fetch:o,pageTree:s,selectedLanguage:u})}},{key:"openPageScriptPanel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,a=void 0===r?{}:r;var s=a;var l=this.PageScriptsFactory.build({pageModel:s});if(this.pagesPanelView){this.pagesPanelView.closePanel();n.store.dispatch((0,i.panelClosed)())}n.store.dispatch((0,i.panelClosed)());n.store.dispatch((0,o.modalOpened)("pageScript"));return l}},{key:"openSiteStylePanel",value:function e(){this.SiteStylePanelFactory.build();if(this.pagesPanelView){this.pagesPanelView.closePanel();n.store.dispatch((0,i.panelClosed)())}n.store.dispatch((0,i.panelOpened)("siteStyle"))}},{key:"openSiteScriptsPanel",value:function e(){var t=this.SiteScriptsFactory.build();if(this.pagesPanelView){this.pagesPanelView.closePanel();n.store.dispatch((0,i.panelClosed)())}n.store.dispatch((0,i.panelClosed)());n.store.dispatch((0,o.modalOpened)("siteScripts"));return t}},{key:"openSiteLanguagesPanel",value:function e(){var t=this;var r=this.selectedLanguage;var o=this.SiteLanguageFactory.build({selectedLanguage:r});this.event.listenToOnce(o,"panel:closed, close",function(){t.updatePagesPanel({selectedLanguage:t.selectedLanguage})});n.store.dispatch((0,i.panelOpened)("siteLanguages"))}},{key:"openLanguageDropdown",value:function e(){this.SiteLanguageFactory.initAddLanguage();n.store.dispatch((0,a.addLanguageListOpened)())}},{key:"openAddLanguage",value:function e(){this.SiteLanguageFactory.initAddLanguage();n.store.dispatch((0,s.addLanguageModalOpened)())}}]);return e}();var y=t["default"]=m},53025(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.fromPageTree=f;t.getActiveLanguageInternalPages=c;t.getInternalPages=d;var n=r(41985);var i=r(69632);var o=r(83502);var a=s(r(85513));function s(e){return e&&e.__esModule?e:{default:e}}var l=Backbone.Collection.extend({url:function e(){return"".concat(App.frontEndBucket.apiProxyBaseUrl,"/sites/").concat(this.getSiteRef(),"/pages")},model:a.default,initialize:function e(){},getSiteRef:function e(){return App.session.get("siteRef")},parse:function e(t){return t.pages},resetPageTree:function e(t){var r=(0,i.formatPages)(t);if((0,n.isEdge)()||(0,n.isIE)())return this.callResetIE(r);return this.reset(r)},callResetIE:function e(t){try{this.reset(t)}catch(e){console.log(e)}},addFromPageTree:function e(t){this.add((0,i.formatPages)(t))}});function u(e,t){var r=e.filter(function(e){return"".concat(e.ref)==="".concat(t)});if(r.length)return r[0].title;return""}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t=e||o.store.getState();var r=t.language.current;var n=t.language.defaultLanguage.language;var i=t.page.pages;""!==r&&r!==n&&(i=t.page.languages[r].pages);return d(i)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t=[];var r=["order-confirmation","blogpost","singleproduct"];(0,i.formatPages)(e).forEach(function(n){var i=null;var o=null;if(0!==parseInt(n.parentId,10)){i=parseInt(n.parentId,10);o=u(e,i)}"folder"!==n.type&&"redirect"!==n.type&&"active"===n.status&&-1===r.indexOf(n.request)&&t.push({text:o?"".concat(o," -> ").concat(n.title):n.title,value:"/".concat(n.request)})});return t}function f(e){return new l((0,i.formatPages)(e))}BaseKit.Globals.Pages=l;var p=t["default"]=l},67717(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(88855));var i=o(r(84950));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pages,n=void 0===r?{}:r,i=t.envDataProvider,o=void 0===i?{}:i,a=t.userDataProvider,l=void 0===a?{}:a,u=t.siteDataProvider,c=void 0===u?{}:u,d=t.profile,f=void 0===d?{}:d,p=t.pageCloner,h=void 0===p?{}:p,g=t.featureFlagDataProvider,v=void 0===g?{}:g,m=t.languageState,y=void 0===m?{}:m;s(this,e);this.pages=n;this.envDataProvider=o;this.userDataProvider=l;this.siteDataProvider=c;this.profile=f;this.pageCloner=h;this.featureFlagDataProvider=v;this.languageState=y;return this}u(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.fetch,o=void 0!==r&&r,a=t.selectedLanguage,s=void 0===a?null:a,l=t.currentPageRef,u=void 0===l?null:l;Cocktail.mixin(i.default,n.default);return new i.default({pageTree:this.siteDataProvider.get("pageTree"),siteLanguagesPageTree:this.siteDataProvider.get("siteLanguagesPageTree"),collection:this.pages,updatePages:o,envDataProvider:this.envDataProvider,userDataProvider:this.userDataProvider,siteDataProvider:this.siteDataProvider,profileModel:this.profile,multiLanguageEditor:this.featureFlagDataProvider.get("multiLanguageEditor"),localisedLanguages:this.envDataProvider.get("localisedLanguages"),languages:this.envDataProvider.get("languages"),selectedLanguage:s,currentPageRef:u,pageCloner:this.pageCloner,featureFlagDataProvider:this.featureFlagDataProvider,languageState:this.languageState})}}]);return e}();var p=t["default"]=f},84950(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=m(r(94663));var o=m(r(9385));var a=m(r(96342));var s=r(27686);var l=r(82315);var u=r(59650);var c=r(88052);var d=r(68404);var f=m(r(93404));var p=m(r(72154));var h=m(r(72112));var g=m(r(23904));var v=r(45089);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return k(e)||S(e,t)||w(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function k(e){if(Array.isArray(e))return e}function P(){return(0,p.default)().get("pageRef")}function E(){return n.store.dispatch(c.getPageTree.initiate(void 0,{subscribe:false,forceRefetch:true})).unwrap()}function x(e){return n.store.dispatch(c.getLanguages.initiate(e,{subscribe:false,forceRefetch:true})).unwrap()}function C(){return n.store.dispatch(c.getLanguagesPageTree.initiate(void 0,{subscribe:false,forceRefetch:true})).unwrap()}var O=Marionette.CompositeView.extend({template:"pages_panel",deleteDialogTemplate:"pages_panel_deletion_dialog",events:{"click .js-page-reorder":"onReorderClicked","click .js-add-page-folder":"onAddPageFolderClicked","click .js-option-button":"onOptionsClicked","click .js-edit-page":"onEditPageClicked","click .js-delete":"onDeletePageClicked","click .js-page-scripts":"onPageScriptClicked","click .js-page-title":"onPageClicked","click .js-site-styles":"openSiteStylePanel","click .js-site-scripts":"openSiteScriptsPanel","click .js-site-languages":"onSiteLanguagesClicked","click .js-v10-site-languages":"onV10SiteLanguageClicked","click .js-v10-add-site-languages":"onV10AddSiteLanguageClicked","change .js-language":"onSiteLanguageChange","click .js-clone":"onCloneClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageTree,i=void 0===r?{}:r,o=t.siteLanguagesPageTree,a=void 0===o?{}:o,s=t.collection,l=void 0===s?{}:s,u=t.envDataProvider,c=void 0===u?{}:u,d=t.userDataProvider,f=void 0===d?{}:d,p=t.siteDataProvider,g=void 0===p?{}:p,m=t.updatePages,y=void 0!==m&&m,b=t.profileModel,w=void 0===b?{}:b,_=t.multiLanguageEditor,S=void 0!==_&&_,k=t.localisedLanguages,P=void 0===k?{}:k,E=t.languages,x=void 0===E?{}:E,C=t.selectedLanguage,O=void 0===C?null:C,j=t.pageRef,A=void 0===j?null:j,T=t.pageCloner,D=void 0===T?{}:T,L=t.featureFlagDataProvider,I=void 0===L?{}:L,M=t.languageState,R=void 0===M?{}:M;this.pageTree=i;this.siteLanguagesPageTree=a;this.collection=l;this.envDataProvider=c;this.userDataProvider=f;this.siteDataProvider=g;this.profileModel=w;this.multiLanguageEditor=S;this.languages=x;this.localisedLanguages=P;this.selectedLanguage=O||n.store.getState().language.defaultLanguage.language;this.pageRef=A;this.pageCloner=D;this.featureFlagDataProvider=I;this.pageChanging=false;this.languageState=R;var F=n.store.getState().language.current;var B=n.store.getState().language.defaultLanguage.language;var N=F&&F!==B?"page.languages.".concat(F):"page";this.slice=new h.default({store:n.store,stateId:N});this.state=this.slice.get();this.slice.subscribe(this.handleStateChange.bind(this));y?this.updatePages({currentPageRef:A,selectedLanguage:O}):this.render();if(this.multiLanguageEditor){Editor.Events.off("siteframe:load").on("siteframe:load",this.updateToolbarPageTitle.bind(this));Editor.Events.off("language:deleted").on("language:deleted",this.checkDeletedLanguage.bind(this))}this.addProfileEvent(w);this.featureFlagDataProvider.get("enableRows")&&this.addLanguageSlice();(0,v.closeIntercom)()},addLanguageSlice:function e(){this.language=this.languageState.get();this.languageState.subscribe(this.handleLanguageChange.bind(this))},handleLanguageChange:function e(t){if((0,f.default)(this.language,t))return;if(this.language.current!==t.current){var r=t.current;this.changeSiteLanguage(r)}var n=this.language.siteLanguages.length;var i=t.siteLanguages.length;if(n!==i&&(0===i||0===n)){this.render();this.updateToolbarPageTitle();this.language=this.languageState.get()}},handleStateChange:function e(t){if((0,f.default)(this.state,t))return;var r=this.state;this.state=(0,g.default)(t);if(!(0,f.default)(this.state.pages,r.pages)){if(this.state.pagesError&&this.state.pagesErrorDetails)if(401===t.pagesErrorDetails.status)Editor.Responsive.displaySessionTimeoutDialog();else{(0,o.default)((0,a.default)("editor_v8.delete_row.error","Error"),(0,a.default)("shared_views.pages-reorder.error","Error reordering pages"),"error");this.mixinClosePanel();this.destroy()}else if(this.featureFlagDataProvider.get("enableRows")&&!this.state.pagesOrdering&&r.pagesOrdering){this.updatePagesCollection();(0,o.default)((0,a.default)("editor_v8.delete_row.success","Success"),(0,a.default)("shared_views.pages-reorder.saved","Page order updated"),"success")}else this.multiLanguageEditor||this.updatePagesCollection();this.render()}},buildTplData:function e(){var t=this.siteDataProvider.getDefaultLanguage();var r=n.store.getState().language.current||n.store.getState().language.defaultLanguage.language||this.userDataProvider.get("languageCode");var i=n.store.getState().language.siteLanguages;var o=this.selectedLanguage||t||"";var a=P();var s=this.getCurrentFolderRef();var l=n.store.getState().user.capabilities.enableStandaloneMode;this.tplData={pages:this.getPageTreeByLangCode(o),siteName:this.profileModel.get("business"),currentPageRef:a,currentFolderRef:s,currentPageTemplateType:this.getCurrentPageTemplateType(),disableV8SiteAndPageScripts:this.userDataProvider.has("disableV8SiteAndPageScripts"),rowsEnabled:this.featureFlagDataProvider.get("enableRows"),multiLanguageEditor:this.multiLanguageEditor,enableStandaloneMode:l,localisedLanguages:this.localisedLanguages,languages:this.languages,currentLanguageFlag:r?this.getFlags()[r.toLowerCase()]:null,currentLanguageCode:r,siteLanguages:i,defaultLanguage:t,selectedLanguage:o}},getPageTreeByLangCode:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===t||t===n.store.getState().language.defaultLanguage.language||0===n.store.getState().language.siteLanguages.filter(function(e){return e.language===t}).length)return n.store.getState().page.pages;return n.store.getState().page.languages[t].pages},getCurrentPageTemplateType:function e(){return this.getPageModel(P()).get("templateType")},getCurrentFolderRef:function e(){var t=this.getPageModel(P());if(t)return t.get("parentId");return 0},updatePages:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.currentPageRef,o=void 0!==i&&i,a=r.fetch,s=void 0===a||a,l=r.pageTree,u=void 0===l?{}:l,c=r.selectedLanguage,d=void 0===c?null:c;if(this.selectedLanguage&&d&&this.selectedLanguage!==d){this.changeLanguage(d,o);return}this.selectedLanguage=d||n.store.getState().language.defaultLanguage.language;if(s){this.currentPageRef=o;this.updatePageTrees().then(function(){t.render();t.updateToolbarPageTitle()}).catch(function(e){return console.error(e)})}else{this.pageTree=u;this.render();this.updateToolbarPageTitle()}},updatePageTrees:function e(){var t=this;return new Promise(function(e,r){var n=[];n.push(E());if(t.multiLanguageEditor){n.push(C());n.push(x(t.getSiteRef()))}Promise.all(n).then(function(r){var n=y(r,2),i=n[0],o=n[1];"undefined"!==typeof i&&t.updateMultiLanguagePageTree(i);"undefined"!==typeof o&&t.updateSiteLanguages(o);e()}).catch(r)})},updateMultiLanguagePageTree:function e(t){var r=this;try{this.siteLanguagesPageTree=t;Object.keys(this.siteLanguagesPageTree).forEach(function(e){BaseKit.Globals.pages.addFromPageTree(r.siteLanguagesPageTree[e].pages)})}catch(e){console.error(e)}},updateSiteLanguages:function e(t){this.siteLanguages=t.siteLanguages},getCsrfToken:function e(){return this.envDataProvider.get("csrfToken")},getApiProxyBaseUrl:function e(){return this.envDataProvider.get("apiProxyBaseUrl")},getSiteRef:function e(){return this.envDataProvider.get("siteRef")},getFlags:function e(){return this.envDataProvider.get("flags")},render:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.pageChanging)return;this.buildTplData();"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl({refresh:t.refresh});this.deleteDialogIsOpen=false;Editor.Events.trigger("pagespanel:rendered")},postRender:function e(){this.trigger("change:language",this.selectedLanguage);if(this.currentPageRef){var t=this.el.querySelector('.js-page-title[data-ref="'.concat(this.currentPageRef,'"]'));t&&t.click()}this.attachFolderEvents();this.featureFlagDataProvider.get("enableRows")&&this.setupReorderEvents()},closePanel:function e(){n.store.dispatch((0,s.panelClosed)());this.destroy()},onDestroy:function e(){this.slice.unsubscribe();this.featureFlagDataProvider.get("enableRows")&&this.languageState.unsubscribe()},checkDeletedLanguage:function e(t){var r=this.siteDataProvider.getDefaultLanguage();if(t!==this.selectedLanguage){this.render({refresh:true});return}this.changeLanguage(r)},onOptionsClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");var n=this.el.querySelector(".js-options[data-ref=".concat(r,"]"));if(n.classList.contains("is-open"))this.hideOptionDropdown(n);else{this.closeAllOptionsDropdown();this.showOptionDropdown(n)}},closeAllOptionsDropdown:function e(){var t=this;var r=this.el.querySelectorAll(".js-options");Array.prototype.forEach.call(r,function(e){t.hideOptionDropdown(e)})},showOptionDropdown:function e(t){t.removeAttribute("hidden");t.classList.add("is-open");this.positionOptionDropdown(t)},hideOptionDropdown:function e(t){t.setAttribute("hidden",true);t.classList.remove("is-open");if(this.featureFlagDataProvider.get("enableRows")){t.hasAttribute("style")&&t.removeAttribute("style");var r=this.el.querySelector(".js-nav-drawer__content");r.hasAttribute("style")&&r.removeAttribute("style")}},positionOptionDropdown:function e(t){if(!this.featureFlagDataProvider.get("enableRows"))return;var r=t.parentNode.getAttribute("data-ref");var n='.js-is-folder-draggable-item[data-page-ref="'.concat(r,'"]');var i=this.el.querySelector(n);var o=i&&i.hasAttribute("data-folder-ref")?i.getAttribute("data-folder-ref"):r;var a='.js-is-draggable-page[data-page-ref="'.concat(o,'"]');var s=this.el.querySelector(a);var l=0;i?l=s.offsetTop:i=s;var u=this.el.querySelector(".js-nav-drawer__inner");var c=u.offsetTop+l+i.offsetTop;var d=c+t.offsetTop+t.clientHeight;var f=this.el.querySelector(".js-nav-drawer__content");if(d>f.clientHeight+f.scrollTop){var p=t.parentNode.clientHeight-t.offsetTop-t.clientHeight;var h=c+p;if(h<0){var g=4;f.style.height="".concat(f.scrollHeight+g,"px")}else t.style.top="".concat(p,"px")}},onEditPageClicked:function e(t){this.hidePanel();var r=t.currentTarget.getAttribute("data-ref");var n=this.getPageModel(r);this.trigger("open:edit-page",{page:n});this.closeAllOptionsDropdown()},onReorderClicked:function e(){var t=this.selectedLanguage||this.defaultLanguage;var r=this.getPageTreeByLangCode(t);this.trigger("open:re-order",{language:t,pageTree:r})},onSiteLanguagesClicked:function e(){this.trigger("open:site-languages")},onAddPageFolderClicked:function e(){this.hidePanel();this.trigger("open:add-page")},hidePanel:function e(){if(this.featureFlagDataProvider.get("enableRows")){var t=this.el.querySelector(".js-pages-nav__surface");void 0!==t&&t.setAttribute("hidden",true)}},showPanel:function e(){if(this.featureFlagDataProvider.get("enableRows")){var t=this.el.querySelector(".js-pages-nav__surface");void 0!==t&&t.removeAttribute("hidden")}},onDeletePageClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");var i=this.getPageModel(r);var o=i.get("type");if(!this.deleteDialogIsOpen){this.openPageDeletionDialog({pageModel:i,pageType:o});this.deleteDialogIsOpen=true;n.store.dispatch((0,l.modalOpened)("deletePage"))}},deleteConfirmedBtnClicked:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pageModel;this.hidePopup();if(this.isCurrentPage(r)||this.isCurrentFolder(r)){this.redirectToHome(r);(0,v.openIntercom)()}this.removePageFromDB(r)},removePageFromDB:function e(t){var r=n.store.getState().language.current;r&&r!==n.store.getState().language.defaultLanguage.language?n.store.dispatch((0,u.deleteLangPage)(t.get("ref"),r)):n.store.dispatch((0,u.deletePage)(t.get("ref")));t.destroy()},isCurrentPage:function e(t){var r=false;parseInt(P(),10)===parseInt(t.get("ref"),10)&&(r=true);return r},isCurrentFolder:function e(t){var r=false;var n=this.getPageModel(P());parseInt(n.get("parentId"),10)===parseInt(t.get("ref"),10)&&(r=true);return r},redirectToHome:function e(t){var r=t.get("language");var n=r?this.getLanguageHomePage(r):this.collection.findWhere({type:"home"});var i=r?n.ref:n.get("ref");var o=this.el.querySelector('.js-page-title[data-ref="'.concat(i,'"]'));o.click()},openPageDeletionDialog:function e(t){var r=this;var i=t.pageModel,o=t.pageType;n.store.dispatch((0,l.modalOpened)("deleteModal"));var a=Twig.render(Twig.templates[this.deleteDialogTemplate],{pageTitle:i.get("title"),deleteFolder:"folder"===o,deleteLink:"redirect"===o});$("body").append(a);var s=document.querySelectorAll(".js-close-popup");Array.prototype.forEach.call(s,function(e){e.addEventListener("click",function(){r.hidePopup()})});document.querySelector(".js-popup-bg").addEventListener("click",function(){r.hidePopup()});var u=document.querySelector(".js-delete-confirmed");u.addEventListener("click",function(e){e.stopPropagation();r.deleteConfirmedBtnClicked({pageModel:i,pageType:o})});u.classList.add("js-delete-confirmed-event-attached")},hidePopup:function e(){var t=document.querySelector(".js-deletion-popup");t.parentNode.removeChild(t);this.deleteDialogIsOpen=false;n.store.dispatch((0,l.modalClosed)())},onPageScriptClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");var n=this.getPageModel(r);this.trigger("open:page-script",{page:n})},onPageClicked:function e(t){var r=t.currentTarget.getAttribute("data-ref");var n=this.getPageModel(r);var i=n.get("type");if("redirect"===i)return;this.updateToolbarPageTitle(r);this.changePage(r);this.closePanel();(0,v.openIntercom)()},changePage:function e(t){var r=this.getPageModel(t);Editor.Events.trigger("page:change",r);this.changeIframeUrl(r)},updateToolbarPageTitle:function e(t){var r=t||P();var n=this.getPageModel(r);if(!n)return;var i=n.get("title");n.get("plugin")&&(i=(0,a.default)(n.get("plugin").displayTitle.key,n.get("plugin").displayTitle.default));this.featureFlagDataProvider.get("enableRows")&&(i=this.prefixedCurrentPageTitle(i));document.querySelector(".js-active-page").textContent=i;document.querySelector(".js-active-page").setAttribute("title",i)},prefixedCurrentPageTitle:function e(t){var r=t;var i=this.selectedLanguage||n.store.getState().language.defaultLanguage.language;n.store.getState().language.siteLanguages.length>0&&i&&(r="".concat(i.toUpperCase()," / ").concat(t));return r},changeIframeUrl:function e(t){this.pageChanging=true;var r=encodeURIComponent(t.get("request"));r=r.replace(/%2F/g,"/");var n=[this.envDataProvider.get("protocol"),"://editor.",this.envDataProvider.get("domain"),""===App.getPort()?"":":".concat(App.getPort()),"/",r,"?",App.frontEndBucket.serveSiteFromEditorSubdomainQueryParam,"=",App.frontEndBucket.serveSiteFromEditorSubdomainQueryValue].join("");var i=document.querySelector("#siteFrame");var o=i.contentWindow?i.contentWindow:i.contentDocument.defaultView;o.location.href=n},getPageModel:function e(t){return this.collection.get(t)},openSiteStylePanel:function e(){this.trigger("open:site-style-panel")},openSiteScriptsPanel:function e(){this.trigger("open:site-scripts");this.featureFlagDataProvider.get("enableRows")&&this.slice.unsubscribe()},addProfileEvent:function e(t){t&&"function"===typeof t.listenTo&&this.listenTo(t,"change:business",this.updateSiteName)},updateSiteName:function e(t){this.$(".js-site-name").text(t.get("business"))},attachFolderEvents:function e(){var t=this;var r=this.el.querySelectorAll(".js-folder-title");Array.prototype.forEach.call(r,function(e){e.addEventListener("click",function(e){t.onFolderClicked(e)})})},onFolderClicked:function e(t){var r=t.currentTarget.parentNode.parentNode.parentNode;t.currentTarget.parentNode.parentNode.classList.toggle("is-collapsed");r.classList.toggle("is-collapsed-folder");r.classList.contains("is-dragging-item")&&r.classList.remove("is-dragging-item")},onSiteLanguageChange:function e(t){var r=this.el.querySelector(".js-site-languages");if("manage"===t.currentTarget.value){this.selectedLanguage?this.el.querySelector(".js-language option[value=".concat(this.selectedLanguage,"]")).selected=true:this.el.querySelectorAll(".js-language option")[0].selected=true;this.trigger("open:site-languages")}else{r.setAttribute("disabled","disabled");Editor.Events.once("siteframe:load",function(){return r.removeAttribute("disabled")});this.changeLanguage(t.currentTarget.value)}},changeLanguage:function e(t,r){var i=t||this.siteDataProvider.getDefaultLanguage();n.store.dispatch((0,d.languageSet)(i));this.changeSiteLanguage(i,r)},changeSiteLanguage:function e(t,r){this.selectedLanguage=t;this.trigger("change:language",this.selectedLanguage);this.collection.resetPageTree(this.getPageTreeByLangCode(this.selectedLanguage));this.closePanel();if(r){this.changePage(r);return}var n=this.getLanguageHomePage(this.selectedLanguage);this.changePage(n.ref)},getLanguageHomePage:function e(t){var r=this.getPageTreeByLangCode(t);var n=r.filter(function(e){return"home"===e.templateType}).shift();return n},onCloneClicked:function e(t){var r=this;var n=t.currentTarget.getAttribute("data-ref");var i=this.getPageModel(n);this.closeAllOptionsDropdown();this.pageCloner.setSelectedLanguage(this.selectedLanguage);this.pageCloner.clone(i).then(function(e){r.updatePages({currentPageRef:e.ref,selectedLanguage:e.language})})},setupReorderEvents:function e(){var t=this;n.store.dispatch((0,u.orderPages)());this.setupTopLevelReorderEvents();var r=this.el.querySelectorAll(".js-sortable-folder");Array.prototype.forEach.call(r,function(e){t.setupFolderSubpagesReorderEvents(e)})},setupTopLevelReorderEvents:function e(){var t=this;var r=this.el.querySelector(".js-top-level");var n={ghostClass:"is-item-ghost-new",group:"reorder",animation:150,draggable:".js-draggable",handle:".js-drag-handle",dragClass:"is-dragging-item",onChoose:function e(){t.el.querySelector(".js-options.is-open")&&t.hideOptionDropdown(t.el.querySelector(".js-options.is-open"))},onMove:function e(r){var n=r.dragged;var i=r.related;var o=r.to;n.classList.contains("is-fixed-top-level")||i.classList.contains("is-folder-wrapper")&&t.openSortableFolderNode(i);if(t.isHomeMovingIntoFolder(n,o))return false;t.updatePagesInOrOutFolderUI(n,i);return true},onEnd:function e(){var r=t.getNewOrder();t.updatePagesWithOrder(r)}};i.default.create(r,n)},setupFolderSubpagesReorderEvents:function e(t){var r=this;var n={ghostClass:"is-item-ghost-new",group:"reorder",animation:150,draggable:".js-draggable",handle:".js-drag-handle",dragClass:"is-dragging-item",onChoose:function e(){r.el.querySelector(".js-options.is-open")&&r.hideOptionDropdown(r.el.querySelector(".js-options.is-open"))},onMove:function e(t){var n=t.dragged;var i=t.related;if(r.isFolderIndexPage(n)){if(r.isMovingIntoTopLevel(i))return false;if(r.isMovingIntoAnotherFolder(n,i))return false}else i.classList.contains("is-folder-wrapper")&&r.openSortableFolderNode(i);r.updatePagesInOrOutFolderUI(n,i);return true},onEnd:function e(){var t=r.getNewOrder();r.updatePagesWithOrder(t)}};i.default.create(t,n)},updatePagesInOrOutFolderUI:function e(t,r){if(this.isMovingPageIntoFolder(r)){t.classList.remove("pages-tree");t.classList.add("pages-tree__folder-wrapper");t.classList.add("pages-tree__folder-wrapper--no-icon");t.classList.add("is-folder-draggable-item")}else{t.classList.remove("pages-tree__folder-wrapper");t.classList.remove("pages-tree__folder-wrapper--no-icon");t.classList.remove("is-folder-draggable-item");t.classList.add("pages-tree")}},updatePagesWithOrder:function e(t){var r=n.store.getState().language.current||null;var i=n.store.getState().language.defaultLanguage.language;var o=r===i?null:r;n.store.dispatch(c.updateOrder.initiate({language:o,pagesOrder:t}))},updatePagesCollection:function e(){this.pageTree=n.store.getState().page.pages;this.collection.resetPageTree(this.pageTree)},openSortableFolderNode:function e(t){t.querySelector(".js-sortable-folder")&&t.querySelector(".js-sortable-folder").classList.remove("is-collapsed")},isFolderIndexPage:function e(t){return t.classList.contains("is-folder-index")},isMovingPageIntoFolder:function e(t){return t.parentNode.classList.contains("js-sortable-folder")},isHomeMovingIntoFolder:function e(t,r){return t.classList.contains("is-fixed-top-level")&&r.classList.contains("js-sortable-folder")},isMovingIntoAnotherFolder:function e(t,r){return t.getAttribute("data-folder-ref")!==r.parentNode.getAttribute("data-folder-ref")},isMovingIntoTopLevel:function e(t){return!t.parentNode.classList.contains("js-sortable-folder")},getNewOrder:function e(){var t=[];var r=this.el.querySelector(".js-top-level").children;var n=0;Array.prototype.forEach.call(r,function(e){var r=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(r,10),n,0]);if(e.classList.contains("is-folder-wrapper")){var i=e.querySelectorAll(".js-draggable");Array.prototype.forEach.call(i,function(e){var i=e.getAttribute("data-page-ref");n+=1;t.push([parseInt(i,10),n,parseInt(r,10)])})}});return t},onV10SiteLanguageClicked:function e(){this.trigger("open:language-dropdown")},onV10AddSiteLanguageClicked:function e(){this.trigger("open:add-language")}});var j=t["default"]=O},35310(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(88855));var i=o(r(93157));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pages,n=void 0===r?{}:r;s(this,e);this.pages=n;return this}u(e,[{key:"build",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.language,o=void 0===r?null:r,a=t.pageTree,s=void 0===a?{}:a;var l=i.default;Cocktail.mixin(l,n.default);return new l({pageTree:s,language:o,pages:this.pages})}}]);return e}();var p=t["default"]=f},2568(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(62156));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==o(t)?t:t+""}function p(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=new WeakMap;var g=function(){function e(t){u(this,e);h.set(this,s({},t))}d(e,[{key:"build",value:function e(){var t=h.get(this),r=t.envDataProvider;return new n.default({envDataProvider:r})}}]);return e}();var v=t["default"]=g},85209(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=s(r(16838));var i=s(r(33346));var o=s(r(92399));var a=s(r(16706));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==l(t)?t:t+""}function p(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.globalValuesCollection,n=void 0===r?{}:r,i=t.presetAttributesCollection,o=void 0===i?{}:i,a=t.contentStylesCollection,s=void 0===a?{}:a,l=t.fontListContents,c=void 0===l?{}:l,d=t.templateStylePreprocessorVariables,f=void 0===d?{}:d,p=t.allGoogleFonts,h=void 0===p?{}:p,g=t.siteDataProvider,v=void 0===g?{}:g,m=t.envDataProvider,y=void 0===m?{}:m,b=t.brandDataProvider,w=void 0===b?{}:b;u(this,e);this.globalValuesCollection=n;this.presetAttributesCollection=o;this.contentStylesCollection=s;this.fontListContents=c;this.templateStylePreprocessorVariables=f;this.allGoogleFonts=h;this.siteDataProvider=v;this.envDataProvider=y;this.brandDataProvider=w}d(e,[{key:"build",value:function e(){var t=this.siteDataProvider.get("templateData");var r=false;t.templateStylePreprocessorVariablesEnabled&&1===t.templateStylePreprocessorVariablesEnabled&&(r=true);return new n.default({globalValuesCollection:this.globalValuesCollection,presetAttributesCollection:this.presetAttributesCollection,contentStylesCollection:this.contentStylesCollection,templateStylePreprocessorVariables:this.templateStylePreprocessorVariables,fontListContents:this.fontListContents,allGoogleFonts:this.allGoogleFonts,themeRef:t.templateRef,siteRef:this.envDataProvider.get("siteRef"),protocol:this.envDataProvider.get("protocol"),v10CompatibilityMode:this.envDataProvider.get("V10CompatibilityMode"),brandDomain:this.brandDataProvider.get("brandDomain"),templateStylePreprocessorVariablesEnabled:r,ColourPickerView:i.default,FontPickerView:o.default,ImagesPanelView:a.default})}}]);return e}();var g=t["default"]=h},69632(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:true});t.formatPages=h;t.nestPages=g;function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.flatMap(function(e){if(e.subPages)return[i(i({},e),{},{subPages:[]})].concat(l(e.subPages.map(function(t){return i(i({},t),{},{parentId:e.ref})})));return e})}function g(e){var t=[];var r=[];e.forEach(function(e){"0"==="".concat(e.parentId)?t.push(e):r.push(e)});r.forEach(function(e){t.forEach(function(t){if("".concat(t.ref)==="".concat(e.parentId)){t.subPages||(t.subPages=[]);t.subPages.push(e)}})});return t}},66150(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=g(r(86979));var i=g(r(67717));var o=g(r(19529));var a=g(r(88617));var s=g(r(16822));var l=g(r(35310));var u=g(r(85209));var c=g(r(2568));var d=g(r(96064));var f=g(r(99453));var p=g(r(31723));var h=g(r(10305));function g(e){return e&&e.__esModule?e:{default:e}}function v(){var e=BaseKit.Globals.templateStylePreprocessorVariables.where({widget:"content"});var t=new BaseKit.Globals.TemplateStylePreprocessorVariables(e);return t}function m(e){e.factory("SiteStylePanelFactory",function(e){return new u.default({globalValuesCollection:BaseKit.Globals.globalValues,presetAttributesCollection:BaseKit.Globals.presetAttributes,contentStylesCollection:v(),fontListContents:BaseKit.Static.fonts,templateStylePreprocessorVariables:BaseKit.Globals.templateStylePreprocessorVariables,allGoogleFonts:App.frontEndBucket.allGoogleFonts,siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,brandDataProvider:e.BrandDataProvider})});e.factory("PagesPanelFactory",function(e){return new i.default({pages:BaseKit.Globals.pages,profile:BaseKit.Globals.profile,envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,siteDataProvider:e.SiteDataProvider,pageCloner:e.pageCloner,featureFlagDataProvider:e.featureFlagDataProvider,languageState:e.StoreDataAdapterFactory.build({stateId:"language"})})});e.factory("AddPagePanelFactory",function(e){return new a.default({pageTypes:JSON.parse(JSON.stringify(Editor.Site.Theme.current.pageTypes)),envDataProvider:e.EnvDataProvider,tracker:e.Tracker,siteDataProvider:e.SiteDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,serverVars:e.ServerVars})});e.factory("EditPagePanelFactory",function(e){return new s.default({featureFlagDataProvider:e.featureFlagDataProvider,envDataProvider:e.EnvDataProvider,tracker:e.Tracker})});e.factory("PagesReorderPanelFactory",function(){return new l.default({pages:BaseKit.Globals.pages})});e.factory("SiteScriptsFactory",function(e){return new c.default({envDataProvider:e.EnvDataProvider})});e.factory("PageScriptsFactory",function(e){return new d.default({envDataProvider:e.EnvDataProvider})});e.factory("SiteLanguageFactory",function(e){return new f.default({siteDataProvider:e.SiteDataProvider,languageDataProvider:e.LanguageDataProvider,envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,sessionTimeoutDialog:e.SessionTimeoutDialog,siteGlobalValuesHelper:e.SiteGlobalValuesHelper,tracker:e.Tracker})});e.factory("pageCloner",function(e){return new p.default({PageClonerDialogViewFactory:h.default,languageDataProvider:e.LanguageDataProvider,siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,multiLanguageEditor:e.featureFlagDataProvider.get("multiLanguageEditor")})});e.factory("siteLanguageMenuSettingsPanel",function(e){return new n.default({siteDataProvider:e.SiteDataProvider,languageDataProvider:e.LanguageDataProvider,envDataProvider:e.EnvDataProvider,sessionTimeoutDialog:e.SessionTimeoutDialog,siteGlobalValuesHelper:e.SiteGlobalValuesHelper})});e.factory("PagesAndFoldersPanel",function(e){return new o.default({PagesPanelFactory:e.PagesPanelFactory,AddPagePanelFactory:e.AddPagePanelFactory,EditPagePanelFactory:e.EditPagePanelFactory,PagesReorderPanelFactory:e.PagesReorderPanelFactory,SiteStylePanelFactory:e.SiteStylePanelFactory,SiteScriptsFactory:e.SiteScriptsFactory,PageScriptsFactory:e.PageScriptsFactory,SiteLanguageFactory:e.SiteLanguageFactory,envDataProvider:e.EnvDataProvider,siteGlobalValuesHelper:e.SiteGlobalValuesHelper,pageCloner:e.pageCloner,languageListUIState:e.StoreDataAdapterFactory.build({stateId:"ui.languageList"})})});return e}var y=t["default"]=m},33766(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.Model=t.Model;this.Collection=t.Collection;this.RowPanelView=t.RowPanelView;this.dataTransformer=t.dataTransformer}o(e,[{key:"build",value:function e(t){var r=this.dataTransformer.transformRowData(t);var n=new this.Collection(r,{model:this.Model});this.rowPanelView=new this.RowPanelView({el:".js-widgets-overlay-panel",collection:n});return this.rowPanelView}}]);return e}();var u=t["default"]=l},83132(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({tagName:"li",events:{"click .js-widget":"hidePanel"},initialize:function e(){this.widgetType="widget.row";this.rowTemplate=this.model.get("value");this.model.on("widget:filtered",this.hideWidget.bind(this));this.model.on("widget:restored",this.showWidget.bind(this))},hideWidget:function e(){this.el.style.display="none"},showWidget:function e(){this.el.style.display=""}});var n=t["default"]=r},82167(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(80219);var i=s(r(83132));var o=s(r(54767));var a=r(62047);function s(e){return e&&e.__esModule?e:{default:e}}var l=Marionette.CompositeView.extend({childView:i.default,events:{"click .js-close-widget-overlay-panel":"hidePanel","click .js-widget":"hidePanel","click .js-search-footer":"footerSearchClicked","keyup .js-footer-search-field":"footerSearchKeyup"},render:function e(){var t=this.collection.toJSON();var r=Twig.render(Twig.templates.row_panel_container,{rows:t});(0,a.emptyElement)(this.el);this.el.innerHTML=r;this.attachChildrenEvents();this.onRender()},attachChildrenEvents:function e(){this.collection.each(function(e){this.attachRowItemFunction(e)},this);this.delegateEvents()},attachRowItemFunction:function e(t){var r=new i.default({el:".js-widget[data-ref=".concat(t.get("ref"),"]"),model:t});this.proxyChildEvents(r);this.children.add(r)},initialize:function e(t){this.collection=t.collection;this.attachEditorEvents()},attachEditorEvents:function e(){Editor.Events.on("toolbar:togglePopover",this.togglePanel.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.hidePanel.bind(this));Editor.Events.on("dragdrop:clickToAddWidget",this.hidePanel.bind(this));Editor.Events.on("dragdrop:dragStart",this.hidePanel.bind(this))},footerSearchClicked:function e(){var t=this.search.getInput();this.search.applyFilter(t)},footerSearchKeyup:function e(t){this.search.handleKeyup(t)},togglePanel:function e(){if(this.el.classList.contains("is-open"))this.hidePanel();else{this.el.classList.add("is-open");this.giveSearchBoxFocus();this.hidePreviewBar()}},hidePreviewBar:function e(){if(n.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.add("hidden");document.querySelector(".editor-body").classList.add("no-preview")}},showPreviewBar:function e(){if(n.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.remove("hidden");document.querySelector(".editor-body").classList.remove("no-preview")}},giveSearchBoxFocus:function e(){this.el.querySelector(".js-footer-search-field").focus()},hidePanel:function e(){this.resetRowPanel();this.el.classList.remove("is-open")},resetRowPanel:function e(){this.search.clearInput();this.showPreviewBar();this.search.clearFilter()},onRender:function e(){this.search=new o.default({view:this});this.setTouchClasses()},setTouchClasses:function e(){"coarse"===n.deviceFeaturesHelper.getInputType()&&this.el.classList.add("mobile-panel")}});var u=t["default"]=l},44535(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={defaults:{callback:"",custom:false,default:1,enabled:1,private:0,ref:1,version:"responsive"},transformRowData:function e(t){var r=this;var n=1;var i=t.map(function(e){var t={};Object.assign(t,r.defaults);t.type=e.id;t.value=e.id;t.name=e.name;t.title=e.name;t.ref=n;t.translatedName=e.name;n++;return t});return i}};var n=t["default"]=r},7107(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(33766));var i=a(r(82167));var o=a(r(44535));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){e.factory("RowPanelFactory",function(){return new n.default({Model:Backbone.Model.extend(),Collection:Backbone.Collection.extend(),RowPanelView:i.default,dataTransformer:o.default})});return e}var l=t["default"]=s},54998(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=Marionette.ItemView.extend({template:"scroll_effects_panel",events:{"click .js-scroll-effects-cancel":"cancelChanges","click .js-scroll-effects-done":"closePanel","click .js-scroll-effects-bg":"cancelChanges","click .js-scroll-effects-item":"onScrollEffectClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentScrollEffect=t.scrollEffect||"none";this.prevEffect=this.currentScrollEffect;this.effects=t.effects},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentScrollEffect:this.currentScrollEffect,effects:this.effects});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onScrollEffectClicked:function e(t){this._clearActiveEffectClass();this._addActiveEffectClass(t.currentTarget);this.changeScrollEffect(t.currentTarget.dataset.name)},changeScrollEffect:function e(t){if(t===this.currentScrollEffect)return;this.trigger("scrollEffect:change",t);this.currentScrollEffect=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeScrollEffect(this.prevEffect);this.closePanel()},_clearActiveEffectClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveEffectClass:function e(t){t.classList.add("is-current")}});var o=t["default"]=i},45410(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=Marionette.ItemView.extend({template:"section_gradient_panel",events:{"click .js-section-gradient-cancel":"cancelChanges","click .js-section-gradient-done":"closePanel","click .js-section-gradient-bg":"cancelChanges","click .js-section-gradient-item":"onSectionGradientClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentSectionGradient=t.currentSectionGradient||"none";this.prevGradient=this.currentSectionGradient;this.sectionGradients=t.sectionGradients},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentSectionGradient:this.currentSectionGradient,sectionGradients:this.sectionGradients});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onSectionGradientClicked:function e(t){this._clearActiveClass();this._addActiveClass(t.currentTarget);this.changeSectionGradient(t.currentTarget.dataset.name)},changeSectionGradient:function e(t){if(t===this.currentSectionGradient)return;this.trigger("gradient:change",t);this.currentSectionGradient=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeSectionGradient(this.prevGradient);this.closePanel()},_clearActiveClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveClass:function e(t){t.classList.add("is-current")}});var o=t["default"]=i},98976(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=Marionette.ItemView.extend({template:"section_height_panel",events:{"click .js-section-height-cancel":"cancelChanges","click .js-section-height-done":"closePanel","click .js-section-height-bg":"cancelChanges","click .js-section-height-item":"onSectionHeightClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentSectionHeight=t.currentSectionHeight||"default";this.prevHeight=this.currentSectionHeight;this.sectionHeights=t.sectionHeights},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentSectionHeight:this.currentSectionHeight,sectionHeights:this.sectionHeights});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onSectionHeightClicked:function e(t){this._clearActiveClass();this._addActiveClass(t.currentTarget);this.changeSectionHeight(t.currentTarget.dataset.name)},changeSectionHeight:function e(t){if(t===this.currentSectionHeight)return;this.trigger("height:change",t);this.currentSectionHeight=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeSectionHeight(this.prevHeight);this.closePanel()},_clearActiveClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveClass:function e(t){t.classList.add("is-current")}});var o=t["default"]=i},91998(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=o(r(21983));function o(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"section_link_panel",events:{"click .js-section-link-bg":"closePanel","click .js-section-link-copy":"copyLink","click .js-section-link-done":"closePanel","click .js-section-add-new-link":"createNewNavLink"},initialize:function e(t){this.pagesAndFoldersPanel=null;this.dialogStyle=t.dialogStyle;this.pageUrl=t.pageUrl;this.sectionId=t.sectionId;this.sectionLink="".concat(this.pageUrl,"#").concat(this.sectionId);this.copiedSuccessMessage=App.t("editor.section_link_picker.copied_success","Copied to clipboard")},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,sectionLink:this.sectionLink});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},createNewNavLink:function e(){var t=this.el.querySelector(".cl-text-input__input").value;var r="/".concat(t.split("/").slice(3).join("/"));this.closePanel();this.openLinkPanel(r)},openLinkPanel:function e(t){this.pagesAndFoldersPanel=i.default.container.PagesAndFoldersPanel;this.pagesAndFoldersPanel.openPagesPanel();var r=this.pagesAndFoldersPanel.pagesPanelView.el.querySelector(".js-pages-nav__surface");r.setAttribute("hidden",true);var n=this.pagesAndFoldersPanel.openAddPagePanel();n.$("li[data-type=page]").removeClass("is-selected");n.$("li[data-type=link]").addClass("is-selected");n.$("div[data-card-type=page]").prop("hidden",true);n.$("div[data-card-type=link]").removeAttr("hidden");n.$("input[name=page-link]").prop("value",t);n.$("input[name=link-page-title]").focus();var o=new URL(window.location);o.searchParams.set("sectionLink","true");window.history.pushState({},"",o)},closePanel:function e(){this.trigger("panel:close");this.destroy()},copyLink:function e(){if("clipboard"in navigator){navigator.clipboard.writeText(this.sectionLink);this.showCopiedMessage()}},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},showCopiedMessage:function e(){var t=this;if(this.$(".js-copied-success").length<1){this.$(".js-section-add-new-link").before('<span class="dialog__panel-body__switch-notification js-copied-success">'.concat(this.copiedSuccessMessage,"</span>"));window.setTimeout(function(){t.$(".js-copied-success").fadeOut(function(){t.$(".js-copied-success").remove()})},4e3)}}});var s=t["default"]=a},21286(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=Marionette.ItemView.extend({template:"section_width_panel",events:{"click .js-section-width-cancel":"cancelChanges","click .js-section-width-done":"closePanel","click .js-section-width-bg":"cancelChanges","click .js-section-width-item":"onSectionWidthClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.currentSectionWidth=t.currentSectionWidth||"default";this.prevWidth=this.currentSectionWidth;this.sectionWidths=t.sectionWidths},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentSectionWidth:this.currentSectionWidth,sectionWidths:this.sectionWidths});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onSectionWidthClicked:function e(t){this._clearActiveClass();this._addActiveClass(t.currentTarget);this.changeSectionWidth(t.currentTarget.dataset.name)},changeSectionWidth:function e(t){if(t===this.currentSectionWidth)return;this.trigger("width:change",t);this.currentSectionWidth=t},closePanel:function e(){this.trigger("panel:close");this.destroy()},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},cancelChanges:function e(){this.changeSectionWidth(this.prevWidth);this.closePanel()},_clearActiveClass:function e(){this.el.querySelector(".is-current").classList.remove("is-current")},_addActiveClass:function e(t){t.classList.add("is-current")}});var o=t["default"]=i},18738(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"session_timeout_dialog",events:{"click .js-cancel":"closeDialog","click .js-login":"login"},brandLoginUrl:"",initialize:function e(t){var r=t.brandLoginUrl;this.brandLoginUrl=r},login:function e(){""!==this.brandLoginUrl?window.top.location=this.brandLoginUrl:window.top.location.reload()},render:function e(){var t=Twig.render(Twig.templates[this.template]);var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t)}});var n=t["default"]=r},24726(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=o(r(21983));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return c(e)||u(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f="dark";var p="none";var h=Marionette.ItemView.extend({template:"shape_divider_panel",events:{"click .js-shape-divider-cancel":"cancelChanges","click .js-shape-divider-done":"saveChanges","click .js-shape-divider-bg":"cancelChanges","click .js-shape-divider-item":"shapeDividerClicked","click .js-shape-divider-color-option":"colorClicked"},initialize:function e(t){this.dialogStyle=t.dialogStyle;this.shapeDividers=t.shapeDividers;this.styleSets=t.styleSets;this.currentShapeDivider=t.currentShapeDivider;this.currentShapeDividerColor=t.currentShapeDividerColor;this.prevShapeDivider=this.currentShapeDivider;this.prevShapeDividerColor=this.currentShapeDividerColor},render:function e(){var t=Twig.render(Twig.templates[this.template],{dialogStyle:this.dialogStyle,currentShapeDivider:this.currentShapeDivider,currentShapeDividerColor:this.currentShapeDividerColor,shapeDividers:this.shapeDividers,styleSets:this.styleSets});(0,n.emptyElement)(this.el);(0,n.append)(this.el,t);document.querySelector("body").insertAdjacentElement("beforeend",this.el);this.setElement(this.el);this.onRender();return this},onRender:function e(){Editor.Events.on("screenMode:change",this.closePanel.bind(this))},closePanel:function e(){this.trigger("panel:close");this.destroy()},saveChanges:function e(){i.default.container.Tracker.track("Shape divider updated");this.closePanel()},cancelChanges:function e(){if(this.prevShapeDivider!==this.currentShapeDivider||this.prevShapeDividerColor!==this.currentShapeDividerColor){"undefined"===typeof this.prevShapeDivider&&(this.prevShapeDivider=p);this.trigger("shapeDivider:change",{shapeDivider:this.prevShapeDivider,shapeDividerColor:this.prevShapeDividerColor})}this.closePanel()},shapeDividerClicked:function e(t){if(this._isSelectedTypeAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDivider=t.currentTarget.getAttribute("data-name");"undefined"===typeof this.currentShapeDividerColor&&(this.currentShapeDividerColor=f);this._clearSelectedShapeDividerClasses();this._addSelectedShapeDividerClass(t.currentTarget);this._updateColorSwitchVisibility(this.currentShapeDivider);this.updateShapeDivider();i.default.container.Tracker.track("Divider type selected",{shapeDividerType:this.currentShapeDivider})}},colorClicked:function e(t){if(this._isSelectedColorAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDividerColor=t.currentTarget.getAttribute("data-name");this._clearSelectedColorClasses();this._addSelectedColorClass(t.currentTarget);this.updateShapeDivider();i.default.container.Tracker.track("Divider colour selected",{shapeDividerColour:this.currentShapeDividerColor})}},updateShapeDivider:function e(){this.trigger("shapeDivider:change",{shapeDivider:this.currentShapeDivider,shapeDividerColor:this.currentShapeDividerColor})},_isSelectedColorAllowed:function e(t){return-1!==Object.keys(this.styleSets).indexOf(t)},_isSelectedTypeAllowed:function e(t){return-1!==this.shapeDividers.indexOf(t)},_clearSelectedShapeDividerClasses:function e(){a(this.el.querySelectorAll(".js-shape-divider-item")).forEach(function(e){e.classList.remove("is-current")})},_addSelectedShapeDividerClass:function e(t){t.classList.add("is-current")},_clearSelectedColorClasses:function e(){a(this.el.querySelectorAll(".js-shape-divider-color-option")).forEach(function(e){e.classList.remove("is-current-color")})},_addSelectedColorClass:function e(t){t.classList.add("is-current-color")},_updateColorSwitchVisibility:function e(t){var r=this.el.querySelector(".js-shape-divider-color-switch");t===p?r.setAttribute("hidden","true"):r.removeAttribute("hidden")}});var g=t["default"]=h},84810(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"delete_language_dialog",events:{"click .js-cancel":"cancel","click .js-delete":"delete"},cancel:function e(){this.trigger("dialog:close")},delete:function e(){this.trigger("dialog:resolve","delete")},render:function e(){var t=Twig.render(Twig.templates[this.template]);var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t)}});var n=t["default"]=r},99453(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(6965);var i=p(r(32686));var o=p(r(88855));var a=p(r(38561));var s=p(r(9385));var l=r(83502);var u=r(82315);var c=r(41187);var d=p(r(84810));var f=p(r(71982));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function w(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=S(e,"string");return"symbol"==h(t)?t:t+""}function S(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var k=new WeakMap;var P=function(){function e(t){y(this,e);k.set(this,v({},t));var r=document.querySelector(".js-language-mount");this.multiLanguageRoot=(0,n.createRoot)(r)}w(e,[{key:"build",value:function e(t){var r=k.get(this),n=r.envDataProvider,c=r.siteDataProvider,p=r.sessionTimeoutDialog,h=r.tracker;var g=n.get("localisedLanguages");var v=n.get("languages");var m=n.get("flags");var y=t.selectedLanguage;var b=function e(){var t=new d.default;var r=new i.default({contentClassname:"dialog__content--center",title:App.t("editor.dialog.title.delete_language","Delete Language"),content:t,render:false});l.store.dispatch((0,u.modalOpened)("deleteLanguage"));return r.render()};Cocktail.mixin(f.default,o.default);return new f.default({siteDataProvider:c,sessionTimeoutDialog:p,displayDeleteDialog:b,localisedLanguages:g,envDataProvider:n,languages:v,tracker:h,sessionUpdate:a.default,notification:s.default,selectedLanguage:y,flags:m,initAddLanguage:this.initAddLanguage.bind(this)})}},{key:"initAddLanguage",value:function e(){var t=k.get(this),r=t.tracker;var n=new c.MultiLanguageController({root:this.multiLanguageRoot,tracker:r});return n.init()}}]);return e}();var E=t["default"]=P},86979(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(9385));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=new WeakMap;var f=Marionette.ItemView.extend({el:".js-language-settings-container",template:"language_settings_panel",panelIsOpen:false,events:{"click .js-save-settings":"saveValues","click .js-cancel-settings":"revertAndClose","change .js-input":"valueChanged"},initialize:function e(t){d.set(this,s({},t));this.render();this.attachEvents()},attachEvents:function e(){Editor.Events.on("sidebarPanel:changed pageSwitch:click dragdrop:dragStart visibility:click",this.revertAndClose.bind(this))},serializeData:function e(){var t={isVersionTenCompatibility:d.get(this).envDataProvider.get("V10CompatibilityMode")};var r=d.get(this).siteGlobalValuesHelper;var n=r.getValue("siteLanguageMenuSettings");null!==n&&Object.assign(t,n);return t},valueChanged:function e(){var t={menuType:this.el.querySelector('[name="menu-type"]').value,menuShade:this.el.querySelector('[name="menu-shade"]').value,menuStyle:this.el.querySelector('[name="menu-style"]').value};this.el.querySelector(".js-save-settings").removeAttribute("disabled");this.updateSite(t)},saveValues:function e(){var t={menuType:this.el.querySelector('[name="menu-type"]').value,menuShade:this.el.querySelector('[name="menu-shade"]').value,menuStyle:this.el.querySelector('[name="menu-style"]').value};var r=d.get(this).siteGlobalValuesHelper;r.saveValue("siteLanguageMenuSettings",t).then(this.updateSite(t)).then(this.notifyAndClose.bind(this)).catch(this.notifyError)},notifyAndClose:function e(){(0,n.default)(App.t("shared_views.language_panel.success","Success"),App.t("shared_views.language_panel.saved","Language menu settings saved"),"success");this.closePanel()},notifyError:function e(){(0,n.default)(App.t("shared_views.language_panel.error","Error"),App.t("shared_views.language_panel.not_saved","Unable to save language menu settings"),"error")},updateSite:function e(t){var r=document.getElementById("siteFrame");var n={siteLanguageMenuSettings:t,action:"rerender:languagemenu"};r&&r.contentWindow&&r.contentWindow.postMessage(n,"".concat(r.contentWindow.location.protocol,"//").concat(r.contentWindow.location.host))},openPanel:function e(){this.panelIsOpen=true;this.render();this._togglePanelOpenClass()},revertAndClose:function e(){var t=d.get(this).siteGlobalValuesHelper;this.updateSite(t.getValue("siteLanguageMenuSettings"));this.closePanel()},closePanel:function e(){this.panelIsOpen=false;this._togglePanelOpenClass()},_togglePanelOpenClass:function e(){var t=document.querySelector(".js-main-toolbar-overlay");if(this.panelIsOpen){this.el.classList.add("is-open");t.classList.add("is-displayed")}else{this.el.classList.remove("is-open");t.classList.remove("is-displayed")}}});var p=t["default"]=f},71982(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(88052);var o=r(68404);var a=r(65825);var s=u(r(72112));var l=u(r(93404));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=m(e,"string");return"symbol"==c(t)?t:t+""}function m(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var y=new WeakMap;var b=Marionette.ItemView.extend({template:"language_panel",siteAddLanguagePanelView:null,openOptionMenu:null,events:{"click .js-add-language":"addLanguage","click .js-option-button":"onOptionsClicked","click .js-change-active":"onActiveChanged","click .js-delete":"onDeleteClicked","click .js-back":"onClosePanel"},initialize:function e(t){y.set(this,h({},t));this.render();Editor.Events.on("page:change",this.closePanel.bind(this));this.documentHandler=this.documentClickHandler.bind(this);this.setupStoreListener()},onDestroy:function e(){this.slice.unsubscribe()},setupStoreListener:function e(){var t="language.siteLanguages";this.slice=new s.default({store:n.store,stateId:t});this.state=this.slice.get();this.slice.subscribe(this.handleStateChange.bind(this))},handleStateChange:function e(t){if((0,l.default)(this.state,t))return;var r=t;var n=this.state;r.length!==n&&this.render()},render:function e(){var t=y.get(this),r=t.languages,n=t.siteDataProvider,i=t.localisedLanguages,o=t.selectedLanguage;this.tplData={languages:r,localisedLanguages:i,selectedLanguage:o,siteLanguages:n.getSiteLanguages(),lightBackground:true};"function"===typeof this.mixinRenderTpl&&this.mixinRenderTpl()},addLanguage:function e(){this.options.initAddLanguage();n.store.dispatch((0,a.addLanguageModalOpened)())},documentClickHandler:function e(t){var r=t.target;var n=false;while(r.parentNode){r.classList.contains("is-open")&&(n=true);r=r.parentNode}n||this.closeAllOptionsDropdown()},onOptionsClicked:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-ref");var n=this.el.querySelector(".js-options[data-ref=".concat(r,"]"));if(n.classList.contains("is-open"))this.hideOptionDropdown(n);else{this.closeAllOptionsDropdown();this.showOptionDropdown(n)}},closeAllOptionsDropdown:function e(){var t=this.el.querySelectorAll(".js-options");Array.prototype.forEach.call(t,function(e){e.setAttribute("hidden",true);e.classList.remove("is-open")});document.removeEventListener("click",this.documentHandler,true)},showOptionDropdown:function e(t){t.removeAttribute("hidden");t.classList.add("is-open");document.addEventListener("click",this.documentHandler,true)},hideOptionDropdown:function e(t){t.setAttribute("hidden",true);t.classList.remove("is-open");document.removeEventListener("click",this.documentHandler,true)},onActiveChanged:function e(t){var r=t.currentTarget.getAttribute("data-ref");var n=t.currentTarget.getAttribute("data-active");this.changeSiteLangStatus(r,n);var i=this.el.querySelector(".js-status[data-ref=".concat(r,"]"));var o=this.el.querySelector(".js-change-active[data-ref=".concat(r,"] span"));if(1===parseInt(n,10)){i.removeAttribute("hidden");t.currentTarget.setAttribute("data-active",0);o.textContent=App.t("shared_views.language_panel.take_online","Take online")}else{i.setAttribute("hidden","hidden");t.currentTarget.setAttribute("data-active",1);o.textContent=App.t("shared_views.language_panel.take_offline","Take offline")}},changeSiteLangStatus:function e(t,r){var a=this;return f(regeneratorRuntime.mark(function e(){var s,l,u,c,d;return regeneratorRuntime.wrap(function e(f){while(1)switch(f.prev=f.next){case 0:s=1===parseInt(r,10)?0:1;l=y.get(a).notification;u=y.get(a).sessionUpdate;c=App.t("shared_views.language_panel.language_is_online","Language is now online");s||(c=App.t("shared_views.language_panel.language_is_offline","Language is now offline"));f.next=7;return n.store.dispatch(i.updateLanguageStatus.initiate({active:s,languageCode:t,siteRef:a.getSiteRef()})).unwrap();case 7:d=f.sent;n.store.dispatch((0,o.siteLanguagesSet)(d));a.updateSite({siteLanguages:d});l(c,false,"success");u();return f.abrupt("return",s);case 13:case"end":return f.stop()}},e)}))()},onDeleteClicked:function e(t){var r=this;return f(regeneratorRuntime.mark(function e(){var o,a,s,l,u,c;return regeneratorRuntime.wrap(function e(d){while(1)switch(d.prev=d.next){case 0:o=y.get(r),a=o.displayDeleteDialog,s=o.sessionUpdate;l=t.currentTarget.getAttribute("data-ref");u=r.el.querySelector(".js-language-item[data-ref=".concat(l,"]"));d.next=5;return a();case 5:c=d.sent;c.dialog.hide();u.parentNode.removeChild(u);d.next=10;return n.store.dispatch(i.deleteLanguage.initiate({languageCode:l,siteRef:r.getSiteRef()}));case 10:d.next=12;return s();case 12:r.updateSite({siteLanguages:y.get(r).siteDataProvider.getSiteLanguages()});Editor.Events.trigger("language:deleted",l);r.closePanel();r.checkLangListLength();case 16:case"end":return d.stop()}},e)}))()},checkLangListLength:function e(){if(0===this.el.querySelectorAll(".js-language-item").length){this.el.querySelector(".js-landing").removeAttribute("hidden");this.el.querySelector(".js-lang-list").setAttribute("hidden","hidden")}else{this.el.querySelector(".js-lang-list").removeAttribute("hidden");this.el.querySelector(".js-landing").setAttribute("hidden","hidden")}},updateSite:function e(t){var r=document.getElementById("siteFrame");var n=Object.assign({},t,{action:"rerender:languagemenu"});r&&r.contentWindow&&r.contentWindow.postMessage(n,"".concat(r.contentWindow.location.protocol,"//").concat(r.contentWindow.location.host))},onClosePanel:function e(t){t.preventDefault();this.closePanel()},closePanel:function e(){this.trigger("panel:closed");"function"===typeof this.mixinClosePanel&&this.mixinClosePanel();this.destroy()},getSiteRef:function e(){var t=y.get(this),r=t.envDataProvider;return r.get("siteRef")},getApiProxyBaseUrl:function e(){var t=y.get(this),r=t.envDataProvider;return r.get("apiProxyBaseUrl")},getCsrfToken:function e(){var t=y.get(this),r=t.envDataProvider;return r.get("csrfToken")}});var w=t["default"]=b},55124(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=l(r(96342));var o=r(88052);var a=r(82315);var s=l(r(64550));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=h(e,"string");return"symbol"==u(t)?t:t+""}function h(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g={value:{advertising:true,analytics:true,preferences:true}};var v=Marionette.ItemView.extend({className:"site-scripts-panel",template:"site_scripts_panel",el:".js-page-scripts-editor-container",currentTab:"head",events:{"click .js-bg":"closePanelClicked","click .js-close":"closePanelClicked","click .js-save":"saveScriptsClicked","click .js-dialog-tab-head":"dialogHeadTabClicked","click .js-dialog-tab-body":"dialogBodyTabClicked"},initialize:function e(t){this.globalValuesCollection=BaseKit.Globals.globalValues;this.pageRef=t.pageRef;this.pageTitle=t.title;this.envDataProvider=t.envDataProvider;this.getScriptsFromGlobalCollection();this.getOptionsFromGlobalCollection();this.render()},render:function e(){var t="force"===n.store.getState().brand.cookieWarningSetting;var r=n.store.getState().site.enableCookiePolicyPage;var o=n.store.getState().site.cookieWarning;var a=r||t||o;var s=(0,i.default)("shared_views.pagespanel.page_scripts_placeholder","Page Scripts: %1",this.pageTitle);var l=Twig.render(Twig.templates[this.template],{title:s,renderPrivacyOptions:a});this.$el.empty().append(l);this.onRender();return this},onRender:function e(){this.loadHeadScripts();this.loadHeadOptions()},setupCodePanel:function e(t){this.editorPanel||(this.editorPanel=this.initializeCodeEditor(t.textAreaId));this.editorPanel.setValue(t.value)},getScriptsFromGlobalCollection:function e(){var t=(0,s.default)(this.pageRef);this.headScriptPage=t.get("headScript")||"";this.bodyScriptPage=t.get("bodyScript")||""},getOptionsFromGlobalCollection:function e(){var t=(0,s.default)(this.pageRef);this.getHeadOptionsFromGlobalCollection(t);this.getBodyOptionsFromGlobalCollection(t)},getHeadOptionsFromGlobalCollection:function e(t){if(Array.isArray(t.get("headScriptOptions"))){this.headOptionsPage=g.value;return}this.headOptionsPage=t.get("headScriptOptions")||g.value},getBodyOptionsFromGlobalCollection:function e(t){if(Array.isArray(t.get("bodyScriptOptions"))){this.bodyOptionsPage=g.value;return}this.bodyOptionsPage=t.get("bodyScriptOptions")||g.value},loadHeadScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.headScriptPage})},loadHeadOptions:function e(){this.setElOptionValues(this.headOptionsPage)},loadBodyScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.bodyScriptPage})},loadBodyOptions:function e(){this.setElOptionValues(this.bodyOptionsPage)},initializeCodeEditor:function e(t){return CodeMirror.fromTextArea(document.getElementById(t),{lineNumbers:false,matchBrackets:true,extraKeys:{Enter:"newlineAndIndentContinueComment"},mode:"htmlmixed"})},closePanelClicked:function e(){n.store.dispatch((0,a.modalClosed)());this.setElement(this.$(".code-editor-panel"));delete this.editorPanel;this.destroy()},saveScriptsClicked:function e(){if("head"===this.currentTab){this.storeHeadScriptChanges();this.storeHeadOptionsChanges()}else{this.storeBodyScriptChanges();this.storeBodyOptionsChanges()}var t=(0,s.default)(this.pageRef).toJSON();var r=d(d({},t),{},{headscript:this.headScriptPage,headScript:this.headScriptPage,headScriptOptions:this.headOptionsPage,bodyscript:this.bodyScriptPage,bodyScript:this.bodyScriptPage,bodyScriptOptions:this.bodyOptionsPage});var i=this.envDataProvider.get("siteRef");var a=n.store.getState().language;var l=a.current;l===a.defaultLanguage.language&&(l="");n.store.dispatch(o.setPageData.initiate({data:r,lang:l,pageRef:this.pageRef,siteRef:i}));this.closePanelClicked()},dialogHeadTabClicked:function e(){if("head"===this.currentTab)return;this.currentTab="head";this.storeBodyScriptChanges();this.storeBodyOptionsChanges();this.loadHeadScripts();this.loadHeadOptions();this.$(".js-dialog-tab-body").removeClass("is-active");this.$(".js-dialog-tab-head").addClass("is-active")},dialogBodyTabClicked:function e(){if("body"===this.currentTab)return;this.currentTab="body";this.storeHeadScriptChanges();this.storeHeadOptionsChanges();this.loadBodyScripts();this.loadBodyOptions();this.$(".js-dialog-tab-head").removeClass("is-active");this.$(".js-dialog-tab-body").addClass("is-active")},storeHeadScriptChanges:function e(){this.headScriptPage=this.editorPanel.getValue()},storeHeadOptionsChanges:function e(){if(!this.optionValuesShown())return;this.headOptionsPage=this.getElOptionValues()},storeBodyScriptChanges:function e(){this.bodyScriptPage=this.editorPanel.getValue()},storeBodyOptionsChanges:function e(){if(!this.optionValuesShown())return;this.bodyOptionsPage=this.getElOptionValues()},optionValuesShown:function e(){return!!this.el.querySelector("#privacy-options-section")},setElOptionValues:function e(t){var r=t.advertising,n=t.analytics,i=t.preferences;if(!this.optionValuesShown())return;this.el.querySelector("#advertising-checkbox").checked=r;this.el.querySelector("#preferences-checkbox").checked=i;this.el.querySelector("#analytics-checkbox").checked=n},getElOptionValues:function e(){return{advertising:this.el.querySelector("#advertising-checkbox").checked,preferences:this.el.querySelector("#preferences-checkbox").checked,analytics:this.el.querySelector("#analytics-checkbox").checked}}});var m=t["default"]=v},62156(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(96342));var i=r(62047);var o=r(83502);var a=r(82315);var s=r(45089);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=h(e,"string");return"symbol"==u(t)?t:t+""}function h(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=new WeakMap;var v={value:{advertising:true,analytics:true,preferences:true}};var m={value:""};var y=Marionette.ItemView.extend({className:"site-scripts-panel",template:"site_scripts_panel",el:".js-page-scripts-editor-container",currentTab:"head",events:{"click .js-bg":"closePanelClicked","click .js-close":"closePanelClicked","click .js-save":"saveScriptsClicked","click .js-dialog-tab-head":"dialogHeadTabClicked","click .js-dialog-tab-body":"dialogBodyTabClicked"},initialize:function e(t){g.set(this,d({},t));this.globalValuesCollection=BaseKit.Globals.globalValues;this.getScriptsFromGlobalCollection();this.render()},render:function e(){var t="force"===o.store.getState().brand.cookieWarningSetting;var r=o.store.getState().site.enableCookiePolicyPage;var a=o.store.getState().site.cookieWarning;var s=r||t||a;var l=(0,n.default)("shared_views.pagespanel.site_scripts","Site Scripts");var u=Twig.render(Twig.templates[this.template],{title:l,renderPrivacyOptions:s});(0,i.emptyElement)(this.el);(0,i.append)(this.el,u);this.onRender();return this},onRender:function e(){this.loadHeadScripts();this.optionValuesShown()&&this.loadHeadOptions()},setupCodePanel:function e(t){var r=t.textAreaId,n=t.value;this.editorPanel||(this.editorPanel=this.initializeCodeEditor(r));this.editorPanel.setValue(n)},getScriptsFromGlobalCollection:function e(){this.getGlobalHeadScript();this.getGlobalHeadScriptOptions();this.getGlobalBodyScript();this.getGlobalBodyScriptOptions()},getGlobalHeadScript:function e(){var t=this.globalValuesCollection.get("headScript");if(t)this.headScriptGlobal=t;else{this.headScriptGlobal=new BaseKit.Globals.SiteGlobalValueModel(d(d({},m),{},{name:"headScript"}));this.globalValuesCollection.add(this.headScriptGlobal,{silent:true})}var r=g.get(this),n=r.envDataProvider;this.headScriptGlobal.siteRef=n.get("siteRef")},getGlobalBodyScript:function e(){var t=this.globalValuesCollection.get("bodyScript");if(t)this.bodyScriptGlobal=t;else{this.bodyScriptGlobal=new BaseKit.Globals.SiteGlobalValueModel(d(d({},m),{},{name:"bodyScript"}));this.globalValuesCollection.add(this.bodyScriptGlobal,{silent:true})}var r=g.get(this),n=r.envDataProvider;this.bodyScriptGlobal.siteRef=n.get("siteRef")},getGlobalBodyScriptOptions:function e(){var t=this.globalValuesCollection.get("bodyScriptOptions");if(t)this.bodyScriptGlobalOptions=t;else{this.bodyScriptGlobalOptions=new BaseKit.Globals.SiteGlobalValueModel(d(d({},v),{},{name:"bodyScriptOptions"}));this.globalValuesCollection.add(this.bodyScriptGlobalOptions,{silent:true})}var r=g.get(this),n=r.envDataProvider;this.bodyScriptGlobalOptions.siteRef=n.get("siteRef")},getGlobalHeadScriptOptions:function e(){var t=this.globalValuesCollection.get("headScriptOptions");if(t)this.headScriptGlobalOptions=t;else{this.headScriptGlobalOptions=new BaseKit.Globals.SiteGlobalValueModel(d(d({},v),{},{name:"headScriptOptions"}));this.globalValuesCollection.add(this.headScriptGlobalOptions,{silent:true})}var r=g.get(this),n=r.envDataProvider;this.headScriptGlobalOptions.siteRef=n.get("siteRef")},loadHeadScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.headScriptGlobal.get("value")})},loadHeadOptions:function e(){var t=this.headScriptGlobalOptions.get("value")||v.value;this.setOptionValues(t)},loadBodyScripts:function e(){this.setupCodePanel({textAreaId:"user-scripts-code-editor",value:this.bodyScriptGlobal.get("value")})},loadBodyOptions:function e(){var t=this.bodyScriptGlobalOptions.get("value")||v.value;this.setOptionValues(t)},initializeCodeEditor:function e(t){return CodeMirror.fromTextArea(document.getElementById(t),{lineNumbers:false,matchBrackets:true,extraKeys:{Enter:"newlineAndIndentContinueComment"},mode:"htmlmixed"})},closePanelClicked:function e(){o.store.dispatch((0,a.modalClosed)());this.setElement(this.el.querySelector(".code-editor-panel"));delete this.editorPanel;this.destroy();(0,s.openIntercom)()},saveScriptsClicked:function e(){"head"===this.currentTab?this.storeHeadScriptChanges():this.storeBodyScriptChanges();this.saveHead();this.saveBody();this.closePanelClicked()},saveHead:function e(){this.headScriptGlobal.save();this.headScriptGlobalOptions.save();this.globalValuesCollection.get("headScript").set("value",this.headScriptGlobal.get("value"));this.globalValuesCollection.get("headScriptOptions").set("value",this.headScriptGlobalOptions.get("value"))},saveBody:function e(){this.bodyScriptGlobal.save();this.bodyScriptGlobalOptions.save();this.globalValuesCollection.get("bodyScript").set("value",this.bodyScriptGlobal.get("value"));this.globalValuesCollection.get("bodyScriptOptions").set("value",this.bodyScriptGlobalOptions.get("value"))},dialogHeadTabClicked:function e(){if("head"===this.currentTab)return;this.currentTab="head";this.storeBodyScriptChanges();this.storeBodyOptionsChanges();this.loadHeadScripts();this.loadHeadOptions();this.el.querySelector(".js-dialog-tab-body").classList.remove("is-active");this.el.querySelector(".js-dialog-tab-head").classList.add("is-active")},dialogBodyTabClicked:function e(){if("body"===this.currentTab)return;this.currentTab="body";this.storeHeadScriptChanges();this.storeHeadOptionsChanges();this.loadBodyScripts();this.loadBodyOptions();this.el.querySelector(".js-dialog-tab-head").classList.remove("is-active");this.el.querySelector(".js-dialog-tab-body").classList.add("is-active")},storeHeadScriptChanges:function e(){this.headScriptGlobal.set("value",this.editorPanel.getValue());this.optionValuesShown()&&this.headScriptGlobalOptions.set("value",this.getOptionValues())},storeHeadOptionsChanges:function e(){if(!this.optionValuesShown())return;var t=this.globalValuesCollection.get("headScriptOptions");var r=t.get("value");this.headScriptGlobalOptions.set("value",r)},storeBodyScriptChanges:function e(){this.bodyScriptGlobal.set("value",this.editorPanel.getValue());this.optionValuesShown()&&this.bodyScriptGlobalOptions.set("value",this.getOptionValues())},storeBodyOptionsChanges:function e(){if(!this.optionValuesShown())return;var t=this.globalValuesCollection.get("bodyScriptOptions");var r=t.get("value");this.bodyScriptGlobalOptions.set("value",r)},optionValuesShown:function e(){return!!this.el.querySelector("#privacy-options-section")},setOptionValues:function e(t){var r=t.advertising,n=t.analytics,i=t.preferences;if(!this.optionValuesShown())return;this.el.querySelector("#advertising-checkbox").checked=r;this.el.querySelector("#preferences-checkbox").checked=i;this.el.querySelector("#analytics-checkbox").checked=n},getOptionValues:function e(){return{advertising:this.el.querySelector("#advertising-checkbox").checked,preferences:this.el.querySelector("#preferences-checkbox").checked,analytics:this.el.querySelector("#analytics-checkbox").checked}}});var b=t["default"]=y},16838(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=f(r(32686));var i=r(83502);var o=r(27686);var a=r(2961);var s=r(45089);var l=f(r(23904));var u=f(r(96342));var c=f(r(80616));var d=r(60443);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,"next",e)}function s(e){p(o,n,i,a,s,"throw",e)}a(void 0)})}}var g=Marionette.ItemView.extend({template:"site_styles_panel",className:"slide-in-panel site-styles-panel-container",events:{"click .js-cancel":"closePanel","click .js-colour-back":"closeColourPalette","click .js-font-back":"closeFontPicker","click .js-colour-set-button":"showColourSetPalette","click .js-solid-colour-button":"showSolidColourPalette","click .js-gradient-colour-button":"showGradientColourPalette","click .js-change-image":"openImagePopup","click .js-content-styles-button":"showStyleOptions","click .js-reset-styles":"resetStylesButtonClicked","change .js-body-background-select":"changeBodyBackgroundType","change .js-gradient-type-select":"changeGradientType","change .js-image-scale-select":"changeImageScale","change .js-image-alignment-horizontal-select":"changeImageAlignment","change .js-image-alignment-vertical-select":"changeImageAlignment","change .js-image-repeat-select":"changeImageRepeat"},colourPicker:null,fontPicker:null,$colourPicker:null,$body:null,initialize:function e(t){this.globalValuesCollection=t.globalValuesCollection;this.presetAttributesCollection=t.presetAttributesCollection;this.contentStylesCollection=t.contentStylesCollection;this.templateStylePreprocessorVariables=t.templateStylePreprocessorVariables;this.fontListContents=t.fontListContents;this.allGoogleFonts=t.allGoogleFonts;this.themeRef=t.themeRef;this.siteRef=t.siteRef;this.brandDomain=t.brandDomain;this.protocol=t.protocol;this.templateStylePreprocessorVariablesEnabled=t.templateStylePreprocessorVariablesEnabled;this.ColourPickerView=t.ColourPickerView;this.FontPickerView=t.FontPickerView;this.ImagesPanelView=t.ImagesPanelView;this.v10CompatibilityMode=t.v10CompatibilityMode;this.$body=$("#siteFrame").contents().find("body");this.listenTo(this,"open:panel",this.openPanel);this.renderToDom();this.attachEvents();return this},renderToDom:function e(){var t=this;this.render();$(".js-style-panel-wrapper").empty().append(this.$el);setTimeout(function(){t.openPanel()},100)},attachEvents:function e(){this.v10CompatibilityMode&&Editor.Events.on("sidebarPanel:changed pageSwitch:click dragdrop:dragStart visibility:click",this.closePanel.bind(this))},serializeData:function e(){return{globalValues:this.globalValuesCollection.toProcessedJSON(),presetAttributes:this.presetAttributesCollection.toProcessedJSON(),contentStyles:this.replaceStyleVariablesWithColour(this.contentStylesCollection.toJSON()),v10CompatibilityMode:i.store.getState().env.V10CompatibilityMode,mainTitle:(0,u.default)("shared_views.site_styles_panel.main_title","Design")}},replaceStyleVariablesWithColour:function e(t){var r=this;var n=/^@[a-z0-9-_]*$/;t.map(function(e){e.value&&e.value.match(n)&&(e.value=r.getColourFromVariableName(e.value));return e});return t},getColourFromVariableName:function e(t){var r=/^@[a-z0-9-_]*$/;var n="#000";var i;try{n=Editor.Site.Presets.getValueFromLessVar(t)}catch(e){i=this.templateStylePreprocessorVariables.findWhere({name:t.substring(1)});if(!i)return n;n=i.get("value").match(r)?this.getColourFromVariableName(i.get("value")):i.get("value")}return n},changeBodyBackgroundType:function e(t){var r=$(t.target).val();if("solid"===r){this.hideImageBodyBackgroundOptions();this.hideGradientBodyBackgroundOptions();this.setBodyClassForBackgroundColour();this.saveBackgroundType("solidcolor");return this.showSolidBodyBackgroundOptions()}if("gradient"===r){this.hideImageBodyBackgroundOptions();this.hideSolidBodyBackgroundOptions();this.setBodyClassForGradient();this.saveBackgroundType("gradient");return this.showGradientBodyBackgroundOptions()}if("image"===r){this.hideSolidBodyBackgroundOptions();this.hideGradientBodyBackgroundOptions();this.setBodyClassForImage();this.saveBackgroundType("image");return this.showImageBodyBackgroundOptions()}return null},saveBackgroundType:function e(t){this.getGlobalValuesModel("backgroundtype").set("value",t);this.updateStyleSheet()},hideSolidBodyBackgroundOptions:function e(){var t=document.querySelector(".js-solid-container");t.setAttribute("hidden","hidden")},hideImageBodyBackgroundOptions:function e(){var t=document.querySelector(".js-image-container");t.setAttribute("hidden","hidden")},hideGradientBodyBackgroundOptions:function e(){var t=document.querySelector(".js-gradient-container");t.setAttribute("hidden","hidden")},showImageBodyBackgroundOptions:function e(){var t=document.querySelector(".js-image-container");t.removeAttribute("hidden")},showSolidBodyBackgroundOptions:function e(){var t=document.querySelector(".js-solid-container");t.removeAttribute("hidden")},showGradientBodyBackgroundOptions:function e(){var t=document.querySelector(".js-gradient-container");t.removeAttribute("hidden")},updateStyleSheet:function e(){var t={globalValues:this.globalValuesCollection.toProcessedJSON(),preprocessorVariables:this.presetAttributesCollection.toProcessedJSON(),templateStylePreprocessorVariables:this.contentStylesCollection.toProcessedJSON()};var r=App.session.get("siteRef");window.parent.fetch("/site-css-template-model/".concat(r),{credentials:"include",method:"POST",body:JSON.stringify(t),headers:{"X-CSRF-TOKEN":App.frontEndBucket.csrfToken}}).then(function(e){401===e.status&&Editor.Responsive.displaySessionTimeoutDialog();return e.text()}).then(function(e){Editor.Site.Dom.replaceCss(e);Editor.Site.Dom.cleanUpStyles()})},openImagePopup:function e(){var t=this;return h(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:if(!(0,d.isMediaManagerEnabled)()){n.next=7;break}n.next=3;return(0,d.invokeMediaManager)(false);case 3:r=n.sent;r.addEventListener("bk-media-manager:media-selected",function(e){t.setAsset(e.detail)});n.next=9;break;case 7:t.imagesPanelView=new t.ImagesPanelView({model:new BaseKit.Panels.Model({panel:"upload",parentPanel:void 0,subPanel:false,isSubPanel:false,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();t.listenTo(t.imagesPanelView,"asset:change",t.setAsset);case 9:case"end":return n.stop()}},e)}))()},setAsset:function e(t){var r=t.url.replace(/http[s]?:\/\//i,"//");var n=$(".js-image-scale-select").val();this.getGlobalValuesModel("backgroundtype").set("value","image");this.getGlobalValuesModel("backgroundImageUrl").set("value",r);this.getPresetAttributeModel("@siteBackgroundImage").set("value","url(".concat(r,")"));this.getPresetAttributeModel("@siteBackgroundImageScale").set("value",n);$(".js-image-thumbnail").attr("src",r);this.updateStyleSheet();this.setBodyClassForImage()},setBodyClassForImage:function e(){var t=this.getPresetAttributeModel("@siteBackgroundImageScale").get("value");switch(t){case"original":this.$body.addClass("bgImageOriginal");this.$body.removeClass("bgImageFullscreen");this.$body.removeClass("bc");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");this.$body.removeClass("bgImageFullscreen");return;case"full":this.$body.addClass("bgImageFullscreen");this.$body.removeClass("bgImageOriginal");this.$body.removeClass("bc");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");this.$body.removeClass("bgImageOriginal")}},changeImageScale:function e(t){var r=$(t.target).val();this.getPresetAttributeModel("@siteBackgroundImageScale").set("value",r);this.updateStyleSheet();this.setBodyClassForImage()},changeImageAlignment:function e(){var t=$(".js-image-alignment-horizontal-select").val();var r=$(".js-image-alignment-vertical-select").val();this.getPresetAttributeModel("@siteBackgroundPositionX").set("value",t);this.getPresetAttributeModel("@siteBackgroundPositionY").set("value",r);this.updateStyleSheet();this.setBodyClassForImage()},changeImageRepeat:function e(t){var r=$(t.currentTarget).val();this.getPresetAttributeModel("@siteBackgroundRepeat").set("value",r);this.updateStyleSheet();this.setBodyClassForImage()},showSolidColourPalette:function e(){this.showColourPicker(this.getPresetAttributeModel("@siteBackgroundColor"),this.setBackgroundColour.bind(this))},showColourSetPalette:function e(t){var r=this;var n=t.currentTarget.getAttribute("data-name");this.showColourPicker(this.getPresetAttributeModel(n),function(e,t){r.getPresetAttributeModel(n).set("value",t);r.el.querySelector('.js-colour-set-button[data-name="'.concat(n,'"] span')).style.backgroundColor=t;r.updateSiteColourSet(n.replace("@color--",""),t);r.updateStyleSheet()})},updateSiteColourSet:function e(t,r){var n=(0,l.default)(i.store.getState().env.siteColorSet);n[t].background=r;i.store.dispatch((0,a.siteColorSetUpdated)(n))},showStyleOptions:function e(t){var r=$(t.currentTarget).data("content-style-type");switch(r){case"colour":return this.showContentStylesColourPalette(t);case"font":return this.showContentStylesFontOptione(t)}return null},showContentStylesFontOptione:function e(t){var r=$(t.currentTarget).data("content-style-name");var n=this.getContentStyleModel(r);if("undefined"===typeof n)return;this.showFontOptions(n,this.updateFont.bind(this))},showContentStylesColourPalette:function e(t){var r=$(t.currentTarget).data("content-style-name");var n=this.getContentStyleModel(r);if("undefined"===typeof n)return;this.showColourPicker(n,this.updateContentStyle.bind(this))},updateFont:function e(){this.updateStyleSheet()},updateContentStyle:function e(t,r){var n=this.getContentStyleModel(t);$('button[data-content-style-name="'.concat(t,'"] > span')).css("background-color",r);n.set("value",r);this.updateStyleSheet()},setBackgroundColour:function e(t,r){this.getPresetAttributeModel("@siteBackgroundColor").set("value",r);this.getGlobalValuesModel("backgroundtype").set("value","solidcolor");this.$(".js-solid-colour-button > span").css("background-color",r);this.updateStyleSheet();this.setBodyClassForBackgroundColour()},setBodyClassForBackgroundColour:function e(){this.$body.addClass("bc");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");this.$body.removeClass("bgImageOriginal");this.$body.removeClass("bgImageFullscreen")},showGradientColourPalette:function e(t){var r=$(t.currentTarget).data("colour");var n="one"===r?"@siteBackgroundGradientFrom":"@siteBackgroundGradientTo";this.showColourPicker(this.getPresetAttributeModel(n),this.setGradientColour.bind(this))},setGradientColour:function e(t,r){var n=this.presetAttributesCollection.findWhere({ref:t});n.set("value",r);this.getGlobalValuesModel("backgroundtype").set("value","gradient");this.updateStyleSheet();this.setBodyClassForGradient();switch(n.get("name")){case"@siteBackgroundGradientFrom":this.$('.js-gradient-colour-button[data-colour="one"] > span').css("background-color",r);return;case"@siteBackgroundGradientTo":this.$('.js-gradient-colour-button[data-colour="two"] > span').css("background-color",r)}},changeGradientType:function e(t){var r=$(t.target).val();this.getGlobalValuesModel("backgroundtype").set("value","gradient");this.getPresetAttributeModel("@siteBackgroundGradientType").set("value",r);this.updateStyleSheet();this.setBodyClassForGradient()},setBodyClassForGradient:function e(){var t=this.getPresetAttributeModel("@siteBackgroundGradientType").get("value");var r=this.getPresetAttributeModel("@siteBackgroundGradientFrom").get("value");var n=this.getPresetAttributeModel("@siteBackgroundGradientTo").get("value");if("undefined"===typeof r||"undefined"===typeof n)return;if("transparent"===r&&"transparent"===n)return;this.$body.removeClass("bc");this.$body.removeClass("bgImageFullscreen");this.$body.removeClass("bgImageOriginal");switch(t){case"vertical":this.$body.addClass("bgradVertical");this.$body.removeClass("bgradHorizontal");this.$body.removeClass("bgradCircular");return;case"horizontal":this.$body.addClass("bgradHorizontal");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradCircular");return;case"circular":this.$body.addClass("bgradCircular");this.$body.removeClass("bgradVertical");this.$body.removeClass("bgradHorizontal")}},getContentStyleModel:function e(t){return this.contentStylesCollection.findWhere({name:t})},getPresetAttributeModel:function e(t){var r=this.presetAttributesCollection.findWhere({name:t});if("undefined"===typeof r){r=new BaseKit.Globals.PresetAttribute({name:t,value:null});this.presetAttributesCollection.add(r)}return r},getGlobalValuesModel:function e(t){var r=this.globalValuesCollection.findWhere({name:t});if("undefined"===typeof r){r=new BaseKit.Globals.SiteGlobalValueModel({name:t,value:null});this.globalValuesCollection.add(r)}r.siteRef||(r.siteRef=App.session.get("siteRef"));return r},showColourPicker:function e(t,r){var n=this;null===this.colourPicker&&(this.colourPicker=new this.ColourPickerView({el:".js-colour-contents",afterRender:function e(){return n.openColourPalette()},colourChosen:r}));this.colourPicker.setModel(t);this.colourPicker.render()},showFontOptions:function e(t,r){var n=this;null===this.fontPicker&&(this.fontPicker=new this.FontPickerView({el:".js-font-contents",fontListContents:this.fontListContents,allGoogleFonts:this.allGoogleFonts,templateStylePreprocessorVariablesEnabled:this.templateStylePreprocessorVariablesEnabled,afterRender:function e(){return n.openFontPicker()}}));this.fontPicker.setModel(t);this.fontPicker.setFontChosen(r);this.fontPicker.render()},openPanel:function e(){this.$el.addClass("is-open");(0,s.closeIntercom)()},closePanel:function e(){i.store.dispatch((0,o.panelClosed)());this.$el.removeClass("is-open");(0,s.openIntercom)()},openColourPalette:function e(){this.$el.find(".js-site-styles-panel").removeClass("is-open");this.$el.find(".js-colour-picker-container").addClass("is-open")},openFontPicker:function e(){$(".js-site-styles-panel").removeClass("is-open");$(".js-font-picker-container").addClass("is-open")},closeColourPalette:function e(){$(".js-site-styles-panel").addClass("is-open");$(".js-colour-picker-container").removeClass("is-open");this.colourPicker.setElement(this.$(".js-colour-picker-wrapper"));this.colourPicker.destroy();this.colourPicker=null},closeFontPicker:function e(){$(".js-site-styles-panel").addClass("is-open");$(".js-font-picker-container").removeClass("is-open");this.fontPicker.setElement(this.$(".js-font-panel-wrapper"));this.fontPicker.destroy();this.fontPicker=null},resetStylesButtonClicked:function e(){return new n.default({contentClassname:"dialog__content--center",title:App.t("editor.dialog.title.reset-styles","Reset styles"),content:new c.default({themeRef:this.themeRef,siteRef:this.siteRef,protocol:this.protocol,brandDomain:this.brandDomain})})}});var v=t["default"]=g},80616(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}}var i=Backbone.View.extend({template:"colour_picker_panel_reset_styles_dialog",events:{"click .js-reset-styles":"resetStyles","click .js-cancel":"closeDialog"},initialize:function e(t){this.themeRef=t.themeRef;this.siteRef=t.siteRef;this.protocol=t.protocol;this.brandDomain=t.brandDomain;return this},render:function e(){this.renderTemplate(this.template);return this},resetStyles:function e(){var t=this;return n(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return window.parent.fetch("".concat(App.session.get("apiProxyBaseUrl"),"/sites/").concat(t.siteRef,"/reset-styles"),{credentials:"include",method:"POST",headers:{"X-CSRF-TOKEN":App.frontEndBucket.csrfToken}});case 2:r=n.sent;204===r.status?window.location="".concat(t.protocol,"://editor.").concat(t.brandDomain):401===r.status?Editor.Responsive.displaySessionTimeoutDialog():App.t("editor.dialog.reset-styles.error","We were unable to reset your site's styles. Please contact support.");case 4:case"end":return n.stop()}},e)}))()}});var o=t["default"]=i},41559(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_widgetpropertypanel_empty",initialize:function e(t){this.emptySettingMessage=t.emptySettingMessage||"";return this},serializeData:function e(){return{emptySettingMessage:this.emptySettingMessage}}});var n=t["default"]=r},97310(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=u(r(96342));var i=r(37524);var o=u(r(41559));var a=r(27686);var s=u(r(85057));var l=r(83502);function u(e){return e&&e.__esModule?e:{default:e}}var c="is-active";var d="is-open";function f(e){return e.ui.panel.activePanel}function p(e){return e.ui.panel.panelOpen}function h(e){return e.ui.panel.saveActive}function g(e){return e.ui.panel.hasError}var v=Marionette.CompositeView.extend({template:"view_settings_widgetpropertypanel",emptyView:o.default,keepWidgetPanelOpen:false,childEvents:{"save:disable":"onSaveDisabled","save:enable":"onSaveEnabled","save:validate":"onSaveValidated","setting:change":"onSettingsChange","setting:click":"onSettingsButtonClick","setting:reset":"onSettingsReset"},initialize:function e(t){this.profileModel=t.profileModel;this.widgetStyleSettingsViewFactory=t.widgetStyleSettingsViewFactory;this.styleSettingsProvider=t.styleSettingsProvider;this.stylesEnabled=false;this.settingsComponentProvider=t.settingsComponentProvider;this.tracker=t.tracker;t.rowsEnabled||this.setupViewBindings();return this},setupViewBindings:function e(){l.store.dispatch((0,a.errorRemoved)());this.bindGlobalEvents();this.unsubscribe=l.store.subscribe(this.handleChange.bind(this))},handleChange:function e(){if(!this.el){this.unsubscribe();return}switch(f(l.store.getState())){case"style":this.renderStyle();break;case"settings":this.renderSettings();break}h(l.store.getState())&&!this.hasInputError()?this.enableSaveBtn():this.disableSaveBtn();l.store.getState().ui.panel.showSave?this.showSaveBtn():this.hideSaveBtn()},onSettingsChange:function e(t,r,n){l.store.dispatch((0,a.saveEnabled)());this.trigger(r,n)},onSettingsReset:function e(t,r,n){this.updateStyleSettings();this.options.rowsEnabled&&true===this.options.rowsEnabled||this.render()},onSettingsButtonClick:function e(t,r,n){this.trigger(r,n)},onPanelChange:function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.store.dispatch((0,a.panelOpened)(t));r?l.store.dispatch((0,a.saveHidden)()):l.store.dispatch((0,a.saveShown)())},childViewOptions:function e(){return{profileModel:this.profileModel,emptySettingMessage:this.emptySettingMessage}},childViewContainer:".js-settings-content",featuredChildViewContainer:".js-featured-settings-content",events:{"click .js-cancel-settings":"cancelBtnClicked",submit:"onSubmit","click .js-settings-tab-button":"settingsTabBtnClicked","click .js-style-tab-button":"styleTabBtnClicked","input input,textarea":"onChange"},onChange:function e(){!h(l.store.getState())&&this.hasInputError()||l.store.dispatch((0,a.saveEnabled)())},settingsTabBtnClicked:function e(t){t.preventDefault();if("settings"===f(l.store.getState()))return;l.store.dispatch((0,a.panelOpened)("settings"))},renderSettings:function e(){var t=this.el.querySelector(".js-style-tab-button");if(t){t.classList.remove(c);this.el.querySelector(".js-settings-tab-button").classList.add(c);this.el.querySelector(".js-settings-tab").style.display="block";this.el.querySelector(".js-styles-tab").style.display="none"}this.el.querySelector(".js-save-settings")&&this.el.querySelector(".js-save-settings").removeAttribute("hidden")},styleTabBtnClicked:function e(t){t.preventDefault();if("style"===f(l.store.getState()))return;l.store.dispatch((0,a.panelOpened)("style"))},renderStyle:function e(){this.el.querySelector(".js-settings-tab-button").classList.remove(c);this.el.querySelector(".js-style-tab-button").classList.add(c);this.el.querySelector(".js-styles-tab").style.display="block";this.el.querySelector(".js-settings-tab").style.display="none";this.el.querySelector(".js-save-settings")&&this.el.querySelector(".js-save-settings").setAttribute("hidden","hidden")},getChildView:function e(t){return this.settingsComponentProvider(t.get("type"))},serializeData:function e(){return{componentsLength:this.collection.length,widgetTitle:this.widgetTitle,immutable:this.model.get("immutable"),fixed:this.fixed,stylesEnabled:this.stylesEnabled,forceEnableSave:this.forceEnableSave}},bindGlobalEvents:function e(){s.default.Events.on("widgetSettings:exit-edit-mode",this.hideWidgetPanel.bind(this));s.default.Events.on("sidebarPanel:changed",this.hideWidgetPanel.bind(this));s.default.Events.on("setting:error:show",this.showSettingsError.bind(this));s.default.Events.on("setting:error:clear",this.clearSettingsError.bind(this));s.default.Events.on("on:toolbarOverlay:click on:textEditor:open",this.saveAndClosePanel.bind(this));s.default.Events.on("page:change",this.pageChangeCleanUp.bind(this));s.default.Events.on("panel:change",this.onPanelChange.bind(this))},pageChangeCleanUp:function e(){this.stopListening(this.model);this.model=null},saveAndClosePanel:function e(){p(l.store.getState())&&!g(l.store.hasError)&&this.saveSettingsChange()},onRender:function e(){this.el.classList.add(d);this.stylesEnabled&&this.renderStyleSectionsPanel();l.store.getState().ui.panel.activePanel||l.store.dispatch((0,a.panelOpened)("settings"));s.default.Events.trigger("on:propertyPanel:open")},renderStyleSectionsPanel:function e(){var t=this.widgetStyleSettingsViewFactory.build({el:".js-style-content"});t.render()},attachHtml:function e(t,r,n){var i=null;if(r.model.get("featuredSetting")){i=t.$(this.featuredChildViewContainer);i.append(r.el)}else if(t.isBuffering){t.elBuffer.appendChild(r.el);t._bufferedChildren.push(r)}else t._insertBefore(r,n)||t._insertAfter(r)},onSaveDisabled:function e(){l.store.dispatch((0,a.saveDisabled)());l.store.dispatch((0,a.errorAdded)())},onSaveValidated:function e(){this.hasInputError()||this.onSaveEnabled()},onSaveEnabled:function e(){l.store.dispatch((0,a.saveEnabled)());l.store.dispatch((0,a.errorRemoved)())},disableSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&t.setAttribute("disabled","disabled")},enableSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&t.removeAttribute("disabled")},hideSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&(t.style.display="none")},showSaveBtn:function e(){var t=this.el.querySelector(".js-save-settings");t&&(t.style.display="inherit")},showSettingsError:function e(t){var r=this.collection.get(t.settingId);if(!r)return;var n=this.children.findByModel(r);r.set("error",t.message);n.render();l.store.dispatch((0,a.saveDisabled)());l.store.dispatch((0,a.errorAdded)())},clearSettingsError:function e(t){var r=this.collection.get(t);if(!r)return;var n=this.children.findByModel(r);r.set("error","");n.render();l.store.dispatch((0,a.saveEnabled)());l.store.dispatch((0,a.errorRemoved)())},clearAllSettingsErrors:function e(){var t=this;this.collection.forEach(function(e){if(!e.get("error"))return;e.set("error","");var r=t.children.findByModel(e);r.render()});l.store.dispatch((0,a.saveEnabled)());l.store.dispatch((0,a.errorRemoved)())},hideWidgetPanel:function e(){this.el.classList.remove(d);l.store.dispatch((0,a.errorRemoved)());this.previousPosition&&(document.querySelector(".js-site-preview").scrollTop=this.previousPosition);s.default.Events.trigger("on:propertyPanel:close");l.store.dispatch((0,a.panelClosed)())},viewReset:function e(t){if(!p(l.store.getState())||g(l.store.getState())||t.enableSave){if(g(l.store.getState()))return this}else this.saveSettingsChange();this.cleanUpEventsListener();this.model=t.model||{};this.collection=t.collection||{};this.widgetTitle=t.widgetTitle||"";this.widgetName=t.widgetName||"";this.widgetUniqueId=t.widgetUniqueId;this.fixed=t.fixed;this.widgetType=t.className||"";this.widgetEl=t.widgetEl;this.forceEnableSave=t.enableSave;this.previousAttributes=t.previousAttributes;this.previousProfileAttributes=t.previousProfileAttributes;this.previousPosition=$(".js-site-preview").scrollTop();this.emptySettingMessage=t.emptySettingMessage||"";this.updateStyleSettings();this.options.rowsEnabled&&true===this.options.rowsEnabled||this.render();this.listenTo(this.model,"saved",this.widgetModelSaved);l.store.getState().ui.panel.activePanel||l.store.dispatch((0,a.panelOpened)(""));t.enableSave||l.store.dispatch((0,a.saveDisabled)());l.store.getState().ui.panel.showSave||l.store.dispatch((0,a.saveHidden)());return this},updateStyleSettings:function e(){if(this.styleSettingsProvider.hasStyleCollection()){var t=this.styleSettingsProvider.getStyleSettings({widgetType:this.widgetType,widgetEl:this.widgetEl,fixed:this.fixed,model:this.model});var r=this.styleSettingsProvider.getStylesCollection();this.stylesEnabled=Object.keys(t).length>0;if(this.stylesEnabled){var n=(0,i.convertStyleObjectsToJson)(t,r);l.store.dispatch((0,a.stylesUpdated)(n))}}},cleanUpEventsListener:function e(){this.off();this.model&&this.stopListening(this.model,"saved",this.widgetModelSaved)},cancelBtnClicked:function e(){this.model.get("type")&&-1!==this.model.get("type").indexOf("widget.content")&&this.handleTextEditorClose();if(this.isModelChanged()&&!this.keepWidgetPanelOpen){this.model.clear({silent:true});this.model.set(this.previousAttributes)}if(this.isProfileModelChanged()&&!this.keepWidgetPanelOpen){this.profileModel.clear({silent:true});this.profileModel.set(this.previousProfileAttributes)}this.trigger("before:close");this.hideWidgetPanel()},onSubmit:function e(t){t.preventDefault();this.clearAllSettingsErrors();var r=this.checkRequiredFields();this.model.get("type")&&-1!==this.model.get("type").indexOf("widget.content")&&this.handleTextEditorClose();if(!g(l.store.getState())&&!r){this.saveSettingsChange();this.trigger("widget:save-clicked")}},checkRequiredFields:function e(){var t=false;var r=this.collection.filter(function(e){return e.get("required")});r.forEach(function(e){var r=e.get("value");if(!r||!r.length){t=true;var i={settingId:e.get("id"),message:(0,n.default)("global.message-field-required","This field is required")};s.default.Events.trigger("setting:error:show",i)}});return t},handleTextEditorClose:function e(){this.hideWidgetPanel()},saveSettingsChange:function e(){this.isProfileModelChanged()&&this.handleProfileModel();this.isModelChanged()?this.handleWidgetModel():this.hideWidgetPanel();this.trigger("save")},isModelChanged:function e(){var t=Object.keys(this.previousAttributes);var r=Object.keys(this.model.toJSON());var n=false;(this.model.changedAttributes(this.previousAttributes)||t.length!==r.length)&&(n=true);return n},isProfileModelChanged:function e(){var t=Object.keys(this.previousProfileAttributes);var r=Object.keys(this.profileModel.toJSON());var n=false;(this.profileModel.changedAttributes(this.previousProfileAttributes)||t.length!==r.length)&&(n=true);return n},handleWidgetModel:function e(){this.model.save({widgetName:this.widgetName,widgetUniqueId:this.widgetUniqueId,fixed:this.fixed});this.trackChanges()},handleProfileModel:function e(){this.profileModel.save()},widgetModelSaved:function e(){if(this.keepWidgetPanelOpen)return;this.hideWidgetPanel()},trackChanges:function e(){var t=this.getWidgetTypeName();if(""===t)return;this.sendChanges(t)},sendChanges:function e(t){if(!this.tracker)return;this.tracker.track("".concat(t," widget updated"),{changedFields:this.getChangedFields()})},getWidgetTypeName:function e(){var t=this.model.widgetType;var r=t.split(".");if(2!==r.length)return"";if("widget"!==r[0])return"";return r[1]},getChangedFields:function e(){var t=[];var r=this.previousAttributes,n=this.model;var i=n.toJSON();Object.keys(i).forEach(function(e){Object.prototype.hasOwnProperty.call(r,e)&&r[e]===i[e]||t.push(e)});return t.join(", ")},hasInputError:function e(){return this.el.querySelectorAll(".settings__error-input").length>0}});var m=t["default"]=v},67427(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=a(r(36854));var o=r(86508);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}var u={onSettingsChange:function e(t,r,n){this.handleEmailVerificationOnChange(t,r,n)},onRender:function e(t){this.emailVerifiedPromise=n.store.dispatch(o.getEmailVerification.initiate(n.store.getState().site.ref,{forceRefetch:true}));this.emailVerifiedUnsubscribe=null;this.handleEmailVerificationOnRender(t)},onRemove:function e(){var t;null===(t=this.emailVerifiedUnsubscribe)||void 0===t?void 0:t.call(this)},handleEmailVerificationOnRender:function e(){var t=this;return l(regeneratorRuntime.mark(function e(){var r,n,i,o;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:r=t.getEmailSettingsComponent();n=null;if(!r){a.next=11;break}n="profile-settings"===r.model.get("type")&&"form"===r.model.get("profileType")?r.model.get("email"):r.model.get("value");if(!(n&&!t.isEmailVerified(n))){a.next=11;break}a.next=7;return t.emailVerifiedPromise;case 7:i=a.sent;o=i.unsubscribe;t.emailVerifiedUnsubscribe=o;if(t.isEmailUnverified(n)){t.emailToVerify=n;t.showEmailVerificationInfo()}case 11:case"end":return a.stop()}},e)}))()},handleEmailVerificationOnChange:function e(t,r,n){if(t.model.get("emailVerificationEnable")){if("profile-settings"===t.model.get("type")){this.handlProfileWidget(r,n);Editor.Events.once("profile:changed",this.onSave.bind(this))}else this.handleEmailVerification(n);this.verificationView&&this.isEmailVerified(n)&&this.verificationView.remove()}},handlProfileWidget:function e(t,r){if("widget-profile-form-email"===t)this.handleEmailVerification(r);else{this.keepWidgetPanelOpen=false;this.emailToVerify=null;this.verificationView&&this.verificationView.remove()}},handleEmailVerification:function e(t){if(this.isEmailVerified(t)){this.keepWidgetPanelOpen=false;this.emailToVerify=null}else{this.keepWidgetPanelOpen=true;this.emailToVerify=t}},widgetModelSaved:function e(){this.onSave()},onSave:function e(){this.emailToVerify&&this.showEmailVerificationInfo()},showEmailVerificationInfo:function e(){this.verificationView=new i.default({email:this.emailToVerify,csrfToken:n.store.getState().env.csrfToken}).render();this.$(this.featuredChildViewContainer).empty().append(this.verificationView.el);this.disableSaveButton()},disableSaveButton:function e(){var t=this.getEmailSettingsComponent();t&&t.trigger("save:disable")},getEmailSettingsComponent:function e(){var t=this.collection.filter(function(e){return e.get("emailVerificationEnable")});if(t.length>0)return this.children.findByModel(t[0]);return false},isEmailVerified:function e(t){return n.store.getState().site.emailVerification.some(function(e){return t===e.email&&1===parseInt(e.verified,10)})},isEmailUnverified:function e(t){return n.store.getState().site.emailVerification.some(function(e){return t===e.email&&0===parseInt(e.verified,10)})}};var c=t["default"]=u},59369(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=["contentgroup","policypages","ecombasket","ecombasketsummary","ecomconfirmation","ecomlegal","ecomproduct","blogpost","buynow","navigation","extendednavigation","feature","parkinglogin","fonectacontactform","fonectamap","menusections","menu","redirecttodesktop","resetpassword","forgottenpassword","responsivecolumns","row","companybrand","emaildisplay","companyaddress","companydescription","contact","languagemenu","linkedinprofile","linkedincompanyprofile","ecwid","ecwidsearch","ecwidbasket","bookingsservicelist","bookingsservice"];var u=["bookingsservicelist","bookingsservice"];var c=["ecomproductslist","ecomfeaturedproducts","ecomcategorieslist"];var d={content:["image","text","h1","button","gallery","responsiveslideshow","clicktocall","map"],layout:["line","space"],forms:["contactform","signupform","advancedcontactform"],files:["dropbox","filedownload"],video_and_audio:["youtube","embed","soundcloud"],social:["twitter","facebooklike","tweet","socialicons","yelpreview"],blog:["blogpostlist","blogsearch","disqus","facebookcomments"],store:["ecomproductslist","ecomfeaturedproducts","ecomcategorieslist","paypalbuynow"],others:[]};var f={advancedcontactform:{width:6,height:4},blogpostlist:{width:7,height:5},blogsearch:{width:6,height:6},button:{width:4,height:2},clicktocall:{width:4,height:2},contactform:{width:6,height:9},disqus:{width:6,height:5},dropbox:{width:4,height:2},ecomcategorieslist:{width:7,height:5},ecomfeaturedproducts:{width:7,height:5},ecomproductslist:{width:7,height:5},embed:{width:6,height:4},facebooklike:{width:4,height:4},facebookcomments:{width:6,height:5},filedownload:{width:4,height:2},gallery:{width:7,height:3},h1:{width:7,height:3},image:{width:4,height:4},line:{width:4,height:1},map:{width:6,height:5},paypalbuynow:{width:6,height:5},signupform:{width:6,height:3},responsiveslideshow:{width:6,height:5},socialicons:{width:4,height:2},soundcloud:{width:6,height:5},space:{width:4,height:1},text:{width:7,height:5},tweet:{width:4,height:2},twitter:{width:4,height:4},yelpreview:{width:6,height:5},youtube:{width:6,height:5}};var p=function(){function e(t){n(this,e);this.userDataProvider=t.userDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider;this.pluginsDataProvider=t.pluginsDataProvider}o(e,[{key:"filterWidgetArray",value:function e(t){this.nonEmptyGroup=[];this.widgetData=t;this.filterShapeWidget();this.removeRedundantTextWidgets();this.removeDenylistedWidgets();this.removeBookingsDenylistedWidgetsIfRequired();this.removeEcwidDenylistedWidgetsIfRequired();this.addDefaultImageWidget();this.updateWidgetProperties();this.sortContentWidgets();this.sortNonEmptyGroup();return{widgetData:this.widgetData,widgetGroup:this.nonEmptyGroup}}},{key:"removeRedundantTextWidgets",value:function e(){this.widgetData=this.widgetData.filter(function(e){if("text"===e.group&&("text"===e.name||"h1"===e.name))return true;if("text"!==e.group&&"none"!==e.group)return true;return false})}},{key:"addDefaultImageWidget",value:function e(){this.widgetData.unshift({callback:"",default:1,description:"Image",enabled:1,group:"normal",imageName:"image",name:"image",private:0,ref:0,title:"IMAGE",type:"basics",value:"widget.image",version:"responsive"})}},{key:"removeDenylistedWidgets",value:function e(){this.widgetData=this.widgetData.filter(function(e){return-1===l.indexOf(e.name)})}},{key:"removeBookingsDenylistedWidgetsIfRequired",value:function e(){if(!this._shouldRemoveBookingsDenylistedWidgets())return;this.widgetData=this.widgetData.filter(function(e){return-1===u.indexOf(e.name)})}},{key:"removeEcwidDenylistedWidgetsIfRequired",value:function e(){if(!this._shouldRemoveEcwidDenylistedWidgets())return;this.widgetData=this.widgetData.filter(function(e){return-1===c.indexOf(e.name)})}},{key:"attachTranslatedName",value:function e(t){var r=t.title.toLowerCase();r=r[0].toUpperCase()+r.slice(1);t.translatedName=App.t("shared_views.".concat(t.value,".title_52"),r)}},{key:"attachDefaultGridSizes",value:function e(t){var r,n;t.numDefaultColsWide=null===(r=f[t.name])||void 0===r?void 0:r.width;t.numDefaultRowsHigh=null===(n=f[t.name])||void 0===n?void 0:n.height}},{key:"updateWidgetProperties",value:function e(){var t=this;this.widgetData.forEach(function(e){t.attachTranslatedName(e);t.addWidgetsPanelGroup(e);t.attachDefaultGridSizes(e)})}},{key:"addWidgetsPanelGroup",value:function e(t){var r=this;Object.keys(d).forEach(function(e){if(-1!==d[e].indexOf(t.name)){t.groupName=e;r.updateNonEmptyGroup(e)}});if("undefined"===typeof t.groupName){t.groupName="others";this.updateNonEmptyGroup("others")}}},{key:"updateNonEmptyGroup",value:function e(t){-1===this.nonEmptyGroup.indexOf(t)&&this.nonEmptyGroup.push(t)}},{key:"sortNonEmptyGroup",value:function e(){var t=this;var r=[];Object.keys(d).forEach(function(e){d[e]&&-1!==t.nonEmptyGroup.indexOf(e)&&r.push(e)});this.nonEmptyGroup=r}},{key:"sortContentWidgets",value:function e(){var t=this;var r=[];var n=d.content;n.forEach(function(e){t.widgetData.forEach(function(n,i){if(n.name===e){t.widgetData.splice(i,1);r.push(n)}})});this.widgetData=r.concat(this.widgetData)}},{key:"_shouldRemoveBookingsDenylistedWidgets",value:function e(){if(!this._isInV10())return true;return!this._isConnectBookingsEnabled()}},{key:"_shouldRemoveEcwidDenylistedWidgets",value:function e(){if(!this._isInV10())return false;return this._isEcwidEnabled()}},{key:"filterShapeWidget",value:function e(){this._isInV10()?d.content.push("shape"):this.widgetData=this.widgetData.filter(function(e){return"shape"!==e.name})}},{key:"_isInV10",value:function e(){return"ten"===this.userDataProvider.get("productVersion")}},{key:"_isConnectBookingsEnabled",value:function e(){return this.pluginsDataProvider.has("connect-bookings")}},{key:"_isEcwidEnabled",value:function e(){return this.userDataProvider.has("enableEcwid")}}]);return e}();var h=t["default"]=p},98469(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.Model=t.Model;this.Collection=t.Collection;this.WidgetsPanelView=t.WidgetsPanelView;this.dataFilter=t.dataFilter;this.EnvDataProvider=t.EnvDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider}o(e,[{key:"build",value:function e(t){var r=this.dataFilter.filterWidgetArray(t);var n=r.widgetData;var i=r.widgetGroup;var o=new this.Collection(n,{model:this.Model});this.widgetsPanelView=new this.WidgetsPanelView({el:".js-widgets-overlay-panel-container",collection:o,widgetGroup:i,EnvDataProvider:this.EnvDataProvider,featureFlagDataProvider:this.featureFlagDataProvider});return this.widgetsPanelView}}]);return e}();var u=t["default"]=l},72969(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({tagName:"li",events:{"click .js-widget":"hidePanel"},initialize:function e(){this.widgetType=this.model.get("value");this.rowTemplate=null;this.model.on("widget:filtered",this.hideWidget.bind(this));this.model.on("widget:restored",this.showWidget.bind(this))},hideWidget:function e(){this.el.style.display="none"},showWidget:function e(){this.el.style.display=""}});var n=t["default"]=r},54767(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==r(t)?t:t+""}function p(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=function(){function e(t){u(this,e);this.view=t.view;this.cacheElements();this.keyEventHash={13:"_returnKeyDown",27:"_escKeyDown",8:"_backspaceKeyDown"}}d(e,[{key:"cacheElements",value:function e(){this.panelElements={panel:this.view.el,searchButton:this.view.el.querySelector(".js-search-footer"),closeButton:this.view.el.querySelector(".js-close-widget-overlay-panel"),searchInput:this.view.el.querySelector(".js-footer-search-field"),searchNoMatch:this.view.el.querySelector(".js-search-nomatch"),groupNameEls:this.view.el.querySelectorAll(".js-group")}}},{key:"applyFilter",value:function e(t){this.clearFilter();this.filteredWidgets=[];this.view.collection.models.forEach(function(e){if(-1===e.get("translatedName").toLowerCase().indexOf(t.toLowerCase())){e.trigger("widget:filtered");this.filteredWidgets.push(e)}}.bind(this));this._checkResultLength();this.hideGroupNames()}},{key:"clearFilter",value:function e(){if(!this.filteredWidgets)return;this.filteredWidgets.forEach(function(e){e.trigger("widget:restored")});delete this.filteredWidgets;this._checkResultLength()}},{key:"getInput",value:function e(){return this.panelElements.searchInput.value}},{key:"clearInput",value:function e(){this.panelElements.searchInput.value="";this.showGroupNames()}},{key:"handleKeyup",value:function e(t){var r=this.keyEventHash[t.which];var n=this.getInput();if(r){this[r](n);return}this.clearFilter();this.applyFilter(n)}},{key:"_checkResultLength",value:function e(){if(this.filteredWidgets&&this.filteredWidgets.length===this.view.collection.models.length){this.panelElements.searchNoMatch.classList.add("show-message");return}this.panelElements.searchNoMatch.classList.remove("show-message")}},{key:"_returnKeyDown",value:function e(t){t.length>0?this.applyFilter(t):this.clearFilter()}},{key:"_escKeyDown",value:function e(t){if(t.length>0){this.clearInput();this.clearFilter()}else this.view.hidePanel()}},{key:"_backspaceKeyDown",value:function e(t){0===t.length&&this.showGroupNames();if(t.length<=1){this.clearFilter();return}this.applyFilter(t)}},{key:"hideGroupNames",value:function e(){n(this.panelElements.groupNameEls).forEach(function(e){e.setAttribute("hidden",true)})}},{key:"showGroupNames",value:function e(){n(this.panelElements.groupNameEls).forEach(function(e){e.removeAttribute("hidden")})}}]);return e}();var g=t["default"]=h},91062(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(80219);var o=g(r(16973));var a=r(62047);var s=r(27686);var l=r(45089);var u=r(83502);var c=h(r(38172));var d=h(r(54767));var f=h(r(72969));var p=h(r(3760));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(g=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}var v=o.default.scrollToMainZone;var m=Marionette.CompositeView.extend({childView:f.default,events:{"click .js-close-widget-overlay-panel":"togglePanel","click .js-widget-panel-backstop":"togglePanel","click .js-site-frame-backstop":"togglePanel","click .js-search-footer":"footerSearchClicked","keyup .js-footer-search-field":"footerSearchKeyup"},render:function e(){var t=this.collection.toJSON();var r=c.default.groupWidgets(t,this.widgetGroup);var n=Twig.render(Twig.templates.widgets_panel_container,{groupedWidgetData:r,widgets:t,customWidgetsDomain:this.EnvDataProvider.get("customWidgetsDomain"),enableRows:this.featureFlagDataProvider.get("enableRows")});(0,a.emptyElement)(this.widgetPanel);this.widgetPanel.innerHTML=n;this.attachChildrenEvents();this.onRender()},attachChildrenEvents:function e(){this.collection.each(function(e){this.attachWidgetItemFunction(e)},this);this.delegateEvents()},attachWidgetItemFunction:function e(t){var r=new f.default({el:".js-widget[data-ref=".concat(t.get("ref"),"]"),model:t});this.proxyChildEvents(r);this.children.add(r)},initialize:function e(t){this.widgetGroup=t.widgetGroup;this.collection=t.collection;this.EnvDataProvider=t.EnvDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider;this.widgetPanel=this.el.querySelector(".js-widgets-overlay-panel");this.attachEditorEvents()},attachEditorEvents:function e(){Editor.Events.on("toolbar:hideWidgetPanel",this.hidePanel.bind(this));Editor.Events.on("toolbar:togglePopover",this.togglePanel.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.hidePanel.bind(this));Editor.Events.on("dragdrop:clickToAddWidget",this.hidePanel.bind(this));Editor.Events.on("dragdrop:dragStart",this.hidePanel.bind(this))},footerSearchClicked:function e(){var t=this.search.getInput();this.search.applyFilter(t)},footerSearchKeyup:function e(t){this.search.handleKeyup(t)},togglePanel:function e(){Editor.Events.trigger("addRowMode:addButtons");if(u.store.getState().ui.panel.panelOpen){u.store.dispatch((0,s.panelClosed)());this.hidePanel();this.unfocusMainZone()}else{u.store.dispatch((0,s.panelOpened)("content"));this._addWidgetAddModeClass();this.widgetPanel.classList.add("is-open");this.giveSearchBoxFocus();this.hidePreviewBar();this.focusMainZone();(0,l.closeIntercom)()}},focusMainZone:function e(){if("coarse"===i.deviceFeaturesHelper.getInputType()){v();(0,p.default)("addClass",(0,o.getIframeWindow)(),{className:"drag-active",target:"body"})}},unfocusMainZone:function e(){"coarse"===i.deviceFeaturesHelper.getInputType()&&(0,p.default)("removeClass",(0,o.getIframeWindow)(),{className:"drag-active",target:"body"})},hidePreviewBar:function e(){if(i.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.add("hidden");document.querySelector(".editor-body").classList.add("no-preview")}},showPreviewBar:function e(){if(i.deviceFeaturesHelper.isSmallDevice()){document.querySelector(".js-main-toolbar").classList.remove("hidden");document.querySelector(".editor-body").classList.remove("no-preview")}},giveSearchBoxFocus:function e(){this.el.querySelector(".js-footer-search-field").focus()},hidePanel:function e(){this.resetWidgetPanel();this.widgetPanel.classList.remove("is-open");this._removeWidgetAddModeClass();u.store.dispatch((0,s.panelClosed)());(0,l.openIntercom)()},resetWidgetPanel:function e(){this.search.clearInput();this.showPreviewBar();this.search.clearFilter()},onRender:function e(){this.search=new d.default({view:this});this.setTouchClasses();this.bindEvents()},bindEvents:function e(){Editor.Events.on("screenMode:change",this.hidePanel.bind(this));(0,p.default)("addEventNotifier",(0,o.getIframeWindow)(),{type:"click",target:".js-site-frame-backstop",notifyEventType:"hideWidgetPanel"})},setTouchClasses:function e(){"coarse"===i.deviceFeaturesHelper.getInputType()&&this.widgetPanel.classList.add("mobile-panel")},_addWidgetAddModeClass:function e(){(0,p.default)("addClass",(0,o.getIframeWindow)(),{className:"widget-add-mode",target:"body"})},_removeWidgetAddModeClass:function e(){(0,p.default)("removeClass",(0,o.getIframeWindow)(),{className:"widget-add-mode",target:"body"})}});var y=t["default"]=m},38172(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={groupWidgets:function e(t,r){var n={};r.forEach(function(e){n[e]=[];t.forEach(function(t){t.groupName===e&&n[e].push(t)})});return n}};var n=t["default"]=r},55988(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(98469));var i=a(r(59369));var o=a(r(91062));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){e.factory("WidgetsPanelDataFilter",function(e){return new i.default({userDataProvider:e.UserDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,pluginsDataProvider:e.PluginsDataProvider})});e.factory("WidgetsPanelFactory",function(e){return new n.default({Collection:Backbone.Collection.extend(),Model:Backbone.Model.extend(),dataFilter:e.WidgetsPanelDataFilter,WidgetsPanelView:o.default,EnvDataProvider:e.EnvDataProvider,featureFlagDataProvider:e.featureFlagDataProvider})});return e}var l=t["default"]=s},64099(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(72154));function i(e){return e&&e.__esModule?e:{default:e}}var o=Backbone.View.extend({template:"header_footer_sharing_content_dialog",events:{"click .js-content-option":"onOptionClicked"},initialize:function e(t){this.zoneType=t.zoneType;this.currentZoneScope=t.currentZoneScope;this.zoneRestorer=t.zoneRestorer;this.zoneCloner=t.zoneCloner;this.templateRenderer=t.templateRenderer},onOptionClicked:function e(t){var r=t.currentTarget;var n="is-selected";if(r.classList.contains(n))return;var i=r.parentNode.querySelector(".".concat(n));i.classList.remove(n);r.classList.add(n)},restoreZone:function e(){this.zoneRestorer.restoreZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},cloneZone:function e(){this.zoneCloner.cloneZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},closeDialog:function e(){this.trigger("view:remove")},render:function e(){var t=this.templateRenderer.render(this.template,{zoneType:this.zoneType,currentZoneScope:this.currentZoneScope});var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t);this.onRender()},onRender:function e(){this.modal&&this.modal.modal.on("dialog:done",this.onDoneClicked.bind(this))},onDoneClicked:function e(){var t=this.el.querySelector(".is-selected");t.classList.contains("js-custom-option")&&"custom"!==this.currentZoneScope&&this.cloneZone();t.classList.contains("js-shared-option")&&"shared"!==this.currentZoneScope&&this.restoreZone();this.closeDialog()}});var a=t["default"]=o},73879(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(72154));function i(e){return e&&e.__esModule?e:{default:e}}var o=Backbone.View.extend({template:"shared_row_dialog",events:{"click .js-change-zone-scope":"changeZoneScopeClicked","click .js-cancel":"cancelClicked","click .js-update":"updateClicked","click .js-done":"closeDialog"},initialize:function e(t){this.zoneType=t.zoneType;this.currentZoneScope=t.currentZoneScope;this.zoneRestorer=t.zoneRestorer;this.zoneCloner=t.zoneCloner;this.templateRenderer=t.templateRenderer},updateClicked:function e(){this.useSharedZoneEl.checked&&"shared"!==this.currentZoneScope&&this.restoreZone();this.useCustomZoneEl.checked&&"custom"!==this.currentZoneScope&&this.cloneZone();this.closeDialog()},closeDialog:function e(){this.trigger("view:remove")},restoreZone:function e(){this.zoneRestorer.restoreZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},cloneZone:function e(){this.zoneCloner.cloneZone({name:this.zoneType,pageRef:Number((0,n.default)().get("pageRef"))})},cacheElements:function e(){this.stepOneEl=this.el.querySelector(".js-step-one");this.stepTwoEl=this.el.querySelector(".js-step-two");this.useSharedZoneEl=this.el.querySelector("#use-shared-zone");this.useCustomZoneEl=this.el.querySelector("#use-custom-zone")},goForward:function e(){this.stepOneEl.setAttribute("hidden",true);this.stepTwoEl.removeAttribute("hidden")},goBack:function e(){this.stepTwoEl.setAttribute("hidden",true);this.stepOneEl.removeAttribute("hidden")},changeZoneScopeClicked:function e(){this.goForward()},cancelClicked:function e(){this.goBack()},render:function e(){var t=this.templateRenderer.render(this.template,{zoneType:this.zoneType,currentZoneScope:this.currentZoneScope});var r=document.querySelectorAll(".js-dialog-contents");var n=r.item(r.length-1);n.insertAdjacentHTML("beforeend",t);this.cacheElements()}});var a=t["default"]=o},16113(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.zoneCloner=t.zoneCloner;this.zoneRestorer=t.zoneRestorer;this.templateRenderer=t.templateRenderer}o(e,[{key:"build",value:function e(t,r,n){return new t({zoneCloner:this.zoneCloner,zoneRestorer:this.zoneRestorer,templateRenderer:this.templateRenderer,zoneType:n,currentZoneScope:r})}}]);return e}();var u=t["default"]=l},55138(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(96342));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.DialogPanelView=t.DialogPanelView;this.contentViewFactory=t.contentViewFactory}l(e,[{key:"display",value:function e(t,r,i,o){var a=(0,n.default)("editor.zone_scope_dialog.title_header","Page header");var s=(0,n.default)("editor.zone_scope_dialog.title_footer","Page footer");return new this.DialogPanelView(Object.assign({title:"header"===i?a:s,content:this.contentViewFactory.build(t,r,i)},o))}}]);return e}();var f=t["default"]=d},71836(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);this.key=t.key;this.visible=false}o(e,[{key:"isShowing",value:function e(){return this.visible}},{key:"isLoaded",value:function e(){return"undefined"!==typeof window.grecaptcha}},{key:"isVerified",value:function e(){return""!==window.grecaptcha.getResponse()}},{key:"getToken",value:function e(){return window.grecaptcha.getResponse()}},{key:"render",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.sitekey=this.key;window.grecaptcha.render(t,r);this.visible=true}},{key:"display",value:function e(t,r){this.isLoaded()?this.render(t,r):c(this.render.bind(this,t,r))}}]);return e}();var u=t["default"]=l;function c(e){var t=document.createElement("script");var r="recpatcha".concat(Math.random().toString(36).slice(2));var n="https://www.google.com/recaptcha/api.js?render=explicit";var i=false;if("function"===typeof e){window[r]=e;i=r}"undefined"!==typeof e&&"function"===typeof window[e]&&(i=e);i&&(n+="&onload=".concat(i));t.type="application/javascript";t.src=n;document.body.appendChild(t)}},74806(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=t["default"]=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;n(this,e);this.mainWindow=t;this._properties={siteLanguages:this.mainWindow.Server.siteLanguages,siteCurrentLanguage:this.mainWindow.Server.siteCurrentLanguage,siteDefaultLanguage:this.mainWindow.Server.siteDefaultLanguage,siteLanguageMenuSettings:this.mainWindow.Server.siteLanguageMenuSettings}}o(e,[{key:"get",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object.keys(this._properties).includes(t))return this._properties[t];return r}}]);return e}()},60411(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return window.BaseKit.Widget}},35032(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(){return window.Server.widgetsOnPage}},11825(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=f(r(96948));var i=f(r(1008));var o=f(r(89915));var a=f(r(99600));var s=f(r(28076));var l=f(r(60411));var u=f(r(69702));var c=f(r(74806));var d=f(r(94974));function f(e){return e&&e.__esModule?e:{default:e}}var p=new n.default;p.factory("WidgetClassDefinitionRetriever",function(){return new i.default({widgetDefinitionsProvider:l.default})});p.factory("WidgetViewFactory",function(e){return new s.default({widgetClassDefinitionRetriever:e.WidgetClassDefinitionRetriever,StdViewClass:Backbone.View})});p.factory("WidgetModelFactory",function(e){return new a.default({widgetClassDefinitionRetriever:e.WidgetClassDefinitionRetriever,StdModelClass:Backbone.View})});p.factory("WidgetFactory",function(e){return new o.default({widgetViewFactory:e.WidgetViewFactory,widgetModelFactory:e.WidgetModelFactory})});p.factory("siteLanguageDataProvider",function(){return new c.default(window)});p.factory("languageMenuRendererFactory",function(e){return new u.default({LanguageMenuRenderer:d.default,targetElement:window.document.body,languageDataProvider:e.siteLanguageDataProvider})});var h=t["default"]=p.container},94974(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return u(e)||l(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function l(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=g(e,"string");return"symbol"==i(t)?t:t+""}function g(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=t["default"]=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.siteLanguages,i=void 0===r?[]:r,o=t.siteDefaultLanguage,a=void 0!==o&&o,s=t.siteCurrentLanguage,l=void 0!==s&&s,u=t.siteLanguageMenuSettings,c=void 0===u?{}:u,f=t.sitePreview,p=void 0!==f&&f,h=t.widgetOverlayView,g=void 0!==h&&h,v=t.targetElement,m=void 0===v?window.document.body:v;d(this,e);this.siteLanguages=0!==n.store.getState().language.siteLanguages.length?n.store.getState().language.siteLanguages:i;this.siteDefaultLanguage=0!==n.store.getState().language.defaultLanguage.language.length?n.store.getState().language.defaultLanguage:a;this.siteCurrentLanguage=l;this.siteLanguageMenuSettings=c;this.sitePreview=p;this.widgetOverlayView=g;this.overlayElement=false;this.targetElement=m;this._listenToEvents()}p(e,[{key:"display",value:function e(){if(!this.siteDefaultLanguage||0===this.siteLanguages.length||this._isPageBlogOrStore())return;if(!this._hasActiveLanguages())return;this._renderMenu()}},{key:"reRender",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.siteLanguages,n=void 0!==r&&r,i=t.siteLanguageMenuSettings,o=void 0!==i&&i,a=t.siteDefaultLanguage,s=void 0!==a&&a,l=t.siteCurrentLanguage,u=void 0!==l&&l;var c=this.targetElement.querySelector(".js-language-selector");c&&c.parentNode.removeChild(c);false!==n&&(this.siteLanguages=n);false!==o&&(this.siteLanguageMenuSettings=o);false!==s&&(this.siteDefaultLanguage=s);false!==u&&(this.siteCurrentLanguage=u);if(false===this.siteDefaultLanguage||0===this.siteLanguages.length)return;if(!this._hasActiveLanguages())return;this._renderMenu()}},{key:"_listenToEvents",value:function e(){var t=this;var r=this.targetElement.ownerDocument.defaultView;if(!this.sitePreview)return;r.addEventListener("message",function(e){var r="string"===typeof e.data?e.data:e.data.action||"";"rerender:languagemenu"===r&&t.reRender(e.data)},false)}},{key:"_renderMenu",value:function e(){var t=this.targetElement;var r=this._createMenuElement();t.insertBefore(r,t.firstChild);var n=t.querySelector(".js-language-selector--current");if(!n)return;n.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();var r=t.querySelector(".js-language-selector");if(t.classList.contains("touch")){r.classList.toggle("hover");var n=function e(){r.classList.toggle("hover");document.removeEventListener("click",e)};document.addEventListener("click",n)}})}},{key:"_setupMenuOverlay",value:function e(t){var r=this;this.overlayElement||(this.overlayElement=this.widgetOverlayView.render().el);t.appendChild(this.overlayElement);this.overlayElement.addEventListener("mouseenter",function(){var e=o(r.targetElement.querySelectorAll(".js-widget-overlay.hover"));e.forEach(function(e){return e.classList.remove("hover")});r.overlayElement.classList.add("hover")});this.overlayElement.addEventListener("mouseleave",function(){r.overlayElement.classList.remove("hover")});this.widgetOverlayView.on("widget:settings",function(){Editor.Events.trigger("languagemenu:settings")});this.widgetOverlayView.on("widget:overlayClick",function(){Editor.Events.trigger("languagemenu:settings")})}},{key:"_createMenuElement",value:function e(){var t=this;var r=document.createElement("div");var n=this._getMenuElementClasses();var i=this._createMenuInnerElement();var o=this._createLanguageList();var a=this.siteLanguages.slice(0).filter(function(e){return e.active});a.unshift(this.siteDefaultLanguage);n.forEach(function(e){return r.classList.add(e)});r.appendChild(i);i.appendChild(o);a.forEach(function(e){var r=document.createElement("li");var n=t._createLanguageLinkElement(e);var i=t._getItemClasses(e);i.forEach(function(e){return r.classList.add(e)});r.appendChild(n);o.appendChild(r)});this.sitePreview&&this.widgetOverlayView&&this._setupMenuOverlay(i);return r}},{key:"_getItemClasses",value:function e(t){var r=["language-selector__item"];var n=this.siteCurrentLanguage?this.siteCurrentLanguage.language:"";t.id||r.push("language-selector__item---default");n===t.language&&r.push("language-selector__item--current","js-language-selector--current");""!==n||t.id||r.push("language-selector__item--current","js-language-selector--current");return r}},{key:"_createLanguageLinkElement",value:function e(t){var r=document.createElement("a");var n=document.createElement("span");var i=document.createElement("span");n.classList.add("language-selector__icon");t.flag&&n.classList.add("language-selector__icon--".concat(t.flag.toLowerCase()));i.classList.add("language-selector__name");i.textContent=t.localisedName;r.classList.add("language-selector__link");r.appendChild(n);r.appendChild(i);if(this.sitePreview){r.addEventListener("click",function(e){return e.preventDefault()});r.addEventListener("hover",function(e){return e.preventDefault()});r.classList.add("language-selector__link--site-preview")}t.id?r.setAttribute("href","/".concat(t.language,"/home")):r.setAttribute("href","/");return r}},{key:"_createLanguageList",value:function e(){var t=document.createElement("ul");t.classList.add("language-selector__list");return t}},{key:"_createMenuInnerElement",value:function e(){var t=document.createElement("div");t.classList.add("language-selector__inner");return t}},{key:"_getMenuElementClasses",value:function e(){var t=["language-selector","js-language-selector"];var r="language-selector--light";var n="language-selector--horizontal";var i="language-selector--flag-text";this.sitePreview&&t.push("language-selector--site-preview");null!==this.siteLanguageMenuSettings&&this.siteLanguageMenuSettings.menuShade&&(r="language-selector--".concat(this.siteLanguageMenuSettings.menuShade));null!==this.siteLanguageMenuSettings&&this.siteLanguageMenuSettings.menuStyle&&(n="language-selector--".concat(this.siteLanguageMenuSettings.menuStyle));null!==this.siteLanguageMenuSettings&&this.siteLanguageMenuSettings.menuType&&(i="language-selector--".concat(this.siteLanguageMenuSettings.menuType));return t.concat([r,n,i])}},{key:"_isPageBlogOrStore",value:function e(){var t=this.targetElement.ownerDocument.defaultView;if("undefined"===typeof t.Server)return false;if("undefined"===typeof t.Server.page)return false;return"ecomproductlist"===t.Server.page.templateType||"ecombasketsummary"===t.Server.page.templateType||"ecomproduct"===t.Server.page.templateType||"ecomlegal"===t.Server.page.templateType||"blogpostlist"===t.Server.page.templateType||"blogpost"===t.Server.page.templateType}},{key:"_hasActiveLanguages",value:function e(){return this.siteLanguages.some(function(e){return 1===parseInt(e.active,10)})}}]);return e}()},69702(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(80219);var i=a(r(27400));var o=a(r(68598));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"==s(t)?t:t+""}function f(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=t["default"]=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.LanguageMenuRenderer,n=void 0===r?{}:r,i=t.languageDataProvider,o=void 0===i?{}:i,a=t.sitePreview,s=void 0!==a&&a,u=t.targetElement,c=void 0===u?window.document.body:u,d=t.templateRenderer;l(this,e);this.LanguageMenuRenderer=n;this.languageDataProvider=o;this.sitePreview=s;this.targetElement=c;this.templateRenderer=d}c(e,[{key:"build",value:function e(t){var r=this.languageDataProvider.get("siteLanguages");var n=this.languageDataProvider.get("siteDefaultLanguage");var i=this.languageDataProvider.get("siteCurrentLanguage");var o=this.languageDataProvider.get("siteLanguageMenuSettings");var a=this.languageDataProvider;var s=this.createWidgetOverlayView();return new this.LanguageMenuRenderer({siteLanguages:r,siteDefaultLanguage:n,siteCurrentLanguage:i,siteLanguageMenuSettings:o,languageDataProvider:a,widgetOverlayView:s,targetElement:t,sitePreview:this.sitePreview})}},{key:"createWidgetOverlayView",value:function e(){var t={showTplWidget:false,isDeletable:false,isImageEditable:false,isMovable:false,showSettingsIcon:n.deviceFeaturesHelper.isSmallTouchDevice(),parentView:{$:function e(){return[]}},templateRenderer:this.templateRenderer};if(!this.sitePreview)return false;return n.deviceFeaturesHelper.isSmallTouchDevice()?new o.default(t):new i.default(t)}}]);return e}()},1008(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(96063);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(t){o(this,e);this.widgetDefinitionsProvider=t.widgetDefinitionsProvider}s(e,[{key:"getDefinition",value:function e(t){var r=this.widgetDefinitionsProvider();var n="".concat(h(t.widgetType)).concat(t.type);var i="function"===typeof r[n]?r[n]:t.StdClass;return i}}]);return e}();var d=t["default"]=c;function f(e){return(0,n.camelCase)("basekit.".concat(e)).replace(/^basekitWidget/i,"")}function p(e){var t="ColumnsColumn"===e?"ResponsivecolumnsColumn":e;return t}function h(e){return p(f(e))}},89915(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetViewFactory=t.widgetViewFactory;this.widgetModelFactory=t.widgetModelFactory}o(e,[{key:"build",value:function e(t){var r=this.widgetModelFactory.build(t);this.widgetViewFactory.build(t,r)}}]);return e}();var u=t["default"]=l},99600(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(42857));var i=r(60023);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"==a(t)?t:t+""}function h(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=function(){function e(t){c(this,e);this.widgetClassDefinitionRetriever=t.widgetClassDefinitionRetriever;this.StdModelClass=t.StdModelClass;this.rowsEnabled=t.rowsEnabled}f(e,[{key:"build",value:function e(t){var r;if(i.AbstractWidgetData[t.type]){var o=BaseKit.Widget.AbstractModel.extend({defaults:l({},i.AbstractWidgetData[t.type].defaults)});r=o}else r=this.widgetClassDefinitionRetriever.getDefinition({widgetType:t.type,type:"Model",StdClass:this.StdModelClass});var a=new r(l(l({},t.data),{},{uniqueId:t.uniqueId}));if(this.rowsEnabled){a.stateManager=new n.default(a);a.stateManager.storeCurrentState()}return a}}]);return e}();var v=t["default"]=g},28076(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(60023);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.widgetClassDefinitionRetriever=t.widgetClassDefinitionRetriever;this.StdViewClass=t.StdViewClass}l(e,[{key:"build",value:function e(t,r){if(i.AbstractWidgetSite[t.type])return this._buildAbstractWidget(t,r);var o=this.widgetClassDefinitionRetriever.getDefinition({widgetType:t.type,type:"View",StdClass:this.StdViewClass});var a=this._setSelectorAccordingToWidgetType(t);var s=new o({el:a,properties:p(t),model:r,store:n.store,profile:BaseKit.Globals.profile,pages:BaseKit.Globals.pages,assets:BaseKit.Globals.imageAssets,enablePolicyPages:t.enablePolicyPages});return s}},{key:"_buildAbstractWidget",value:function e(t,r){var o=BaseKit.Widget.AbstractView;var a=this._setSelectorAccordingToWidgetType(t);var s={el:a,properties:p(t),model:r,store:n.store,profile:BaseKit.Globals.profile,pages:BaseKit.Globals.pages,assets:BaseKit.Globals.imageAssets,enablePolicyPages:t.enablePolicyPages,abstractWidget:i.AbstractWidgetSite[t.type]};return new o(s)}},{key:"_setSelectorAccordingToWidgetType",value:function e(t){if(t.isTemplateWidget)return"#".concat(t.uniqueHTMLId);return'[data-uniqueid="'.concat(t.uniqueId,'"]')}}]);return e}();var f=t["default"]=d;function p(e){return{fixed:e.fixed,name:e.name,className:e.className,uniqueId:e.uniqueId,uniqueHTMLId:e.uniqueHTMLId,debugMode:e.debugMode||void 0,type:e.type,ref:e.ref}}},32756(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(96342));var i=r(9673);var o=l(r(41985));var a=l(r(90331));var s=r(16973);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"==u(t)?t:t+""}function h(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=o.default.iOSFixRequired();var v=o.default.isiOS13OrAbove();var m=function(){function e(t){c(this,e);if(!t.featureFlagDataProvider.get("enableRows"))return;this.store=t.store;this.widgetSettingsData=t.widgetSettingsData;this.editModeLayoutView=t.editModeLayoutView;this.eventDispatcher=t.eventDispatcher;this.RowEditingToolbarView=t.RowEditingToolbarView;this.RowSettingsView=t.RowSettingsView;this.RowSettingsViewEmailMixin=t.RowSettingsViewEmailMixin;this.TooltipView=t.TooltipView;this.templateRenderer=t.templateRenderer;this.widgetSettingsComponentViewFactory=t.widgetSettingsComponentViewFactory;this.rowLayoutControl=t.rowLayoutControl;this.envDataProvider=t.envDataProvider;this.widgetRegister=t.widgetRegister;this.featureFlagDataProvider=t.featureFlagDataProvider;this.featureFlagDataProvider.get("enableRows")&&this.editModeLayoutView.render();this.featureFlagDataProvider.get("formEmailVerification")&&(this.RowSettingsView=Cocktail.mixin(this.RowSettingsView,this.RowSettingsViewEmailMixin));this.attachEvents()}f(e,[{key:"attachEvents",value:function e(){Editor.Events.on("widgetSettings:changed",this.openSettings.bind(this))}},{key:"enable",value:function e(t){this._storeScrollPosition();this._cacheActiveRowView(t);g&&this.eventDispatcher.trigger("iosFrameBug:reset");this.editModeLayoutView.enableEditMode(this.rowView);this._renderViews()}},{key:"disable",value:function e(){this.store.dispatch((0,i.widgetSettingsClosed)());this.editModeLayoutView.disableEditMode(this.rowView);if(g){this.eventDispatcher.trigger("iosFrameBug:fix");this._restoreScrollPosition()}v&&this._restoreScrollPosition()}},{key:"showStyleOptions",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-style-picker",autoSave:true});this.editModeLayoutView.getRegion("drawer").show(t);this.editModeLayoutView.getRegion("tooltip").empty()}},{key:"showRowPicker",value:function e(){this.editModeLayoutView.getRegion("drawer").empty();this.editModeLayoutView.getRegion("tooltip").empty();this.editModeLayoutView.getRegion("banner").empty();this.rowLayoutControl.enable(this.rowView)}},{key:"showRowLayoutSwitcher",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-layout-picker",autoSave:true});this.editModeLayoutView.getRegion("drawer").show(t);this.editModeLayoutView.getRegion("tooltip").empty()}},{key:"showShapeDividerSwitcher",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-shape-divider-picker",autoSave:true});this.editModeLayoutView.getRegion("drawer").show(t);this.editModeLayoutView.getRegion("tooltip").empty()}},{key:"showAnimationPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-animation-picker",autoSave:true});this.editModeLayoutView.getRegion("animationPicker").show(t)}},{key:"showSectionHeightPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-section-height-picker",autoSave:true});this.editModeLayoutView.getRegion("sectionHeightPicker").show(t)}},{key:"showSectionWidthPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-section-width-picker",autoSave:true});this.editModeLayoutView.getRegion("sectionWidthPicker").show(t)}},{key:"showSectionGradientPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-section-gradient-picker",autoSave:true});this.editModeLayoutView.getRegion("sectionGradientPicker").show(t)}},{key:"showSectionLinkPicker",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-section-link-picker",autoSave:false});this.editModeLayoutView.getRegion("sectionLinkPicker").show(t)}},{key:"openSettings",value:function e(t){if(!this.store.getState().site.isRowEditingMode)return;this._renderSettings(t);var r=this.editModeLayoutView.getRegion("settings").currentView;var n=this.widgetSettingsComponentViewFactory.build({widgetView:t});r.getRegion("settingsBody").show(n)}},{key:"isSettingsAlreadyOpen",value:function e(){var t=this.widgetSettingsData.get();return t.openWidgetUniqueId}},{key:"hideStyleOptions",value:function e(){this.editModeLayoutView.getRegion("drawer").empty();this._renderTooltip()}},{key:"_storeScrollPosition",value:function e(){this.scrollTop=v?(0,s.getIframeWindow)().scrollY:document.querySelector(".js-site-preview").scrollTop}},{key:"_restoreScrollPosition",value:function e(){v?(0,s.getIframeWindow)().scrollTo(0,this.scrollTop):document.querySelector(".js-site-preview").scrollTo(0,this.scrollTop)}},{key:"_showBanner",value:function e(){var t=this.widgetSettingsComponentViewFactory.build({widgetView:this.rowView,settingId:"widget-information"});this.editModeLayoutView.getRegion("banner").show(t)}},{key:"_cacheActiveRowView",value:function e(t){this.rowView=t}},{key:"_renderViews",value:function e(){this._renderToolbar();this._renderTooltip();this.rowView.isHeaderOrFooterRow()&&this._showBanner()}},{key:"_renderToolbar",value:function e(){var t=new this.RowEditingToolbarView({templateRenderer:this.templateRenderer,disableEditMode:this.disable.bind(this),editMode:this,rowProperties:this.rowView.properties,envDataProvider:this.envDataProvider});this.editModeLayoutView.getRegion("toolbar").show(t)}},{key:"_renderTooltip",value:function e(){if(a.default.getItem("rowEditModeContentHintShown"))return;var t="Tap any content to change its properties";var r=new this.TooltipView({text:(0,n.default)("editor.row_editing.content_hint",t),templateRenderer:this.templateRenderer,closeCallback:function e(){a.default.setItem("rowEditModeContentHintShown",true)}});this.editModeLayoutView.getRegion("tooltip").show(r)}},{key:"_renderSettings",value:function e(t){var r=this.widgetRegister.getParentByUniqueId(t.model.get("uniqueId"));var n=new this.RowSettingsView({store:this.store,templateRenderer:this.templateRenderer,model:t.model,profileModel:t.profileModel,title:t.getSettings().title,widgetView:t,parentWidget:r});this.editModeLayoutView.getRegion("settings").show(n);this.settings=n;Editor.Events.on("setting:error:show",this.showSettingsError.bind(this));Editor.Events.on("setting:error:clear",this.clearSettingsError.bind(this));Editor.Events.on("setting:save:enable",this._enableSaveSettings.bind(this));Editor.Events.on("setting:save:disable",this._disableSaveSettings.bind(this));this._removeTooltip()}},{key:"_removeTooltip",value:function e(){this.editModeLayoutView.getRegion("tooltip").empty();a.default.setItem("rowEditModeContentHintShown",true)}},{key:"_getErrorModel",value:function e(t){var r=this.settings.settingsBody.currentView.collection.toArray();var n=!!(r&&r[0].get("groupId"));var i=null;n?this.settings.settingsBody.currentView.collection.toJSON().every(function(e){var r=e.collection.filter(function(e){return e.get("id")===t}).pop();if(r){i=r;return false}return true}):i=r.filter(function(e){return e.get("id")===t}).pop();return i}},{key:"showSettingsError",value:function e(t){if(!this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t.settingId);r&&r.set("error",t.message);var n=this.settings.settingsBody.currentView;n.render();this.settings.el.classList.add("error");this.settings.el.querySelector(".js-save-panel").disabled=true}},{key:"clearSettingsError",value:function e(t){if(!this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t);r&&r.set("error","");var n=this.settings.settingsBody.currentView;n.render();if(n.el.querySelectorAll(".popup-panel-form__field--error").length<1){this.settings.el.classList.remove("error");this.settings.el.querySelector(".js-save-panel").disabled=false}}},{key:"_enableSaveSettings",value:function e(){this.settings.el.classList.remove("error");this.settings.el.querySelector(".js-save-panel").disabled=false}},{key:"_disableSaveSettings",value:function e(t){t&&this.settings.el.classList.add("error");this.settings.el.querySelector(".js-save-panel").disabled=true}}]);return e}();var y=t["default"]=m},32983(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(50199));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.LayoutView.extend({template:"row_editing_mode_layout",el:".js-row-edit-mode-elements",regions:{settings:"#row-editing-settings-region",tooltip:"#row-editing-tooltip-region",drawer:"#row-editing-drawer-region",toolbar:"#row-editing-toolbar-region",banner:"#row-editing-banner-region",rowPicker:"#row-editing-row-picker-region",animationPicker:"#row-editing-animation-picker-region",sectionHeightPicker:"#row-editing-section-height-picker-region",sectionWidthPicker:"#row-editing-section-width-picker-region",sectionGradientPicker:"#row-editing-section-gradient-picker-region",sectionLinkPicker:"#row-editing-section-link-picker-region"},enableEditMode:function e(t){n.default.enableEditMode(t);this._scrollActiveRowIntoView(t)},disableEditMode:function e(t){n.default.disableEditMode(t);this.regionManager.emptyRegions()},_scrollActiveRowIntoView:function e(t){t.el.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}});var a=t["default"]=o},27037(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=s(r(21983));var i=r(83502);var o=r(71469);var a=s(r(16973));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=Backbone.View.extend({template:"row_editing_toolbar",events:{"click .js-exit-edit-mode":"exitEditMode","click .js-style-tab":"openStyleOptions","click .js-content-tab":"setContentView","click .js-layout-tab":"setLayoutView","click .js-shape-divider-tab":"setShapeDividerView","click .js-animation-tab":"setAnimationView","click .js-section-height-tab":"setSectionHeightView","click .js-section-width-tab":"setSectionWidthView","click .js-section-gradient-tab":"setSectionGradientView","click .js-section-link-tab":"setSectionLinkView"},className:"row-editing-toolbar row-editor",initialize:function e(t){this.templateRenderer=t.templateRenderer;this.disableEditMode=t.disableEditMode;this.editMode=t.editMode;this.rowProperties=t.rowProperties;this.envDataProvider=t.envDataProvider;this.sectionEdited=false;this.attachGlobalEvents()},attachGlobalEvents:function e(){Editor.Events.on("section:edited",this.onSectionEdited.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.onWidgetSettingsOpened.bind(this));Editor.Events.on("widgetSettings:exit-edit-mode",this.exitEditMode.bind(this));Editor.Events.on("rowEditMode:orientationchange",this.onOrientationChanged.bind(this))},render:function e(){var t=this.templateRenderer.render(this.template,{tabs:{content:true,style:true,layout:this._rowSupportsLayoutSwitching(),shapeDivider:this._rowSupportsShapeDivider(),animation:true,sectionHeight:this._rowSupportsHeightAndWidth(),sectionWidth:this._rowSupportsHeightAndWidth(),sectionGradient:true,sectionLink:true}});this.el.insertAdjacentHTML("beforeend",t);this._rowSupportsGradients()},exitEditMode:function e(){Editor.Events.trigger("widgetSettings:close");this.setContentView();this._removeBodyRowEditingClass();n.default.container.Tracker.track("Edited any widget inside a section",{section_edited:this.sectionEdited});this.disableEditMode()},setContentView:function e(){Editor.Events.trigger("EditModeTab:changed");this._removeBodyRowEditingClass();this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-content-tab").classList.add("is-selected");this.editMode.hideStyleOptions();this._scrollToCurrentRow()},setLayoutView:function e(){this._removeBodyRowEditingClass();this._getSiteFrameElement().body.classList.add("row-editing-layout");this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-layout-tab").classList.add("is-selected");["header","footer"].includes(this.rowProperties.parentZone)?this.editMode.showRowPicker():this.editMode.showRowLayoutSwitcher()},setShapeDividerView:function e(){Editor.Events.trigger("EditModeTab:changed");n.default.container.Tracker.track("Shape divider button clicked");this._removeBodyRowEditingClass();this._getSiteFrameElement().body.classList.add("row-editing-shape-divider");this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-shape-divider-tab").classList.add("is-selected");this.editMode.showShapeDividerSwitcher()},setAnimationView:function e(){n.default.container.Tracker.track("Animation button clicked");this.editMode.showAnimationPicker()},setSectionHeightView:function e(){n.default.container.Tracker.track("Section height button clicked");this.editMode.showSectionHeightPicker()},setSectionWidthView:function e(){n.default.container.Tracker.track("Section width button clicked");this.editMode.showSectionWidthPicker()},setSectionGradientView:function e(){n.default.container.Tracker.track("Section gradient button clicked");this.editMode.showSectionGradientPicker()},setSectionLinkView:function e(){this.editMode.showSectionLinkPicker()},openStyleOptions:function e(){Editor.Events.trigger("EditModeTab:changed");this._removeBodyRowEditingClass();this._getSiteFrameElement().body.classList.add("row-editing-style");this.el.querySelector(".is-selected").classList.remove("is-selected");this.el.querySelector(".js-style-tab").classList.add("is-selected");this.editMode.showStyleOptions();this._scrollToCurrentRow()},_rowSupportsHeightAndWidth:function e(){var t=(0,o.selectIsGrid)(i.store.getState());return!t},_rowSupportsLayoutSwitching:function e(){var t=this.envDataProvider.get("rowLayouts");var r=t[this.rowProperties.rowType];var n=["header","footer"].includes(this.rowProperties.parentZone);var o=i.store.getState().user.capabilities.enableStandaloneMode;if(n&&o)return false;return r||n},_rowSupportsShapeDivider:function e(){if("footer"===this.rowProperties.parentZone)return false;var t=this.envDataProvider.get("rows");var r=[];Object.keys(t).forEach(function(e){r.push.apply(r,l(t[e]))});if("undefined"===typeof this.rowProperties.rowType)return false;var n=this.rowProperties.rowType.replace(/-/g,"_");var i=r.filter(function(e){return e.id===n})[0];if(i&&i.values&&"true"===i.values.disableShapeDivider)return false;return true},_rowSupportsGradients:function e(){var t=a.default.getIframeDocument().querySelector(".active-row.style--background-image");t&&this.el.querySelector(".js-section-gradient-tab").closest("li").setAttribute("hidden","true")},_removeBodyRowEditingClass:function e(){this._getSiteFrameElement().body.classList.remove("row-editing-style","row-editing-layout","row-editing-shape-divider")},_getSiteFrameElement:function e(){return document.querySelector("#siteFrame").contentDocument},_scrollToCurrentRow:function e(){var t=a.default.getIframeDocument().querySelector(".active-row");t&&t.scrollIntoView()},onSectionEdited:function e(){this.sectionEdited=true},onWidgetSettingsOpened:function e(){this.el.querySelector(".js-content-tab").classList.contains("is-selected")||this.setContentView()},onOrientationChanged:function e(){var t=this;setTimeout(function(){t._scrollToCurrentRow()},200)}});var g=t["default"]=h},35079(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(96342));var i=r(9673);function o(e){return e&&e.__esModule?e:{default:e}}var a=27;var s=Marionette.LayoutView.extend({template:"row_settings_view",attributes:{role:"dialog","aria-labelledby":"row-settings-panel-title"},className:function e(){var t="popup-panel";if(this._widgetIsOnRight(this.options.parentWidget))return"".concat(t,"--left-aligned");return t},regions:{settingsBody:".js-settings-body"},events:{"click .js-close-panel":"closePanel",keydown:"handleKeydown",submit:"handleSubmit"},keepPanelOpen:false,initialize:function e(t){this.store=t.store;this.templateRenderer=t.templateRenderer;this.title=t.title;this.model=t.model;this.profileModel=t.profileModel;this.widgetView=t.widgetView;this.parentWidget=t.parentWidget;this.closePanelHandler=this.closePanel.bind(this);this.attachEvents()},attachEvents:function e(){Editor.Events.on("widgetSettings:exit-edit-mode",this.closePanelHandler);Editor.Events.on("widgetSettings:close",this.closePanelHandler);Editor.Events.on("dragdrop:dragStart",this.closePanelHandler)},render:function e(){var t=this.templateRenderer.render(this.template,{title:this.title,hasSettings:this.widgetView.getSettings().components.length>0,emptySettingMessage:this.widgetView.getSettings().emptySettingMessage||""});this.el.insertAdjacentHTML("beforeend",t)},removePanel:function e(){Editor.Events.off("widgetSettings:exit-edit-mode",this.closePanelHandler);Editor.Events.off("widgetSettings:close",this.closePanelHandler);Editor.Events.off("dragdrop:dragStart",this.closePanelHandler);this.remove();this.store.dispatch((0,i.widgetSettingsClosed)())},closePanel:function e(){this.model.clear({silent:true});this.model.stateManager.restoreInitialState();this.profileModel.stateManager.restoreInitialState();this.removePanel()},save:function e(){if(this.model.hasChanged){this.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId,fixed:this.widgetView.properties.fixed});this.model.stateManager.storeCurrentState()}if(this.profileModel.hasChanged){this.profileModel.save();this.profileModel.stateManager.storeCurrentState()}if(this.keepPanelOpen)return this;this.removePanel();return this},clearAllErrors:function e(){this.el.classList.remove("error");var t=this.settingsBody.currentView.collection.toArray();var r=!!(t&&t[0].get("groupId"));r?this.settingsBody.currentView.collection.toJSON().forEach(function(e){e.collection.toArray().forEach(function(e){return e.set("error","")})}):t.forEach(function(e){return e.set("error","")});var n=this.settingsBody.currentView;n.render()},handleSubmit:function e(t){var r=this;t.preventDefault();this.clearAllErrors();var n=false;var i=this.settingsBody.currentView.collection.toArray();var o=!!(i&&i[0].get("groupId"));if(o)n=this.settingsBody.currentView.collection.toJSON().some(function(e){var t=e.collection.toArray().filter(function(e){return e.get("required")});return r.checkRequiredFields(t)});else{var a=i.filter(function(e){return e.get("required")});n=this.checkRequiredFields(a)}n||this.save()},checkRequiredFields:function e(t){var r=false;t.forEach(function(e){var t=e.get("value");if(!t||!t.length){r=true;var i={settingId:e.get("id"),message:(0,n.default)("global.message-field-required","This field is required")};Editor.Events.trigger("setting:error:show",i)}});return r},handleKeydown:function e(t){t.keyCode===a&&this.closePanel()},_widgetIsOnRight:function e(t){return t.isColumn()&&t.model.collection.indexOf(t.model)>0}});var l=t["default"]=s},93914(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=s(r(72112));var i=s(r(93404));var o=s(r(36854));var a=r(86508);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)})}}var c={regions:{preSettingsBody:".js-settings-pre-body"},initialize:function e(){this.emailVerifiedPromise=this.store.dispatch(a.getEmailVerification.initiate(this.store.getState().site.ref,{forceRefetch:true}));this.emailVerifiedUnsubscribe=null;this.addStoreSubscriber()},addStoreSubscriber:function e(){var t="widgetSettings.openWidgetUniqueId";this.slice=new n.default({store:this.store,stateId:t});this.state=this.slice.get();this.slice.subscribe(this.onWidgetSettingsOpen.bind(this))},onWidgetSettingsOpen:function e(t){var r=this;if((0,i.default)(this.state,t))return;this.showVerificationDialog();if(this.isEmailVerificationEnable()){this.settingsBody.currentView.on("render",function(){r.addEventListener()});this.addEventListener()}},showVerificationDialog:function e(){var t=this;return u(regeneratorRuntime.mark(function e(){var r,n,i,o;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:r=t.getEmailSettingsComponentModel();if(!r){a.next=10;break}n=r.get("value");if(!(n&&!t.isEmailVerified(n))){a.next=10;break}a.next=6;return t.emailVerifiedPromise;case 6:i=a.sent;o=i.unsubscribe;t.emailVerifiedUnsubscribe=o;if(t.isEmailUnverified(n)){t.emailToVerify=n;t.showEmailVerificationInfo()}case 10:case"end":return a.stop()}},e)}))()},addEventListener:function e(){var t=this.getEmailSettingsComponentView();this.listenToOnce(t,"setting:change",this.handleEmailVerificationOnChange)},handleEmailVerificationOnChange:function e(t,r){if(this.isEmailVerified(r)){this.keepPanelOpen=false;this.emailToVerify=null}else{this.keepPanelOpen=true;this.emailToVerify=r}this.verificationView&&this.isEmailVerified(r)&&this.verificationView.remove()},remove:function e(){var t;this.slice.unsubscribe();null===(t=this.emailVerifiedUnsubscribe)||void 0===t?void 0:t.call(this)},handleSubmit:function e(){this.emailToVerify&&this.showEmailVerificationInfo()},showEmailVerificationInfo:function e(){this.verificationView=new o.default({email:this.emailToVerify,csrfToken:this.store.getState().env.csrfToken}).render();this.$(".js-settings-pre-body").empty().append(this.verificationView.el)},isEmailVerified:function e(t){return this.store.getState().site.emailVerification.some(function(e){return t===e.email&&1===parseInt(e.verified,10)})},isEmailUnverified:function e(t){return this.store.getState().site.emailVerification.some(function(e){return t===e.email&&0===parseInt(e.verified,10)})},getEmailSettingsComponentView:function e(){var t=this.settingsBody.currentView.children;var r=this.getEmailSettingsComponentModel();var n=null;t.findByModel(r)?n=t.findByModel(r):t.each(function(e){e.children.findByModel(r)&&(n=e.children.findByModel(r))});return n},getEmailSettingsComponentModel:function e(){var t=this.settingsBody.currentView.collection;var r=t.some(function(e){return e.get("groupId")});var n=null;r?t.forEach(function(e){var t=e.get("collection");var r=t.filter(function(e){return e.get("emailVerificationEnable")});r.length>0&&(n=r[0])}):n=t.filter(function(e){return e.get("emailVerificationEnable")})[0];return n},removePanel:function e(){this.keepPanelOpen=true},isEmailVerificationEnable:function e(){var t=this.settingsBody.currentView.collection;var r=t.some(function(e){return e.get("groupId")});var n=false;n=r?t.some(function(e){return e.get("collection").some(function(e){return e.get("emailVerificationEnable")})}):t.some(function(e){return e.get("emailVerificationEnable")});return n}};var d=t["default"]=c},50199(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);var i=r(71469);var o=r(99951);var a={enableEditMode:function e(t){var r,a;this._addEditingClassToRowElement(t);this._addEditingClassToSiteFrameBody();this._addEditingClassToEditorBody();n.store.dispatch((0,o.rowEditingModeSet)(true));n.store.dispatch((0,i.rowTypeChanged)(null!==(r=t.model.get("rowType"))&&void 0!==r?r:""));n.store.dispatch((0,i.sectionTypeChanged)(null!==(a=t.model.get("sectionType"))&&void 0!==a?a:""))},disableEditMode:function e(t){this._removeEditingClassFromRowElement(t);this._removeEditingClassFromSiteFrameBody();this._removeEditingClassFromEditorBody();n.store.dispatch((0,o.rowEditingModeSet)(false));n.store.dispatch((0,i.rowTypeChanged)(""));n.store.dispatch((0,i.sectionTypeChanged)(""))},_getSiteFrameElement:function e(){return document.querySelector("#siteFrame").contentDocument},_addEditingClassToEditorBody:function e(){document.body.classList.add("row-editing");document.body.classList.add("hide-primary-ui")},_addEditingClassToSiteFrameBody:function e(){var t=this._getSiteFrameElement();t.body.classList.add("row-editing")},_addEditingClassToRowElement:function e(t){t.el.classList.add("active-row")},_removeEditingClassFromEditorBody:function e(){document.body.classList.remove("row-editing");document.body.classList.remove("hide-primary-ui")},_removeEditingClassFromSiteFrameBody:function e(){var t=this._getSiteFrameElement();t.body.classList.remove("row-editing")},_removeEditingClassFromRowElement:function e(t){t.el.classList.remove("active-row")}};var s=t["default"]=a},43891(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(16973));var i=o(r(72154));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f="row-layout-selection-mode";var p=function(){function e(t){s(this,e);this.rowLayoutSelectorPanelView=t.rowLayoutSelectorPanelView;this.disableHandler=this.disable.bind(this);this.closePanelViewHandler=this.closeRowLayoutView.bind(this)}u(e,[{key:"attachEvents",value:function e(){Editor.Events.on("rowLayoutSelectorView:close",this.disableHandler);Editor.Events.on("screenMode:change widgetSettings:close EditModeTab:changed",this.closePanelViewHandler);document.querySelector(".js-layout-selection-mode-overlay").addEventListener("click",this.closePanelViewHandler)}},{key:"enable",value:function e(t){this._enableRowLayoutSelectionMode();this.rowLayoutSelectorPanelView.setup({layoutType:t.properties.parentZone,pageRef:(0,i.default)().get("pageRef"),selectedRow:t.model.get("originalRowTemplateId"),uniqueId:t.properties.uniqueId});this.attachEvents();return this.rowLayoutSelectorPanelView.render()}},{key:"disable",value:function e(){Editor.Events.off("rowLayoutSelectorView:close",this.disableHandler);Editor.Events.off("screenMode:change widgetSettings:close EditModeTab:changed",this.closePanelViewHandler);this._disableRowLayoutSelectionMode()}},{key:"closeRowLayoutView",value:function e(){this.rowLayoutSelectorPanelView.closePanel()}},{key:"_enableRowLayoutSelectionMode",value:function e(){document.body.classList.add(f);n.default.getIframeDocument().body.classList.add(f)}},{key:"_disableRowLayoutSelectionMode",value:function e(){n.default.getIframeDocument().body.classList.remove(f);document.body.classList.remove(f)}}]);return e}();var h=t["default"]=p},72898(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);var i=a(r(16973));var o=a(r(41985));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=Marionette.ItemView.extend({template:"layout_preview_container",events:{"click .js-row-selector-cancel":"cancelChanges","click .js-row-selector-update":"saveChanges","click .js-row-selector-bg":"cancelChanges","click .js-update-row-template":"rowClicked"},initialize:function e(t){this.store=t.store;this.envDataProvider=t.envDataProvider;this.templateRenderer=t.templateRenderer;this.widgetApi=t.widgetApi},setup:function e(t){this.layoutType=t.layoutType;this.pageRef=t.pageRef;this.selectedRow=t.selectedRow;this.currentRow=t.selectedRow;this.uniqueId=t.uniqueId;this.setElement(i.default.getIframeDocument().getElementById("rowSelectorPreviewContainer"));this.loadingElement=this.el.querySelector(".js-loading")},beforeRender:function e(){if(!this.store.getState().site.isRowEditingMode&&o.default.isiOS()){var t=i.default.getIframeDocument().querySelector(".is-setting-open .js-edit-control");this.el.querySelector(".row-selector-panel").style.top="".concat(t.getBoundingClientRect().bottom,"px")}this.loadingElement.removeAttribute("hidden");this.el.removeAttribute("hidden")},render:function e(){var t=this;this.beforeRender();var r=this.el.querySelector(".js-row-selector-list");(0,n.emptyElement)(r);this._fetchLayoutPreview({callback:function e(i){t.rowData=i;var o="";t.rowData.forEach(function(e){o+=t.templateRenderer.render(t.template,{rowHtml:e.html,id:e.id,selectedRow:t.selectedRow})});t.loadingElement.setAttribute("hidden","hidden");(0,n.append)(r,o);t.onRender()}});return this},onRender:function e(){this._fixRowPreviewHeight()},closePanel:function e(){if(this.el.hasAttribute("hidden"))return;this.trigger("panel:close");this.el.setAttribute("hidden","hidden");this.el.querySelector(".row-selector-panel").removeAttribute("style");Editor.Events.trigger("rowLayoutSelectorView:close")},saveChanges:function e(){this._isSelectedRowChanged()&&this._updateRow(this.currentRow);this.closePanel()},cancelChanges:function e(){this.closePanel()},rowClicked:function e(t){this.currentRow=t.currentTarget.getAttribute("data-row-template-id");var r=this.el.querySelector(".js-update-row-template.is-selected");r&&r.classList.remove("is-selected");t.currentTarget.classList.add("is-selected");this.store.getState().site.isRowEditingMode&&this._isSelectedRowChanged()&&this.saveChanges()},_isSelectedRowChanged:function e(){return this.selectedRow!==this.currentRow},_updateRow:function e(t){this.widgetApi.replaceRow({uniqueId:this.uniqueId,rowTemplate:t})},_fetchLayoutPreview:function e(t){return fetch("/_/row-previews?zone=".concat(this.layoutType,"&page=").concat(this.pageRef),{headers:{"X-CSRF-Token":this.envDataProvider.get("csrfToken")},credentials:"include"}).then(function(e){return e.json()}).then(function(e){t.callback(e)})},_fixRowPreviewHeight:function e(){s(i.default.getIframeDocument().querySelectorAll(".js-row-template-preview-markup")).forEach(function(e){e.parentElement.style.height="".concat(e.getBoundingClientRect().height,"px")})}});var h=t["default"]=p},43805(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e);this.bundles={}}o(e,[{key:"addBundle",value:function e(t,r){this.bundles[t]=r}},{key:"hasBundle",value:function e(t){return Object.keys(this.bundles).includes(t)}},{key:"getBundle",value:function e(t){if(this.hasBundle(t))return this.bundles[t];return null}}]);return e}();var u=t["default"]=l},23293(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.properties=t}o(e,[{key:"get",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object.keys(this.properties).includes(t))return r;return this.properties[t]}}]);return e}();var u=t["default"]=l},11474(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(43805));var i=o(r(23293));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return d(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function d(e){if(Array.isArray(e))return e}var f=function e(t){t.service("ServerVars",n.default);t.decorator("ServerVars",function(e){var t="__SERVER_VARS__";void 0!==window[t]&&Object.entries(window[t]).forEach(function(t){var r=a(t,2),n=r[0],o=r[1];var s=new i.default(o);e.addBundle(n,s)});return e});return t};var p=t["default"]=f},3760(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;window.App=window.App||{};var r=function e(t,r,n){return new Promise(function(e,i){var o={type:t,payload:n};var a=new MessageChannel;a.port1.onmessage=function(t){var r=t.data;a.port1.close();r.error?i(r.error):e(r.response)};r.postMessage(o,"*",[a.port2])})};App.sendCrossOriginMessage=r;var n=t["default"]=r},89810(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=s;var n=a(r(69702));var i=a(r(28284));var o=a(r(94974));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){e.factory("languageDataProvider",function(){return new i.default});e.factory("languageMenuRendererFactory",function(e){return new n.default({LanguageMenuRenderer:o.default,languageDataProvider:e.editorSiteLanguageDataProvider,sitePreview:true,templateRenderer:e.TemplateRenderer})});return e}},91637(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=l(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u=t["default"]=function(){function e(t){n(this,e);a(this,"props",void 0);this.props=t}o(e,[{key:"get",value:function e(t){return this.props[t]||null}},{key:"toJSON",value:function e(){return this.props}}]);return e}()},72112(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=l(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var u=t["default"]=function(){function e(t){n(this,e);a(this,"currentState",void 0);a(this,"onChange",void 0);a(this,"stateId",void 0);a(this,"store",void 0);a(this,"unsubscribeMethod",void 0);this.store=t.store;this.stateId=t.stateId;this.currentState=this.get()}o(e,[{key:"subscribe",value:function e(t){this.onChange=t;this.unsubscribeMethod=this.store.subscribe(this._handleChange.bind(this))}},{key:"unsubscribe",value:function e(){var t;null===(t=this.unsubscribeMethod)||void 0===t?void 0:t.call(this)}},{key:"get",value:function e(){var t=c(this.store.getState(),this.stateId);if(t)return t;return{}}},{key:"_handleChange",value:function e(){var t=this.get();if(t!==this.currentState){var r;this.currentState=t;null===(r=this.onChange)||void 0===r?void 0:r.call(this,this.currentState)}}}]);return e}();function c(e,t){if(!t)return e;var r=e;var n=t.split(".");n.forEach(function(e){var t=r[e];"undefined"!==typeof t&&(r=t)});return r}},60136(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(72112));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=d(e,"string");return"symbol"==o(t)?t:t+""}function d(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=t["default"]=function(){function e(t){a(this,e);u(this,"store",void 0);this.store=t.store}l(e,[{key:"build",value:function e(t){return new n.default({store:this.store,stateId:t.stateId})}}]);return e}()},59650(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setCurrentPageTextEntryMetadata=t.setCurrentPage=t.pageTreeFailure=t.orderPagesSuccess=t.orderPagesFailure=t.orderPages=t.langPageTreeSuccess=t.langPageTreeFailure=t.getPageTreeSuccess=t.editPageSuccess=t.editPageStart=t.editPageFailure=t.deletePage=t.deleteLangPage=t.addSinglePage=t.addScriptSuccess=t.addScriptStart=t.addScriptFailure=t.addPagesRequest=t.addPages=t.addLanguagesPageTree=t.SET_CURRENT_PAGE_TEXT_ENTRY_METADATA=t.SET_CURRENT_PAGE=t.PAGE_TREE_SUCCESS=t.PAGE_TREE_START=t.PAGE_TREE_FAILURE=t.ORDER_PAGES_SUCCESS=t.ORDER_PAGES_START=t.ORDER_PAGES_FAILURE=t.LANGUAGES_PAGE_TREE_SUCCESS=t.LANGUAGES_PAGE_TREE_START=t.LANGUAGES_PAGE_TREE_FAILURE=t.EDIT_PAGE_SUCCESS=t.EDIT_PAGE_START=t.EDIT_PAGE_FAILURE=t.DELETE_PAGE=t.DELETE_LANG_PAGE=t.ADD_SINGLE_PAGE=t.ADD_SCRIPT_SUCCESS=t.ADD_SCRIPT_START=t.ADD_SCRIPT_FAILURE=t.ADD_PAGES=t.ADD_LANGUAGES_PAGE_TREE=void 0;function r(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function n(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}}var i=t.ADD_PAGES="ADD_PAGES";var o=t.ADD_SINGLE_PAGE="ADD_SINGLE_PAGE";var a=t.DELETE_PAGE="DELETE_PAGE";var s=t.DELETE_LANG_PAGE="DELETE_LANG_PAGE";var l=t.SET_CURRENT_PAGE="SET_CURRENT_PAGE";var u=t.SET_CURRENT_PAGE_TEXT_ENTRY_METADATA="SET_CURRENT_PAGE_TEXT_ENTRY_METADATA";var c=t.ADD_LANGUAGES_PAGE_TREE="ADD_LANGUAGES_PAGE_TREE";var d=t.ORDER_PAGES_START="ORDER_PAGES";var f=t.ORDER_PAGES_SUCCESS="ORDER_PAGES_SUCCESS";var p=t.ORDER_PAGES_FAILURE="ORDER_PAGES_FAILURE";var h=t.PAGE_TREE_START="PAGE_TREE_START";var g=t.PAGE_TREE_SUCCESS="PAGE_TREE_SUCCESS";var v=t.PAGE_TREE_FAILURE="PAGE_TREE_FAILURE";var m=t.LANGUAGES_PAGE_TREE_START="LANGUAGES_PAGE_TREE_START";var y=t.LANGUAGES_PAGE_TREE_SUCCESS="LANGUAGES_PAGE_TREE_SUCCESS";var b=t.LANGUAGES_PAGE_TREE_FAILURE="LANGUAGES_PAGE_TREE_FAILURE";var w=t.ADD_SCRIPT_SUCCESS="ADD_SCRIPT_SUCCESS";var _=t.ADD_SCRIPT_START="ADD_SCRIPT_START";var S=t.ADD_SCRIPT_FAILURE="ADD_SCRIPT_FAILURE";var k=t.EDIT_PAGE_SUCCESS="EDIT_PAGE_SUCCESS";var P=t.EDIT_PAGE_FAILURE="EDIT_PAGE_FAILURE";var E=t.EDIT_PAGE_START="EDIT_PAGE_START";var x=t.addPagesRequest=function e(t){return{type:i,pages:t}};var C=t.addPages=function e(t){return function(){var e=n(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:BaseKit.Globals.pages.resetPageTree(t);r(x(t));case 2:case"end":return n.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};var O=t.addSinglePage=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:o,payload:{page:t,lang:r}}};var j=t.deletePage=function e(t){return{type:a,payload:t}};var A=t.deleteLangPage=function e(t,r){return{type:s,payload:{id:t,lang:r}}};var T=t.setCurrentPage=function e(t){return{type:l,ref:t}};var D=t.setCurrentPageTextEntryMetadata=function e(t){return{type:u,isRTLLanguage:t}};var L=t.addLanguagesPageTree=function e(t){return{type:c,payload:t}};var I=t.orderPages=function e(){return{type:d}};var M=t.orderPagesSuccess=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:f,payload:{tree:t,lang:r}}};var R=t.orderPagesFailure=function e(t){return{type:p,payload:t,error:true}};var F=function e(){return{type:h}};var B=function e(t){return{type:g,payload:t}};var N=t.pageTreeFailure=function e(t){return{type:v,error:true,payload:t}};var V=function e(){return{type:m}};var q=t.langPageTreeSuccess=function e(t){return{type:y,payload:t}};var W=t.langPageTreeFailure=function e(t){return{type:b,error:true,payload:t}};var U=t.getPageTreeSuccess=function e(t){return function(){var e=n(regeneratorRuntime.mark(function e(r,n){var i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:i=n();BaseKit.Globals.pages.resetPageTree(t);Editor.addSiteLanguagePagesToCollection(i.page.languages);r(B(t));case 4:case"end":return o.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()};var z=t.addScriptStart=function e(){return{type:_}};var G=t.addScriptFailure=function e(t){return{type:S,error:true,payload:t}};var H=t.addScriptSuccess=function e(t,r){return{type:w,payload:{page:t,lang:r}}};var $=t.editPageStart=function e(){return{type:E}};var K=t.editPageSuccess=function e(t,r,n){return{type:k,payload:{ref:t,page:r,lang:n}}};var Z=t.editPageFailure=function e(t){return{type:P,error:true,payload:t}}},4530(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.api=t.CacheTag=void 0;var n=r(41543);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}var s=t.CacheTag=function(e){e["CookieBanners"]="cookieBanners";e["GlobalValues"]="globalValues";e["Languages"]="languages";e["Media"]="media";return e}({});var l=function(){var e=a(regeneratorRuntime.mark(function e(t,r,o){var a,s,l,u;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:a="object"===i(t)&&"url"in t?t.url:t;s=a.startsWith("/_/")||a.startsWith("/refresh")||a.startsWith("/policy-pages")?"":r.getState().env.apiProxyBaseUrl;l=s;u=(0,n.fetchBaseQuery)({baseUrl:l,prepareHeaders:function e(t){t.has("Accept")||t.set("Accept","application/json");t.has("X-CSRF-TOKEN")||t.set("X-CSRF-TOKEN",r.getState().env.csrfToken);t.has("Content-Type")||t.set("Content-Type","application/json");return t},credentials:"include"});return c.abrupt("return",u(t,r,o));case 5:case"end":return c.stop()}},e)}));return function t(r,n,i){return e.apply(this,arguments)}}();var u=t.api=(0,n.createApi)({reducerPath:"api",baseQuery:l,endpoints:function e(){return{}},tagTypes:Object.values(s)})},86508(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getEmailVerification=t.emailVerificationMiddleware=void 0;var n=r(44381);var i=r(4530);var o=r(99951);var a="/sites";var s=i.api.injectEndpoints({endpoints:function e(t){return{getEmailVerification:t.query({query:function e(t){return{method:"GET",url:"".concat(a,"/").concat(t,"/email-verification")}},transformResponse:function e(t){return t.emailVerification}})}}});var l=t.emailVerificationMiddleware=(0,n.createListenerMiddleware)();var u=l.startListening.withTypes();u({matcher:s.endpoints.getEmailVerification.matchFulfilled,effect:function e(t,r){r.dispatch((0,o.emailVerificationSet)(t.payload))}});var c=t.getEmailVerification=s.endpoints.getEmailVerification},88052(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useUpdateLanguageStatus=t.useSetSiteData=t.useGetLanguagesPageTree=t.useGetLanguages=t.useDeleteLanguage=t.useAddSiteLanguagePages=t.updateOrder=t.updateLanguageStatus=t.siteURL=t.setSiteData=t.setPageData=t.pageMiddleware=t.importContent=t.getWidgets=t.getSitePages=t.getPageTree=t.getLanguagesPageTree=t.getLanguages=t.deleteLanguage=t.addSiteLanguagePages=t.NO_FILTER=void 0;var n=r(44381);var i=r(68404);var o=r(59650);var a=r(4530);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){return p(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function p(e){if(Array.isArray(e))return e}function h(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function g(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)})}}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=w(e,"string");return"symbol"==s(t)?t:t+""}function w(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _=t.siteURL="/sites";var S=t.NO_FILTER=-1;var k=a.api.injectEndpoints({endpoints:function e(t){return{addSiteLanguagePages:t.mutation({query:function e(t){var r=t.languageCode,n=t.pageTitles,i=t.siteRef;return{body:{pages:n},method:"POST",url:"".concat(_,"/").concat(i,"/languages/").concat(r)}},invalidatesTags:function e(){return[a.CacheTag.Languages]},transformResponse:function e(t){return t.siteLanguages}}),deleteLanguage:t.mutation({query:function e(t){var r=t.languageCode,n=t.siteRef;return{method:"DELETE",url:"".concat(_,"/").concat(n,"/languages/").concat(r)}},invalidatesTags:function e(){return[a.CacheTag.Languages]},transformResponse:function e(t){return t.siteLanguages}}),getLanguages:t.query({query:function e(t){return{method:"GET",url:"".concat(_,"/").concat(t,"/languages")}},providesTags:function e(){return[a.CacheTag.Languages]},transformResponse:function e(t){return t.siteLanguages}}),getLanguagesPageTree:t.query({query:function e(){return{method:"GET",url:"/_/site-languages-page-tree"}}}),getPageTree:t.query({query:function e(){return{method:"GET",url:"/_/page-tree"}},transformResponse:function e(t){return t.pageTree}}),getSitePages:t.query({query:function e(t){return{method:"GET",url:"".concat(_,"/").concat(t,"/pages?type=page")}},transformResponse:function e(t){return t.pages}}),getWidgets:t.query({query:function e(t){var r=t.siteRef,n=t.pageRef;return{method:"GET",url:"".concat(_,"/").concat(r,"/pages/").concat(n,"/widgets/extractable")}},transformResponse:function e(t){return t.widgets.map(function(e){return m(m({},e),{},{ref:"string"===typeof e.ref?parseInt(e.ref,10):e.ref})})}}),importContent:t.mutation({query:function e(t){return{body:t,method:"POST",url:"".concat(_,"/").concat(t.siteRef,"/pages/").concat(t.pageRef,"/import")}}}),refresh:t.query({query:function e(){return{method:"GET",url:"/refresh"}}}),setPageData:t.mutation({query:function e(t){var r=t.data,n=t.pageRef,i=t.siteRef;return{body:r,method:"PUT",url:"".concat(_,"/").concat(i,"/pages/").concat(n)}},transformResponse:function e(t){return t.page}}),setSiteData:t.mutation({query:function e(t){var r=t.data,n=t.siteRef;return{body:r,method:"PUT",url:"".concat(_,"/").concat([n])}},transformResponse:function e(t){return t.site}}),updateLanguageStatus:t.mutation({query:function e(t){var r=t.active,n=t.languageCode,i=t.siteRef;return{body:{active:r},method:"PUT",url:"".concat(_,"/").concat(i,"/languages/").concat(n)}},invalidatesTags:function e(){return[a.CacheTag.Languages]},transformResponse:function e(t){return t.siteLanguages}}),updateOrder:t.mutation({query:function e(t){return{body:t,method:"PUT",url:"/_/order-pages"}},transformResponse:function e(t){return t.pageTree}})}}});var P=t.pageMiddleware=(0,n.createListenerMiddleware)();var E=P.startListening.withTypes();E({matcher:k.endpoints.addSiteLanguagePages.matchFulfilled,effect:function e(t,r){r.dispatch((0,i.addSiteLanguagePagesSuccess)(t.payload))}});E({matcher:k.endpoints.deleteLanguage.matchFulfilled,effect:function e(t,r){r.dispatch((0,i.deleteLanguageSuccess)(t.payload))}});E({matcher:k.endpoints.getLanguagesPageTree.matchFulfilled,effect:function e(t,r){r.dispatch((0,o.langPageTreeSuccess)(t.payload))}});E({matcher:k.endpoints.getLanguagesPageTree.matchRejected,effect:function e(t,r){r.dispatch((0,o.langPageTreeFailure)({message:"Server error"}))}});E({matcher:k.endpoints.getPageTree.matchFulfilled,effect:function e(t,r){r.dispatch((0,o.getPageTreeSuccess)(t.payload))}});E({matcher:k.endpoints.getPageTree.matchRejected,effect:function e(t,r){r.dispatch((0,o.pageTreeFailure)({message:"Server error"}))}});E({matcher:k.endpoints.setPageData.matchFulfilled,effect:function e(t,r){r.dispatch((0,o.editPageSuccess)(t.meta.arg.originalArgs.pageRef,t.payload,t.meta.arg.originalArgs.lang));t.meta.arg.originalArgs.data.headScript&&r.dispatch((0,o.addScriptSuccess)(t.meta.arg.originalArgs.data,t.meta.arg.originalArgs.lang))}});E({matcher:k.endpoints.setPageData.matchRejected,effect:function e(t,r){r.dispatch((0,o.editPageFailure)({message:"Server error"}))}});E({matcher:k.endpoints.setSiteData.matchFulfilled,effect:function(){var e=g(regeneratorRuntime.mark(function e(t,r){var n,o,a,s;return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:if(!(void 0!==t.meta.arg.originalArgs.data.defaultLanguage)){u.next=6;break}u.next=3;return r.dispatch(k.endpoints.refresh.initiate(void 0,{subscribe:false,forceRefetch:true})).unwrap();case 3:n=u.sent;o=n.sites.filter(function(e){return e.ref===t.meta.arg.originalArgs.siteRef}),a=l(o,1),s=a[0];r.dispatch((0,i.updateDefaultLanguageSuccess)({language:s.siteDefaultLanguage,oldLanguageCode:t.meta.arg.originalArgs.oldLanguage}));case 6:case"end":return u.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()});E({matcher:k.endpoints.updateLanguageStatus.matchFulfilled,effect:function e(t,r){r.dispatch((0,i.updateLanguageStatusSuccess)(t.payload))}});E({matcher:k.endpoints.updateOrder.matchFulfilled,effect:function e(t,r){r.dispatch((0,o.orderPagesSuccess)(t.payload,t.meta.arg.originalArgs.language))}});E({matcher:k.endpoints.updateOrder.matchRejected,effect:function e(t,r){var n;401===(null===(n=t.payload)||void 0===n?void 0:n.status)&&r.dispatch((0,o.orderPagesFailure)({status:401}));r.dispatch((0,o.orderPagesFailure)({message:"Unknown error"}))}});var x=k.endpoints,C=t.addSiteLanguagePages=x.addSiteLanguagePages,O=t.deleteLanguage=x.deleteLanguage,j=t.getLanguages=x.getLanguages,A=t.getLanguagesPageTree=x.getLanguagesPageTree,T=t.getPageTree=x.getPageTree,D=t.getSitePages=x.getSitePages,L=t.getWidgets=x.getWidgets,I=t.importContent=x.importContent,M=t.setPageData=x.setPageData,R=t.setSiteData=x.setSiteData,F=t.updateLanguageStatus=x.updateLanguageStatus,B=t.updateOrder=x.updateOrder;var N=t.useAddSiteLanguagePages=k.endpoints.addSiteLanguagePages.useMutation;var V=t.useDeleteLanguage=k.endpoints.deleteLanguage.useMutation;var q=t.useGetLanguages=k.endpoints.getLanguages.useQuery;var W=t.useGetLanguagesPageTree=k.endpoints.getLanguagesPageTree.useLazyQuery;var U=t.useSetSiteData=k.endpoints.setSiteData.useMutation;var z=t.useUpdateLanguageStatus=k.endpoints.updateLanguageStatus.useMutation},83819(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useUpdateCookieBanner=t.useSetPolicyEnabled=t.useSetPolicyData=t.useSetCookiePage=t.useSetCookieExternalLink=t.useGetCookieBanners=t.useCreateCookieBanner=t.policyURL=t.policyMiddleware=void 0;var n=r(44381);var i=r(4530);var o=r(78564);var a=t.policyURL="/policy-pages";var s=i.api.injectEndpoints({endpoints:function e(t){return{createCookieBanner:t.mutation({query:function e(t){return{body:t,method:"POST",url:"".concat(a,"/cookie-banners")}},invalidatesTags:[i.CacheTag.CookieBanners]}),getCookieBanners:t.query({query:function e(){return{method:"GET",url:"".concat(a,"/cookie-banners")}},providesTags:[i.CacheTag.CookieBanners]}),setCookieExternalLink:t.mutation({query:function e(t){var r=t.externalLink,n=t.type;return{body:{cookiePolicyLocation:{externalLink:r,type:n}},method:"PUT",url:"".concat(a,"/cookie")}}}),setCookiePage:t.mutation({query:function e(t){return{body:{cookiePolicyLocation:{type:"page"},policyPageProperties:t},method:"PUT",url:"".concat(a,"/cookie")}}}),setPolicyData:t.mutation({query:function e(t){var r=t.policyPageProperties,n=t.policy;return{body:{policyPageProperties:r},method:"PUT",url:"".concat(a,"/").concat(n)}},transformResponse:function e(t){return t.policyPageProperties}}),setPolicyEnabled:t.mutation({query:function e(t){var r=t.policy,n=t.policyPageEnabled;return{body:{policyPageEnabled:n},method:"PUT",url:"".concat(a,"/").concat(r)}}}),updateCookieBanner:t.mutation({query:function e(t){var r=t.data,n=t.id;return{body:r,method:"PUT",url:"".concat(a,"/cookie-banners/").concat(n)}},invalidatesTags:[i.CacheTag.CookieBanners]})}}});var l=t.policyMiddleware=(0,n.createListenerMiddleware)();var u=l.startListening.withTypes();u({matcher:s.endpoints.setCookiePage.matchFulfilled,effect:function e(t,r){r.dispatch((0,o.policyPageDataSet)(t.payload))}});u({matcher:s.endpoints.setPolicyData.matchFulfilled,effect:function e(t,r){r.dispatch((0,o.policyPageDataSet)(t.payload))}});var c=t.useCreateCookieBanner=s.endpoints.createCookieBanner.useMutation;var d=t.useGetCookieBanners=s.endpoints.getCookieBanners.useQuery;var f=t.useSetCookieExternalLink=s.endpoints.setCookieExternalLink.useMutation;var p=t.useSetCookiePage=s.endpoints.setCookiePage.useMutation;var h=t.useSetPolicyData=s.endpoints.setPolicyData.useMutation;var g=t.useSetPolicyEnabled=s.endpoints.setPolicyEnabled.useMutation;var v=t.useUpdateCookieBanner=s.endpoints.updateCookieBanner.useMutation},53485(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.updateUserAsset=t.getUsersAssets=t.getUsersAsset=t.ASSETS_PAGE_LIMIT=void 0;var i=r(4530);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=u(e,"string");return"symbol"==n(t)?t:t+""}function u(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e){return h(e)||p(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v="/users";var m=t.ASSETS_PAGE_LIMIT=10;var y=function e(t){var r=t.ref;return{type:i.CacheTag.Media,id:null!==r&&void 0!==r?r:0}};var b=i.api.injectEndpoints({endpoints:function e(t){return{getUsersAsset:t.query({query:function e(t){return{method:"GET",url:"".concat(v,"/").concat(t.userRef,"/assets/").concat(t.assetRef)}},providesTags:function e(t){return t&&t.asset?[y(t.asset)]:[]}}),getUsersAssets:t.infiniteQuery({infiniteQueryOptions:{initialPageParam:1,getNextPageParam:function e(t,r,n){var i=n*m;var o=t.count-i;if(o<=0)return;return n+1}},query:function e(t){var r=t.queryArg,n=t.pageParam;var i="&limit=".concat(m);var o="&offset=".concat((n-1)*m);var a=r.searchTerm?"&fileName=".concat(r.searchTerm):"";var s=r.sortId?"&sortBy=".concat(r.sortId):"";var l=r.sortOrder?"&sortOrder=".concat(r.sortOrder):"";return{method:"GET",url:"".concat(v,"/").concat(r.userRef,"/assets?type=images")+"".concat(s).concat(l).concat(i).concat(o).concat(a)}},providesTags:function e(t){return t?[].concat(c(t.pages[t.pageParams.length-1].assets.map(y)),[{type:i.CacheTag.Media,id:"LIST"}]):[{type:i.CacheTag.Media,id:"LIST"}]}}),updateUserAsset:t.mutation({query:function e(t){return{body:a(a(a(a({},"undefined"!==typeof t.album&&{album:t.album}),"undefined"!==typeof t.description&&{description:t.description}),"undefined"!==typeof t.fileName&&{fileName:t.fileName}),"undefined"!==typeof t.title&&{title:t.title}),method:"PUT",url:"".concat(v,"/").concat(t.userRef,"/assets/").concat(t.assetRef)}},invalidatesTags:function e(t){return t&&t.asset?[y(t.asset),{type:i.CacheTag.Media,id:"LIST"}]:[]}})}}});var w=b.endpoints,_=t.getUsersAsset=w.getUsersAsset,S=t.getUsersAssets=w.getUsersAssets,k=t.updateUserAsset=w.updateUserAsset},83502(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useAppSelector=t.useAppDispatch=t.store=void 0;var n=r(44381);var i=r(46900);var o=r(4530);var a=r(86508);var s=r(13355);var l=r(1094);var u=r(20907);var c=r(2961);var d=r(63831);var f=r(68404);var p=r(73096);var h=r(65825);var g=C(r(4453));var v=r(78564);var m=r(82315);var y=r(27686);var b=r(71469);var w=r(99951);var _=r(11383);var S=r(6646);var k=r(9673);var P=r(88052);var E=r(83819);var x;function C(e){return e&&e.__esModule?e:{default:e}}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=T(e,"string");return"symbol"==O(t)?t:t+""}function T(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var D=t.store=(0,n.configureStore)({reducer:(x={},j(x,o.api.reducerPath,o.api.reducer),j(x,"brand",s.brandReducer),j(x,"contentSet",u.contentSetReducer),j(x,"env",c.envReducer),j(x,"importPanel",d.importPanelReducer),j(x,"language",f.languageReducer),j(x,"page",g.default),j(x,"policy",v.policyReducer),j(x,"site",w.siteReducer),j(x,"ui",(0,n.combineReducers)({colourPanel:l.colourPanelReducer,languageList:p.languageListReducer,languageModal:h.languageModalReducer,modal:m.modalReducer,panel:y.panelReducer,rowWidgetControl:b.rowWidgetControlReducer})),j(x,"user",_.userReducer),j(x,"widget",S.widgetReducer),j(x,"widgetSettings",k.widgetSettingsReducer),x),middleware:function e(t){return t().prepend(a.emailVerificationMiddleware.middleware).prepend(P.pageMiddleware.middleware).prepend(E.policyMiddleware.middleware).concat(o.api.middleware)}});var L=t.useAppDispatch=function e(){return(0,i.useDispatch)()};var I=t.useAppSelector=i.useSelector},4453(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=_;t.initialState=void 0;var n=r(69632);var i=a(r(96342));var o=r(59650);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=y(e,"string");return"symbol"==s(t)?t:t+""}function y(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function b(e){var t=[{text:(0,i.default)("shared_views.pagespanel.top_level","Top level"),value:0}];return e.reduce(function(e,t){"folder"===t.type&&e.push({text:t.title,value:t.ref});return e},t)}var w=t.initialState={pages:[],folders:[],activePage:null,pagesError:false,pagesLoading:false,pagesOrdering:false,pagesErrorDetails:{},languages:{}};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.ADD_PAGES:Editor.addSiteLanguagePagesToCollection(e.languages);return g(g({},e),{},{pages:t.pages,folders:b((0,n.formatPages)(t.pages))});case o.ADD_SINGLE_PAGE:if(""===t.payload.lang){var r=l(e.pages);r.push(t.payload.page);return g(g({},e),{},{pages:r})}var i=l(e.languages[t.payload.lang].pages);i.push(t.payload.page);return g(g({},e),{},{languages:g(g({},e.languages),{},v({},t.payload.lang,g(g({},e.languages[t.payload.lang]),{},{pages:i})))});case o.ADD_SCRIPT_START:case o.EDIT_PAGE_START:return g(g({},e),{},{pagesLoading:true,pagesError:false});case o.ADD_SCRIPT_SUCCESS:if(""===t.payload.lang){var a=(0,n.formatPages)(e.pages);var s=a.map(function(e){if("".concat(e.ref)==="".concat(t.payload.page.ref))return g(g({},e),{},{headscript:t.payload.page.headscript,headScript:t.payload.page.headScript,headScriptOptions:t.payload.page.headScriptOptions,bodyscript:t.payload.page.bodyscript,bodyScript:t.payload.page.bodyScript,bodyScriptOptions:t.payload.page.bodyScriptOptions});return g({},e)});return g(g({},e),{},{pages:(0,n.nestPages)(s),pagesError:false,pagesLoading:false})}var u=(0,n.formatPages)(e.languages[t.payload.lang].pages);var c=u.map(function(e){if("".concat(e.ref)==="".concat(t.payload.page.ref))return g(g({},e),{},{headscript:t.payload.page.headscript,headScript:t.payload.page.headScript,headScriptOptions:t.payload.page.headScriptOptions,bodyscript:t.payload.page.bodyscript,bodyScript:t.payload.page.bodyScript,bodyScriptOptions:t.payload.page.bodyScriptOptions});return g({},e)});return g(g({},e),{},{languages:g(g({},e.languages),{},v({},t.payload.lang,g(g({},e.languages[t.payload.lang]),{},{pages:(0,n.nestPages)(c)}))),pagesError:false,pagesLoading:false});case o.EDIT_PAGE_SUCCESS:if(""===t.payload.lang){var d=(0,n.formatPages)(e.pages);var f=d.map(function(e){if("".concat(e.ref)==="".concat(t.payload.ref))return g(g({},e),t.payload.page);return g({},e)});return g(g({},e),{},{folders:b(f),pages:(0,n.nestPages)(f)})}var p=(0,n.formatPages)(e.languages[t.payload.lang].pages);var h=p.map(function(e){if("".concat(e.ref)==="".concat(t.payload.ref))return g(g({},e),t.payload.page);return g({},e)});return g(g({},e),{},{languages:g(g({},e.languages),{},v({},t.payload.lang,{folders:b(h),pages:(0,n.nestPages)(h)}))});case o.ADD_SCRIPT_FAILURE:case o.EDIT_PAGE_FAILURE:return g(g({},e),{},{pagesError:true,pagesLoading:false,pagesErrorDetails:t.payload});case o.DELETE_PAGE:var m=(0,n.formatPages)(e.pages).filter(function(e){return e.ref!==t.payload});return g(g({},e),{},{pages:(0,n.nestPages)(m),folders:b((0,n.formatPages)(m))});case o.DELETE_LANG_PAGE:var y=(0,n.formatPages)(e.languages[t.payload.lang].pages).filter(function(e){return e.ref!==t.payload.id});return g(g({},e),{},{languages:g(g({},e.languages),{},v({},t.payload.lang,g(g({},e.languages[t.payload.lang]),{},{pages:(0,n.nestPages)(y),folders:b((0,n.formatPages)(y))})))});case o.SET_CURRENT_PAGE:return g(g({},e),{},{activePage:t.ref});case o.SET_CURRENT_PAGE_TEXT_ENTRY_METADATA:return g(g({},e),{},{isRTLLanguage:t.isRTLLanguage});case o.LANGUAGES_PAGE_TREE_START:return g(g({},e),{},{pagesLoading:true,pagesError:false});case o.ADD_LANGUAGES_PAGE_TREE:case o.LANGUAGES_PAGE_TREE_SUCCESS:Editor.addSiteLanguagePagesToCollection(t.payload);var _=Object.keys(t.payload);var S=g(g({},e),{},{languages:{}});_.forEach(function(e){S.languages[e]={pages:t.payload[e],folders:b((0,n.formatPages)(t.payload[e]))}});return S;case o.LANGUAGES_PAGE_TREE_FAILURE:return g(g({},e),{},{pagesError:true,pagesLoading:false,pagesErrorDetails:t.payload});case o.ORDER_PAGES_START:return g(g({},e),{},{pagesOrdering:true,pagesError:false});case o.ORDER_PAGES_SUCCESS:if(!t.payload.lang)return g(g({},e),{},{pages:t.payload.tree,folders:b((0,n.formatPages)(t.payload.tree)),pagesError:false,pagesLoading:false,pagesOrdering:false});return g(g({},e),{},{pagesError:false,pagesOrdering:false,pagesLoading:false,languages:g(g({},e.languages),{},v({},t.payload.lang,{pages:t.payload.tree,folders:b((0,n.formatPages)(t.payload.tree))}))});case o.ORDER_PAGES_FAILURE:return g(g({},e),{},{pagesError:true,pagesOrdering:false,pagesErrorDetails:t.payload});case o.PAGE_TREE_START:return g(g({},e),{},{pagesLoading:true,pagesError:false});case o.PAGE_TREE_SUCCESS:return g(g({},e),{},{pages:t.payload,folders:b((0,n.formatPages)(t.payload)),pagesError:false,pagesLoading:false});case o.PAGE_TREE_FAILURE:return g(g({},e),{},{pagesError:true,pagesLoading:false,pagesErrorDetails:t.payload});default:return e}}},13355(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.selectUpgradeUrl=t.selectResellerUpgradeUrl=t.selectPreboardingSettings=t.selectHideUpgradeInUnableToPublishCapability=t.selectEnableSitePolicyPagesCapability=t.selectCookieWarningSetting=t.selectBrandType=t.selectBrandDomain=t.selectARecord=t.initialState=t.brandSet=t.brandReducer=void 0;var n=r(44381);var i=t.initialState={aRecord:"",brandDomain:"",brandName:"",brandRef:0,brandType:"",capabilities:{blockPublishForUnverifiedEmail:false,enableAppCues:false,enableAtarim:false,enableFilestack:false,enableFilestackClouddrive:false,enableFilestackFacebook:false,enableFilestackInstagram:false,enableFilestackOnedrive:false,enableFilestackPexels:false,enableFilestackPicasa:false,enableFilestackUnsplash:false,enableIntercom:false,enableSitePolicyPages:false,fileUpload:false,googleServices:false,hideUpgradeInUnableToPublish:false,publishUpgradeToTemplatePicker:false,tracking:false},cookieWarningSetting:"",cookieWarningUrl:"",displayName:"",externalUpgradeUrl:"",featureConfig:{publishModalUpgrade:{publishUpgradePromptButtonText:null,publishUpgradePromptDescriptionText:null,publishUpgradePromptEnabled:null,publishUpgradePromptOverrideCopy:null,trialPublishModalHeadline:null}},googleMapsEmbedKey:"",loginUrl:"",logoImageURL:"",preboardingSettings:{},publishDomain:"",resellerUpgradeUrl:"",supportEmail:"",upgradeUrl:""};var o=(0,n.createSlice)({name:"brand",initialState:i,reducers:{brandSet:function e(t,r){return r.payload}},selectors:{selectARecord:function e(t){return t.aRecord},selectBrandDomain:function e(t){return t.brandDomain},selectBrandType:function e(t){return t.brandType},selectCookieWarningSetting:function e(t){return t.cookieWarningSetting},selectEnableSitePolicyPagesCapability:function e(t){return t.capabilities.enableSitePolicyPages},selectHideUpgradeInUnableToPublishCapability:function e(t){return t.capabilities.hideUpgradeInUnableToPublish},selectPreboardingSettings:function e(t){return t.preboardingSettings},selectResellerUpgradeUrl:function e(t){return t.resellerUpgradeUrl},selectUpgradeUrl:function e(t){return t.upgradeUrl}}});var a=t.brandReducer=o.reducer;var s=t.brandSet=o.actions.brandSet;var l=o.selectors,u=t.selectARecord=l.selectARecord,c=t.selectBrandDomain=l.selectBrandDomain,d=t.selectBrandType=l.selectBrandType,f=t.selectCookieWarningSetting=l.selectCookieWarningSetting,p=t.selectEnableSitePolicyPagesCapability=l.selectEnableSitePolicyPagesCapability,h=t.selectResellerUpgradeUrl=l.selectResellerUpgradeUrl,g=t.selectHideUpgradeInUnableToPublishCapability=l.selectHideUpgradeInUnableToPublishCapability,v=t.selectPreboardingSettings=l.selectPreboardingSettings,m=t.selectUpgradeUrl=l.selectUpgradeUrl},1094(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.savedColoursChanged=t.panelChanged=t.initialState=t.colourPanelReducer=t.colourChanged=t.addButtonEnabled=t.addButtonDisabled=void 0;var n=r(44381);var i=t.initialState={activePanel:"palette",addButtonDisabled:true,savedColours:[],selectedColour:""};var o=(0,n.createSlice)({name:"ui/colourPanel",initialState:i,reducers:{addButtonDisabled:function e(t){t.addButtonDisabled=true},addButtonEnabled:function e(t){t.addButtonDisabled=false},colourChanged:function e(t,r){t.selectedColour=r.payload},panelChanged:function e(t,r){t.activePanel=r.payload},savedColoursChanged:function e(t,r){t.savedColours=r.payload}},selectors:{}});var a=t.colourPanelReducer=o.reducer;var s=o.actions,l=t.addButtonDisabled=s.addButtonDisabled,u=t.addButtonEnabled=s.addButtonEnabled,c=t.colourChanged=s.colourChanged,d=t.panelChanged=s.panelChanged,f=t.savedColoursChanged=s.savedColoursChanged},20907(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initialState=t.contentSetReducer=t.contentSetDataSet=void 0;var n=r(44381);var i=t.initialState={images:""};var o=(0,n.createSlice)({name:"contentSet",initialState:i,reducers:{contentSetDataSet:function e(t,r){t.images=r.payload}},selectors:{}});var a=t.contentSetReducer=o.reducer;var s=t.contentSetDataSet=o.actions.contentSetDataSet},2961(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.siteColorSetUpdated=t.selectSiteRef=t.selectProtocol=t.selectLocalisedLanguages=t.selectLanguages=t.selectLanguageCode=t.selectLanguage=t.selectFlags=t.selectFlag=t.initialState=t.envSet=t.envReducer=void 0;var n=r(44381);var i=t.initialState={allGoogleFonts:[],apiProxyBaseUrl:"",codeVersion:"",colorSets:{},csrfToken:"",customWidgetsDomain:"",domain:"",errors:[],flags:{},googleMapsEmbedKey:"",intercomAppId:"",languageCode:"",languages:{},localisedLanguages:{},manageDomain:"manage",maxFileUploadBytes:"0",mixpanelEnv:"",mixpanelToken:"",protocol:"",rowLayouts:{},rows:false,siteColorSet:{accent:{background:"",foreground:""},dark:{background:"",foreground:""},light:{background:"",foreground:""},spare:{background:"",foreground:""}},siteRef:null,siteSubdomain:"",stockImageProvider:"",V10CompatibilityMode:false};var o=(0,n.createSlice)({name:"env",initialState:i,reducers:{envSet:function e(t,r){return r.payload},siteColorSetUpdated:function e(t,r){t.siteColorSet=r.payload}},selectors:{selectFlag:function e(t,r){return t.flags[r]},selectFlags:function e(t){return t.flags},selectLanguage:function e(t,r){return t.languages[r]},selectLanguageCode:function e(t){return t.languageCode},selectLanguages:function e(t){return t.languages},selectLocalisedLanguages:function e(t){return t.localisedLanguages},selectProtocol:function e(t){return t.protocol},selectSiteRef:function e(t){return t.siteRef}}});var a=t.envReducer=o.reducer;var s=o.actions,l=t.envSet=s.envSet,u=t.siteColorSetUpdated=s.siteColorSetUpdated;var c=o.selectors,d=t.selectFlag=c.selectFlag,f=t.selectFlags=c.selectFlags,p=t.selectLanguage=c.selectLanguage,h=t.selectLanguageCode=c.selectLanguageCode,g=t.selectLanguages=c.selectLanguages,v=t.selectLocalisedLanguages=c.selectLocalisedLanguages,m=t.selectProtocol=c.selectProtocol,y=t.selectSiteRef=c.selectSiteRef},63831(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.textFilterChanged=t.sourcePageChanged=t.initialState=t.includeTextChanged=t.includeImageChanged=t.importPanelReducer=t.imageFilterChanged=void 0;var n=r(44381);var i=t.initialState={imgFilter:-1,includeImg:true,includeText:true,selectedSourcePage:0,textFilter:-1};var o=(0,n.createSlice)({name:"importPanel",initialState:i,reducers:{imageFilterChanged:function e(t,r){t.imgFilter=r.payload},includeImageChanged:function e(t,r){t.includeImg=r.payload},includeTextChanged:function e(t,r){t.includeText=r.payload},sourcePageChanged:function e(t,r){t.selectedSourcePage=r.payload},textFilterChanged:function e(t,r){t.textFilter=r.payload}},selectors:{}});var a=t.importPanelReducer=o.reducer;var s=o.actions,l=t.imageFilterChanged=s.imageFilterChanged,u=t.includeImageChanged=s.includeImageChanged,c=t.includeTextChanged=s.includeTextChanged,d=t.sourcePageChanged=s.sourcePageChanged,f=t.textFilterChanged=s.textFilterChanged},73096(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.selectShowManageList=t.selectShowLanguageList=t.manageLanguageListOpened=t.manageLanguageListClosed=t.languageListReducer=t.initialState=t.addLanguageListOpened=t.addLanguageListClosed=void 0;var n=r(44381);var i=t.initialState={showLanguageList:false,showManageList:false};var o=(0,n.createSlice)({name:"ui/languageList",initialState:i,reducers:{addLanguageListClosed:function e(t){t.showLanguageList=false},addLanguageListOpened:function e(t){t.showLanguageList=true},manageLanguageListClosed:function e(t){t.showManageList=false},manageLanguageListOpened:function e(t){t.showManageList=true}},selectors:{selectShowLanguageList:function e(t){return t.showLanguageList},selectShowManageList:function e(t){return t.showManageList}}});var a=t.languageListReducer=o.reducer;var s=o.actions,l=t.addLanguageListClosed=s.addLanguageListClosed,u=t.addLanguageListOpened=s.addLanguageListOpened,c=t.manageLanguageListClosed=s.manageLanguageListClosed,d=t.manageLanguageListOpened=s.manageLanguageListOpened;var f=o.getSelectors(function(e){return e.ui.languageList}),p=t.selectShowLanguageList=f.selectShowLanguageList,h=t.selectShowManageList=f.selectShowManageList},65825(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.selectActiveModal=t.pagesSelectorOpened=t.pageTitleEditOpened=t.languageModalReducer=t.initialState=t.addLanguageModalOpened=t.addLanguageModalClosed=t.addLanguageDoneModalOpened=t.addLanguageDoneModalClosed=void 0;var n=r(44381);var i=t.initialState={activeModal:null};var o=(0,n.createSlice)({name:"ui/languageModal",initialState:i,reducers:{addLanguageModalClosed:function e(t){t.activeModal=null},addLanguageModalOpened:function e(t){t.activeModal="add_language"},addLanguageDoneModalClosed:function e(t){t.activeModal=null},addLanguageDoneModalOpened:function e(t){t.activeModal="add_language_done"},pagesSelectorOpened:function e(t){t.activeModal="select_pages"},pageTitleEditOpened:function e(t){t.activeModal="page_title_edit"}},selectors:{selectActiveModal:function e(t){return t.activeModal}}});var a=t.languageModalReducer=o.reducer;var s=o.actions,l=t.addLanguageDoneModalClosed=s.addLanguageDoneModalClosed,u=t.addLanguageDoneModalOpened=s.addLanguageDoneModalOpened,c=t.addLanguageModalClosed=s.addLanguageModalClosed,d=t.addLanguageModalOpened=s.addLanguageModalOpened,f=t.pageTitleEditOpened=s.pageTitleEditOpened,p=t.pagesSelectorOpened=s.pagesSelectorOpened;var h=o.getSelectors(function(e){return e.ui.languageModal}),g=t.selectActiveModal=h.selectActiveModal},68404(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.updateLanguageStatusSuccess=t.updateDefaultLanguageSuccess=t.siteLanguagesSet=t.siteActiveLanguageSet=t.siteActiveLanguageRemoved=t.selectedPagesRemoved=t.selectedPagesAdded=t.selectedPageToggled=t.selectSiteLanguages=t.selectShowingChangeLanguage=t.selectSelectedPages=t.selectLocalisedLanguage=t.selectIsPageSelected=t.selectDefaultLanguage=t.selectCurrentLanguage=t.selectActiveLanguage=t.localisedLanguagesSet=t.languageSet=t.languageReducer=t.initialState=t.deleteLanguageSuccess=t.defaultLanguageSet=t.changeLanguageShown=t.addSiteLanguagePagesSuccess=void 0;var n=r(44381);var i=t.initialState={activeLanguage:null,current:"",defaultLanguage:{flag:"",language:"",localisedName:"",name:""},localisedLanguages:{},selectedPages:[],showingChangeLanguage:false,siteLanguages:[]};var o=(0,n.createSlice)({name:"language",initialState:i,reducers:{changeLanguageShown:function e(t,r){t.showingChangeLanguage=r.payload},defaultLanguageSet:function e(t,r){t.defaultLanguage=r.payload},languageSet:function e(t,r){var n=t.defaultLanguage.language===r.payload;var i=t.siteLanguages.some(function(e){return e.language===r.payload});t.current=n||i?r.payload:""},localisedLanguagesSet:function e(t,r){t.localisedLanguages=r.payload},selectedPagesAdded:function e(t,r){t.selectedPages=r.payload},selectedPagesRemoved:function e(t){t.selectedPages=[]},selectedPageToggled:function e(t,r){t.selectedPages.includes(r.payload)?t.selectedPages=t.selectedPages.filter(function(e){return e!==r.payload}):t.selectedPages.push(r.payload)},siteActiveLanguageRemoved:function e(t){t.activeLanguage=null},siteActiveLanguageSet:function e(t,r){t.activeLanguage=r.payload},siteLanguagesSet:function e(t,r){t.siteLanguages=r.payload},addSiteLanguagePagesSuccess:function e(t,r){t.siteLanguages=r.payload},deleteLanguageSuccess:function e(t,r){t.siteLanguages=r.payload},updateDefaultLanguageSuccess:function e(t,r){t.defaultLanguage=r.payload.language;t.current=t.current&&t.current===r.payload.oldLanguageCode?r.payload.language.language:t.current},updateLanguageStatusSuccess:function e(t,r){t.siteLanguages=r.payload}},selectors:{selectActiveLanguage:function e(t){return t.activeLanguage},selectCurrentLanguage:function e(t){return t.current},selectDefaultLanguage:function e(t){return t.defaultLanguage},selectIsPageSelected:function e(t,r){return t.selectedPages.includes(r)},selectLocalisedLanguage:function e(t,r){return t.localisedLanguages[r]},selectSelectedPages:function e(t){return t.selectedPages},selectShowingChangeLanguage:function e(t){return t.showingChangeLanguage},selectSiteLanguages:function e(t){return t.siteLanguages}}});var a=t.languageReducer=o.reducer;var s=o.actions,l=t.addSiteLanguagePagesSuccess=s.addSiteLanguagePagesSuccess,u=t.changeLanguageShown=s.changeLanguageShown,c=t.defaultLanguageSet=s.defaultLanguageSet,d=t.languageSet=s.languageSet,f=t.localisedLanguagesSet=s.localisedLanguagesSet,p=t.selectedPagesAdded=s.selectedPagesAdded,h=t.selectedPagesRemoved=s.selectedPagesRemoved,g=t.selectedPageToggled=s.selectedPageToggled,v=t.siteActiveLanguageRemoved=s.siteActiveLanguageRemoved,m=t.siteActiveLanguageSet=s.siteActiveLanguageSet,y=t.siteLanguagesSet=s.siteLanguagesSet,b=t.deleteLanguageSuccess=s.deleteLanguageSuccess,w=t.updateDefaultLanguageSuccess=s.updateDefaultLanguageSuccess,_=t.updateLanguageStatusSuccess=s.updateLanguageStatusSuccess;var S=o.selectors,k=t.selectActiveLanguage=S.selectActiveLanguage,P=t.selectCurrentLanguage=S.selectCurrentLanguage,E=t.selectDefaultLanguage=S.selectDefaultLanguage,x=t.selectIsPageSelected=S.selectIsPageSelected,C=t.selectLocalisedLanguage=S.selectLocalisedLanguage,O=t.selectSelectedPages=S.selectSelectedPages,j=t.selectShowingChangeLanguage=S.selectShowingChangeLanguage,A=t.selectSiteLanguages=S.selectSiteLanguages},82315(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.modalReducer=t.modalOpened=t.modalClosed=t.initialState=void 0;var n=r(44381);var i=t.initialState={activeModal:"",modalOpen:false};var o=(0,n.createSlice)({name:"ui/modal",initialState:i,reducers:{modalClosed:function e(t){t.activeModal="";t.modalOpen=false},modalOpened:function e(t,r){t.activeModal=r.payload;t.modalOpen=true}},selectors:{}});var a=t.modalReducer=o.reducer;var s=o.actions,l=t.modalClosed=s.modalClosed,u=t.modalOpened=s.modalOpened},27686(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.subpanelClosed=t.stylesUpdated=t.saveShown=t.saveHidden=t.saveEnabled=t.saveDisabled=t.panelReducer=t.panelOpened=t.panelClosed=t.initialState=t.errorRemoved=t.errorAdded=t.cancelEnabled=t.cancelDisabled=void 0;var n=r(44381);var i=t.initialState={activePanel:"",cancelActive:true,hasError:false,panelHistory:[],panelOpen:false,saveActive:false,showSave:true,styles:{}};var o=(0,n.createSlice)({name:"ui/panel",initialState:i,reducers:{cancelDisabled:function e(t){t.cancelActive=false},cancelEnabled:function e(t){t.cancelActive=true},errorAdded:function e(t){t.hasError=true},errorRemoved:function e(t){t.hasError=false},panelClosed:function e(t){t.activePanel="";t.panelHistory.pop();t.panelOpen=false},panelOpened:function e(t,r){t.activePanel=r.payload;t.panelHistory.push(r.payload);t.panelOpen=true},saveDisabled:function e(t){t.saveActive=false},saveEnabled:function e(t){t.saveActive=true},saveHidden:function e(t){t.showSave=false},saveShown:function e(t){t.showSave=true},stylesUpdated:function e(t,r){t.styles=r.payload},subpanelClosed:function e(t){t.panelHistory.pop();t.activePanel=t.panelHistory.length>0?t.panelHistory[t.panelHistory.length-1]:"";t.panelOpen=t.panelHistory.length>0}},selectors:{}});var a=t.panelReducer=o.reducer;var s=o.actions,l=t.cancelDisabled=s.cancelDisabled,u=t.cancelEnabled=s.cancelEnabled,c=t.errorAdded=s.errorAdded,d=t.errorRemoved=s.errorRemoved,f=t.panelClosed=s.panelClosed,p=t.panelOpened=s.panelOpened,h=t.saveDisabled=s.saveDisabled,g=t.saveEnabled=s.saveEnabled,v=t.saveHidden=s.saveHidden,m=t.saveShown=s.saveShown,y=t.stylesUpdated=s.stylesUpdated,b=t.subpanelClosed=s.subpanelClosed},78564(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useBrandPolicyContentSet=t.selectPrimaryDomain=t.selectPolicyPageEnabled=t.selectPolicyPageDataRequest=t.selectPolicyPageDataRef=t.selectPolicyPageDataPageTitle=t.selectPolicyPageDataLinkText=t.selectPolicyPageDataHeaderText=t.selectPolicyPageDataBodyText=t.selectCookieWarningUrl=t.selectCookieWarning=t.selectCookiePolicyLocation=t.selectCookieBannerTitle=t.selectCookieBannerOverrideCookieBanner=t.selectCookieBannerManageSettingsButtonText=t.selectCookieBannerLinkText=t.selectCookieBannerLanguageOverride=t.selectCookieBannerDeclineButtonText=t.selectCookieBannerBodyText=t.selectCookieBannerAcceptButtonText=t.selectActivePolicyType=t.primaryDomainSet=t.policyReducer=t.policyPageEnabledSet=t.policyPageDataSet=t.initialState=t.cookieWarningUrlSet=t.cookieWarningSet=t.cookiePolicyLocationSet=t.cookieBannerTitleSet=t.cookieBannerOverrideSet=t.cookieBannerManageSettingsButtonTextSet=t.cookieBannerLinkTextSet=t.cookieBannerLanguageSet=t.cookieBannerDeclineButtonTextSet=t.cookieBannerBodyTextSet=t.cookieBannerAcceptButtonTextSet=t.activePolicyTypeSet=void 0;var n=r(44381);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=t.initialState={activePolicyType:"privacy",cookieBannerData:{acceptButtonText:"",bodyText:"",declineButtonText:"",languageOverride:"",linkText:"",manageSettingsButtonText:"",overrideCookieBanner:false,title:""},cookiePolicyLocation:"off",cookieWarning:false,cookieWarningUrl:"",policyPageData:{bodyText:"",headerText:"",linkText:"",pageTitle:"",policyType:"privacy",ref:0,request:"",siteRef:0},policyPageEnabled:false,primaryDomain:"",useBrandPolicyContent:false};var d=(0,n.createSlice)({name:"policy",initialState:c,reducers:{activePolicyTypeSet:function e(t,r){t.activePolicyType=r.payload},cookieBannerAcceptButtonTextSet:function e(t,r){t.cookieBannerData.acceptButtonText=r.payload},cookieBannerBodyTextSet:function e(t,r){t.cookieBannerData.bodyText=r.payload},cookieBannerDeclineButtonTextSet:function e(t,r){t.cookieBannerData.declineButtonText=r.payload},cookieBannerLanguageSet:function e(t,r){t.cookieBannerData.languageOverride=r.payload},cookieBannerLinkTextSet:function e(t,r){t.cookieBannerData.linkText=r.payload},cookieBannerManageSettingsButtonTextSet:function e(t,r){t.cookieBannerData.manageSettingsButtonText=r.payload},cookieBannerOverrideSet:function e(t,r){t.cookieBannerData.overrideCookieBanner=r.payload},cookieBannerTitleSet:function e(t,r){t.cookieBannerData.title=r.payload},cookiePolicyLocationSet:function e(t,r){t.cookiePolicyLocation=r.payload},cookieWarningSet:function e(t,r){t.cookieWarning=r.payload},cookieWarningUrlSet:function e(t,r){t.cookieWarningUrl=r.payload},policyPageDataSet:function e(t,r){t.policyPageData=a(a({},t.policyPageData),r.payload)},policyPageEnabledSet:function e(t,r){t.policyPageEnabled=r.payload},primaryDomainSet:function e(t,r){t.primaryDomain=r.payload},useBrandPolicyContentSet:function e(t,r){t.useBrandPolicyContent=r.payload}},selectors:{selectActivePolicyType:function e(t){return t.activePolicyType},selectCookieBannerAcceptButtonText:function e(t){return t.cookieBannerData.acceptButtonText},selectCookieBannerBodyText:function e(t){return t.cookieBannerData.bodyText},selectCookieBannerDeclineButtonText:function e(t){return t.cookieBannerData.declineButtonText},selectCookieBannerLanguageOverride:function e(t){return t.cookieBannerData.languageOverride},selectCookieBannerLinkText:function e(t){return t.cookieBannerData.linkText},selectCookieBannerManageSettingsButtonText:function e(t){return t.cookieBannerData.manageSettingsButtonText},selectCookieBannerOverrideCookieBanner:function e(t){return t.cookieBannerData.overrideCookieBanner},selectCookieBannerTitle:function e(t){return t.cookieBannerData.title},selectCookiePolicyLocation:function e(t){return t.cookiePolicyLocation},selectCookieWarning:function e(t){return t.cookieWarning},selectCookieWarningUrl:function e(t){return t.cookieWarningUrl},selectPolicyPageDataBodyText:function e(t){return t.policyPageData.bodyText},selectPolicyPageDataHeaderText:function e(t){return t.policyPageData.headerText},selectPolicyPageDataLinkText:function e(t){return t.policyPageData.linkText},selectPolicyPageDataPageTitle:function e(t){return t.policyPageData.pageTitle},selectPolicyPageDataRef:function e(t){return t.policyPageData.ref},selectPolicyPageDataRequest:function e(t){return t.policyPageData.request},selectPolicyPageEnabled:function e(t){return t.policyPageEnabled},selectPrimaryDomain:function e(t){return t.primaryDomain}}});var f=t.policyReducer=d.reducer;var p=d.actions,h=t.activePolicyTypeSet=p.activePolicyTypeSet,g=t.cookieBannerAcceptButtonTextSet=p.cookieBannerAcceptButtonTextSet,v=t.cookieBannerBodyTextSet=p.cookieBannerBodyTextSet,m=t.cookieBannerDeclineButtonTextSet=p.cookieBannerDeclineButtonTextSet,y=t.cookieBannerLanguageSet=p.cookieBannerLanguageSet,b=t.cookieBannerLinkTextSet=p.cookieBannerLinkTextSet,w=t.cookieBannerManageSettingsButtonTextSet=p.cookieBannerManageSettingsButtonTextSet,_=t.cookieBannerOverrideSet=p.cookieBannerOverrideSet,S=t.cookieBannerTitleSet=p.cookieBannerTitleSet,k=t.cookiePolicyLocationSet=p.cookiePolicyLocationSet,P=t.cookieWarningSet=p.cookieWarningSet,E=t.cookieWarningUrlSet=p.cookieWarningUrlSet,x=t.policyPageDataSet=p.policyPageDataSet,C=t.policyPageEnabledSet=p.policyPageEnabledSet,O=t.primaryDomainSet=p.primaryDomainSet,j=t.useBrandPolicyContentSet=p.useBrandPolicyContentSet;var A=d.selectors,T=t.selectActivePolicyType=A.selectActivePolicyType,D=t.selectCookieBannerAcceptButtonText=A.selectCookieBannerAcceptButtonText,L=t.selectCookieBannerBodyText=A.selectCookieBannerBodyText,I=t.selectCookieBannerDeclineButtonText=A.selectCookieBannerDeclineButtonText,M=t.selectCookieBannerLanguageOverride=A.selectCookieBannerLanguageOverride,R=t.selectCookieBannerLinkText=A.selectCookieBannerLinkText,F=t.selectCookieBannerManageSettingsButtonText=A.selectCookieBannerManageSettingsButtonText,B=t.selectCookieBannerOverrideCookieBanner=A.selectCookieBannerOverrideCookieBanner,N=t.selectCookieBannerTitle=A.selectCookieBannerTitle,V=t.selectCookiePolicyLocation=A.selectCookiePolicyLocation,q=t.selectCookieWarning=A.selectCookieWarning,W=t.selectCookieWarningUrl=A.selectCookieWarningUrl,U=t.selectPolicyPageDataBodyText=A.selectPolicyPageDataBodyText,z=t.selectPolicyPageDataHeaderText=A.selectPolicyPageDataHeaderText,G=t.selectPolicyPageDataLinkText=A.selectPolicyPageDataLinkText,H=t.selectPolicyPageDataPageTitle=A.selectPolicyPageDataPageTitle,$=t.selectPolicyPageDataRef=A.selectPolicyPageDataRef,K=t.selectPolicyPageDataRequest=A.selectPolicyPageDataRequest,Z=t.selectPolicyPageEnabled=A.selectPolicyPageEnabled,Q=t.selectPrimaryDomain=A.selectPrimaryDomain},71469(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.selectZoneType=t.selectZoneSharingScope=t.selectShowShapeDividerControlList=t.selectShowRowWidgetLayoutControlList=t.selectShowRowWidgetControlList=t.selectShowLayoutControlList=t.selectShowImageBackgroundControlList=t.selectRowWidgetSettings=t.selectIsGrid=t.sectionTypeChanged=t.rowWidgetStyleChanged=t.rowWidgetLayoutControlListShown=t.rowWidgetLayoutControlListHidden=t.rowWidgetControlSettingsSet=t.rowWidgetControlRenderedSet=t.rowWidgetControlReducer=t.rowWidgetControlListOpened=t.rowWidgetControlListClosed=t.rowTypeChanged=t.initialState=t.imageBackgroundControlListShown=t.imageBackgroundControlListHidden=t.controlPanelOpened=t.controlPanelClosed=void 0;var n=r(44381);var i=t.initialState={activePanel:"",isRowWidgetControlRendered:false,panelOpen:false,rowType:"",sectionType:"",settings:{selectedStyleSet:"",selectedStyleType:"",styleSets:{accent:{background:"",foreground:""},dark:{background:"",foreground:""},light:{background:"",foreground:""},spare:{background:"",foreground:""}}},showImageBackgroundControlList:false,showLayoutControlList:false,showRowWidgetControlList:false,showRowWidgetLayoutControlList:false,showShapeDividerControlList:false,zoneSharingScope:"",zoneType:""};var o=(0,n.createSlice)({name:"ui/rowWidgetControl",initialState:i,reducers:{controlPanelClosed:function e(t){t.activePanel="";t.panelOpen=false},controlPanelOpened:function e(t,r){t.activePanel=r.payload;t.panelOpen=true},imageBackgroundControlListHidden:function e(t){t.showImageBackgroundControlList=false},imageBackgroundControlListShown:function e(t){t.showImageBackgroundControlList=true},rowTypeChanged:function e(t,r){t.rowType=r.payload},rowWidgetControlListClosed:function e(t){t.isRowWidgetControlRendered=false;t.rowType="";t.sectionType="";t.settings={selectedStyleSet:"",selectedStyleType:"",styleSets:{accent:{background:"",foreground:""},dark:{background:"",foreground:""},light:{background:"",foreground:""},spare:{background:"",foreground:""}}};t.showImageBackgroundControlList=false;t.showLayoutControlList=false;t.showRowWidgetControlList=false;t.showRowWidgetLayoutControlList=false;t.showShapeDividerControlList=false;t.zoneSharingScope="";t.zoneType=""},rowWidgetControlListOpened:function e(t){t.showRowWidgetControlList=true},rowWidgetControlRenderedSet:function e(t,r){t.isRowWidgetControlRendered=r.payload},rowWidgetControlSettingsSet:function e(t,r){t.settings=r.payload.settings;t.showLayoutControlList=r.payload.showLayoutControlList;t.showShapeDividerControlList=r.payload.showShapeDividerControlList;t.zoneSharingScope=r.payload.zoneSharingScope;t.zoneType=r.payload.zoneType},rowWidgetLayoutControlListHidden:function e(t){t.showRowWidgetLayoutControlList=false},rowWidgetLayoutControlListShown:function e(t){t.showRowWidgetLayoutControlList=true},rowWidgetStyleChanged:function e(t,r){t.settings.selectedStyleSet=r.payload.selectedStyleSet;t.settings.selectedStyleType=r.payload.selectedStyleType},sectionTypeChanged:function e(t,r){t.sectionType=r.payload}},selectors:{selectIsGrid:function e(t){return!t.rowType&&"grid"===t.sectionType},selectRowWidgetSettings:function e(t){return t.settings},selectShowImageBackgroundControlList:function e(t){return t.showImageBackgroundControlList},selectShowLayoutControlList:function e(t){return t.showLayoutControlList},selectShowRowWidgetControlList:function e(t){return t.showRowWidgetControlList},selectShowRowWidgetLayoutControlList:function e(t){return t.showRowWidgetLayoutControlList},selectShowShapeDividerControlList:function e(t){return t.showShapeDividerControlList},selectZoneSharingScope:function e(t){return t.zoneSharingScope},selectZoneType:function e(t){return t.zoneType}}});var a=t.rowWidgetControlReducer=o.reducer;var s=o.actions,l=t.controlPanelClosed=s.controlPanelClosed,u=t.controlPanelOpened=s.controlPanelOpened,c=t.imageBackgroundControlListHidden=s.imageBackgroundControlListHidden,d=t.imageBackgroundControlListShown=s.imageBackgroundControlListShown,f=t.rowTypeChanged=s.rowTypeChanged,p=t.rowWidgetControlListClosed=s.rowWidgetControlListClosed,h=t.rowWidgetControlListOpened=s.rowWidgetControlListOpened,g=t.rowWidgetControlRenderedSet=s.rowWidgetControlRenderedSet,v=t.rowWidgetControlSettingsSet=s.rowWidgetControlSettingsSet,m=t.rowWidgetLayoutControlListHidden=s.rowWidgetLayoutControlListHidden,y=t.rowWidgetLayoutControlListShown=s.rowWidgetLayoutControlListShown,b=t.rowWidgetStyleChanged=s.rowWidgetStyleChanged,w=t.sectionTypeChanged=s.sectionTypeChanged;var _=o.getSelectors(function(e){return e.ui.rowWidgetControl}),S=t.selectIsGrid=_.selectIsGrid,k=t.selectRowWidgetSettings=_.selectRowWidgetSettings,P=t.selectShowImageBackgroundControlList=_.selectShowImageBackgroundControlList,E=t.selectShowLayoutControlList=_.selectShowLayoutControlList,x=t.selectShowRowWidgetControlList=_.selectShowRowWidgetControlList,C=t.selectShowRowWidgetLayoutControlList=_.selectShowRowWidgetLayoutControlList,O=t.selectShowShapeDividerControlList=_.selectShowShapeDividerControlList,j=t.selectZoneSharingScope=_.selectZoneSharingScope,A=t.selectZoneType=_.selectZoneType},99951(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.styleSetSet=t.styleSetInitialised=t.siteRefSet=t.siteReducer=t.selectIsFirstPublish=t.selectCurrentSiteFonts=t.selectCurrentSiteColours=t.saveSiteStyles=t.rowsEnabled=t.rowMoveModeSet=t.rowEditingModeSet=t.primaryDomainSet=t.previousFontSetDataSet=t.previousCustomColourSetDataSet=t.previousColourSetDataSet=t.originalColourSetDataSet=t.lastPublishSet=t.isStyleSetChanged=t.isHeaderSetChanged=t.isFontSetChanged=t.isColorSetChanged=t.isButtonSetChanged=t.initialState=t.headerStyleSet=t.headerStyleInitialised=t.globalValuesSet=t.getOriginalStyleSet=t.getOriginalHeaderSet=t.getOriginalFontSetId=t.getOriginalFontSet=t.getOriginalColorSetId=t.getOriginalColorSet=t.getOriginalButtonSet=t.getFontSets=t.getFontList=t.getCurrentFontSetId=t.getCurrentColorSetId=t.getColorSets=t.fontSetsInitialised=t.fontSetDataSet=t.fontSetChanged=t.emailVerificationSet=t.editorVersionSet=t.desktopScreenModeSet=t.colourSetsInitialised=t.colourSetDataSet=t.colourSetChangeUndone=t.colorSetChanged=t.buttonSetInitialised=t.buttonSetDataSet=void 0;var n=r(44381);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=t.initialState={autogenerateOpengraph:false,backgroundtype:"",colorSets:{},colorSwatch:"",connectBookingsEnabled:0,domain:void 0,editorVersion:"",emailVerification:[],enablePolicyPages:false,enableRows:false,fontSets:{},fontList:{},isDesktopMode:false,isRowEditingMode:false,isRowMoveMode:false,isButtonSetChanged:false,isColorSetChanged:false,isFontSetChanged:false,isHeaderSetChanged:false,isStyleSetChanged:false,lastPublish:null,prevColorSetId:"",prevCustomColorSet:{accent:{background:"",foreground:""},dark:{background:"",foreground:""},light:{background:"",foreground:""},spare:{background:"",foreground:""}},prevFontSetId:"",ref:void 0,seoTitle:"",seoDescription:"",seoKeywords:"",seoLang:"",siteColors:{current:{colorSetId:"",colorsInUse:{accent:{background:"",foreground:""},dark:{background:"",foreground:""},light:{background:"",foreground:""},spare:{background:"",foreground:""}},colorsSource:""},orig:{colorSetId:"",colorsInUse:{accent:{background:"",foreground:""},dark:{background:"",foreground:""},light:{background:"",foreground:""},spare:{background:"",foreground:""}},colorsSource:""}},siteFonts:{current:{fontSetId:"",fontsInUse:{displayName:"",fonts:{heading:{id:"",name:"",genericName:"",source:"",weights:[]},body:{id:"",name:"",genericName:"",source:"",weights:[]}}},fontsSource:""},orig:{fontSetId:"",fontsInUse:{displayName:"",fonts:{heading:{id:"",name:"",genericName:"",source:"",weights:[]},body:{id:"",name:"",genericName:"",source:"",weights:[]}}},fontsSource:""}},siteButton:{current:{id:"button-01",transparent:false},orig:{id:"button-01",transparent:false}},siteHeader:{current:"typography-default",orig:"typography-default"},styleSet:{current:null,orig:null},sitePublishCapabilities:{},siteStyleType:""};var d=(0,n.createSlice)({name:"site",initialState:c,reducers:{colourSetChangeUndone:function e(t){t.siteColors.current=t.siteColors.orig},colourSetDataSet:function e(t,r){t.siteColors.current=r.payload;t.styleSet.current=null},colourSetsInitialised:function e(t,r){t.colorSets=r.payload.colorSets;t.siteColors.current=r.payload.siteColors;t.siteColors.orig=r.payload.siteColors},fontSetDataSet:function e(t,r){t.siteFonts.current=r.payload;t.styleSet.current=null},fontSetsInitialised:function e(t,r){t.fontSets=r.payload.fontSets;t.siteFonts.current=r.payload.siteFonts;t.siteFonts.orig=r.payload.siteFonts;t.fontList=r.payload.fontList},buttonSetInitialised:function e(t,r){t.siteButton.current=r.payload;t.siteButton.orig=r.payload},headerStyleInitialised:function e(t,r){t.siteHeader.current=r.payload;t.siteHeader.orig=r.payload},styleSetInitialised:function e(t,r){t.styleSet.current=r.payload;t.styleSet.orig=r.payload},buttonSetDataSet:function e(t,r){t.siteButton.current=r.payload;t.styleSet.current=null;t.isButtonSetChanged=true},headerStyleSet:function e(t,r){t.siteHeader.current=r.payload;t.styleSet.current=null;t.isHeaderSetChanged=true},styleSetSet:function e(t,r){t.styleSet.current=r.payload;t.isStyleSetChanged=true},saveSiteStyles:function e(t){t.isButtonSetChanged=false;t.isColorSetChanged=false;t.isFontSetChanged=false;t.isHeaderSetChanged=false;t.isStyleSetChanged=false;t.siteButton.orig=t.siteButton.current;t.siteColors.orig=t.siteColors.current;t.siteFonts.orig=t.siteFonts.current;t.siteHeader.orig=t.siteHeader.current;t.styleSet.orig=t.styleSet.current},desktopScreenModeSet:function e(t,r){t.isDesktopMode=r.payload},editorVersionSet:function e(t,r){t.editorVersion=r.payload},emailVerificationSet:function e(t,r){t.emailVerification=r.payload},globalValuesSet:function e(t,r){return a(a({},t),r.payload)},lastPublishSet:function e(t,r){t.lastPublish=r.payload},originalColourSetDataSet:function e(t){t.siteColors.orig=t.siteColors.current},previousColourSetDataSet:function e(t,r){t.prevColorSetId=r.payload},previousCustomColourSetDataSet:function e(t,r){t.prevCustomColorSet=r.payload},previousFontSetDataSet:function e(t,r){t.prevFontSetId=r.payload},primaryDomainSet:function e(t,r){t.domain=r.payload},rowEditingModeSet:function e(t,r){t.isRowEditingMode=r.payload},rowMoveModeSet:function e(t,r){t.isRowMoveMode=r.payload},rowsEnabled:function e(t,r){t.enableRows=r.payload},siteRefSet:function e(t,r){t.ref=r.payload},colorSetChanged:function e(t,r){t.isColorSetChanged=r.payload},fontSetChanged:function e(t,r){t.isFontSetChanged=r.payload}},selectors:{selectCurrentSiteColours:function e(t){return t.siteColors.current.colorsInUse},selectCurrentSiteFonts:function e(t){return t.siteFonts.current.fontsInUse},selectIsFirstPublish:function e(t){var r;return!(null!==(r=t.lastPublish)&&void 0!==r&&r.date)},getFontSets:function e(t){return t.fontSets},isColorSetChanged:function e(t){return t.isColorSetChanged},isFontSetChanged:function e(t){return t.isFontSetChanged},isButtonSetChanged:function e(t){return t.isButtonSetChanged},isHeaderSetChanged:function e(t){return t.isHeaderSetChanged},isStyleSetChanged:function e(t){return t.isStyleSetChanged},getOriginalColorSetId:function e(t){return t.siteColors.orig.colorSetId},getOriginalFontSetId:function e(t){return t.siteFonts.orig.fontSetId},getOriginalFontSet:function e(t){return t.siteFonts.orig},getOriginalColorSet:function e(t){return t.siteColors.orig},getOriginalButtonSet:function e(t){return t.siteButton.orig},getOriginalHeaderSet:function e(t){return t.siteHeader.orig},getOriginalStyleSet:function e(t){return t.styleSet.orig},getColorSets:function e(t){return t.colorSets},getCurrentFontSetId:function e(t){return t.siteFonts.current.fontSetId},getCurrentColorSetId:function e(t){return t.siteColors.current.colorSetId},getFontList:function e(t){return t.fontList}}});var f=t.siteReducer=d.reducer;var p=d.actions,h=t.buttonSetDataSet=p.buttonSetDataSet,g=t.buttonSetInitialised=p.buttonSetInitialised,v=t.colorSetChanged=p.colorSetChanged,m=t.colourSetChangeUndone=p.colourSetChangeUndone,y=t.colourSetDataSet=p.colourSetDataSet,b=t.colourSetsInitialised=p.colourSetsInitialised,w=t.desktopScreenModeSet=p.desktopScreenModeSet,_=t.editorVersionSet=p.editorVersionSet,S=t.emailVerificationSet=p.emailVerificationSet,k=t.fontSetChanged=p.fontSetChanged,P=t.fontSetDataSet=p.fontSetDataSet,E=t.fontSetsInitialised=p.fontSetsInitialised,x=t.globalValuesSet=p.globalValuesSet,C=t.headerStyleInitialised=p.headerStyleInitialised,O=t.styleSetInitialised=p.styleSetInitialised,j=t.headerStyleSet=p.headerStyleSet,A=t.lastPublishSet=p.lastPublishSet,T=t.originalColourSetDataSet=p.originalColourSetDataSet,D=t.previousColourSetDataSet=p.previousColourSetDataSet,L=t.previousCustomColourSetDataSet=p.previousCustomColourSetDataSet,I=t.previousFontSetDataSet=p.previousFontSetDataSet,M=t.primaryDomainSet=p.primaryDomainSet,R=t.rowEditingModeSet=p.rowEditingModeSet,F=t.rowMoveModeSet=p.rowMoveModeSet,B=t.rowsEnabled=p.rowsEnabled,N=t.saveSiteStyles=p.saveSiteStyles,V=t.siteRefSet=p.siteRefSet,q=t.styleSetSet=p.styleSetSet;var W=d.selectors,U=t.getColorSets=W.getColorSets,z=t.getCurrentColorSetId=W.getCurrentColorSetId,G=t.getCurrentFontSetId=W.getCurrentFontSetId,H=t.getFontList=W.getFontList,$=t.getFontSets=W.getFontSets,K=t.getOriginalButtonSet=W.getOriginalButtonSet,Z=t.getOriginalColorSet=W.getOriginalColorSet,Q=t.getOriginalColorSetId=W.getOriginalColorSetId,Y=t.getOriginalFontSet=W.getOriginalFontSet,X=t.getOriginalFontSetId=W.getOriginalFontSetId,J=t.getOriginalHeaderSet=W.getOriginalHeaderSet,ee=t.getOriginalStyleSet=W.getOriginalStyleSet,te=t.isButtonSetChanged=W.isButtonSetChanged,re=t.isColorSetChanged=W.isColorSetChanged,ne=t.isFontSetChanged=W.isFontSetChanged,ie=t.isHeaderSetChanged=W.isHeaderSetChanged,oe=t.isStyleSetChanged=W.isStyleSetChanged,ae=t.selectCurrentSiteColours=W.selectCurrentSiteColours,se=t.selectCurrentSiteFonts=W.selectCurrentSiteFonts,le=t.selectIsFirstPublish=W.selectIsFirstPublish},11383(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.userSet=t.userReducer=t.selectUserSiteDefaultLanguage=t.selectUserLanguageCode=t.selectProductVersion=t.selectMultiLanguageLimitCapability=t.selectEnableStandaloneMode=t.initialState=void 0;var n=r(44381);var i=t.initialState={accountHolderMetadata:{},capabilities:{disableV8SiteAndPageScripts:false,enableAtarim:false,enableDragAndDropWidgets:0,enableEcwid:false,enableStandaloneMode:false,formEmailVerification:false,imageEditing:false,multiLanguageEditor:false,multiLanguageLimit:0,seoAndRedirects:false},dateCreated:"",email:"",emailVerified:false,firstName:"",languageCode:"en",lastName:"",productVersion:"",ref:-1,sites:[],subscriptionPackageName:"",subscriptionPackageRef:-1};var o=(0,n.createSlice)({name:"user",initialState:i,reducers:{userSet:function e(t,r){return r.payload}},selectors:{selectEnableStandaloneMode:function e(t){return t.capabilities.enableStandaloneMode},selectProductVersion:function e(t){return t.productVersion},selectMultiLanguageLimitCapability:function e(t){return t.capabilities.multiLanguageLimit},selectUserLanguageCode:function e(t){return t.languageCode},selectUserSiteDefaultLanguage:function e(t,r){var n;return null===(n=t.sites.find(function(e){return e.ref===r}))||void 0===n?void 0:n.siteDefaultLanguage}}});var a=t.userReducer=o.reducer;var s=t.userSet=o.actions.userSet;var l=o.selectors,u=t.selectEnableStandaloneMode=l.selectEnableStandaloneMode,c=t.selectProductVersion=l.selectProductVersion,d=t.selectMultiLanguageLimitCapability=l.selectMultiLanguageLimitCapability,f=t.selectUserLanguageCode=l.selectUserLanguageCode,p=t.selectUserSiteDefaultLanguage=l.selectUserSiteDefaultLanguage},9673(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.widgetSettingsReducer=t.widgetSettingsOpened=t.widgetSettingsClosed=t.initialState=void 0;var n=r(44381);var i=t.initialState={openWidgetUniqueId:null};var o=(0,n.createSlice)({name:"widgetSettings",initialState:i,reducers:{widgetSettingsClosed:function e(t){t.openWidgetUniqueId=null},widgetSettingsOpened:function e(t,r){t.openWidgetUniqueId=r.payload}},selectors:{}});var a=t.widgetSettingsReducer=o.reducer;var s=o.actions,l=t.widgetSettingsClosed=s.widgetSettingsClosed,u=t.widgetSettingsOpened=s.widgetSettingsOpened},6646(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.widgetReducer=t.lastWidgetOnPageChanged=t.initialState=t.firstWidgetOnPageChanged=void 0;var n=r(44381);var i=t.initialState={firstWidget:"",lastWidget:""};var o=(0,n.createSlice)({name:"widget",initialState:i,reducers:{firstWidgetOnPageChanged:function e(t,r){t.firstWidget=r.payload},lastWidgetOnPageChanged:function e(t,r){t.lastWidget=r.payload}},selectors:{}});var a=t.widgetReducer=o.reducer;var s=o.actions,l=t.firstWidgetOnPageChanged=s.firstWidgetOnPageChanged,u=t.lastWidgetOnPageChanged=s.lastWidgetOnPageChanged},48189(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.templateRendererFactory=t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.twig=t.twig}o(e,[{key:"_getTemplate",value:function e(t){return this.twig.templates[t]}},{key:"render",value:function e(t,r){return this.twig.render(this._getTemplate(t),r)}}]);return e}();var u=t.templateRendererFactory=function e(t){return new l({twig:t.Twig})};var c=t["default"]=l},8921(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75026);var i=o(r(48189));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.getMainWindowWithProperty)("Twig");function s(e){e.factory("TemplateRenderer",function(){return new i.default({twig:a.Twig})});return e}var l=t["default"]=s},61771(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t={container:["header","footer","sidebar"],companyname:["header","sidebar","footer"],extendednavigation:["header","sidebar"],feature:["header"],socialicons:["footer"]};e.forEach(function(n){t[n]&&e.push.apply(e,r(t[n]))});return e}var u=t["default"]=l},4664(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"hint",events:{"click .js-close-hint":"closeHint"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.text=t.text;this.closeCallback=t.closeCallback},render:function e(){var t=this.templateRenderer.render(this.template,{text:this.text});this.el.insertAdjacentHTML("beforeend",t)},closeHint:function e(){this.remove();this.closeCallback()}});var n=t["default"]=r},61269(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.options=t.appcues}o(e,[{key:"track",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var r=arguments.length>1?arguments[1]:void 0;return Promise.resolve(window.Appcues.track(t,r))}},{key:"identify",value:function e(){var t=this.options,r=t.userDataProvider,n=t.brandDataProvider,i=t.envDataProvider;window.Appcues.identify(r.get("email"),{brand:n.get("brandName"),productVersion:r.get("productVersion"),subscriptionPackageRef:r.get("subscriptionPackageRef"),accountCreated:r.get("dateCreated"),compatibilityMode:i.get("V10CompatibilityMode")})}},{key:"getName",value:function e(){return"Appcues"}}]);return e}();var u=t["default"]=l},50651(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(61269));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==o(t)?t:t+""}function p(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=new WeakMap;var g=function(){function e(t){u(this,e);h.set(this,s({},t))}d(e,[{key:"create",value:function e(){var t=new n.default({appcues:h.get(this)});t.identify();return t}}]);return e}();var v=t["default"]=g},50331(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=new WeakMap;var f=function(){function e(t){a(this,e);d.set(this,t.intercom)}l(e,[{key:"track",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var r=arguments.length>1?arguments[1]:void 0;return Promise.resolve(window.Intercom("trackEvent",t,r))}},{key:"boot",value:function e(){var t=d.get(this),r=t.userDataProvider,n=t.envDataProvider,o=t.brandDataProvider,a=t.siteDataProvider;var s=n.get("intercomAppId");if(!window.Intercom||!s)return;var l=i({app_id:s,api_base:n.get("intercomBaseUrl"),user_hash:n.get("intercomUserHash"),name:r.get("email"),brand:o.get("brandName"),template:a.get("templateName"),siteRef:a.getSiteRef(),siteDefaultLanguage:a.getDefaultLanguage(),hide_default_launcher:"0"===window.App.brand.capabilities.enableIntercomIcon},r.all());window.Intercom("boot",l)}},{key:"open",value:function e(){window.Intercom("showNewMessage")}},{key:"hideDefaultLauncher",value:function e(){window.Intercom("update",{hide_default_launcher:true})}},{key:"getName",value:function e(){return"Intercom"}}]);return e}();var p=t["default"]=f},79141(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(80219);var i=o(r(50331));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"==a(t)?t:t+""}function h(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g=new WeakMap;var v=window.matchMedia("(max-width: 930px)").matches;var m=function(){function e(t){c(this,e);g.set(this,l({},t))}f(e,[{key:"create",value:function e(){var t=new i.default({intercom:g.get(this)});t.boot();((0,n.isMobileDevice)()||v)&&t.hideDefaultLauncher();return t}}]);return e}();var y=t["default"]=m},75604(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75026);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){return c(e)||u(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function c(e){if(Array.isArray(e))return e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==i(t)?t:t+""}function y(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=new WeakMap;var w="x-";var _=function(){function e(t){h(this,e);b.set(this,t.mixpanel)}v(e,[{key:"track",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var i=arguments.length>1?arguments[1]:void 0;return new Promise(function(e){var o=b.get(t);var a=(0,n.getMainWindowWithProperty)("mixpanel");void 0!==a.mixpanelDistinctId&&(o=a.mixpanel);o.track(r,i,function(){e()})})}},{key:"register",value:function e(t){var r=this.getFormattedMetadata(t.accountHolderMetadata);b.get(this).register(f({userRef:t.userRef,primaryDomain:t.primaryDomain,subscriptionPackageRef:t.subscriptionPackageRef,env:t.mixpanelEnv,brand:t.brandName,codeVersion:t.codeVersion,productVersion:t.productVersion,languageCode:t.languageCode,compatibilityMode:t.compatibilityMode},r));return this}},{key:"identify",value:function e(t){b.get(this).identify("".concat(t.mixpanelEnv,"-").concat(t.userRef));return this}},{key:"getName",value:function e(){return"Mixpanel"}},{key:"getFormattedMetadata",value:function e(t){var r={};Object.entries(t||{}).forEach(function(e){var t=o(e,2),n=t[0],i=t[1];r["".concat(w).concat(n)]=i});return r}}]);return e}();var S=t["default"]=_},31208(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(75604));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=new WeakMap;var f=function(){function e(t){a(this,e);this._envDataProvider=t.envDataProvider;this._userDataProvider=t.userDataProvider;this._siteDataProvider=t.siteDataProvider;this._brandDataProvider=t.brandDataProvider;d.set(this,t.mixpanel)}l(e,[{key:"create",value:function e(){var t=new n.default({mixpanel:d.get(this)});t.register({mixpanelEnv:this._envDataProvider.get("mixpanelEnv"),userRef:this._userDataProvider.get("ref"),subscriptionPackageRef:this._userDataProvider.get("subscriptionPackageRef"),primaryDomain:this._siteDataProvider.get("primaryDomain"),brandName:this._brandDataProvider.get("brandName"),codeVersion:this._envDataProvider.get("codeVersion"),productVersion:this._userDataProvider.get("productVersion"),languageCode:this._userDataProvider.get("languageCode"),compatibilityMode:this._envDataProvider.get("V10CompatibilityMode"),accountHolderMetadata:this._userDataProvider.get("accountHolderMetadata")});t.identify({mixpanelEnv:this._envDataProvider.get("mixpanelEnv"),userRef:this._userDataProvider.get("ref")});return t}}]);return e}();var p=t["default"]=f},98331(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=new WeakMap;var u=function(){function e(){n(this,e);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];l.set(this,{trackers:r})}o(e,[{key:"addTracker",value:function e(t){var r=l.get(this),n=r.trackers;n.push(t);l.set(this,{trackers:n})}},{key:"track",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NOT DEFINED";var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=l.get(this),i=n.trackers;var o=""===r?{}:r;var a=[];Array.isArray(t)?i.forEach(function(e){var r=t.filter(function(t){return void 0!==t.tracker&&t.tracker===e.getName()});r.length&&void 0!==r[0].event&&a.push(e.track(r[0].event,o))}):i.forEach(function(e){return a.push(e.track(t,o))});return Promise.all(a)}}]);return e}();var c=t["default"]=u},19913(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(75026);var i=l(r(31208));var o=l(r(98331));var a=l(r(79141));var s=l(r(50651));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,n.getMainWindowWithProperty)("mixpanel");function c(e){e.factory("MixpanelFactory",function(e){return new i.default({envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,brandDataProvider:e.BrandDataProvider,siteDataProvider:e.SiteDataProvider,mixpanel:u.mixpanel})});e.factory("IntercomFactory",function(e){return new a.default({envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,brandDataProvider:e.BrandDataProvider,siteDataProvider:e.SiteDataProvider})});e.factory("AppcuesFactory",function(e){return new s.default({envDataProvider:e.EnvDataProvider,userDataProvider:e.UserDataProvider,brandDataProvider:e.BrandDataProvider})});e.factory("Tracker",function(e){var t=new o.default;d(e,function(){t.addTracker(e.MixpanelFactory.create())});f(e,function(){t.addTracker(e.IntercomFactory.create())});p(e,function(){t.addTracker(e.AppcuesFactory.create())});return t});e.factory("ErrorMonitor",function(e){return{init:function t(){window.Raven&&window.Raven.setExtraContext({template:e.SiteDataProvider.get("templateName"),codeVersion:e.EnvDataProvider.get("codeVersion"),brand:e.BrandDataProvider.get("displayName")})}}});return e}function d(e,t){v(e)?t():m(u,"mixpanel",5e3).then(function(){v(e)&&t()}).catch(function(){})}function f(e,t){h(e)?t():m(window,"Intercom",5e3).then(function(){h(e)&&t()}).catch(function(){})}function p(e,t){g(e)?t():m(window,"Appcues",5e3).then(function(){g(e)&&t()}).catch(function(){})}function h(e){var t=e.BrandDataProvider;var r=t.get("capabilities"),n=r.enableIntercom;return n&&window.Intercom}function g(e){var t=e.BrandDataProvider;return t.has("enableAppcues")&&window.Appcues}function v(e){var t=!!u.mixpanel;var r=e.EnvDataProvider.get("mixpanelEnv")&&e.EnvDataProvider.get("mixpanelToken");var n=e.BrandDataProvider.has("tracking");var i=!e.UserDataProvider.get("email").includes("@basekit.com");return t&&r&&n&&i}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return new Promise(function(n,i){var o=0;function a(s){setTimeout(function(){o+=s;if(void 0!==e[t]){n();return}if(o>=r){i();return}a(2*s)},s)}a(10)})}var y=t["default"]=c},1579(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({el:".js-undo-prompt",events:{"click .js-undo-button":"undoButtonClicked","click .js-close-button":"closeButtonClicked"},initialize:function e(){this.animationEndHandler=this.hideElement.bind(this);this.attachGlobalEvents()},attachGlobalEvents:function e(){Editor.Events.on("undoAvailable",this.startUndo.bind(this));Editor.Events.on("imagesPanel:rendered",this.hide.bind(this));Editor.Events.on("widgetSettingsPanel:opened",this.hide.bind(this));Editor.Events.on("widgetAction:triggered",this.hide.bind(this));Editor.Events.on("widgetOverlay:destroy",this.hide.bind(this));Editor.Events.on("page:change",this.hide.bind(this));Editor.Events.on("pagespanel:rendered",this.hide.bind(this))},remove:function e(){Backbone.View.prototype.remove.call(this);Editor.Events.off("undoAvailable",this.startUndo.bind(this));Editor.Events.off("imagesPanel:rendered",this.hide.bind(this));Editor.Events.off("widgetSettingsPanel:opened",this.hide.bind(this));Editor.Events.off("widgetAction:triggered",this.hide.bind(this));Editor.Events.off("widgetOverlay:destroy",this.hide.bind(this));Editor.Events.off("page:change",this.hide.bind(this));Editor.Events.on("pagespanel:rendered",this.hide.bind(this))},startUndo:function e(t){this.widgetModel=t.widgetModel;this.show()},undoButtonClicked:function e(){this.hide();this.widgetModel.undo()},closeButtonClicked:function e(){this.hide()},show:function e(){this.removeAnimationEndEvent();this.el.hidden=false;this.el.classList.add("is-visible");this.startAutoCloseTimer()},hide:function e(){this.removeAutoCloseTimer();this.el.classList.remove("is-visible");this.attachAnimationEndEvent()},hideElement:function e(){this.el.hidden=true},attachAnimationEndEvent:function e(){this.el.addEventListener("animationend",this.animationEndHandler)},removeAnimationEndEvent:function e(){this.el.removeEventListener("animationend",this.animationEndHandler)},startAutoCloseTimer:function e(){var t=this;this.autoCloseTimeoutId=window.setTimeout(function(){t.hide()},25e3)},removeAutoCloseTimer:function e(){window.clearTimeout(this.autoCloseTimeoutId)}});var n=t["default"]=r},43476(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=new WeakMap;var f=function(){function e(t){a(this,e);d.set(this,i({},t))}l(e,[{key:"checkTimeout",value:function e(t){var r=d.get(this),n=r.sessionTimeoutDialog;if(401===t.status){n.display();throw new Error}return t}},{key:"update",value:function e(){var t=this;return new Promise(function(e,r){window.fetch("/refresh",{method:"GET",credentials:"include",mode:"cors"}).then(t.checkTimeout.bind(t)).then(function(e){return e.json()}).then(function(t){var r=t.billingCycle&&t.billingCycle.offerExpiryDate||null;App.sites.reset&&App.sites.reset(t.sites);App.user=t.accountHolder;App.brand=t.brand;App.frontEndBucket.languageCode=t.accountHolder.languageCode;App.frontEndBucket.tier=t.accountHolder.capabilities.templateTier;App.frontEndBucket.offerExpiryDate=r;e(t)}).catch(r)})}}]);return e}();var p=t["default"]=f},62412(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isAssetSvg=void 0;var r=t.isAssetSvg=function e(t){var r;var n=(null===t||void 0===t||null===(r=t.attributes)||void 0===r?void 0:r.path)||"";return n.endsWith(".svg")||n.endsWith(".svgz")}},17724(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function e(){};return{s:o,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();return s=t.done,t},e:function e(t){l=!0,a=t},f:function e(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=3;var f=1e7;var p=function(){function e(t){a(this,e);this.options=t;this.options.chunkSize=this.options.chunkSize||1048576}l(e,[{key:"upload",value:function e(t){var r=n(t),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.size>=f){var a=this.options.eventDispatcher;a.trigger("file.uploaderror",400,"maxUploadSizeExceeded");return}}}catch(e){r.e(e)}finally{r.f()}var s=Array.prototype.map.call(t,function(e,t){e.fileIndex=t;return e});h({files:s,fileCount:s.length,chunkTotals:{},progressObj:{},chunks:[],chunksComplete:0,options:this.options})}}]);return e}();function h(e){var t=e.files.shift();if("undefined"===typeof t)return;g(e,t,t.fileIndex)}function g(e,t,r){var n=t.size;var i=e.options.chunkSize;var o=Math.ceil(n/i);var a=w();var s=0;var l=i;var u=1;var c=1;n<=i&&(u=0);e.chunks=[];e.chunksComplete=0;e.chunkTotals[r]=o;e.chunkTotal=o;while(s<n){var f=t.slice(s,l);var p=_(f,t.name,e.options.type);if(u){p.append("chunkIndex",c);p.append("chunkTotal",o);p.append("id",a)}var h={formData:p,counter:c,chunkTotal:o,fileIndex:r,id:a,fileName:t.name};e.chunks.push(h);s=l;l=s+i;c+=1}if(1===e.chunks.length){v(e,e.chunks.pop());return}var g=d;d>e.chunks.length&&(g=e.chunks.length);for(var y=0;y<g;y++)m(e)}function v(e,t){var r=new XMLHttpRequest;var n=e.options.eventDispatcher;r.onload=function(){var t=JSON.parse(r.response);if(200!==r.status){n.trigger("file.uploaderror",r.status,t.errorKey);return}var i=t.result;n.trigger("file.uploaded",i);h(e)};r.upload.onprogress=function(r){b(e,r,t)};r.open("POST","".concat(e.options.apiProxyBaseUrl,"/_/assemble"),true);r.setRequestHeader("X-CSRF-TOKEN",e.options.csrfToken);r.withCredentials=true;r.send(t.formData)}function m(e){if(0===e.chunks.length)return;var t=e.chunks.pop();y(e,t)}function y(e,t){var r=new XMLHttpRequest;var n=t.counter,i=t.fileIndex;r.upload.onprogress=function(r){b(e,r,t)};r.onload=function(){e.chunksComplete+=1;m(e);if(e.chunksComplete===e.chunkTotal){var r=new FormData;r.append("id",t.id);r.append("fileName",t.fileName);v(e,{formData:r,fileIndex:i,counter:n,chunkTotal:e.chunkTotal})}};r.open("POST","".concat(e.options.apiProxyBaseUrl,"/_/chunk"),true);r.setRequestHeader("X-CSRF-TOKEN",e.options.csrfToken);r.withCredentials=true;r.send(t.formData)}function b(e,t,r){var n=e.options.progressCalculator;if(t.lengthComputable){n.updateProgress(e.progressObj,t.loaded,t.total,r);var i=n.calculateProgress(e.progressObj,e.chunkTotals,e.fileCount);e.options.eventDispatcher.trigger("file.progress",i)}}function w(){var e=32;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var r=new Uint32Array(e);var n=window.msCrypto?window.msCrypto:window.crypto;var i="";n.getRandomValues(r);for(var o=0;o<e;o++)i+=t[r[o]%t.length];return i}function _(e,t,r){var n=new FormData;n.append("type",r);n.append("file",e,t);return n}BaseKit.chunkedUpload=BaseKit.chunkedUpload||{};BaseKit.chunkedUpload.ChunkedUploader=p;var S=t["default"]=p},7323(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"calculateProgress",value:function e(t,r,n){var i=Reflect.ownKeys(t).reduce(function(e,n){var i=u(t[n]);return e+i/r[n]},0);if(0===i)return i;return i/n}},{key:"updateProgress",value:function e(t,r,n,i){var o=Math.floor(r/n*1e3)/10;if(t[i.fileIndex])t[i.fileIndex][i.counter]=o;else{t[i.fileIndex]=[];t[i.fileIndex][i.counter]=o}return t}}]);return e}();function u(e){var t=e.reduce(function(e,t){if(void 0!==t)return e+t;return 0},0);return t}BaseKit.chunkedUpload=BaseKit.chunkedUpload||{};BaseKit.chunkedUpload.ProgressCalculator=l;var c=t["default"]=l},6942(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.rgbaToHex=t.rgbaCssToHex=t.rgbToHex=t.isValidRgbColour=t.isValidHexColour=t.hexToRgb=t.getContrastTextColor=t["default"]=t.convertComputedStyleRgbColourToHex=void 0;function r(e,t){return s(e)||a(e,t)||i(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function s(e){if(Array.isArray(e))return e}var l=t.isValidHexColour=function e(t){return/^#([a-f0-9]{3}){1,2}\b$/i.test(t.trim())};var u=t.isValidRgbColour=function e(t){if(!/^(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})$/i.test(t))return false;var r=t.trim().split(",");for(var n=0;n<r.length;n++)if(parseInt(r[n],10)>255)return false;return true};var c=t.hexToRgb=function e(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return"#".concat(t).concat(t).concat(r).concat(r).concat(n).concat(n)}).substring(1).match(/.{2}/g).map(function(e){return parseInt(e,16)})};var d=t.rgbToHex=function e(t,r,n){return"#".concat([t,r,n].map(function(e){return Number(e).toString(16).padStart(2,"0")}).join(""))};var f=t.rgbaToHex=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.r,n=t.g,i=t.b,o=t.a,a=void 0===o?1:o,s=t.transparent,l=void 0!==s&&s;if(l)return"#00000000";if(null==r||null==n||null==i)throw new Error("rgbaToHex: r, g, and b are required when transparent is false");var u=function e(t){return Math.max(0,Math.min(255,Number(t)))};var c=function e(t){return u(t).toString(16).padStart(2,"0").toUpperCase()};var f=d(u(r),u(n),u(i)).toUpperCase();if(a>=1)return f;var p=Math.round(255*Math.max(0,Math.min(1,Number(a))));var h=c(p);return"".concat(f).concat(h)};var p=t.rgbaCssToHex=function e(t){var r=String(t).trim().match(/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*([\d.]+))?\s*\)$/i);if(!r)throw new Error('rgbaCssToHex: invalid css "'.concat(t,'"'));var n=Number(r[1]),i=Number(r[2]),o=Number(r[3]);var a=null==r[4]?1:Number(r[4]);return f({r:n,g:i,b:o,a})};var h=t.convertComputedStyleRgbColourToHex=function e(t){var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(!u("".concat(r[1],",").concat(r[2],",").concat(r[3])))throw new Error("Invalid computed RGB colour, ".concat(t));return d(r[1],r[2],r[3])};var g=t.getContrastTextColor=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;var i=130;var o=c(t),a=r(o,3),s=a[0],l=a[1],u=a[2];var d=(299*s+587*l+114*u)/1e3;var f=n?n.dark:"#000000";var p=n?n.light:"#ffffff";return d>i?f:p};var v=function e(t){var r=document.documentElement;var n=window.getComputedStyle(r);return n.getPropertyValue(t).trim()};var m=function e(t,r,n){t/=255;r/=255;n/=255;t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);r=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);return.2126*t+.7152*r+.0722*n};var y=function e(t,r,n){var i=c(t),o=i.r,a=i.g,s=i.b;var l=m(o,a,s);return l>.5?n:r};var b=function e(){var t=v("--primary-button-background");var r="#ffffff";var n="#000000";return y(t,r,n)};var w=function e(t){var r=t.replace("#","");var n=parseInt(r.substring(0,2),16)/255;var i=parseInt(r.substring(2,4),16)/255;var o=parseInt(r.substring(4,6),16)/255;var a=Math.max(n,i,o);var s=Math.min(n,i,o);var l=0;var u;var c=(a+s)/2;if(a===s){l=0;u=0}else{var d=a-s;u=c>.5?d/(2-a-s):d/(a+s);switch(a){case n:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-n)/d+2;break;case o:l=(n-i)/d+4;break}l/=6}return{h:360*l,s:100*u,l:100*c}};var _=function e(t,r,n){var i=r/100;var o=n/100;var a=function e(r){return(r+t/30)%12};var s=i*Math.min(o,1-o);var l=function e(t){return Math.round(255*(o-s*Math.max(-1,Math.min(a(t)-3,Math.min(9-a(t),1)))))};return"#".concat([l(0),l(8),l(4)].map(function(e){return e.toString(16).padStart(2,"0")}).join(""))};var S=function e(t){if(""===t)return"";var r=w(t),n=r.h,i=r.s,o=r.l;var a=(n-15+360)%360;var s=Math.min(o+5,100);var l=_(a,i,s);var u=(n+15)%360;var c=Math.max(o-5,0);var d=_(u,i,c);return"linear-gradient(90deg, ".concat(d," 0%, ").concat(l," 100%)")};var k=t["default"]={isValidHexColour:l,isValidRgbColour:u,hexToRgb:c,rgbToHex:d,convertComputedStyleRgbColourToHex:h,rgbaToHex:f,getContrastTextColor:g,getContrastingButtonTextColour:b,generateGradient:S}},31605(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.debounce=n;var r;function n(e,t){return function(){var n=this;var i=function t(){return e.apply(n)};clearTimeout(r);r=setTimeout(i,t)}}},23904(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(e){return JSON.parse(JSON.stringify(e))}},80219(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deviceFeaturesHelper=void 0;t.getInputType=g;t.hasOrientation=d;t.isLargeDevice=c;t.isMobileDevice=h;t.isSmallDevice=u;t.isSmallTouchDevice=f;t.isTouchDevice=p;var n=i(r(41985));function i(e){return e&&e.__esModule?e:{default:e}}var o="(max-width: 616px) and (orientation: portrait)";var a="(orientation: landscape) and (max-height: 616px)";var s="(min-width: 617px) and (orientation: portrait)";var l="(orientation: landscape) and (min-height: 617px)";function u(){return window.matchMedia("".concat(o,", ").concat(a)).matches}function c(){return window.matchMedia("".concat(s,", ").concat(l)).matches}function d(e){return window.matchMedia("(orientation: ".concat(e,")")).matches}function f(){return"coarse"===this.getInputType()&&(n.default.isMobileWebKit()||n.default.isFirefox())}function p(){return"ontouchstart"in window}function h(){return n.default.isMobileWebKit()}function g(){if(p())return"coarse";return"fine"}var v=t.deviceFeaturesHelper={isSmallDevice:u,isLargeDevice:c,hasOrientation:d,isSmallTouchDevice:f,getInputType:g,isTouchDevice:p,isMobileDevice:h};window.BaseKit&&(window.BaseKit.deviceFeaturesHelper=v)},62047(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toggleHiddenAttribute=t.remove=t.emptyElement=t["default"]=t.append=void 0;function r(e){return a(e)||o(e)||i(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function e(t){t.setAttribute("hidden",true)};var u=function e(t){t.removeAttribute("hidden")};var c=t.toggleHiddenAttribute=function e(t,r){null===t.getAttribute("hidden")||r?l(t):u(t)};var d=t.emptyElement=function e(t){while(t.firstChild)t.removeChild(t.firstChild)};var f=t.append=function e(t,n){var i=new DOMParser;var o=i.parseFromString(n,"text/html");if(!o)return;r(o.querySelectorAll("body > *")).forEach(function(e){var r=document.importNode(e,true);t.appendChild(r)})};var p=t.remove=function e(t){t.remove?t.remove():t.parentElement.removeChild(t)};var h=t["default"]={toggleHiddenAttribute:c,emptyElement:d,append:f,remove:p}},91088(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(35032));var i=o(r(9502));function o(e){return e&&e.__esModule?e:{default:e}}var a={addEcwidScript:function e(){var t=(0,n.default)();this.storeId=i.default.getData("ecwidStoreId");var r=this._getStoreElementId();var o=this._getSearchElementId();var a=false;var s=false;var l=false;window.ecwid_script_defer=true;window.ec=window.ec||{};window.ec.config=window.ec.config||{};window.ec.config.storefrontUrls=window.ec.config.storefrontUrls||{};window.ec.config.storefrontUrls.cleanUrls=true;window.ec.config.storefrontUrls.queryBasedCleanUrls=true;if(this.storeId&&!document.getElementById("ecwid-script")){var u=document.createElement("script");u.charset="utf-8";u.type="text/javascript";u.id="ecwid-script";u.src="https://app.ecwid.com/script.js?".concat(this.storeId);window.document.head.appendChild(u)}t.forEach(function(e){"widget.ecwid"===e.type&&(a=true);"widget.ecwidsearch"===e.type&&(s=true);"widget.ecwidbasket"===e.type&&document.getElementById("ecwid-script")&&(l=true)});a&&s&&(window._xnext_initialization_scripts=[{widgetType:"ProductBrowser",id:r,arg:["id=".concat(r)]},{widgetType:"SearchWidget",id:o,arg:["id=".concat(o)]}]);a&&!s&&(window._xnext_initialization_scripts=[{widgetType:"ProductBrowser",id:r,arg:["id=".concat(r)]}]);!a&&s&&(window._xnext_initialization_scripts=[{widgetType:"SearchWidget",id:o,arg:["id=".concat(r)]}]);l&&window.addEventListener("load",function(){var e=document.createElement("script");e.charset="utf-8";e.type="text/javascript";e.text="Ecwid.init();";window.document.body.appendChild(e)})},_getStoreElementId:function e(){return"my-store-".concat(this.storeId)},_getSearchElementId:function e(){return"my-search-".concat(this.storeId)}};var s=t["default"]=a},32162(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=function e(t){var r={};_.each(t,function(e){r[e.ref]=e});return r};var n=t["default"]=r},16973(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.getIframeWindow=E;var n=a(r(41985));var i=a(r(3760));var o=a(r(8081));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return f(e)||d(e,t)||u(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function f(e){if(Array.isArray(e))return e}function p(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,"next",e)}function s(e){p(o,n,i,a,s,"throw",e)}a(void 0)})}}var g=n.default.iOSFixRequired;var v="desktop";var m="mobile";var y={calculateFrameHeight:function e(){var t=$(x());var r=$("body",t.contents()).height()-2;t.height(r)},resetFrameHeight:function e(){x().style.height="100%"},updateViewportHeight:function e(){return h(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:t=E();r=window.getComputedStyle(document.querySelector(".js-canvas")).getPropertyValue("height");(0,i.default)("setStyle",t,{property:"--viewport-height",target:"body",value:r});o.next=5;return(0,i.default)("getClassListContains",t,{className:"editor-loaded",target:"body"});case 5:n=o.sent;if(!n){o.next=8;break}return o.abrupt("return");case 8:(0,i.default)("addClass",t,{className:"editor-loaded",target:"body"});case 9:case"end":return o.stop()}},e)}))()},getScrollWin:function e(){var t=E();var r=g()?window:t;return r},getScrollListenerTarget:function e(){return P()},getIframeDocument:function e(){return E().document},scrollToMainZone:function e(){var t=P();var r=k(t),n=s(r,3),i=n[1],o=n[2];null!==i&&o.scrollIntoView({behavior:"smooth",block:"nearest"})},activateAllEditLayoutButtons:function e(){if(this.isMobileEditMode())return;var t=this.getIframeDocument();var r=t.querySelectorAll(".edit-layout");r.forEach(function(e){return e.classList.add("edit-layout--active")})},hideAllOverlayButtons:function e(){var t=this.getIframeDocument();var r=t.querySelectorAll(".overlay-button");r.forEach(function(e){return e.classList.add("hidden")})},toggleEditMode:function e(){S(this.isMobileEditMode()?v:m);b();this.isMobileEditMode()||w();Editor.Events.trigger("mobile-edit-mode:toggled",{newMode:_()});window.parent.App.frontEndBucket.metadata.mobileEditModeAcknowledged||(new o.default).open()},isMobileEditMode:function e(){return _()===m}};function b(){var e=(new DOMParser).parseFromString(Twig.render(Twig.templates.edit_layout_button,{editMode:_(),hidden:true}),"text/html");E().document.querySelectorAll(".edit-layout").forEach(function(t){var r=e.body.firstChild.cloneNode(true);t.replaceWith(r)})}function w(){E().document.querySelectorAll(".responsive-layout").forEach(function(e){return e.classList.add("hidden")})}function _(){var e;var t=null!==(e=window.parent.App.frontEndBucket.editMode)&&void 0!==e?e:v;return t}function S(e){var t="mobile-edit-mode";var r=window.parent.document.body;var n={className:t,target:"body"};window.parent.App.frontEndBucket.editMode=e;switch(e){case m:(0,i.default)("addClass",E(),n);x().classList.add(t);r.classList.add(t);break;case v:(0,i.default)("removeClass",E(),n);x().classList.remove(t);r.classList.remove(t);break;default:throw new Error("Invalid edit mode",e)}}function k(e){var t=E();var r=t.document.getElementById("page-zones__main");var n=r.offsetTop;var i=r.offsetHeight+n;var o=void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop;var a=null;o<n?a=n:o>i&&(a=i);return[o,a,r]}function P(){var e=E();var t=g()?document.querySelector(".js-site-preview"):e;return t}function E(){var e=x().contentWindow?x().contentWindow:x().contentDocument.defaultView;return e}function x(){return Editor.Site.Dom.iframe}var C=t["default"]=y},93404(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(e,t){return JSON.stringify(e)===JSON.stringify(t)}},60443(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.isMediaManagerEnabled=t.invokeMediaManager=void 0;var i=r(83502);var o=r(53485);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=c(e,"string");return"symbol"==n(t)?t:t+""}function c(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}var p=t.isMediaManagerEnabled=function e(){return window.App.user.enabledFeatureFlags.web_components_media_manager};var h=t.invokeMediaManager=function e(){var t;var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var a={dialogTitle:"Media Manager",searchPlaceholder:"Search input...",categories:"Categories",recentMedia:"Recent Media",ariaRecentMedia:"Select recent media",templateImages:"Template Images",ariaTemplateImages:"Select template images",listViewTitle:"List view",gridViewTitle:"Grid view",listViewAria:"Select list view",gridViewAria:"Select grid view",singleSelection:"item selected",multipleSelections:"items selected",singleItemCount:"item",multipleItemsCount:"items",sort:"Sort",nameHeader:"Name",sizeHeader:"Size",widthHeader:"Width",heightHeader:"Height",modifiedHeader:"Modified",sortAsc:"asc",sortDesc:"desc",moreActions:"More Actions",loading:"Loading...",noMediaHeader:"No media found",noMediaBody:"Try adjusting your search, or upload new media using the upload button",useMedia:"Use Media",closeAria:"Close",delete:"Delete"};var l=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,a,l,u,c,d;return regeneratorRuntime.wrap(function e(f){while(1)switch(f.prev=f.next){case 0:r=t.detail,n=r.criteria,a=r.updateWithError,l=r.updateWithSuccess;u=i.store.getState().user.ref;if(u){c=function e(){return o.getUsersAssets.select(s({userRef:u},n))(i.store.getState())};d=setInterval(function(){var e=c(),t=e.data,r=e.hasNextPage,n=e.isError,i=e.isLoading,o=e.isSuccess;if(!i){clearTimeout(d);n&&a();o&&t&&l(t,r)}},0)}case 3:case"end":return f.stop()}},e)}));return function t(r){return e.apply(this,arguments)}}();var u=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,a,l,u,c,d,f,p,h,g;return regeneratorRuntime.wrap(function e(v){while(1)switch(v.prev=v.next){case 0:r=t.detail,n=r.updateWithError,a=r.updateWithSuccess,l=r.criteria;u=i.store.getState().user.ref;if(!u){v.next=13;break}c=i.store.dispatch(o.getUsersAssets.initiate(s(s({},l),{},{userRef:u}),{direction:"forward"}));v.next=6;return c;case 6:d=v.sent;f=d.data;p=d.hasNextPage;h=d.isError;g=d.isSuccess;h&&n();g&&f&&a(f,p);case 13:case"end":return v.stop()}},e)}));return function t(r){return e.apply(this,arguments)}}();var c=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,a,l,u,c;return regeneratorRuntime.wrap(function e(d){while(1)switch(d.prev=d.next){case 0:r=t.detail,n=r.metadata,a=r.updateWithError,l=r.updateWithSuccess;u=i.store.getState().user.ref;if(!u){d.next=13;break}c=i.store.dispatch(o.updateUserAsset.initiate(s(s({},n),{},{userRef:u})));d.prev=4;d.next=7;return c;case 7:l(n.assetRef);d.next=13;break;case 10:d.prev=10;d.t0=d["catch"](4);a();case 13:case"end":return d.stop()}},e,null,[[4,10]])}));return function t(r){return e.apply(this,arguments)}}();var d=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,a,s,l,u;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:r=t.detail,n=r.assetRefs,a=r.updateWithError,s=r.updateWithSuccess;l=i.store.getState().user.ref;if(!l){c.next=13;break}c.prev=3;c.next=6;return Promise.all(n.map(function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,a,s;return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:r=i.store.dispatch(o.getUsersAsset.initiate({assetRef:t,userRef:l}));u.next=3;return r;case 3:n=u.sent;a=n.data;s=n.isSuccess;if(!(s&&a&&a.asset)){u.next=8;break}return u.abrupt("return",a.asset);case 8:return u.abrupt("return",null);case 9:case"end":return u.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:u=c.sent;u.every(function(e){return!!e})?s(u):a();c.next=13;break;case 10:c.prev=10;c.t0=c["catch"](3);a();case 13:case"end":return c.stop()}},e,null,[[3,10]])}));return function t(r){return e.apply(this,arguments)}}();return null===(t=window.App.wcl)||void 0===t?void 0:t.MediaManager.create(a).handleSelectMedia(l).handleMediaRequested(u).handleDetailsUpdatedRequested(c).handleDetailsRequested(d).mount("#mm-container",r,n)}},9385(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=function e(t,r,s){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;var u=document.createElement("div");var c=document.querySelector(".container");var d=function e(){return new Promise(function(e){return setTimeout(e,l)})};u.setAttribute("role","alert");u.style.zIndex=9999;i(s,u);o(t,u);a(r,u);c.appendChild(u);u.classList.add("is-visible");d().then(function(){return n(u)})};function n(e){e.addEventListener("animationend",function(){return e.remove()});e.classList.remove("is-visible")}function i(e,t){var r=e&&"string"===typeof e?"action-notification--".concat(e):"";t.classList.add("action-notification",r)}function o(e,t){if("string"===typeof e){var r=document.createElement("h2");r.textContent=e;r.classList.add("action-notification__title");t.appendChild(r)}}function a(e,t){if("string"===typeof e){var r=document.createElement("p");r.textContent=e;r.classList.add("action-notification__message");t.appendChild(r)}}window.Eight=window.Eight||{};window.Eight.notify=r;var s=t["default"]=r},7402(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=s;r(94841);var n=i(r(3760));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}function s(){return l.apply(this,arguments)}function l(){l=a(regeneratorRuntime.mark(function e(){var t,r,i,o;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:t={};a.next=3;return(0,n.default)("getUrl",window.top);case 3:r=a.sent;i=r.match(/\?(.+)/);if(i){o=i[1].split("&");o.reduce(function(e,t){var r=t.split("=");2===r.length&&(e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]));return e},t)}return a.abrupt("return",t);case 7:case"end":return a.stop()}},e)}));return l.apply(this,arguments)}},90331(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={getItem:function e(t){return window.sessionStorage.getItem(t)},setItem:function e(t,r){return window.sessionStorage.setItem(t,r)}};var n=t["default"]=r},38561(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=h;var n=s(r(21983));var i=r(83502);var o=r(99951);var a=r(68404);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return p(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function p(e){if(Array.isArray(e))return e}function h(){var e=function e(t){var r=n.default.container.SessionErrorMessage;if(401===t.status){r.display();throw new Error}return t};return new Promise(function(t,r){window.fetch("/refresh",{method:"GET",credentials:"include"}).then(e).then(function(e){return e.json()}).then(function(e){var n=e.sites.filter(function(e){return e.ref===i.store.getState().site.ref}),s=l(n,1),u=s[0];u||r("Current site not found");i.store.dispatch((0,a.siteLanguagesSet)(u.siteLanguages));u.siteDefaultLanguage&&i.store.dispatch((0,a.defaultLanguageSet)(u.siteDefaultLanguage));i.store.dispatch((0,o.primaryDomainSet)(u.primaryDomain.domainName));App.sites.reset(e.sites);App.user=e.accountHolder;App.brand=e.brand;App.frontEndBucket.languageCode=e.accountHolder.languageCode;App.frontEndBucket.tier=e.accountHolder.capabilities.templateTier;App.frontEndBucket.offerExpiryDate=e.billingCycle&&e.billingCycle.offerExpiryDate||null;t(e)}).catch(r)})}"undefined"!==typeof Editor&&Editor.Events&&Editor.Events.on("session:update",h)},96063(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toTitleCase=t["default"]=t.camelCase=void 0;var r=t.toTitleCase=function e(t){return t.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")};var n=t.camelCase=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return t.replace(/(\.[a-z])/g,function(e){return e.toUpperCase().replace(r,"")})};var i=t["default"]={toTitleCase:r,camelCase:n}},37524(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.replaceStyleVariablesWithColour=t.convertStyleObjectsToJson=void 0;var r=/^@[a-z0-9-_]*$/;var n=t.replaceStyleVariablesWithColour=function e(t,n){return t.map(function(e){e.value&&e.value.match(r)&&(e.value=i(e.value,n));return e})};var i=function e(t,n){var i="#000";var o;try{i=Editor.Site.Presets.getValueFromLessVar(t)}catch(a){o=n.findWhere({name:t.substring(1)});if(!o)return i;i=o.get("value").match(r)?e(o.get("value"),n):o.get("value")}return i};var o=t.convertStyleObjectsToJson=function e(t,r){Object.keys(t).forEach(function(e){t[e].styles=t[e].styles.map(function(e){return e.toJSON()});t[e].styles=n(t[e].styles,r);var i=t[e].styles.map(function(e){return e.type});t[e].hasFont=i.indexOf("font")>-1});return t}},96342(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.getTranslationFromData=p;var n=o(r(7402));var i=r(75026);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return d(e)||c(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function d(e){if(Array.isArray(e))return e}var f=function e(t,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var s={debugkeys:g.bind(null,t),debugvalues:v.bind(null,t),translate:m.bind.apply(m,[null,t,r].concat(o))};return s[(0,n.default)().translate||"translate"]()};function p(e){var t=(0,i.getAppWindowWithProperty)("i18n");var r=e.match(/^(.+?)\.(.+)$/),n=a(r,3),o=n[1],s=n[2];if("undefined"!==typeof t.App.i18n[o]&&"undefined"!==typeof t.App.i18n[o][s])return t.App.i18n[o][s];return null}function h(){var e=(0,i.getAppWindowWithProperty)("frontEndBucket");if(!e)return false;return 0!==parseInt(e.App.frontEndBucket.useDefaultTranslations,10)}function g(e){return e}function v(e){var t=p(e);if(""===t)return"MASTER";if(t)return"TRANSLATED";return"DEFAULT"}function m(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=p(e);var a=t||"";var s=o||(h()?a:"");var l=s.replace(/%([1-9])/g,function(e,t){return"undefined"!==typeof n[t-1]?n[t-1]:""});return l||e}var y=t["default"]=f},41985(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.iOSFixRequired=l;t.iOSVersion=a;t.isAndroidChrome=p;t.isEdge=g;t.isFirefox=f;t.isIE=h;t.isMobileWebKit=d;t.isiOS=o;t.isiOS13OrAbove=s;t.isiOSSafari=i;t.isiOSTablet=u;t.isiPadOS=c;var n=r(80219);function i(){var e=/Version\/[\d.]+.*Safari/.test(navigator.userAgent);return e&&o()}function o(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return e||c()}function a(){if(o()){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(e)return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)];if(c())return[13,0,0]}return""}function s(){var e=a();return""!==e&&e[0]>=13}function l(){return o()&&!s()}function u(){return/iPad/.test(navigator.platform)}function c(){return"MacIntel"===navigator.platform&&(0,n.isTouchDevice)()}function d(){var e=navigator.userAgent;var t=new RegExp(" AppleWebKit/").test(e);var r=t&&new RegExp(" Android").test(e);var n=t&&new RegExp(" Silk/").test(e);var i=t&&new RegExp(" Mobile/").test(e);var o=t&&c();var a=new RegExp("^basekit-app").test(e);return i||r||n||a||o}function f(){var e=navigator.userAgent;var t=new RegExp(" Gecko").test(e);var r=t&&new RegExp("rv:").test(e);return r}function p(){var e=navigator.userAgent;var t=new RegExp("^basekit-app").test(e);var r=new RegExp(" AppleWebKit/").test(e)&&new RegExp(" Android").test(e);return r||t}function h(){var e=new RegExp("/Trident/.*rv:([0-9]{1,}[.0-9]{0,})/");return e.test(navigator.userAgent)}function g(){var e=new RegExp("/ Edge//");return e.test(navigator.userAgent)}var v={isiOSSafari:i,isiOS:o,iOSVersion:a,isiOS13OrAbove:s,iOSFixRequired:l,isiOSTablet:u,isMobileWebKit:d,isAndroidChrome:p,isFirefox:f,isIE:h,isEdge:g};window.BaseKit&&(BaseKit.UserAgentSniffer=v);var m=t["default"]=v},16122(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(9385));var i=a(r(96836));var o=a(r(43476));function a(e){return e&&e.__esModule?e:{default:e}}var s=t["default"]=function e(t){t.factory("notification",function(){return n.default});t.factory("session",function(e){return new o.default({sessionTimeoutDialog:e.SessionErrorMessage})});t.factory("SiteGlobalValuesHelper",function(e){return new i.default({siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,siteGlobalValuesCollection:BaseKit.Globals.globalValues})});return t}},79969(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.doesWidgetBelongToGrid=d;t.getWidgetClass=l;t.getWidgetName=s;t.getWidgetNameFromType=o;t.isWidgetInGrid=u;t.normalisedColumnName=a;t.normalisedWidgetContentType=i;var n=r(96063);function i(e){if(/\.content\./.test(e))return"widget.content";return e}function o(e){return(0,n.camelCase)("basekit.".concat(e)).replace(/^basekitWidget/i,"")}function a(e){var t="ColumnsColumn"===e?"ResponsivecolumnsColumn":e;return t}function s(e){return a(o(i(e)))}function l(e){var t=c();var r="".concat(s(e.widgetType)).concat(e.type);var n="function"===typeof t[r]?t[r]:t["DefaultWidget".concat(e.type)];return n}function u(e){var t,r;return(null===e||void 0===e||null===(t=e.parentNode)||void 0===t||null===(r=t.classList)||void 0===r?void 0:r.contains("row__container--grid"))||false}function c(){return document.querySelector(".js-site-frame").contentWindow.BaseKit.Widget}function d(e,t){var r,n;if(!e||!t)return false;var i=e.closest("[data-parentuniqueid]");var o=null===i||void 0===i||null===(r=i.dataset)||void 0===r?void 0:r.parentuniqueid;var a=t.closest("[data-uniqueid]");var s=null===a||void 0===a||null===(n=a.dataset)||void 0===n?void 0:n.uniqueid;return!!o&&!!s&&o===s}},45574(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isMobileScreenMode=t.isDesktopScreenMode=t.getWindowWidth=t["default"]=void 0;var r=930;var n=t.getWindowWidth=function e(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth};var i=t.isDesktopScreenMode=function e(){return n()>=r};var o=t.isMobileScreenMode=function e(){return n()<r};var a=t["default"]={getWindowWidth:n,isDesktopScreenMode:i,isMobileScreenMode:o}},81327(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetDataTransformer=t.widgetDataTransformer;this.layerWidgetAction=t.layerWidgetAction;this.newWidgetAction=t.newWidgetAction;this.resizeGridAction=t.resizeGridAction;this.newGridWidgetAction=t.newGridWidgetAction;this.replaceWidgetAction=t.replaceWidgetAction;this.showHideWidgetAction=t.showHideWidgetAction;this.deleteWidgetAction=t.deleteWidgetAction;this.afterChangesAction=t.afterChangesAction;this.changeOrder=["deletion","addition","grid-resize","grid-addition","replacement","layer","show-hide"]}o(e,[{key:"interpretAndExecute",value:function e(t){var r=this._extractChangeProcedures(t);this._executeChanges(r,this.changeOrder)}},{key:"_executeChanges",value:function e(t,r){var n=this;r.forEach(function(e){t.forEach(function(t){if(t.type===e){var r=t.action;var i=n._prepareData(t.data);r.applyChange(i)}})});this.afterChangesAction.applyChange()}},{key:"_prepareData",value:function e(t){var r=this;t.widgets&&(t.widgets=t.widgets.map(function(e){e.data=r.widgetDataTransformer.transform(e.type,e.data);return e}));return t}},{key:"_extractChangeProcedures",value:function e(t){var r=this;var n=this._getPageTreeChanges(t);var i=[];n.forEach(function(e){i.push({type:e.type,action:r._changeTypeMapper(e.type),data:e})});return i}},{key:"_changeTypeMapper",value:function e(t){var r={addition:this.newWidgetAction,"grid-resize":this.resizeGridAction,"grid-addition":this.newGridWidgetAction,deletion:this.deleteWidgetAction,replacement:this.replaceWidgetAction,layer:this.layerWidgetAction,"show-hide":this.showHideWidgetAction};return r[t]}},{key:"_getPageTreeChanges",value:function e(t){return t.pageTreeChanges}}]);return e}();var u=t["default"]=l},48848(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(34632);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(t){o(this,e);this.dragdropEngine=t.dragdropEngine;this.widgetAPI=t.serverWidgetAPIFacade;this.widgetRequestBodyFactory=t.widgetRequestBodyFactory;this.widgetRegister=t.widgetRegister}s(e,[{key:"add",value:function e(t){if(t.position===n.IN_GRID_LEANING){var r=this.widgetRegister.get(t.gridUniqueId);var i=this.widgetRegister.getByParentId(t.gridUniqueId);if(i.length>=n.MAX_WIDGETS_IN_GRID){Editor.Events.trigger("gridAdd:maxWidgetsExceeded",t.gridUniqueId);this.dragdropEngine.finishDrag(r.view);return}}var o=this.widgetRequestBodyFactory.createAddRequest(t);this.widgetAPI.add(o)}},{key:"move",value:function e(t){if(t.position===n.IN_GRID_LEANING){var r=this.widgetRegister.get(t.gridUniqueId);var i=this.widgetRegister.getByParentId(t.gridUniqueId);var o=i.some(function(e){return e.uniqueId===t.uniqueId});var a=o?n.MAX_WIDGETS_IN_GRID+1:n.MAX_WIDGETS_IN_GRID;if(i.length>=a){Editor.Events.trigger("gridAdd:maxWidgetsExceeded",t.gridUniqueId);this.dragdropEngine.finishDrag(r.view);return}}var s=this.widgetRequestBodyFactory.createMoveRequest(t);return this.widgetAPI.move(s)}}]);return e}();var d=t["default"]=c},24762(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"==r(t)?t:t+""}function u(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(t){o(this,e);this.fetch=t.fetch;this.envDataProvider=t.envDataProvider;this.changeInstructionInterpreter=t.changeInstructionInterpreter;this.tracker=t.tracker}s(e,[{key:"add",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/add-widget";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"add");this.tracker.track("Add widget",{widget:t.type});case 6:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"layer",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/layer-widget";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"layer");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/move-widget";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"move");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:r="/_/delete-widget";n={uniqueId:t};o.next=4;return this._makeRequest(r,n);case 4:i=o.sent;this.changeInstructionInterpreter.interpretAndExecute(i,"remove");case 6:case"end":return o.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"duplicate",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:r="/_/duplicate-section";n={uniqueId:t};o.next=4;return this._makeRequest(r,n);case 4:i=o.sent;this.changeInstructionInterpreter.interpretAndExecute(i);case 6:case"end":return o.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceRow",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/replace-row";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"replace");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"resizeGrid",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/resize-grid";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"grid-resize");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"resizeGridMobile",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/resize-grid-mobile";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"grid-resize");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"showHide",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/show-hide-widget";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"show-hide");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"cloneZone",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/clone-shared-zone";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"clone");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"restoreZone",value:function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:r="/_/restore-shared-zone";i.next=3;return this._makeRequest(r,t);case 3:n=i.sent;this.changeInstructionInterpreter.interpretAndExecute(n,"restore");case 5:case"end":return i.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"_makeRequest",value:function(){var e=i(regeneratorRuntime.mark(function e(t,r){var n,i,o=arguments;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:n=o.length>2&&void 0!==o[2]?o[2]:"POST";a.next=3;return this._request({url:t,method:n,body:r});case 3:i=a.sent;return a.abrupt("return",i.json());case 5:case"end":return a.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_getBaseURL",value:function e(){var t=this.envDataProvider.get("protocol");var r=this.envDataProvider.get("domain");return"".concat(t,"://editor.").concat(r)}},{key:"_request",value:function e(t){var r=this._getBaseURL();return window.fetch("".concat(r).concat(t.url),{method:t.method,credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":this.envDataProvider.get("csrfToken")},body:JSON.stringify(t.body)})}}]);return e}();var d=t["default"]=c},10288(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(79969);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t){h(e,t),t.add(e)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var v=new WeakSet;var m=function(){function e(t){l(this,e);p(this,v);this.widgetDefaultValueRetriever=t.widgetDefaultValueRetriever;this.widgetRegister=t.widgetRegister}c(e,[{key:"createMoveRequest",value:function e(t){return t}},{key:"createAddRequest",value:function e(t){var r=this.widgetDefaultValueRetriever.getDefaults(t.type);var n=a(a({values:r},t),{},{type:(0,i.normalisedWidgetContentType)(t.type)});if(t.mobileCoordinates){n.coordinates=t.mobileCoordinates;delete n.mobileCoordinates}g(v,this,y).call(this,t.target)&&(n.parent=t.target);return n}}]);return e}();function y(e){var t=this.widgetRegister.getMainZoneWidget();return e===t.uniqueId&&t.isEmpty()}var b=t["default"]=m},5888(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(6646);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(t){o(this,e);this.store=t.store;this.widgetRegister=t.widgetRegister}s(e,[{key:"applyChange",value:function e(){this._updateWidgetPositionsInState();this._recalculateFrameScrollbar();Editor.Events.trigger("addRowMode:addButtons")}},{key:"_updateWidgetPositionsInState",value:function e(){var t=this.widgetRegister.getZone("main");var r=this._getWidgetIdFromElement(t.view.el.firstElementChild);var i=this._getWidgetIdFromElement(t.view.el.lastElementChild);this.store.dispatch((0,n.firstWidgetOnPageChanged)(r));this.store.dispatch((0,n.lastWidgetOnPageChanged)(i))}},{key:"_getWidgetIdFromElement",value:function e(t){if(t)return t.getAttribute("data-uniqueId");return null}},{key:"_recalculateFrameScrollbar",value:function e(){Editor.Events.trigger("FrameScrollbar:recalculate")}}]);return e}();var d=t["default"]=c},81596(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetRegister=t.widgetRegister}o(e,[{key:"applyChange",value:function e(t){var r=t.widget;this.widgetRegister.unregister(r);Editor.Events.trigger("addRowMode:removeButtons");this._emptyMainZoneIfEmpty()}},{key:"_emptyMainZoneIfEmpty",value:function e(){var t=this.widgetRegister.getMainZoneWidget();t.isEmpty()&&t.emptyElement()}}]);return e}();var u=t["default"]=l},39630(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetLayerer=t.widgetLayerer;this.widgetRegister=t.widgetRegister}o(e,[{key:"applyChange",value:function e(t){var r=this.widgetRegister.getByUniqueHTMLId(t.widgetId);this.widgetLayerer.layer({layerIndex:t.layerIndex,widget:r.view.el})}}]);return e}();var u=t["default"]=l},50213(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.nodeTreeConstructor=t.nodeTreeConstructor;this.widgetGridInserter=t.widgetGridInserter;this.widgetFactory=t.widgetFactory;this.widgetRegister=t.widgetRegister;this.widgetLayerer=t.widgetLayerer;this.widgetShowHider=t.widgetShowHider;this.dragdropEngine=t.dragdropEngine}l(e,[{key:"applyChange",value:function e(t){var r=this;var n=this.nodeTreeConstructor.createTreeFromWidgetData(t.widgets);Editor.Events.trigger("addRowMode:removeButtons");this.widgetGridInserter.insert(i(i({},t.insertInto),{},{siblingChanges:t.siblingChanges||[],node:n,widgetLayerer:this.widgetLayerer,widgetRegister:this.widgetRegister,widgetShowHider:this.widgetShowHider}));t.widgets.forEach(function(e){r.widgetFactory.build(e)});this._resolveDragDrop(t.insertInto.widgetId)}},{key:"_resolveDragDrop",value:function e(t){var r=this.widgetRegister.get(t);this.dragdropEngine.finishDrag(r.view)}}]);return e}();var f=t["default"]=d},91317(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.nodeTreeConstructor=t.nodeTreeConstructor;this.widgetInserter=t.widgetInserter;this.widgetFactory=t.widgetFactory;this.widgetRegister=t.widgetRegister;this.dragdropEngine=t.dragdropEngine}l(e,[{key:"applyChange",value:function e(t){var r=this;var n=this.nodeTreeConstructor.createTreeFromWidgetData(t.widgets);Editor.Events.trigger("addRowMode:removeButtons");this.widgetInserter.insert(i(i({},t.insertInto),{},{node:n}));t.widgets.forEach(function(e){r.widgetFactory.build(e)});this._resolveDragDrop(t.widgets.slice(0,1).pop())}},{key:"_resolveDragDrop",value:function e(t){var r=this.widgetRegister.get(t.uniqueId);this.dragdropEngine.finishDrag(r.view)}}]);return e}();var f=t["default"]=d},33175(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(83502);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(t){o(this,e);this.nodeTreeConstructor=t.nodeTreeConstructor;this.widgetFactory=t.widgetFactory;this.widgetRegister=t.widgetRegister;this.widgetReplacer=t.widgetReplacer;this.dragdropEngine=t.dragdropEngine}s(e,[{key:"applyChange",value:function e(t){var r=this;var n=this.nodeTreeConstructor.createTreeFromWidgetData(t.widgets);this.widgetReplacer.replace({replaces:t.replaces,node:n});this.widgetRegister.unregister(t.replaces);t.widgets.forEach(function(e){r.widgetFactory.build(e)});Editor.Events.trigger("addRowMode:addButtons");var i=this._getFirstWidget(t);this._resolveDragDrop(i);this._openSettingsPanel(i)}},{key:"_getFirstWidget",value:function e(t){return this.widgetRegister.get(t.widgets.slice(0,1).pop().uniqueId)}},{key:"_openSettingsPanel",value:function e(t){if(!n.store.getState().site.isRowEditingMode)return;if(t.model.get("isZone")){t.children().pop().view.openSettings();return}t.isRow()&&t.view.openSettings()}},{key:"_resolveDragDrop",value:function e(t){this.dragdropEngine.finishDrag(t.view)}}]);return e}();var d=t["default"]=c},69627(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.gridResizer=t.gridResizer;this.widgetRegister=t.widgetRegister}o(e,[{key:"applyChange",value:function e(t){var r=this.widgetRegister.getByUniqueHTMLId(t.widgetId);this.gridResizer.resize({numRowsDesktop:t.numRowsDesktop,numRowsMobile:t.numRowsMobile,widgetId:r.uniqueId})}}]);return e}();var u=t["default"]=l},49310(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetShowHider=t.widgetShowHider;this.widgetRegister=t.widgetRegister}o(e,[{key:"applyChange",value:function e(t){var r=this.widgetRegister.getByUniqueHTMLId(t.widgetId);this.widgetShowHider.showHide({visibility:t.visibility,widget:r.view.el})}}]);return e}();var u=t["default"]=l},40125(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"setRelationships",value:function e(t){this._setCollection(t);this._setColumnViewRelationship(t)}},{key:"_setCollection",value:function e(t){if(t.parentUniqueId){var r=t.parent();r.addToChildCollection(t)}}},{key:"_setColumnViewRelationship",value:function e(t){var r=t.parent();!r||t.isResponsiveColumnWidget()||r.isMainZone()||t.view.setContainer(r.view);if(r&&!t.isResponsiveColumnWidget()){r.view.children&&r.view.children.add(t.view,t.uniqueId);r.view.collection&&r.view.collection.add(t.model)}}}]);return e}();var u=t["default"]=l},89281(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"breakRelationships",value:function e(t){this._removeFromParentViewCollection(t);this._removeFromParentViewChildren(t)}},{key:"_removeFromParentViewCollection",value:function e(t){var r=t.parent();r&&r.view.collection&&r.view.collection.remove(t.model)}},{key:"_removeFromParentViewChildren",value:function e(t){var r=t.parent();r&&r.view.children&&r.view.children.remove(t.view)}}]);return e}();var u=t["default"]=l},2627(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(79440));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.templateRenderer=t.templateRenderer}l(e,[{key:"build",value:function e(t){var r=Object.assign({templateRenderer:this.templateRenderer},t);return new n.default(r)}}]);return e}();var f=t["default"]=d},79440(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Backbone.View.extend({template:"view_rowbackgroundcontrol",className:"row__background-controls js-row-background-controls",events:{"click .js-replace-background":"replaceBackgroundClicked"},initialize:function e(t){this.properties=t.properties;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer},render:function e(){var t=this.templateRenderer.render(this.template,{headerOrFooter:this._isHeaderOrFooterRow(),backgroundType:this.parentView.model.get("backgroundType")});this.$el.append(t);return this},replaceBackgroundClicked:function e(){this.trigger("widget:replaceBackgroundClick")},_isHeaderOrFooterRow:function e(){return"header"===this.properties.parentZone||"footer"===this.properties.parentZone}});var n=t["default"]=r},44612(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=Le(r(18959));var i=Le(r(40125));var o=Le(r(89281));var a=Le(r(53375));var s=Le(r(45916));var l=Le(r(70597));var u=Le(r(3900));var c=Le(r(17103));var d=Le(r(13576));var f=Le(r(174));var p=Le(r(40979));var h=Le(r(99304));var g=Le(r(46572));var v=r(80219);var m=Le(r(44985));var y=Le(r(95530));var b=Le(r(60540));var w=Le(r(37820));var _=Le(r(81040));var S=Le(r(7961));var k=Le(r(64550));var P=Le(r(72154));var E=Le(r(32162));var x=Le(r(26976));var C=Le(r(60341));var O=Le(r(20361));var j=Le(r(76515));var A=Le(r(48848));var T=Le(r(89719));var D=Le(r(16711));var L=Le(r(54075));var I=Le(r(39556));var M=Le(r(14543));var R=Le(r(88307));var F=Le(r(24762));var B=Le(r(81327));var N=Le(r(26073));var V=Le(r(54220));var q=Le(r(52836));var W=Le(r(18293));var U=Le(r(30322));var z=Le(r(91317));var G=Le(r(50213));var H=Le(r(5888));var $=Le(r(33175));var K=Le(r(81596));var Z=Le(r(39630));var Q=Le(r(69627));var Y=Le(r(49310));var X=Le(r(10288));var J=Le(r(1579));var ee=Le(r(53991));var te=Le(r(94895));var re=Le(r(43891));var ne=Le(r(72898));var ie=Le(r(16491));var oe=Le(r(34357));var ae=Le(r(32686));var se=Le(r(73879));var le=Le(r(64099));var ue=Le(r(55138));var ce=Le(r(16113));var de=Le(r(94593));var fe=Le(r(82909));var pe=Le(r(29087));var he=Le(r(32756));var ge=Le(r(27037));var ve=Le(r(32983));var me=Le(r(80379));var ye=Le(r(4664));var be=Le(r(35079));var we=Le(r(5997));var _e=Le(r(93914));var Se=Le(r(50338));var ke=Le(r(82912));var Pe=Le(r(95557));var Ee=Le(r(60136));var xe=Le(r(2627));var Ce=Le(r(6878));var Oe=Le(r(44007));var je=Le(r(2260));var Ae=Le(r(80685));var Te=Le(r(62633));var De=r(83502);function Le(e){return e&&e.__esModule?e:{default:e}}var Ie=function e(t){t.factory("GridResizer",function(){return new T.default});t.factory("WidgetInserter",function(){return new D.default});t.factory("WidgetLayerer",function(){return new L.default});t.factory("WidgetShowHider",function(){return new I.default});t.factory("WidgetGridInserter",function(){return new M.default});t.factory("UndoWidgetSettingsView",function(){return new J.default});t.factory("WidgetReplacer",function(){return new R.default});t.factory("RowEditModeLayoutView",function(){return new ve.default});t.factory("WidgetSettingsControlLayoutView",function(){return new je.default});t.factory("WidgetSettingsComponentViewFactory",function(){return new we.default({settingsComponentProvider:pe.default})});t.factory("StoreDataAdapterFactory",function(){return new Ee.default({store:De.store})});t.factory("RowEditMode",function(e){return new he.default({store:De.store,RowEditingToolbarView:ge.default,TooltipView:ye.default,RowSettingsView:be.default,RowSettingsViewEmailMixin:_e.default,eventDispatcher:Editor.Events,editModeLayoutView:e.RowEditModeLayoutView,templateRenderer:e.TemplateRenderer,widgetSettingsComponentViewFactory:e.WidgetSettingsComponentViewFactory,rowLayoutControl:e.RowLayoutControl,envDataProvider:e.EnvDataProvider,widgetRegister:e.WidgetRegister,featureFlagDataProvider:e.featureFlagDataProvider})});t.factory("WidgetSettingsControl",function(e){return new Oe.default({store:De.store,widgetSettingsView:Ae.default,RowSettingsViewEmailMixin:_e.default,widgetStyleSettingsViewFactory:e.WidgetStyleSettingsViewFactory,styleSettingsProvider:e.StyleSettingsProvider,widgetSettingsControlLayoutView:e.WidgetSettingsControlLayoutView,templateRenderer:e.TemplateRenderer,widgetSettingsComponentViewFactory:e.WidgetSettingsComponentViewFactory,widgetRegister:e.WidgetRegister,featureFlagDataProvider:e.featureFlagDataProvider})});t.factory("RowWidgetControlViewFactory",function(){return new Ce.default});t.factory("RowWidgetSettingsControl",function(e){return new me.default({store:De.store,templateRenderer:e.TemplateRenderer,rowWidgetSettingsView:Te.default,widgetSettingsControlLayoutView:e.WidgetSettingsControlLayoutView,storeDataAdapterFactory:e.StoreDataAdapterFactory,rowWidgetControlViewFactory:e.RowWidgetControlViewFactory,envDataProvider:e.EnvDataProvider,zoneSharingDialogView:e.ZoneSharingDialogView,HeaderFooterSharingDialogContentView:le.default,rowLayoutControl:e.RowLayoutControl,tracker:e.Tracker})});t.factory("SiteWidgetOverlayFactory",function(e){return new u.default({templateRenderer:e.TemplateRenderer,featureFlagDataProvider:e.featureFlagDataProvider,storeDataAdapterFactory:e.StoreDataAdapterFactory,userDataProvider:e.UserDataProvider})});t.factory("ZoneSharingDialogContentViewFactory",function(e){return new ce.default({zoneCloner:e.ZoneCloner,zoneRestorer:e.ZoneRestorer,templateRenderer:e.TemplateRenderer})});t.factory("ZoneSharingDialogView",function(e){return new ue.default({DialogPanelView:ae.default,contentViewFactory:e.ZoneSharingDialogContentViewFactory})});t.factory("WidgetAssociator",function(){return new i.default});t.factory("WidgetDisassociator",function(){return new o.default});t.factory("WidgetRegister",function(){return new n.default({stdCollectionClass:Backbone.Collection,globalEventsHandler:Editor.Events})});t.factory("WidgetCollectionObserver",function(e){return new c.default({widgetRegister:e.WidgetRegister})});t.factory("WidgetViewModelFactory",function(e){return new q.default({rowsEnabled:e.featureFlagDataProvider.get("enableRows")})});t.factory("WidgetModelFactory",function(e){return new N.default({widgetViewModelFactory:e.WidgetViewModelFactory,StdModelClass:Backbone.Model,StdCollectionClass:Backbone.Collection,rowsEnabled:e.featureFlagDataProvider.get("enableRows")})});t.factory("WidgetPropertyPanelFactory",function(e){return new C.default({siteDataProvider:e.SiteDataProvider,widgetStyleSettingsViewFactory:e.WidgetStyleSettingsViewFactory,styleSettingsProvider:e.StyleSettingsProvider,rowsEnabled:e.featureFlagDataProvider.get("enableRows"),settingsComponentProvider:pe.default,tracker:e.Tracker,formEmailVerification:e.featureFlagDataProvider.get("formEmailVerification")})});t.factory("WidgetStyleSettingsViewFactory",function(e){return new O.default({store:De.store,styleSettingsProvider:e.StyleSettingsProvider,envDataProvider:e.EnvDataProvider,rowsEnabled:e.featureFlagDataProvider.get("enableRows")})});t.factory("StyleSettingsProvider",function(e){return new j.default({siteDataProvider:e.SiteDataProvider})});t.factory("WidgetDefaultValueRetriever",function(){return new W.default({StdModelClass:Backbone.Model})});t.factory("WidgetDataTransformer",function(){return new U.default({StdModelClass:Backbone.Model})});t.factory("WidgetPropertyPanelAdapter",function(e){return new x.default({settingsView:e.WidgetPropertyPanelFactory.build()})});t.factory("WidgetViewFactory",function(e){return new a.default({store:De.store,profile:BaseKit.Globals.profile,pages:BaseKit.Globals.pages,assets:BaseKit.Globals.imageAssets,hiddenWidgetsPanel:e.HiddenWidgetsPanelView,overlayFactory:e.SiteWidgetOverlayFactory,fileViewFactory:ke.default,imageEditor:te.default,widgetPropertyPanelAdapter:e.WidgetPropertyPanelAdapter,undoWidgetSettingsView:e.UndoWidgetSettingsView,envDataProvider:e.EnvDataProvider,fetch:window.fetch,dragDropEligibilityChecker:e.DragDropEligibilityChecker,userDataProvider:e.UserDataProvider,siteDataProvider:e.SiteDataProvider,featureFlagDataProvider:e.featureFlagDataProvider})});t.factory("RowsWidgetViewFactory",function(e){return new s.default({profile:BaseKit.Globals.profile,pages:BaseKit.Globals.pages,assets:BaseKit.Globals.imageAssets,hiddenWidgetsPanel:e.HiddenWidgetsPanelView,overlayFactory:e.SiteWidgetOverlayFactory,widgetBackgroundControlFactory:e.WidgetBackgroundControlFactory,fileViewFactory:ke.default,imageEditor:te.default,widgetPropertyPanelAdapter:e.WidgetPropertyPanelAdapter,undoWidgetSettingsView:e.UndoWidgetSettingsView,envDataProvider:e.EnvDataProvider,fetch:window.fetch,zoneCloner:e.ZoneCloner,zoneRestorer:e.ZoneRestorer,zoneSharingDialogView:e.ZoneSharingDialogView,ZoneSharingDialogContentView:se.default,dragDropEligibilityChecker:e.DragDropEligibilityChecker,rowEditMode:e.RowEditMode,widgetSettingsControl:e.WidgetSettingsControl,rowWidgetSettingsControl:e.RowWidgetSettingsControl,userDataProvider:e.UserDataProvider,featureFlagDataProvider:e.featureFlagDataProvider,siteDataProvider:e.SiteDataProvider,widgetSettingsData:e.StoreDataAdapterFactory.build({stateId:"widgetSettings"}),tracker:e.Tracker,brandDataProvider:e.BrandDataProvider})});t.factory("AbstractWidgetViewFactory",function(e){return new l.default({widgetViewFactory:e.WidgetViewFactory,rowsWidgetViewFactory:e.RowsWidgetViewFactory,featureFlagDataProvider:e.featureFlagDataProvider})});t.factory("WidgetRendererFactory",function(e){return new y.default({store:De.store,siteDataProvider:e.SiteDataProvider,envDataProvider:e.EnvDataProvider,assets:BaseKit.Globals.imageAssets,pagesProvider:k.default,sessionProvider:P.default,profile:BaseKit.Globals.profile,twig:Twig,formatImageAssetData:E.default,ColumnWidgetRenderer:b.default,ZoneRenderer:w.default,ZoneWidgetRenderer:_.default})});t.factory("NodeTreeConstructor",function(e){return new S.default({widgetRendererFactory:e.WidgetRendererFactory})});t.factory("WidgetFactory",function(e){return new V.default({Widget:d.default,userDataProvider:e.UserDataProvider,widgetViewFactory:e.AbstractWidgetViewFactory,modelFactory:e.WidgetModelFactory,widgetRegister:e.WidgetRegister,widgetAssociator:e.WidgetAssociator,widgetDisassociator:e.WidgetDisassociator,dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default})});t.factory("WidgetInitialiser",function(e){return new Pe.default({store:De.store,siteDataProvider:e.SiteDataProvider,widgetFactory:e.WidgetFactory,widgetRegister:e.WidgetRegister})});t.factory("DragDropEligibilityChecker",function(e){return new de.default({featureFlagDataProvider:e.featureFlagDataProvider,userDataProvider:e.UserDataProvider})});t.factory("DragBehaviourFactory",function(e){return new fe.default({featureFlagDataProvider:e.featureFlagDataProvider,userDataProvider:e.UserDataProvider})});t.factory("HiddenWidgetsPanelView",function(e){return new f.default({el:".js-hidden-widgets-panel-container",widgetRegister:e.WidgetRegister,highlighter:p.default,globalEventsHandler:Editor.Events,childBehavior:Me()?g.default:h.default,envDataProvider:e.EnvDataProvider})});t.factory("NewWidgetAction",function(e){return new z.default({widgetFactory:e.WidgetFactory,widgetInserter:e.WidgetInserter,nodeTreeConstructor:e.NodeTreeConstructor,widgetRegister:e.WidgetRegister,dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default})});t.factory("NewGridWidgetAction",function(e){return new G.default({widgetFactory:e.WidgetFactory,widgetGridInserter:e.WidgetGridInserter,nodeTreeConstructor:e.NodeTreeConstructor,widgetRegister:e.WidgetRegister,widgetLayerer:e.WidgetLayerer,widgetShowHider:e.WidgetShowHider,dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default})});t.factory("ReplaceWidgetAction",function(e){return new $.default({widgetFactory:e.WidgetFactory,widgetReplacer:e.WidgetReplacer,nodeTreeConstructor:e.NodeTreeConstructor,widgetRegister:e.WidgetRegister,dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default})});t.factory("DeleteWidgetAction",function(e){return new K.default({widgetRegister:e.WidgetRegister})});t.factory("AfterChangesAction",function(e){return new H.default({store:De.store,widgetRegister:e.WidgetRegister})});t.factory("LayerWidgetAction",function(e){return new Z.default({widgetLayerer:e.WidgetLayerer,widgetRegister:e.WidgetRegister})});t.factory("ResizeGridAction",function(e){return new Q.default({gridResizer:e.GridResizer,widgetRegister:e.WidgetRegister})});t.factory("ShowHideWidgetAction",function(e){return new Y.default({widgetShowHider:e.WidgetShowHider,widgetRegister:e.WidgetRegister})});t.factory("ChangeInstructionInterpreter",function(e){return new B.default({widgetDataTransformer:e.WidgetDataTransformer,newWidgetAction:e.NewWidgetAction,resizeGridAction:e.ResizeGridAction,newGridWidgetAction:e.NewGridWidgetAction,replaceWidgetAction:e.ReplaceWidgetAction,deleteWidgetAction:e.DeleteWidgetAction,afterChangesAction:e.AfterChangesAction,layerWidgetAction:e.LayerWidgetAction,showHideWidgetAction:e.ShowHideWidgetAction})});t.factory("ServerWidgetAPIFacade",function(e){return new F.default({fetch:window.fetch,envDataProvider:e.EnvDataProvider,changeInstructionInterpreter:e.ChangeInstructionInterpreter,tracker:e.Tracker})});t.factory("RowLayoutControl",function(e){return new re.default({rowLayoutSelectorPanelView:e.RowLayoutSelectorPanelView})});t.factory("RowLayoutSelectorPanelView",function(e){return new ne.default({store:De.store,envDataProvider:e.EnvDataProvider,widgetApi:BaseKit.Globals.widgetApi,templateRenderer:e.TemplateRenderer})});t.factory("ZoneRestorer",function(){return new ie.default({widgetApi:BaseKit.Globals.widgetApi})});t.factory("ZoneCloner",function(){return new oe.default({widgetApi:BaseKit.Globals.widgetApi})});t.factory("WidgetRequestBodyFactory",function(e){return new X.default({widgetDefaultValueRetriever:e.WidgetDefaultValueRetriever,widgetRegister:e.WidgetRegister})});t.factory("DragAndDropInterface",function(e){return new A.default({dragdropEngine:BaseKit.DragDropV8&&BaseKit.DragDropV8.dragdropEngine||m.default,serverWidgetAPIFacade:e.ServerWidgetAPIFacade,widgetRequestBodyFactory:e.WidgetRequestBodyFactory,widgetRegister:e.WidgetRegister})});t.factory("MoveWidgetOnDevice",function(e){return new ee.default({widgetAPI:e.DragAndDropInterface})});t.factory("deleteRowDialogViewFactory",function(e){var t=e.TemplateRenderer;return new Se.default({templateRenderer:t})});t.factory("WidgetBackgroundControlFactory",function(e){return new xe.default({templateRenderer:e.TemplateRenderer})});return t};function Me(){return"coarse"===v.deviceFeaturesHelper.getInputType()}var Re=t["default"]=Ie},51948(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=t["default"]={defaults:{email:"profile",text:App.t("widgets.contactform.default_button_text","Send"),formTitle:App.t("widgets.contactform.subject_line_default","Subject")}}},13445(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(96342));var i=r(53025);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=u(e,"string");return"symbol"==a(t)?t:t+""}function u(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=t["default"]={template:"widget_contactform",getSettings:function e(){var t={title:(0,n.default)("widgets.contactform.title","Contact Form"),groupInformation:[{groupId:1,groupTitle:(0,n.default)("widgets.contactform.form_details_group","Form details")},{groupId:2,groupTitle:(0,n.default)("widgets.contactform.email_details_group","Email details")},{groupId:3,groupTitle:(0,n.default)("widgets.contactform.post_submit_page_group","Post-submit page")},{groupId:4,groupTitle:(0,n.default)("widgets.contactform.display_options_group","Display options")},{groupId:5,groupTitle:(0,n.default)("widgets.contactform.marketing_consent_group","Marketing Consent")}],components:[{id:"widget-contactform-name",type:"text",label:(0,n.default)("widgets.contactform.form_name","Form name"),placeholder:(0,n.default)("widgets.contactform.placeholder","Contact form"),value:this.getData("formName")||"",autocapitalize:"on",autocorrect:"on",groupId:1},{emailVerificationEnable:true,id:"widget-contactform-email",type:"text",label:(0,n.default)("widgets.contactform.email_label","Email address"),placeholder:"test@example.com",value:"profile"!==this.getData("email")?this.getData("email"):this.profileModel.get("email"),inputType:"email",groupId:2,required:true},{id:"widget-contactform-title",type:"text",label:(0,n.default)("widgets.contactform.subject_line","Subject Line"),placeholder:this.model.defaults.formTitle,value:this.getData("formTitle")!==this.model.defaults.formTitle?this.getData("formTitle"):"",autocapitalize:"on",autocorrect:"on",groupId:2},{id:"widget-contactform-goal",type:"datasourcechooser",inputType:"url",label:(0,n.default)("widgets.contactform.goal_label","Success Page"),tooltip:(0,n.default)("widgets.contactform.success_page_tooltip","Users will be redirected to the success page after submitting this form."),customFieldLabel:(0,n.default)("widgets.contactform.custom_field_label","URL"),placeholder:(0,n.default)("widgets.contactform.goal_url_placeholder","https://www.example.com"),value:this.getData("goalUrl"),text:this.getData("goalUrl"),data:(0,i.getActiveLanguageInternalPages)(this.store.getState()),groupId:3},{id:"widget-contactform-section-header",type:"label",className:"full-page-panel__label--caps-header",value:(0,n.default)("widgets.contactform.text_fields_header","Form text"),groupId:2},{id:"widget-contactform-form-header",type:"text",label:(0,n.default)("widgets.contactform.form_header_text","Form title"),placeholder:(0,n.default)("widgets.contactform.formheader_placeholder","eg. Contact us"),value:this.getData("formHeader"),autocapitalize:"on",autocorrect:"on",groupId:4},{id:"widget-contactform-btn-text",type:"text",label:(0,n.default)("widgets.contactform.btntext","Button Text"),placeholder:this.model.defaults.text,value:this.getData("text")!==this.model.defaults.text?this.getData("text"):"",autocapitalize:"on",autocorrect:"on",groupId:4},{id:"widget-contactform-email-label",type:"text",label:(0,n.default)("widgets.contactform.email_field_label","Email label"),placeholder:(0,n.default)("widgets.contactform.email","Your Email"),value:this.getData("emailLabel"),groupId:4},{id:"widget-contactform-email-placeholder",type:"text",label:(0,n.default)("widgets.contactform.email_placeholder","Email placeholder"),placeholder:(0,n.default)("widgets.contactform.emailholder","Type your Email"),value:this.getData("emailPlaceholder"),groupId:4},{id:"widget-contactform-message-label",type:"text",label:(0,n.default)("widgets.contactform.message_label","Message label"),placeholder:(0,n.default)("widgets.contactform.message","Message"),value:this.getData("messageLabel"),autocorrect:"on",groupId:4},{id:"widget-contactform-marketing-consent-enabled",type:"checkbox",label:(0,n.default)("widgets.contactform.marketing_consent_label","Enable marketing consent"),value:this.getData("marketingConsentEnabled"),groupId:5},{id:"widget-contactform-marketing-consent-text",type:"text",label:(0,n.default)("widgets.contactform.marketing_consent_text_label","Marketing consent text"),value:this.getData("marketingConsentText")||(0,n.default)("widgets.contactform.marketing_consent_text_default","I consent to receive marketing communications."),groupId:5}]};this.enablePolicyPages&&t.components.push({id:"widget-contactform-privacy-label",type:"text",label:(0,n.default)("widgets.contactform.privacy_label","Privacy label"),placeholder:(0,n.default)("widgets.contactform.privacy_label_placeholder","eg. I agree to the use..."),value:this.getData("privacyLabel"),autocapitalize:"on",autocorrect:"on",groupId:3});return t},getSettingsEventHandlers:function e(){var t=this,r;return r={},s(r,"widget-contactform-name",function e(r){t.setData("formName",r)}),s(r,"widget-contactform-title",function e(r){var n=r;""===r&&(n=t.model.defaults.formTitle);t.setData("formTitle",n)}),s(r,"widget-contactform-btn-text",function e(r){var n=r;""===r&&(n=t.model.defaults.text);t.setData("text",n)}),s(r,"widget-contactform-email",function e(r){var i={};var o=/^.+@.+\..+$/;if(""===r){i={settingId:"widget-contactform-email",message:(0,n.default)("widgets.contactform.error_invalidemail","e.g. myname@gmail.com")};Editor.Events.trigger("setting:error:show",i)}if(r)if(o.test(r)){t.setData("email",r,{silent:true});Editor.Events.trigger("setting:error:clear","widget-contactform-email")}else{i={settingId:"widget-contactform-email",message:(0,n.default)("widgets.contactform.error_invalidemail","e.g. myname@gmail.com")};Editor.Events.trigger("setting:error:show",i)}}),s(r,"widget-contactform-goal",function e(r){var i={};var o=/^((http|ftp|ftps|https):\/\/)?[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?\^=%&amp;:\/~\+#]*[\w\-\@?\^=%&amp;\/~\+#])?$/i;var a=/^(http|ftp|ftps|https)/i;var s=r.source;var l=r.value;if("custom"===s)if(l)if(o.test(l)){a.test(l)||(l="http://".concat(l));t.model.set({goalUrl:l,goalSource:s},{silent:true});Editor.Events.trigger("setting:error:clear","widget-contactform-goal")}else{i={settingId:"widget-contactform-goal",message:(0,n.default)("widgets.contactform.error_invalidgoal","e.g. http://mypage.com")};Editor.Events.trigger("setting:error:show",i)}else{t.setData({goalUrl:"",goalSource:s},{silent:true});Editor.Events.trigger("setting:error:clear","widget-contactform-goal")}else t.setData({goalUrl:l,goalSource:s},{silent:true})}),s(r,"widget-contactform-form-header",function e(r){t.setData("formHeader",r)}),s(r,"widget-contactform-email-label",function e(r){t.setData("emailLabel",r)}),s(r,"widget-contactform-email-placeholder",function e(r){t.setData("emailPlaceholder",r)}),s(r,"widget-contactform-message-label",function e(r){t.setData("messageLabel",r)}),s(r,"widget-contactform-privacy-label",function e(r){t.setData("privacyLabel",r)}),s(r,"widget-contactform-marketing-consent-enabled",function e(r){t.setData("marketingConsentEnabled",r);t.getData("marketingConsentText")||t.setData("marketingConsentText",(0,n.default)("widgets.contactform.marketing_consent_text_default","I consent to receive marketing communications."))}),s(r,"widget-contactform-marketing-consent-text",function e(r){t.model.set("marketingConsentText",r)}),r}}},63939(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(96342));var i=o(r(71836));function o(e){return e&&e.__esModule?e:{default:e}}var a=t["default"]={recaptcha:null,template:"widget_contactform",events:{"submit .js-form":"onFormSubmit"},onFormSubmit:function e(t){t.preventDefault();var r=this.getFormData();var n=this.validateFormData(r);this.$("[aria-invalid]").on("change",function(){bk$(this).removeAttr("aria-invalid").removeAttr("aria-describedby")});if(n.length){this.enableForm();return}this.submitFormData(r)},getFormData:function e(){var t={};t.emailFrom=this.el.querySelector(".js-email-input").value.trim();t.message=this.el.querySelector(".js-message-input").value.trim();t.useProfile="profile"===this.model.get("email")?1:0;t.widgetId=this.el.id;t.widgetRef=this.properties.ref;t.pageRef=App.session.get("pageRef");t.pageLanguage=App.session.get("pageLanguage");this.enablePolicyPages&&(t.termsTicked=this.el.querySelector(".js-terms-input").checked);null!==this.recaptcha&&this.recaptcha.isShowing()&&this.recaptcha.isVerified()&&(t.recaptchaResponse=this.recaptcha.getToken());"1"===this.model.get("marketingConsentEnabled")&&(t.marketingConsentEnabled=this.el.querySelector(".js-marketing-consent-input").checked);return t},throwFormFieldError:function e(t,r){this.$(t).attr("aria-invalid",true).attr("aria-describedby",r)},showRecaptcha:function e(t){var r=this;null===this.recaptcha&&(this.recaptcha=new i.default({key:t}));this.recaptcha.isShowing()||this.recaptcha.display(this.$el.find(".js-recaptcha").get(0),{callback:function e(){return r.onFormSubmit(new Event("submit"))}})},validateFormData:function e(t){var r=this;var i=/.+@.+/;var o=[];var a=this.$el.attr("id");t.emailFrom.length?i.test(t.emailFrom)||o.push({selector:".js-email-input",message:(0,n.default)("widgets.form.invalid_email","Please enter a valid email address."),ariaDescribedBy:"".concat(a,"-input--valid-email--error")}):o.push({selector:".js-email-input",message:(0,n.default)("widgets.form.empty_email","Please enter an email address."),ariaDescribedBy:"".concat(a,"-input--email--error")});t.message.length||o.push({selector:".js-message-input",message:(0,n.default)("widgets.form.empty_message","Please enter a message."),ariaDescribedBy:"".concat(a,"-input--message--error")});this.enablePolicyPages&&!t.termsTicked&&o.push({selector:".js-terms-input",message:(0,n.default)("widgets.form.terms_unticked","Please agree to submitting your data to this organisation."),ariaDescribedBy:"".concat(a,"-input--terms--error")});if(o.length){var s=o.map(function(e){var t=e.message,r=e.ariaDescribedBy;return{message:t,ariaDescribedBy:r}});this.showMessage(s,"fail");o.forEach(function(e){var t=e.selector,n=e.ariaDescribedBy;r.throwFormFieldError(t,n)});return o}return true},disableForm:function e(){this.$(".js-form").attr("aria-busy","true");this.$(".js-loading-spinner").removeClass("hidden");this.$(".js-submit-button-text").addClass("hidden");this.$(".js-button").prop("disabled",true)},enableForm:function e(){this.$(".js-form").removeClass("submitting").attr("aria-busy","false");this.$(".js-loading-spinner").addClass("hidden");this.$(".js-submit-button-text").removeClass("hidden");this.$(".js-button").prop("disabled",false)},submitFormData:function e(t){var r=this;var i=this.$el.attr("id");var o=".js-form";var a="".concat(i,"-input--form-submitted-status");this.disableForm();this.showMessageBox();Backbone.ajax({url:"/_bk/submit-form",type:"POST",data:t,success:function e(){if(r.model.get("goalUrl"))r.redirect(r.model.get("goalUrl"));else{var t=(0,n.default)("widgets.form.success","Message sent successfully.");r.showMessage([{message:t,ariaDescribedBy:a}],"success");r.$(o).attr("aria-describedby",a);r.removeMessageBox()}},error:function e(t){if(422===t.status){r.enableForm();r.showRecaptcha(t.responseJSON.recaptcha.siteKey)}else{var i=(0,n.default)("widgets.form.failed","Submit failed.");r.showMessage([{message:i,ariaDescribedBy:a}],"fail");r.throwFormFieldError(o,a);r.removeMessageBox()}}})},showMessage:function e(t,r){if(!t||0===t.length)return;this.$(".message-box").length>0&&this.$(".message-box").remove();0===this.$(".overlay").length&&this.showMessageBox();var n=t.map(function(e){var t=e.ariaDescribedBy,r=e.message;return'<div id="'.concat(t,'" class="message-text">').concat(r,"</div>")}).join("");this.$(".overlay").addClass(r).append('<div class="message-box" style="display: block">'.concat(n,"</div>"))},showMessageBox:function e(){var t=bk$('<div class="overlay"></div>');0===this.$(".overlay").length&&this.$el.append(t);this.$(".js-form").addClass("submitting")},redirect:function e(t){window.location.assign(t)},resetFormData:function e(){this.el.querySelector(".js-email-input").value="";this.el.querySelector(".js-message-input").value="";var t=this.el.querySelector(".js-terms-input");var r=this.el.querySelector(".js-marketing-consent-input");t&&(t.checked=false);r&&(r.checked=false)},removeMessageBox:function e(){var t=this;this.enableForm();this.resetFormData();var r=setTimeout(function(){clearTimeout(r);t.$(".js-form").removeAttr("aria-invalid").removeAttr("aria-describedby");t.$(".overlay").fadeOut(function(){t.$(".overlay").remove()})},8e3)}}},9502(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r={getPluginData:function e(t){return window.Server.plugins[t]||{}},getAppData:function e(t){return window.Server.app[t]},getAppBag:function e(){return window.Server.app},getData:function e(t){return window.Server[t]}};var n=t["default"]=r},60023(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AbstractWidgetSite=t.AbstractWidgetSettings=t.AbstractWidgetData=void 0;var n=a(r(13445));var i=a(r(63939));var o=a(r(51948));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.AbstractWidgetSettings={"widget.contactform":n.default};var l=t.AbstractWidgetSite={"widget.contactform":i.default};var u=t.AbstractWidgetData={"widget.contactform":o.default}},70597(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.rowsWidgetViewFactory=t.rowsWidgetViewFactory;this.widgetViewFactory=t.widgetViewFactory;this.featureFlagDataProvider=t.featureFlagDataProvider}o(e,[{key:"build",value:function e(t,r){if(this.featureFlagDataProvider.get("enableRows"))return this.rowsWidgetViewFactory.build(t,r);return this.widgetViewFactory.build(t,r)}}]);return e}();var u=t["default"]=l},45916(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(79969);var i=r(83502);var o=r(60023);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(t){s(this,e);this.profile=t.profile;this.pages=t.pages;this.assets=t.assets;this.hiddenWidgetsPanel=t.hiddenWidgetsPanel;this.overlayFactory=t.overlayFactory;this.widgetBackgroundControlFactory=t.widgetBackgroundControlFactory;this.imageEditor=t.imageEditor;this.widgetPropertyPanelAdapter=t.widgetPropertyPanelAdapter;this.envData=t.envDataProvider;this.fetch=t.fetch;this.zonecloner=t.zoneCloner;this.zoneRestorer=t.zoneRestorer;this.zoneSharingDialogView=t.zoneSharingDialogView;this.zoneSharingDialogContentView=t.ZoneSharingDialogContentView;this.dragDropEligibilityChecker=t.dragDropEligibilityChecker;this.rowEditMode=t.rowEditMode;this.widgetSettingsControl=t.widgetSettingsControl;this.rowWidgetSettingsControl=t.rowWidgetSettingsControl;this.userDataProvider=t.userDataProvider;this.featureFlagDataProvider=t.featureFlagDataProvider;this.widgetSettingsData=t.widgetSettingsData;this.siteDataProvider=t.siteDataProvider;this.tracker=t.tracker;this.brandDataProvider=t.brandDataProvider;this.fileViewFactory=t.fileViewFactory}u(e,[{key:"build",value:function e(t,r){var i=this._getOptions(t,r);if(o.AbstractWidgetSettings[t.type]){i.abstractWidget=o.AbstractWidgetSettings[t.type];var a=Editor.Site.Dom.iframe.contentWindow.window.BaseKit.Widget.AbstractView;return new a(i)}var s=(0,n.getWidgetClass)({widgetType:t.type,type:"View"});return new s(i)}},{key:"_getOptions",value:function e(t,r){var n=false;var o=this.siteDataProvider.get("globalValues").find(function(e){return"enablePolicyPages"===e.name});"undefined"!==typeof o&&(n=o.value);var a=this.siteDataProvider.get("policyPageData");var s=this._setSelectorAccordingToType(t);var l={el:s,store:i.store,properties:h(t),model:r.get("viewModel"),collection:r.get("collection"),profile:this.profile,pages:this.pages,assets:this.assets,hiddenWidgetsPanel:this.hiddenWidgetsPanel,overlayFactory:this.overlayFactory,widgetBackgroundControlFactory:this.widgetBackgroundControlFactory,imageEditor:this.imageEditor,widgetPropertyPanelAdapter:this.widgetPropertyPanelAdapter,envData:this.envData,rowEditMode:this.rowEditMode,widgetSettingsControl:this.widgetSettingsControl,userDataProvider:this.userDataProvider,featureFlagDataProvider:this.featureFlagDataProvider,widgetSettingsData:this.widgetSettingsData,enablePolicyPages:n,policyPageData:a,tracker:this.tracker,brandDataProvider:this.brandDataProvider,fileViewFactory:this.fileViewFactory,parentUniqueId:t.parentUniqueId};l=this._setRowArguments(l,t);l.isDragDropEnabled=this.dragDropEligibilityChecker.isEligible(l);l.isDroppable=this.dragDropEligibilityChecker.isDroppable(l);return l}},{key:"_setRowArguments",value:function e(t,r){if("widget.row"===r.type)return Object.assign(t,{fetch:this.fetch,zoneCloner:this.zoneCloner,zoneRestorer:this.zoneRestorer,zoneSharingDialogView:this.zoneSharingDialogView,zoneSharingDialogContentView:this.zoneSharingDialogContentView,rowWidgetSettingsControl:this.rowWidgetSettingsControl});return t}},{key:"_setSelectorAccordingToType",value:function e(t){if(t.isTemplateWidget)return"#".concat(t.uniqueHTMLId);if("widget.template"===t.type)return"[data-uniqueid=".concat(t.uniqueId,"]");return"[data-parentuniqueid=".concat(t.parentUniqueId,"][data-uniqueid=").concat(t.uniqueId,"]")}}]);return e}();var p=t["default"]=f;function h(e){return{fixed:e.fixed,name:e.name,className:e.className,uniqueId:e.uniqueId,uniqueHTMLId:e.uniqueHTMLId,debugMode:e.debugMode||void 0,type:e.type,ref:e.ref,pageRef:e.pageRef,isZone:e.isZone,zone:e.zoneName,parentZone:e.parentZone,rowType:e.data.rowType,sectionType:e.data.sectionType,layout:e.data.layout,isInRow:e.isInRow}}},13576(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62047);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(t){o(this,e);this.uniqueId=t.uniqueId;this.parentUniqueId=t.parentUniqueId;this.model=t.model;this.view=t.view;this.widgetRegister=t.widgetRegister;this.widgetAssociator=t.widgetAssociator;this.widgetDisassociator=t.widgetDisassociator;this.dragdropEngine=t.dragdropEngine;this.userDataProvider=t.userDataProvider;this._setMetadata();this._setAssociations();this._enableDragAndDrop()}s(e,[{key:"get",value:function e(t){return this.model.get(t)}},{key:"set",value:function e(t,r){this.model.set(t,r)}},{key:"destroy",value:function e(){this.widgetDisassociator.breakRelationships(this);this.view.deleteWidget();this.model.destroy()}},{key:"children",value:function e(){return this.widgetRegister.getByParentId(this.uniqueId)}},{key:"parent",value:function e(){return this.widgetRegister.get(this.parentUniqueId)}},{key:"addToChildCollection",value:function e(t){this.get("collection").add(t.model)}},{key:"isInColumn",value:function e(){var t=this.parent();return"widget.columns.column"===t.get("type")}},{key:"isResponsiveColumnWidget",value:function e(){return"widget.responsivecolumns"===this.get("type")}},{key:"isColumn",value:function e(){return"widget.columns.column"===this.get("type")}},{key:"isEmpty",value:function e(){return 0===this.get("collection").length}},{key:"isMainZone",value:function e(){return"page-zones__main"===this.get("uniqueHTMLId")}},{key:"isRow",value:function e(){return"widget.row"===this.get("type")}},{key:"emptyElement",value:function e(){var t=this.view.el||document.querySelector(".js-site-frame").contentWindow.document.querySelector('[data-uniqueid="'.concat(this.uniqueId,'"]'));(0,n.emptyElement)(t)}},{key:"_setAssociations",value:function e(){this.widgetAssociator.setRelationships(this)}},{key:"_enableDragAndDrop",value:function e(){this.dragdropEngine.addToInitQueue(this.view)}},{key:"_setMetadata",value:function e(){this.isTemplateWidget=this.model.get("isTemplateWidget")}}]);return e}();var d=t["default"]=c},54220(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.Widget=t.Widget;this.userDataProvider=t.userDataProvider;this.widgetViewFactory=t.widgetViewFactory;this.modelFactory=t.modelFactory;this.widgetRegister=t.widgetRegister;this.widgetAssociator=t.widgetAssociator;this.widgetDisassociator=t.widgetDisassociator;this.dragdropEngine=t.dragdropEngine}o(e,[{key:"build",value:function e(t){var r=this.modelFactory.build(t);var n=this.widgetViewFactory.build(t,r);var i=new this.Widget({uniqueId:t.uniqueId,parentUniqueId:t.parentUniqueId,model:r,view:n,widgetRegister:this.widgetRegister,widgetAssociator:this.widgetAssociator,widgetDisassociator:this.widgetDisassociator,dragdropEngine:this.dragdropEngine,userDataProvider:this.userDataProvider});this.widgetRegister.register(i)}}]);return e}();var u=t["default"]=l},95557(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(6646);var i=o(r(16973));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function g(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=m(e,"string");return"symbol"==a(t)?t:t+""}function m(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var y=t["default"]=function(){function e(t){p(this,e);this.store=t.store;this.siteDataProvider=t.siteDataProvider;this.widgetFactory=t.widgetFactory;this.widgetRegister=t.widgetRegister}g(e,[{key:"initialiseWidgets",value:function e(){var t=this;this._setFirstAndLastWidget();var r=this.siteDataProvider.getWidgetData();r=this._removeWidgetsWithNoElement(r);r.forEach(function(e){t.widgetFactory.build(e)})}},{key:"_setFirstAndLastWidget",value:function e(){var t=i.default.getIframeDocument();var r=t.getElementById("page-zones__main");var o=null;var a=null;if(r.children.length>0){o=this._getWidgetIdFromElement(r.firstElementChild);a=this._getWidgetIdFromElement(r.lastElementChild)}this.store.dispatch((0,n.firstWidgetOnPageChanged)(o));this.store.dispatch((0,n.lastWidgetOnPageChanged)(a))}},{key:"_getWidgetIdFromElement",value:function e(t){return t.getAttribute("data-uniqueId")}},{key:"_removeWidgetsWithNoElement",value:function e(t){var r=i.default.getIframeDocument();return s(t).filter(function(e){return!!r.getElementById(e.uniqueHTMLId)})}}]);return e}()},26073(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==r(t)?t:t+""}function c(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.widgetViewModelFactory=t.widgetViewModelFactory;this.StdModelClass=t.StdModelClass;this.StdCollectionClass=t.StdCollectionClass}l(e,[{key:"build",value:function e(t){var r=this.widgetViewModelFactory.build(t);var n=i(i({},t),{},{viewModel:r,collection:new this.StdCollectionClass});return new this.StdModelClass(n,{idAttribute:"uniqueId"})}}]);return e}();var f=t["default"]=d},53375(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(79969);var i=r(60023);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.profile=t.profile;this.pages=t.pages;this.assets=t.assets;this.hiddenWidgetsPanel=t.hiddenWidgetsPanel;this.overlayFactory=t.overlayFactory;this.fileViewFactory=t.fileViewFactory;this.imageEditor=t.imageEditor;this.widgetPropertyPanelAdapter=t.widgetPropertyPanelAdapter;this.envData=t.envDataProvider;this.fetch=t.fetch;this.dragDropEligibilityChecker=t.dragDropEligibilityChecker;this.userDataProvider=t.userDataProvider;this.store=t.store;this.featureFlagDataProvider=t.featureFlagDataProvider;this.siteDataProvider=t.siteDataProvider}l(e,[{key:"build",value:function e(t,r){var o=this._getOptions(t,r);if(i.AbstractWidgetSettings[t.type]){o.abstractWidget=i.AbstractWidgetSettings[t.type];var a=Editor.Site.Dom.iframe.contentWindow.window.BaseKit.Widget.AbstractView;return new a(o)}var s=(0,n.getWidgetClass)({widgetType:t.type,type:"View"});var l=new s(o);return l}},{key:"_getOptions",value:function e(t,r){var n=false;var i=this.siteDataProvider.get("globalValues").find(function(e){return"enablePolicyPages"===e.name});"undefined"!==typeof i&&(n=i.value);var o=this.siteDataProvider.get("policyPageData");var a=this._setSelectorAccordingToType(t);var s={el:a,properties:p(t),model:r.get("viewModel"),collection:r.get("collection"),profile:this.profile,pages:this.pages,assets:this.assets,store:this.store,hiddenWidgetsPanel:this.hiddenWidgetsPanel,overlayFactory:this.overlayFactory,imageEditor:this.imageEditor,widgetPropertyPanelAdapter:this.widgetPropertyPanelAdapter,envData:this.envData,fileViewFactory:this.fileViewFactory,userDataProvider:this.userDataProvider,featureFlagDataProvider:this.featureFlagDataProvider,parentUniqueId:t.parentUniqueId,enablePolicyPages:n,policyPageData:o};s.isDragDropEnabled=this.dragDropEligibilityChecker.isEligible(s);s.isDroppable=this.dragDropEligibilityChecker.isDroppable(s);return s}},{key:"_setSelectorAccordingToType",value:function e(t){if(t.isTemplateWidget)return"#".concat(t.uniqueHTMLId);if("widget.template"===t.type)return"[data-uniqueid=".concat(t.uniqueId,"]");return"[data-parentuniqueid=".concat(t.parentUniqueId,"][data-uniqueid=").concat(t.uniqueId,"]")}}]);return e}();var f=t["default"]=d;function p(e){return{fixed:e.fixed,name:e.name,className:e.className,uniqueId:e.uniqueId,uniqueHTMLId:e.uniqueHTMLId,debugMode:e.debugMode||void 0,type:e.type,ref:e.ref,pageRef:e.pageRef,isZone:e.isZone,zone:e.zoneName,parentZone:e.parentZone}}},52836(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(79969);var i=a(r(42857));var o=r(60023);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=g(e,"string");return"symbol"==s(t)?t:t+""}function g(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var v=function(){function e(t){d(this,e);this.rowsEnabled=t.rowsEnabled}p(e,[{key:"build",value:function e(t){var r;if(o.AbstractWidgetData[t.type]){var a=Editor.Site.Dom.iframe.contentWindow.window.BaseKit.Widget.AbstractModel.extend({defaults:u({},o.AbstractWidgetData[t.type].defaults)});r=a}else r=(0,n.getWidgetClass)({widgetType:t.type,type:"Model"});var s=new r(u(u({},t.data),{},{isNew:t.isNew||void 0,uniqueId:t.uniqueId}));s.widgetType=t.type;if(this.rowsEnabled){s.stateManager=new i.default(s);s.stateManager.storeCurrentState()}return s}}]);return e}();var m=t["default"]=v},80379(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(71469);var i=a(r(16973));var o=a(r(41985));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function v(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=y(e,"string");return"symbol"==s(t)?t:t+""}function y(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b=o.default.isiOS;var w=function(){function e(t){h(this,e);this.store=t.store;this.templateRenderer=t.templateRenderer;this.storeDataAdapterFactory=t.storeDataAdapterFactory;this.envDataProvider=t.envDataProvider;this.widgetSettingsControlLayoutView=t.widgetSettingsControlLayoutView;this.RowWidgetSettingsView=t.rowWidgetSettingsView;this.rowWidgetControlViewFactory=t.rowWidgetControlViewFactory;this.zoneSharingDialogView=t.zoneSharingDialogView;this.headerFooterSharingDialogContentView=t.HeaderFooterSharingDialogContentView;this.rowLayoutControl=t.rowLayoutControl;this.tracker=t.tracker;this._listenToRowWidgetControlState()}v(e,[{key:"openSettings",value:function e(t){this.rowView=t;this.widgetSettingsControlLayoutView.getRegion("settings").show(this._createRowWidgetSettingsView(t));this._showControlList()}},{key:"_listenToRowWidgetControlState",value:function e(){this.rowWidgetControlState=this._createRowWidgetControlState();this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this))}},{key:"_createRowWidgetControlState",value:function e(){return this.storeDataAdapterFactory.build({stateId:"ui.rowWidgetControl"})}},{key:"_createRowWidgetSettingsView",value:function e(t){return new this.RowWidgetSettingsView({store:this.store,templateRenderer:this.templateRenderer,rowView:t,rowWidgetControlState:this._createRowWidgetControlState(),envDataProvider:this.envDataProvider,zoneSharingDialogView:this.zoneSharingDialogView,headerFooterSharingDialogContentView:this.headerFooterSharingDialogContentView,rowLayoutControl:this.rowLayoutControl,tracker:this.tracker})}},{key:"_onRowWidgetControlUIStateChange",value:function e(t){t.showRowWidgetControlList&&t.isRowWidgetControlRendered&&this._repositionControlList();!t.showRowWidgetControlList&&this.state.showRowWidgetControlList&&this._hideControlList();this.state=t}},{key:"_showControlList",value:function e(){var t,r;document.body.classList.add("is-row-menu-open");this.rowWidgetControlViewFactory.build(this.rowView.el.querySelector(".js-row-edit-mount"));this.store.dispatch((0,n.rowWidgetControlSettingsSet)({settings:this._getRowStyleSettings(),zoneType:this.rowView.properties.parentZone,zoneSharingScope:this._isShared()?"shared":"custom",showLayoutControlList:this._rowSupportsLayoutSwitching(),showShapeDividerControlList:this._rowSupportsShapeDivider()}));this.store.dispatch((0,n.rowTypeChanged)(null!==(t=this.rowView.properties.rowType)&&void 0!==t?t:""));this.store.dispatch((0,n.sectionTypeChanged)(null!==(r=this.rowView.properties.sectionType)&&void 0!==r?r:""));this.store.dispatch((0,n.rowWidgetControlListOpened)())}},{key:"_hideControlList",value:function e(){this.rowWidgetControlViewFactory.destroy();document.body.classList.remove("is-row-menu-open")}},{key:"_repositionControlList",value:function e(){var t=this.rowView.el.querySelector(".js-row-edit-mount");var r=this.rowView.el.querySelector(".js-edit");var n=document.querySelector(".js-site-preview").getBoundingClientRect();var o=document.querySelector(".js-site-frame");var a=t.getBoundingClientRect();var s=r.getBoundingClientRect();var l=r.parentNode.offsetTop+this.rowView.el.offsetTop;var u=0;if(b()){var c=i.default.getIframeDocument().querySelector("#page-zones__footer");var d=c?c.getBoundingClientRect().bottom:o.offsetHeight;u=d-s.bottom}else u=n.height-s.bottom;u<a.height&&l>a.height?t.style.top="".concat(-a.height,"px"):t.removeAttribute("style")}},{key:"_getRowStyleSettings",value:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-style-picker"===e.id})[0]}},{key:"_rowSupportsLayoutSwitching",value:function e(){var t=this.envDataProvider.get("rowLayouts");var r=void 0!==t[this.rowView.properties.rowType];return r||this._isHeaderOrFooterRow()}},{key:"_rowSupportsShapeDivider",value:function e(){if("footer"===this.rowView.properties.parentZone)return false;var t=this.envDataProvider.get("rows");var r=[];Object.keys(t).forEach(function(e){r.push.apply(r,l(t[e]))});if("undefined"===typeof this.rowView.properties.rowType)return false;var n=this.rowView.properties.rowType.replace(/-/g,"_");var i=r.filter(function(e){return e.id===n})[0];if(i&&i.values&&"true"===i.values.disableShapeDivider)return false;return true}},{key:"_isShared",value:function e(){return this._isHeaderOrFooterRow()&&!this.rowView.properties.pageRef}},{key:"_isHeaderOrFooterRow",value:function e(){return"header"===this.rowView.properties.parentZone||"footer"===this.rowView.properties.parentZone}}]);return e}();var _=t["default"]=w},62633(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(71469);var o=_(r(16706));var a=_(r(98686));var s=_(r(99736));var l=_(r(74686));var u=_(r(95630));var c=_(r(24726));var d=_(r(54998));var f=_(r(89860));var p=_(r(98976));var h=_(r(21286));var g=_(r(45410));var v=_(r(91998));var m=_(r(52872));var y=_(r(16973));var b=_(r(41985));var w=r(60443);function _(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=x(e,"string");return"symbol"==n(t)?t:t+""}function x(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function C(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function O(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){C(o,n,i,a,s,"next",e)}function s(e){C(o,n,i,a,s,"throw",e)}a(void 0)})}}var j=b.default.iOSFixRequired;var A=Marionette.LayoutView.extend({template:"row_widget_settings_layout",attributes:{id:"row-widget-settings-region"},className:"row-widget-settings-container js-row-widget-settings-container",events:{"click .js-row-widget-settings-backstop":"onBackstopClick","click .js-widget-control-backstop":"onBackstopClick"},initialize:function e(t){this.store=t.store;this.templateRenderer=t.templateRenderer;this.rowView=t.rowView;this.rowWidgetControlState=t.rowWidgetControlState;this.state=this.rowWidgetControlState.get();this.envDataProvider=t.envDataProvider;this.zoneSharingDialogView=t.zoneSharingDialogView;this.headerFooterSharingDialogContentView=t.headerFooterSharingDialogContentView;this.rowLayoutControl=t.rowLayoutControl;this.tracker=t.tracker;this.currentPage=this._getCurrentPage();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.rowStyleSettings=this._getRowStyleSettings();this.rowView.listenForSettingsChanges(this)},changeSettings:function e(t,r){this.trigger(t,r);this.rowView.model.save({widgetName:this.rowView.properties.name,widgetUniqueId:this.rowView.properties.uniqueId,fixed:this.rowView.properties.fixed})},updateSettings:function e(t,r){this.trigger(t,r)},render:function e(){var t=this.templateRenderer.render(this.template,{});this.el.insertAdjacentHTML("beforeend",t)},destroy:function e(){this.rowWidgetControlState.unsubscribe()},onBackstopClick:function e(){this.store.dispatch((0,i.rowWidgetControlListClosed)())},_getCurrentPage:function e(){var t=document.querySelector(".js-site-frame").contentWindow;var r=t.document.querySelector('meta[property="og:url"]');return r.getAttribute("content")},_onRowWidgetControlUIStateChange:function e(t){t.panelOpen&&this.state.panelOpen!==t.panelOpen&&this._handleOpenControlPanel(t.activePanel);this._shouldHandleStyleChange(this.state,t)&&this._styleChanged(t.settings.selectedStyleSet);this._shouldRestorePreviousImageStyleChange(this.state,t)&&this._restorePreviousBackgroundImage(t);t.showRowWidgetControlList&&!this.state.showRowWidgetControlList&&this._showControlList();this.state=t},_handleOpenControlPanel:function e(t){"more-information"!==t&&this._beforePanelOpen();switch(t){case"replace-image":this.openReplaceImagePanel();break;case"overlay":this.openOverlayPanel();break;case"focal-point":this.openFocalPointPanel();break;case"change-layout":this.openChangeLayoutPanel();break;case"more-information":this.openMoreInformationPanel();break;case"change-shape-divider":this.openChangeShapeDividerPanel();break;case"scroll-effects":this.openScrollEffectsPanel();break;case"animation":this.openAnimationPanel();break;case"section-height":this.openSectionHeightPanel();break;case"section-width":this.openSectionWidthPanel();break;case"section-gradient":this.openSectionGradientPanel();break;case"section-link":this.openSectionLinkPanel();break;case"grid-gap":this.openGridGapPanel();break}},_shouldHandleStyleChange:function e(t,r){return"image"!==r.settings.selectedStyleType&&r.settings.selectedStyleSet&&t.settings.selectedStyleSet&&("image"===t.settings.selectedStyleType||r.settings.selectedStyleSet!==t.settings.selectedStyleSet)},_shouldRestorePreviousImageStyleChange:function e(t,r){return r.showImageBackgroundControlList&&"image"!==r.settings.selectedStyleType&&"image"!==t.settings.selectedStyleType&&t.settings.backgroundImageSrc},_restorePreviousBackgroundImage:function e(t){this._setAsset({url:t.settings.backgroundImageSrc,ref:t.settings.backgroundImageRef,dominantColor:t.settings.dominantColor},t.settings.backgroundPosition);this.rowStyleSettings=this._getRowStyleSettings();this.store.dispatch((0,i.rowWidgetStyleChanged)({selectedStyleSet:this.rowStyleSettings.selectedStyleSet,selectedStyleType:this.rowStyleSettings.selectedStyleType}))},_showControlList:function e(){this._scrollToCurrentRow()},_getRowStyleSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-style-picker"===e.id})[0]},_getRowLayoutSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-layout-picker"===e.id})[0]},_getShapeDividerSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-shape-divider-picker"===e.id})[0]},_getAnimationSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-animation-picker"===e.id})[0]},_getSectionHeightSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-section-height-picker"===e.id})[0]},_getSectionWidthSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-section-width-picker"===e.id})[0]},_getSectionGradientSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-section-gradient-picker"===e.id})[0]},_getSectionLinkSettings:function e(){return{pageUrl:this.currentPage,sectionId:this.rowView.properties.uniqueHTMLId}},_getGridGapSettings:function e(){return this.rowView.getSettings().components.filter(function(e){return"widget-grid-gap-picker"===e.id})[0]},_styleChanged:function e(t){this.changeSettings("row-style-changed",{styleName:t})},openReplaceImagePanel:function e(){var t=this;return O(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:if(!(0,w.isMediaManagerEnabled)()){i.next=7;break}i.next=3;return(0,w.invokeMediaManager)(false);case 3:r=i.sent;r.addEventListener("bk-media-manager:media-selected",function(e){t._setAsset(e.detail)});i.next=10;break;case 7:n=new o.default({model:new a.default({panel:"upload",title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();t.listenTo(n,"asset:change",t._setAsset.bind(t));t.listenTo(n,"close:images-panel",t._onPanelClosed.bind(t));case 10:case"end":return i.stop()}},e)}))()},openOverlayPanel:function e(){var t=new s.default({dialogStyle:"dialog__panel-style--green",styleSets:this.rowStyleSettings.styleSets,overlayColour:this.rowStyleSettings.overlayColour,overlayColourType:this.rowStyleSettings.overlayColourType,overlayOpacity:this.rowStyleSettings.overlayOpacity}).render();this.listenTo(t,"overlay:change",this._setOverlaySettings.bind(this));this.listenTo(t,"opacity:drag",this._updateOverlayOpacity.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openFocalPointPanel:function e(){var t=new l.default({dialogStyle:"dialog__panel-style--green",backgroundImage:this.rowStyleSettings.backgroundImageSrc,backgroundPosition:this.rowStyleSettings.backgroundPosition}).render();this.listenTo(t,"focus:change",this._setBackgroundPosition.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openChangeLayoutPanel:function e(){this._isHeaderOrFooterRow()?this.openLayoutSelectorPanel():this.openRowLayoutPanel()},openLayoutSelectorPanel:function e(){var t=this.rowLayoutControl.enable(this.rowView);this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openRowLayoutPanel:function e(){var t=new u.default(k({dialogStyle:"dialog__panel-style--green"},this._getRowLayoutSettings())).render();this.listenTo(t,"layout:change",this._setLayout.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openChangeShapeDividerPanel:function e(){this.tracker.track("Shape divider button clicked");var t=new c.default(k({dialogStyle:"dialog__panel-style--green"},this._getShapeDividerSettings())).render();this.listenTo(t,"shapeDivider:change",this._setShapeDivider.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openScrollEffectsPanel:function e(){var t=new d.default(k({dialogStyle:"dialog__panel-style--green"},this._getRowStyleSettings())).render();this.listenTo(t,"scrollEffect:change",this._setScrollEffect.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openAnimationPanel:function e(){this.tracker.track("Animation button clicked");var t=new f.default(k({dialogStyle:"dialog__panel-style--green"},this._getAnimationSettings())).render();this.listenTo(t,"animationEffect:change",this._setAnimationEffect.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openSectionHeightPanel:function e(){this.tracker.track("Section height button clicked");var t=new p.default(k({dialogStyle:"dialog__panel-style--green"},this._getSectionHeightSettings())).render();this.listenTo(t,"height:change",this._setSectionHeight.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openSectionWidthPanel:function e(){this.tracker.track("Section width button clicked");var t=new h.default(k({dialogStyle:"dialog__panel-style--green"},this._getSectionWidthSettings())).render();this.listenTo(t,"width:change",this._setSectionWidth.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openSectionGradientPanel:function e(){this.tracker.track("Section gradient button clicked");var t=new g.default(k({dialogStyle:"dialog__panel-style--green"},this._getSectionGradientSettings())).render();this.listenTo(t,"gradient:change",this._setSectionGradient.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openSectionLinkPanel:function e(){var t=new v.default(k({dialogStyle:"dialog__panel-style--green"},this._getSectionLinkSettings())).render();this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openGridGapPanel:function e(){this.tracker.track("Section grid gap button clicked");var t=new m.default(k({dialogStyle:"dialog__panel-style--green"},this._getGridGapSettings())).render();this.listenTo(t,"gap:change",this._setGridGap.bind(this));this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},openMoreInformationPanel:function e(){var t=this.zoneSharingDialogView.display(this.headerFooterSharingDialogContentView,this._isShared()?"shared":"custom",this.rowView.properties.parentZone,{dialogClassname:"zone-sharing-dialog",showDone:true});this.listenTo(t,"panel:close",this._onPanelClosed.bind(this))},_isShared:function e(){return this._isHeaderOrFooterRow()&&!this.rowView.properties.pageRef},_isHeaderOrFooterRow:function e(){return"header"===this.rowView.properties.parentZone||"footer"===this.rowView.properties.parentZone},_setAsset:function e(t,r){var n=r||{left:"50%",top:"50%"};this.changeSettings("row-image-changed",{asset:t,backgroundPosition:n})},_setBackgroundPosition:function e(t){this.changeSettings("row-background-position-changed",{backgroundPosition:t})},_setOverlaySettings:function e(t){this.changeSettings("row-overlay-changed",{overlayColour:t.overlayColour,overlayColourType:t.overlayColourType,overlayOpacity:t.overlayOpacity})},_updateOverlayOpacity:function e(t){this.updateSettings("row-overlay-opacity-changed",{overlayOpacity:t})},_setLayout:function e(t){this.changeSettings("row-layout-changed",t)},_setShapeDivider:function e(t){this.changeSettings("row-shape-divider-changed",t)},_setScrollEffect:function e(t){this.changeSettings("row-scroll-effect-changed",t)},_setAnimationEffect:function e(t){this.changeSettings("row-animation-effect-changed",t)},_setSectionHeight:function e(t){this.changeSettings("row-section-height-changed",t)},_setSectionGradient:function e(t){this.changeSettings("row-section-gradient-changed",t)},_setSectionWidth:function e(t){this.changeSettings("row-section-width-changed",t)},_setGridGap:function e(t){this.changeSettings("row-grid-gap-changed",t)},_beforePanelOpen:function e(){document.body.classList.add("is-setting-open");this.rowView.el.querySelector(".row-overlay").classList.add("is-setting-open");this._addFramePadding();this._scrollToCurrentRow()},_onPanelClosed:function e(){this.store.dispatch((0,i.controlPanelClosed)());document.body.classList.remove("is-setting-open");this.rowView.el.querySelector(".row-overlay").classList.remove("is-setting-open");this._scrollToCurrentRow();this._updateFramePadding()},_updateFramePadding:function e(){setTimeout(function(){Editor.Events.trigger("sitePadding:update")},500)},_addFramePadding:function e(){var t=document.querySelector(".js-site-preview").getBoundingClientRect();Editor.Events.trigger("sitePadding:set",t.height)},_scrollToCurrentRow:function e(){if(j()){var t=document.querySelector(".js-site-preview");t.scrollTo(0,this.rowView.el.getBoundingClientRect().top)}else{var r=y.default.getIframeDocument();r.body.scrollTop=0;r.documentElement.scrollTop=0;r.body.scrollTop=this.rowView.el.getBoundingClientRect().top;r.documentElement.scrollTop=this.rowView.el.getBoundingClientRect().top}}});var T=t["default"]=A},44007(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(27686);var i=s(r(16973));var o=r(37524);var a=s(r(58100));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==l(t)?t:t+""}function p(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=function(){function e(t){u(this,e);if(!t.featureFlagDataProvider.get("enableRows"))return;this.store=t.store;this.widgetSettingsControlLayoutView=t.widgetSettingsControlLayoutView;this.WidgetSettingsView=t.widgetSettingsView;this.RowSettingsViewEmailMixin=t.RowSettingsViewEmailMixin;this.widgetStyleSettingsViewFactory=t.widgetStyleSettingsViewFactory;this.styleSettingsProvider=t.styleSettingsProvider;this.templateRenderer=t.templateRenderer;this.widgetSettingsComponentViewFactory=t.widgetSettingsComponentViewFactory;this.widgetRegister=t.widgetRegister;this.featureFlagDataProvider=t.featureFlagDataProvider;this.init()}d(e,[{key:"init",value:function e(){this.widgetSettingsControlLayoutView.render();this.featureFlagDataProvider.get("formEmailVerification")&&(this.RowSettingsView=Cocktail.mixin(this.WidgetSettingsView,this.RowSettingsViewEmailMixin));this.attachEvents()}},{key:"attachEvents",value:function e(){Editor.Events.on("widgetSettings:changed",this.openSettings.bind(this))}},{key:"openSettings",value:function e(t){if(this.store.getState().site.isRowEditingMode)return;this._setWidgetInEditingStatus();var r=this._hasStyleSettings(t);this.widgetSettingsPanel=this._createWidgetSettingsPanel(t,r);var n=this._createWidgetSettingsPanelBody(t);this._renderWidgetSettings(this.widgetSettingsPanel,n);if(r){var o=this._createWidgetStyleSettingsPanelBody();o.render()}this._monitorWidgetSettingError();i.default.hideAllOverlayButtons()}},{key:"_hasStyleSettings",value:function e(t){var r=false;if(!this._isWidgetInSection(t)&&this._shouldHandleStyleSettings()){var i=this.styleSettingsProvider.getStyleSettings({widgetType:t.properties.className||t.properties.type,widgetEl:t.$el,fixed:t.properties.fixed,model:t.model});var a=this.styleSettingsProvider.getStylesCollection();r=Object.keys(i).length>0;if(r){var s=(0,o.convertStyleObjectsToJson)(i,a);this.store.dispatch((0,n.stylesUpdated)(s))}}return r}},{key:"_isWidgetInSection",value:function e(t){return t.properties.isInRow}},{key:"_shouldHandleStyleSettings",value:function e(){return this.store.getState().env.V10CompatibilityMode&&this.styleSettingsProvider.hasStyleCollection()}},{key:"_setWidgetInEditingStatus",value:function e(){document.body.classList.add("widget-editing");i.default.getIframeDocument().body.classList.add("widget-editing")}},{key:"_createWidgetSettingsPanel",value:function e(t,r){var n=t.model.get("uniqueId")||t.properties.uniqueHTMLId;var i=n?this.widgetRegister.getParentByUniqueId(n):null;return new this.WidgetSettingsView({store:this.store,stylesEnabled:r,templateRenderer:this.templateRenderer,model:t.model,profileModel:t.profileModel,title:t.getSettings().title,widgetView:t,parentWidget:i})}},{key:"_createWidgetSettingsPanelBody",value:function e(t){return this.widgetSettingsComponentViewFactory.build({widgetView:t,profileModel:(0,a.default)()})}},{key:"_createWidgetStyleSettingsPanelBody",value:function e(){return this.widgetStyleSettingsViewFactory.build({el:".js-style-content"})}},{key:"_renderWidgetSettings",value:function e(t,r){var n=this.widgetSettingsControlLayoutView.getRegion("settings");n.show(t);n.currentView.getRegion("settingsBody").show(r)}},{key:"_monitorWidgetSettingError",value:function e(){Editor.Events.on("setting:error:show",this._showSettingsError.bind(this));Editor.Events.on("setting:error:clear",this._clearSettingsError.bind(this));Editor.Events.on("setting:save:validate",this._validateSaveSettings.bind(this));Editor.Events.on("setting:save:enable",this._enableSaveSettings.bind(this));Editor.Events.on("setting:save:disable",this._disableSaveSettings.bind(this))}},{key:"_getErrorModel",value:function e(t){var r=this.widgetSettingsPanel.settingsBody.currentView.collection.toArray();var n=!!(r&&r[0].get("groupId"));var i=null;n?this.widgetSettingsPanel.settingsBody.currentView.collection.toJSON().every(function(e){var r=e.collection.filter(function(e){return e.get("id")===t}).pop();if(r){i=r;return false}return true}):i=r.filter(function(e){return e.get("id")===t}).pop();return i}},{key:"_showSettingsError",value:function e(t){if(this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t.settingId);r&&r.set("error",t.message);this.widgetSettingsPanel.settingsBody.currentView.render();this._disableSaveSettings(true)}},{key:"_clearSettingsError",value:function e(t){if(this.store.getState().site.isRowEditingMode)return;var r=this._getErrorModel(t);r&&r.set("error","");this.widgetSettingsPanel.settingsBody.currentView.render();this._validateSaveSettings()}},{key:"_validateSaveSettings",value:function e(){var t=this.widgetSettingsPanel.settingsBody.currentView;t.el.querySelectorAll(".popup-panel-form__field--error").length<1&&this._enableSaveSettings()}},{key:"_enableSaveSettings",value:function e(){this.widgetSettingsPanel.el.classList.remove("error");this.widgetSettingsPanel.el.querySelector(".js-save-panel").disabled=false}},{key:"_disableSaveSettings",value:function e(t){t&&this.widgetSettingsPanel.el.classList.add("error");this.widgetSettingsPanel.el.querySelector(".js-save-panel").disabled=true}}]);return e}();var g=t["default"]=h},2260(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.LayoutView.extend({template:"widget_settings_control_layout",el:".js-widget-settings-elements",regions:{settings:"#widget-settings-region"}});var n=t["default"]=r},80685(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=u(r(96342));var i=r(9673);var o=u(r(16973));var a=u(r(45574));var s=r(45089);var l=r(34632);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return h(e)||p(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=27;var m=Marionette.LayoutView.extend({template:"widget_settings_view",attributes:{role:"dialog","aria-labelledby":"row-settings-panel-title"},className:function e(){var t="popup-panel";if(this._widgetIsOnRight(this.options.parentWidget,this.options.widgetView))return"".concat(t,"--left-aligned");return t},regions:{settingsBody:".js-settings-body",styleSettingsBody:".js-style-content"},events:{"click .js-close-panel":"closePanel","click .js-backstop":"onBackstopClicked","click .js-settings-tab-button":"onSettingsTabClicked","click .js-style-tab-button":"onStyleTabClicked",keydown:"handleKeydown",submit:"handleSubmit"},keepPanelOpen:false,initialize:function e(t){this.store=t.store;this.stylesEnabled=t.stylesEnabled;this.templateRenderer=t.templateRenderer;this.title=t.title;this.model=t.model;this.profileModel=t.profileModel;this.widgetView=t.widgetView;this.parentWidget=t.parentWidget;this.closePanelHandler=this.closePanel.bind(this);this.listenTo(this.model,"change",this.updateRowEnd);this.attachEvents();(0,s.closeIntercom)()},updateRowEnd:function e(){var t=o.default.isMobileEditMode();var r=t?"mobileRowEnd":"rowEnd";if(this.model.hasChanged())try{var n=this.calculateGridRowEnd();n&&this.model.set(r,n,{silent:true})}catch(e){console.error("Failed to save rowEnd:",e.message)}},attachEvents:function e(){Editor.Events.on("widgetSettings:close",this.closePanelHandler);Editor.Events.on("dragdrop:dragStart",this.closePanelHandler)},render:function e(){var t=this.templateRenderer.render(this.template,{title:this.title,stylesEnabled:this.stylesEnabled,hasSettings:this.widgetView.getSettings().components.length>0,emptySettingMessage:this.widgetView.getSettings().emptySettingMessage||""});this.el.insertAdjacentHTML("beforeend",t)},removePanel:function e(){Editor.Events.off("widgetSettings:close",this.closePanelHandler);Editor.Events.off("dragdrop:dragStart",this.closePanelHandler);this.remove();this._unsetWidgetInEditingStatus();this.store.dispatch((0,i.widgetSettingsClosed)());(0,s.openIntercom)()},closePanel:function e(){this.model.clear({silent:true});this.model.stateManager.restoreInitialState();this.profileModel.stateManager.restoreInitialState();this.removePanel()},onBackstopClicked:function e(t){t.stopPropagation();var r=this.el.querySelector(".js-save-panel");if(r&&r.disabled)return;this.save()},onSettingsTabClicked:function e(t){t.preventDefault();t.stopPropagation();this.el.querySelector(this.regions.styleSettingsBody).setAttribute("hidden","hidden");this.el.querySelector(this.regions.settingsBody).removeAttribute("hidden");this.el.querySelector(".js-save-panel").removeAttribute("hidden");t.currentTarget.classList.add("is-active");this.el.querySelector(".js-style-tab-button").classList.remove("is-active")},onStyleTabClicked:function e(t){t.preventDefault();t.stopPropagation();this.el.querySelector(this.regions.settingsBody).setAttribute("hidden","hidden");this.el.querySelector(this.regions.styleSettingsBody).removeAttribute("hidden");this.el.querySelector(".js-save-panel").setAttribute("hidden","hidden");t.currentTarget.classList.add("is-active");this.el.querySelector(".js-settings-tab-button").classList.remove("is-active")},logEventLookup:function e(t){var r={"widget.ecomproductslist":"ecomproductslist widget updated","widget.ecomfeaturedproducts":"ecomfeaturedproducts widget updated"};return r[t]},logIfRequired:function e(){var t=this.logEventLookup(this.widgetView.properties.type);t&&App.appcuesTrack(t)},save:function e(){if(this.model.hasChanged()){this.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId||this.widgetView.properties.uniqueHTMLId,fixed:this.widgetView.properties.fixed});this.model.stateManager.storeCurrentState();this.logIfRequired(this.widgetView.properties.type)}if(this.profileModel.hasChanged()){this.profileModel.save();this.profileModel.stateManager.storeCurrentState()}if(this.keepPanelOpen)return this;this.removePanel();return this},clearAllErrors:function e(){this.el.classList.remove("error");var t=this.settingsBody.currentView.collection.toArray();var r=!!(t&&t[0].get("groupId"));r?this.settingsBody.currentView.collection.toJSON().forEach(function(e){e.collection.toArray().forEach(function(e){return e.set("error","")})}):t.forEach(function(e){return e.set("error","")});var n=this.settingsBody.currentView;n.render()},handleSubmit:function e(t){var r=this;t.preventDefault();this.clearAllErrors();var n=false;var i=this.settingsBody.currentView.collection.toArray();var o=!!(i&&i[0].get("groupId"));if(o)n=this.settingsBody.currentView.collection.toJSON().some(function(e){var t=e.collection.toArray().filter(function(e){return e.get("required")});return r.checkRequiredFields(t)});else{var a=i.filter(function(e){return e.get("required")});n=this.checkRequiredFields(a)}n||this.save()},checkRequiredFields:function e(t){var r=false;t.forEach(function(e){var t=e.get("value");if(!t||!t.length){r=true;var i={settingId:e.get("id"),message:(0,n.default)("global.message-field-required","This field is required")};Editor.Events.trigger("setting:error:show",i)}});return r},handleKeydown:function e(t){t.keyCode===v&&this.closePanel()},setRowEndAttribute:function e(t,r){if(!t)return;var n=o.default.isMobileEditMode()?"data-mobile-row-end":"data-row-end";t.setAttribute(n,r)},calculateGridRowEnd:function e(){var t=this.getParentGrid();if(!t)return null;this.gridRowCount=(0,l.getGridData)(t).gridRowCount;var r=this.getWidget();var n=this.getRowStart(r);if(!n)return null;var i=this.calculateRowEnd(r,t,n);this.setRowEndAttribute(r,i);var o=this.getAdjustedRowEnd(t,i);this._updateGridRowCount(t,o);return i},getParentGrid:function e(){return this.widgetView.el.closest(".row__container--grid")},getWidget:function e(){return this.widgetView.el.closest(".js-widget")},getRowStart:function e(t){var r=o.default.isMobileEditMode()?"data-mobile-row-start":"data-row-start";var n=parseInt(null===t||void 0===t?void 0:t.getAttribute(r),10);if(!n){console.error("Widget missing ".concat(r," attribute"));return null}return n},calculateRowEnd:function e(t,r,n){var i=t.children[0];var o=(0,l.getElementSize)(i,r),a=o.numRowsHigh;var s=n+a;return s},getAdjustedRowEnd:function e(t,r){var n=c(t.querySelectorAll(".js-widget"));var i=r;var a=o.default.isMobileEditMode()?"data-mobile-row-end":"data-row-end";n.forEach(function(e){var t=parseInt(e.getAttribute(a)||"0",10);i=Math.max(i,t)});return i},_updateGridRowCount:function e(t,r){var n=r-1;if(!t)return;var i=this.parentWidget.uniqueId;if(!i)return;if(this.gridRowCount<n){var a=o.default.isMobileEditMode();Editor.Events.trigger("grid-row-end-changed",a?{numRowsMobile:n,gridId:i}:{numRows:n,gridId:i});this.gridRowCount=n}},_widgetIsOnRight:function e(t,r){if(t)return t.isColumn()&&t.model.collection.indexOf(t.model)>0;var n=r.el.getBoundingClientRect();return a.default.getWindowWidth()/2<n.left+n.width/2},_unsetWidgetInEditingStatus:function e(){document.body.classList.remove("widget-editing");o.default.getIframeDocument().body.classList.remove("widget-editing")}});var y=t["default"]=m},53991(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(41985));var i=r(83502);var o=r(99951);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"==s(t)?t:t+""}function f(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=n.default.iOSFixRequired();var h=function(){function e(t){l(this,e);this.widgetAPI=t.widgetAPI}c(e,[{key:"toggleMoveMode",value:function e(){var t=document.querySelector("body");var r=Editor.Site.Dom.window.document.querySelector("body");r.classList.toggle("is-move-mode");t.classList.toggle("is-move-mode");i.store.dispatch((0,o.rowMoveModeSet)(this.isMoveModeEnabled()));p&&Editor.Events.trigger("iosFrameBug:recalculate")}},{key:"isMoveModeEnabled",value:function e(){var t=document.querySelector("body");return t.classList.contains("is-move-mode")}}]);return e}();var g=t["default"]=h},78748(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(41985);var i=r(83502);var o=l(r(21983));var a=l(r(16973));var s=r(71469);function l(e){return e&&e.__esModule?e:{default:e}}var u=Backbone.View.extend({className:"row-overlay js-widget-overlay",events:{click:"onClick","click .js-options":"showRowOptionsModal","click .js-delete":"onDeleteClick","click .js-cancel-delete":"hideRowDeleteModal","click .js-move-up":"onMoveClick","click .js-move-down":"onMoveClick","click .js-edit":"onEditClick","click .js-layout":"onLayoutClick","click .js-backstop":"onBackstopClick","click .js-delete-backstop":"hideRowDeleteModal","click .js-options-backstop":"hideRowOptionsModal","mouseover .js-content-area":"onContentAreaMouseOver","click .js-delete-confirm":"handleDeleteOption","click .js-delete-option":"handleDeleteOption","click .js-duplicate-option":"handleDuplicateOption"},handleDeleteOption:function e(){document.body.classList.contains("row-options-mode")&&this.hideRowOptionsModal();var t=this.el.querySelector(".js-delete-backstop");Editor.Events.trigger("addRowMode:removeButtons");t.removeAttribute("hidden");parent.document.body.classList.add("row-delete-mode");a.default.getIframeDocument().body.classList.add("row-menu-open");document.addEventListener("click",this.rowDeleteBackstopClick,true);this.showRowDeleteModal()},handleDuplicateOption:function e(){this.hideRowOptionsModal();this.trigger("widget:duplicate")},initialize:function e(t){this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.properties=t.properties;this.immutable=t.immutable;this.isImageEditable=t.isImageEditable;this.isDeletable=t.isDeletable;this.isMovable=t.isMovable||false;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer;this.sticky=t.sticky;this.widgetData=t.widgetData;this.widgetData.subscribe(this._onWidgetDataChange.bind(this));this.rowWidgetControlState=t.rowWidgetControlState;this.rowDeleteBackstopClick=this.closeRowDeleteModalClickHandler.bind(this)},render:function e(){var t=this.templateRenderer.render("view_rowoverlay",this._getTwigTemplateContext());this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver(function(e,r){t.onAttach(r)});if(this.parentView&&this.parentView.el){r.observe(this.parentView.el,{childList:true});this.removeEmptyParentView()}},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,n.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()},removeEmptyParentView:function e(){if(this._hasNoChildWidgetInParentView()&&!this.deleteRequestInFlight){this._deleteParentRowWidget();this.deleteRequestInFlight=true}},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"));this.widgetData.unsubscribe()},onClick:function e(t){var r=this.parentView.el;var n=r.querySelector('[data-name="ecomproductslist"');var a=o.default.container.SiteDataProvider.get("ecommerce");if(i.store.getState().site.isRowMoveMode||i.store.getState().site.isDesktopMode||a&&!a.store.live&&n||!a&&n)return;this.trigger("widget:overlayClick",t)},onDeleteConfirmClick:function e(){var t=this.el.querySelector(".js-delete-backstop");Editor.Events.trigger("addRowMode:removeButtons");t.removeAttribute("hidden");parent.document.body.classList.add("row-delete-mode");a.default.getIframeDocument().body.classList.add("row-menu-open");document.addEventListener("click",this.rowDeleteBackstopClick,true);this.showRowDeleteModal()},showRowDeleteModal:function e(){var t=Twig.render(Twig.templates.view_row_confirm_delete_dialog);this.$el.append(t);return this},showRowOptionsModal:function e(){var t=this.el.querySelector(".js-options-backstop");var r=Twig.render(Twig.templates.view_row_options_dialog);parent.document.body.classList.add("row-options-mode");t.removeAttribute("hidden");this.$el.append(r);return this},hideRowOptionsModal:function e(){if(!parent.document.body.classList.contains("row-options-mode"))return;var t=this.el.querySelector(".row-overlay__options-modal");var r=this.el.querySelector(".js-options-backstop");r.setAttribute("hidden","hidden");parent.document.body.classList.remove("row-options-mode");t.remove()},hideRowDeleteModal:function e(){if(!parent.document.body.classList.contains("row-delete-mode"))return;var t=this.el.querySelector(".row-overlay__delete-modal");var r=this.el.querySelector(".js-delete-backstop");r.setAttribute("hidden","hidden");parent.document.body.classList.remove("row-delete-mode");a.default.getIframeDocument().body.classList.remove("row-menu-open");document.removeEventListener("click",this.rowDeleteBackstopClick,true);t.remove();Editor.Events.trigger("addRowMode:addButtons")},onDeleteClick:function e(t){t.stopPropagation();this._deleteParentRowWidget();this.hideRowDeleteModal()},closeRowDeleteModalClickHandler:function e(t){t.target.closest(".row-overlay__delete-modal")||this.hideRowDeleteModal()},onMoveClick:function e(t){Editor.Events.trigger("addRowMode:removeButtons");t.stopPropagation();var r=t.currentTarget.getAttribute("data-position");var n=this.properties.uniqueId;Editor.Events.trigger("widget:move:".concat(n),{position:r,uniqueId:n});this._updateFramePadding()},onEditClick:function e(t){Editor.Events.trigger("addRowMode:removeButtons");t.stopPropagation();this.el.querySelector(".js-edit").classList.add("is-active");this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onLayoutClick:function e(t){Editor.Events.trigger("addRowMode:removeButtons");t.stopPropagation();this.el.querySelector(".js-layout").classList.add("is-active");i.store.dispatch((0,s.rowWidgetLayoutControlListShown)());this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onBackstopClick:function e(){Editor.Events.trigger("addRowMode:addButtons");i.store.dispatch((0,s.rowWidgetLayoutControlListHidden)());i.store.dispatch((0,s.rowWidgetControlListClosed)())},onContentAreaMouseOver:function e(t){t.stopPropagation();t.stopImmediatePropagation();this.el.classList.contains("is-setting-open")||this.el.classList.remove("hover")},_deleteParentRowWidget:function e(){this.trigger("widget:delete");this._updateFramePadding()},_onWidgetDataChange:function e(){this.$el.empty();this.render()},_getTwigTemplateContext:function e(){return{hideTplWidget:this.hideTplWidget,properties:this.properties,immutable:this.immutable,isImageEditable:this.isImageEditable,isDeletable:this.isDeletable,isMovable:this.isMovable,canMoveUp:this.widgetData.get().firstWidget!==this.properties.uniqueId,canMoveDown:this.widgetData.get().lastWidget!==this.properties.uniqueId}},_onRowWidgetControlUIStateChange:function e(t){t.showRowWidgetControlList&&!this.state.showRowWidgetControlList&&this._showControlList();!t.showRowWidgetControlList&&this.state.showRowWidgetControlList&&this._hideControlList();this.state=t},_showControlList:function e(){this.el.classList.add("is-dropdown-open");this.el.querySelector(".js-backstop").removeAttribute("hidden");a.default.getIframeDocument().body.classList.add("row-menu-open")},_hideControlList:function e(){var t=this;Editor.Events.trigger("addRowMode:addButtons");this.rowWidgetControlState.unsubscribe();this.el.querySelector(".is-active").classList.remove("is-active");this.el.classList.remove("is-dropdown-open");a.default.getIframeDocument().body.classList.remove("row-menu-open");setTimeout(function(){t.el.querySelector(".js-backstop").setAttribute("hidden","hidden")},100)},_updateFramePadding:function e(){setTimeout(function(){Editor.Events.trigger("sitePadding:update")},500)},_hasNoChildWidgetInParentView:function e(){return this.parentView.el.querySelectorAll(".js-widget").length<1}});var c=t["default"]=u},13874(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(83502);var o=u(r(21983));var a=l(r(16973));var s=r(71469);function l(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(l=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}function u(e){return e&&e.__esModule?e:{default:e}}var c=Backbone.View.extend({className:"row-overlay js-widget-overlay",events:{click:"onTouch","click .js-delete-confirm":"onDeleteConfirmClick","click .js-delete":"onDeleteTouch","click .js-cancel-delete":"hideRowDeleteModal","click .js-move-up":"onMoveClick","click .js-move-down":"onMoveClick","click .js-edit":"onEditClick","click .js-layout":"onLayoutClick","click .js-backstop":"onBackstopClick","click .js-delete-backstop":"hideRowDeleteModal"},initialize:function e(t){this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.properties=t.properties;this.immutable=t.immutable;this.isImageEditable=t.isImageEditable;this.isDeletable=t.isDeletable;this.isMovable=t.isMovable||false;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer;this.isActive=false;this.widgetData=t.widgetData;this.widgetData.subscribe(this._onWidgetDataChange.bind(this));this.rowWidgetControlState=t.rowWidgetControlState;this.rowDeleteBackstopClick=this.closeRowDeleteModalClickHandler.bind(this);Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},render:function e(){var t=this.templateRenderer.render("view_rowoverlay",this._getTwigTemplateContext());this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(t){var r=this.parentView.el;var n=r.querySelector('[data-name="ecomproductslist"');var a=o.default.container.SiteDataProvider.get("ecommerce");if(i.store.getState().site.isRowMoveMode||i.store.getState().site.isDesktopMode||a&&!a.store.live&&n||!a&&n)return;this.trigger("widget:overlayClick",t)},onDeleteConfirmClick:function e(){var t=this.el.querySelector(".js-delete-backstop");t.removeAttribute("hidden");this.el.classList.add("hover");parent.document.body.classList.add("row-delete-mode");a.default.getIframeDocument().body.classList.add("row-menu-open");document.addEventListener("touchstart",this.rowDeleteBackstopClick,true);this.showRowDeleteModal()},showRowDeleteModal:function e(){var t=Twig.render(Twig.templates.view_row_confirm_delete_dialog);this.$el.append(t);return this},hideRowDeleteModal:function e(){var t=this.el.querySelector(".row-overlay__delete-modal");var r=this.el.querySelector(".js-delete-backstop");r.setAttribute("hidden","hidden");this.el.classList.remove("hover");parent.document.body.classList.remove("row-delete-mode");a.default.getIframeDocument().body.classList.remove("row-menu-open");document.removeEventListener("touchstart",this.rowDeleteBackstopClick,true);t.remove()},closeRowDeleteModalClickHandler:function e(t){t.target.closest(".row-overlay__delete-modal")||this.hideRowDeleteModal()},onDeleteTouch:function e(t){t.stopPropagation();this.trigger("widget:delete");this.hideRowDeleteModal();this._updateFramePadding()},onMoveClick:function e(t){var r=t.currentTarget.getAttribute("data-position");var n=this.properties.uniqueId;Editor.Events.trigger("widget:move:".concat(n),{position:r,uniqueId:n});this._updateFramePadding()},onEditClick:function e(t){t.stopPropagation();this.el.querySelector(".js-edit").classList.add("is-active");this.el.classList.add("hover");this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onLayoutClick:function e(t){t.stopPropagation();this.el.classList.add("hover");this.el.querySelector(".js-layout").classList.add("is-active");i.store.dispatch((0,s.rowWidgetLayoutControlListShown)());this.state=this.rowWidgetControlState.get();this.rowWidgetControlState.subscribe(this._onRowWidgetControlUIStateChange.bind(this));this.trigger("rowWidget:editClick",t)},onBackstopClick:function e(t){t.stopPropagation();i.store.dispatch((0,s.rowWidgetControlListClosed)())},onParentViewDelete:function e(){},_onWidgetDataChange:function e(){this.$el.empty();this.render()},_getTwigTemplateContext:function e(){return{hideTplWidget:this.hideTplWidget,properties:this.properties,immutable:this.immutable,isImageEditable:this.isImageEditable,isDeletable:this.isDeletable,isMovable:this.isMovable,canMoveUp:this.widgetData.get().firstWidget!==this.properties.uniqueId,canMoveDown:this.widgetData.get().lastWidget!==this.properties.uniqueId}},_onRowWidgetControlUIStateChange:function e(t){t.showRowWidgetControlList&&!this.state.showRowWidgetControlList&&this._showControlList();!t.showRowWidgetControlList&&this.state.showRowWidgetControlList&&this._hideControlList();this.state=t},_showControlList:function e(){this.el.classList.add("is-dropdown-open");this.el.querySelector(".js-backstop").removeAttribute("hidden")},_hideControlList:function e(){var t=this;this.rowWidgetControlState.unsubscribe();this.el.querySelector(".is-active").classList.remove("is-active");this.el.classList.remove("is-dropdown-open","hover");a.default.getIframeDocument().body.classList.remove("row-menu-open");setTimeout(function(){t.el.querySelector(".js-backstop").setAttribute("hidden","hidden")},100)},_updateFramePadding:function e(){setTimeout(function(){Editor.Events.trigger("sitePadding:update")},500)}});var d=t["default"]=c},3900(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=p(r(77669));var i=r(80219);var o=p(r(27400));var a=p(r(78748));var s=p(r(68598));var l=p(r(13874));var u=p(r(84045));var c=p(r(17905));var d=p(r(44526));var f=p(r(4676));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e){return b(e)||y(e)||m(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return w(e)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function k(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e){var t=E(e,"string");return"symbol"==h(t)?t:t+""}function E(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var x=function(){function e(t){_(this,e);this.templateRenderer=t.templateRenderer;this.featureFlagDataProvider=t.featureFlagDataProvider;this.storeDataAdapterFactory=t.storeDataAdapterFactory;this.userDataProvider=t.userDataProvider}k(e,[{key:"build",value:function e(t){var r=this._getOverlayClass(t);var n=this._getAdditionalOptions(t);var i=Object.assign(n,t);var o=this._createWidgetOverlays(r,i);t.hasMigratedTopLevelOverlay&&o.push(this._createTopLevelOverlay(i));return o}},{key:"_createWidgetOverlays",value:function e(t,r){var n=[];if(!r.hasWidgetOverlay)return n;r.multipleOverlays?n=this._createMultipleOverlays(t,r):n.push(new t(r));return n}},{key:"_createTopLevelOverlay",value:function e(t){return new n.default(Object.assign(t,{isMovable:true,isDeletable:true}))}},{key:"_createMultipleOverlays",value:function e(t,r){var n=[];var i=r.parentView;var o=g(i.el.querySelectorAll(".js-has-overlay"));o.forEach(function(e){var i=Object.assign({},r,{childElement:e});var o=new t(i);n.push(o)});this._shouldCreateParentWidgetOverlay(r)&&n.push(new t(Object.assign(r,{isMovable:true,isDeletable:true})));return n}},{key:"_getOverlayClass",value:function e(t){var r=this._getOverlayType(t);if(this.featureFlagDataProvider.get("enableRows")){if("widgetInRow"===r)return C()?c.default:u.default;if(C())return"row"===r?l.default:f.default;return"row"===r?a.default:d.default}return C()?s.default:o.default}},{key:"_getOverlayType",value:function e(t){if(this.featureFlagDataProvider.get("enableRows")&&"widget.row"===t.properties.type)return"row";if(t.properties.isInRow)return"widgetInRow";return"widget"}},{key:"_getAdditionalOptions",value:function e(t){var r=this.featureFlagDataProvider.get("enableRows");var n="widget.row"===t.properties.type;var i=this.userDataProvider.has("enableDragAndDropWidgets");var o={templateRenderer:this.templateRenderer,isMovable:this._checkIsMovable(t,n,r,i),isDeletable:this._checkIsDeletable(t,n,r,i),showImageSelectionButton:this._shouldShowImageSelectionButton(t,r),showImageEditorButton:this._shouldShowImageEditorButton(t,r),sticky:t.sticky};if(r){o.widgetData=this.storeDataAdapterFactory.build({stateId:"widget"});n&&(o.rowWidgetControlState=this.storeDataAdapterFactory.build({stateId:"ui.rowWidgetControl"}))}else o.showSettingsIcon=true;return o}},{key:"_checkIsMovable",value:function e(t,r,n,i){if(n&&"main"!==t.properties.parentZone)return false;var o=n&&!r;if(o)return this._isMovableWidgetInRow(t,i);return!t.properties.fixed}},{key:"_isMovableWidgetInRow",value:function e(t,r){return r&&!this._isMovableExceptionInRow(t)&&!C()}},{key:"_checkIsDeletable",value:function e(t,r,n,i){if(t.properties.fixed)return false;if(t.immutable&&"0"!==t.immutable)return false;if(n&&"main"!==t.properties.parentZone)return false;if(n&&!r){if("widget.contentgroup"===t.properties.type)return false;return i&&!C()}return true}},{key:"_shouldShowImageSelectionButton",value:function e(t,r){if(r)return false;return["image","gallery","responsiveslideshow"].includes(t.properties.className)}},{key:"_shouldShowImageEditorButton",value:function e(t,r){if(r)return false;return"image"===t.properties.className}},{key:"_shouldCreateParentWidgetOverlay",value:function e(t){var r=this.featureFlagDataProvider.get("enableRows");var n=this.userDataProvider.has("enableDragAndDropWidgets");var i="main"===t.properties.parentZone;var o="widget.contentgroup"===t.properties.type;if(C())return false;if(!r||!n)return false;return i&&o}},{key:"_isMovableExceptionInRow",value:function e(t){if(this._isWidgetImmutable(t))return true;return this._isContentGroupWidget(t)}},{key:"_isWidgetImmutable",value:function e(t){return t.immutable&&"0"!==t.immutable}},{key:"_isContentGroupWidget",value:function e(t){return"widget.contentgroup"===t.properties.type}}]);return e}();function C(){return i.deviceFeaturesHelper.isSmallTouchDevice()}var O=t["default"]=x},77669(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(41985);var i=r(62047);var o=Backbone.View.extend({className:"top-level-overlay js-widget-overlay",events:{"click .js-delete":"onDeleteClick","click .js-move-up":"onMoveClick","click .js-move-down":"onMoveClick"},initialize:function e(t){this.properties=t.properties;this.isDeletable=t.isDeletable;this.isMovable=t.isMovable;this.parentView=t.parentView;this.templateRenderer=t.templateRenderer;this.sticky=t.sticky;this.widgetData=t.widgetData;this.widgetData.subscribe(this.onWidgetDataChange.bind(this))},render:function e(){var t=this.templateRenderer.render("view_topleveloverlay",this._getTwigTemplateContext());(0,i.append)(this.el,t);this.onRender();return this},onRender:function e(){this.attachParentViewObserver()},attachParentViewObserver:function e(){var t=new MutationObserver(this.onParentViewMutated.bind(this));t.observe(this.parentView.el,{childList:true})},onParentViewMutated:function e(t,r){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,n.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));r.disconnect()},onParentViewDelete:function e(){(0,n.isIE)()||this.sticky.remove(this.el.querySelector(".js-overlay-sticky"));this.widgetData.unsubscribe()},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete")},onMoveClick:function e(t){t.stopPropagation();var r=t.currentTarget.getAttribute("data-position");var n=this.properties.uniqueId;Editor.Events.trigger("widget:move:".concat(n),{position:r,uniqueId:n})},onWidgetDataChange:function e(){(0,i.emptyElement)(this.el);this.render()},_getTwigTemplateContext:function e(){return{isDeletable:this.isDeletable,isMovable:this.isMovable,canMoveUp:this.widgetData.get().firstWidget!==this.properties.uniqueId,canMoveDown:this.widgetData.get().lastWidget!==this.properties.uniqueId}}});var a=t["default"]=o},44526(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(41985);var i=r(62412);var o=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onClick","click .js-delete":"onDeleteClick","click .js-visibility":"onVisibilityClick"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.childElement=t.childElement;this.sticky=t.sticky},setOverlayData:function e(t){var r,n;var o=null!==(r=null===t||void 0===t||null===(n=t.parentView)||void 0===n?void 0:n.model)&&void 0!==r&&r;return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton&&!(0,i.isAssetSvg)(o),enableRows:true}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver(function(e,r){t.onAttach(r)});this.parentView&&this.parentView.el&&r.observe(this.parentView.el,{childList:true,subtree:true})},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,n.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"))},onClick:function e(t){this.trigger("widget:overlayClick",t)},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete")},onVisibilityClick:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)}});var a=t["default"]=o},4676(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(62412);var i=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onTouch","click .js-delete":"onDeleteTouch","click .js-visibility":"onVisibilityTouch"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.childElement=t.childElement;this.isActive=false;Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},setOverlayData:function e(t){var r,i;var o=null!==(r=null===t||void 0===t||null===(i=t.parentView)||void 0===i?void 0:i.model)&&void 0!==r&&r;return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton&&!(0,n.isAssetSvg)(o)}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(t){this.trigger("widget:overlayClick",t)},onDeleteTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:delete")},onParentViewDelete:function e(){},onVisibilityTouch:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");if(this.isActive){var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)}},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)}});var o=t["default"]=i},27400(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(21983));var i=r(62412);function o(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onClick","click .js-settings":"onSettingsClick","click .js-image-picker":"onImagePickerClick","click .js-visibility":"onVisibilityClick","click .js-delete":"onDeleteClick","click .js-edit-image":"onEditImageClick",mouseover:"onMouseover",mouseout:"onMouseout"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.sticky=t.sticky},setOverlayData:function e(t){var r,o;var a=null!==(r=null===t||void 0===t||null===(o=t.parentView)||void 0===o?void 0:o.model)&&void 0!==r&&r;var s=t.hasOwnProperty("properties");var l=n.default.container.SiteDataProvider.get("ecommerce");var u=!(l&&!l.store.live&&s&&"widget.ecomproductslist"===t.properties.type||!l&&s&&"widget.ecomproductslist"===t.properties.type)&&t.showSettingsIcon;var c={hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable&&!(0,i.isAssetSvg)(a),isMovable:t.isMovable,isDeletable:t.isDeletable,showSettingsIcon:u,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton};return c},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver(function(e,r){t.onAttach(r)});this.parentView&&this.parentView.el&&r.observe(this.parentView.el,{childList:true})},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);try{this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()}catch(e){}},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"))},isWidgetType:function e(t){return this.overlayData.properties&&this.overlayData.properties.type===t},onClick:function e(t){var r=n.default.container.SiteDataProvider.get("ecommerce");var i=this.isWidgetType("widget.ecomproductslist");if(r&&!r.store.live&&i||!r&&i)return;this.trigger("widget:overlayClick",t)},onEditImageClick:function e(t){t.stopPropagation();this.trigger("widget:editImage")},onSettingsClick:function e(t){t.stopPropagation();this.trigger("widget:settings")},onImagePickerClick:function e(t){t.stopPropagation();this.trigger("widget:imagePicker")},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete")},onVisibilityClick:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)},onMouseover:function e(t){t.stopPropagation();var r=n.default.container.SiteDataProvider.get("ecommerce");var i=this.isWidgetType("widget.ecomproductslist");(r&&!r.store.live&&i||!r&&i)&&this.el.classList.add("no-pointer")},onMouseout:function e(t){t.stopPropagation();var r=n.default.container.SiteDataProvider.get("ecommerce");var i=this.isWidgetType("widget.ecomproductslist");(r&&!r.store.live&&i||!r&&i)&&this.el.classList.remove("no-pointer")}});var s=t["default"]=a},84045(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(41985);var o=d(r(21983));var a=r(62412);var s=c(r(16973));var l=d(r(72500));var u=r(22677);function c(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(c=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}function d(e){return e&&e.__esModule?e:{default:e}}var f=Backbone.View.extend({className:"widget-overlay widget-in-row-overlay js-widget-overlay js-widget-in-row-overlay",events:{click:"onClick",dblclick:"onSettingsClick","click .js-settings":"onSettingsClick","click .js-delete":"onDeleteClick","click .js-hide":"onHideClick","click .js-hide-option":"onHideOptionClick","dragstart .js-scale":"onScaleStart","drag .js-scale":"onScale","dragend .js-scale":"onScaleEnd","click .js-force-forward":"onForceForwardClick","click .js-force-backward":"onForceBackwardClick",mouseover:"onMouseover",mouseout:"onMouseout"},initialize:function e(t){this.store=t.store;this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.parentView=t.parentView;this.childElement=t.childElement;this.overlayData=this.setOverlayData(t);this.sticky=t.sticky;this.closeSettingsClick=this.closeSettingsClickHandler.bind(this);this.initialOffset={left:0,top:0};this.initialPosition={x:0,y:0};this.initialSize={height:0,width:0};this.scaleLock=false;this.scaleLockCoordX=null;this.scaleLockCoordY=null;this.listenTo(Editor.Events,"gridHeightResize:maxHeightExceeded",this._blockScaling)},setOverlayData:function e(t){var r,n,i,o,s,l;var u=null!==(r=null===t||void 0===t||null===(n=t.parentView)||void 0===n?void 0:n.model)&&void 0!==r&&r;return{hideTplWidget:this.hideTplWidget,childElement:this.childElement,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton&&!(0,a.isAssetSvg)(u),enableRows:true,isGrid:(null===(i=this.parentView)||void 0===i||null===(o=i.el)||void 0===o||null===(s=o.parentNode)||void 0===s||null===(l=s.classList)||void 0===l?void 0:l.contains("row__container--grid"))||false,isGridResizingLimited:this._isGridResizingLimited(t),visibility:t.visibility}},getDroppable:function e(t){var r=t.parentUniqueId;return l.default.getDroppableByUniqueId(r)},getWidget:function e(){var t=this.overlayData.properties.uniqueId;var r=o.default.container.WidgetRegister;return r.get(t)},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.find(".js-overlay-sticky").remove();this.$el.append(t);this.onRender();return this},onRender:function e(){var t=this;var r=new MutationObserver(function(e,r){t.onAttach(r)});if(this.parentView&&this.parentView.el){r.observe(this.parentView.el,{childList:true,subtree:true});this.parentView.el.addEventListener("dragover",function(e){return e.preventDefault()})}},onAttach:function e(t){Editor.Events.trigger("widgetOverlay:render",this.parentView);(0,i.isIE)()||this.sticky.add(this.el.querySelector(".js-overlay-sticky"));t.disconnect()},onParentViewDelete:function e(){this.sticky.remove(this.el.querySelector(".js-overlay-sticky"))},onClick:function e(t){if(this._isGridSection()){t.stopPropagation();this.openSettingsMenu()}else this._isProductListWidgetOnNotLiveStore()||this.trigger("widget:overlayClick",t)},onSettingsClick:function e(t){if(!this._isProductListWidgetOnNotLiveStore()){t.stopPropagation();this.trigger("widget:overlayClick",t)}},onScaleStart:function e(t){this.initialOffset=this.$el.offset();this.initialPosition={x:t.originalEvent.pageX,y:t.originalEvent.pageY};this.initialSize={height:this.$el.height(),width:this.$el.width()};t.originalEvent.dataTransfer.effectAllowed="move"},_calculateConstrainedDimensions:function e(t,r,n,i){var o=this;var a={left:function e(){return{left:r.pageX,width:o.initialSize.width-n}},right:function e(){return{width:n}},top:function e(){return{top:r.pageY,height:o.initialSize.height-i}},bottom:function e(){return{height:i}},"top-left":function e(){return{left:r.pageX,top:r.pageY,width:o.initialSize.width-n,height:o.initialSize.height-i}},"top-right":function e(){return{top:r.pageY,width:n,height:o.initialSize.height-i}},"bottom-left":function e(){return{left:r.pageX,width:o.initialSize.width-n,height:i}},"bottom-right":function e(){return{width:n,height:i}}};var s=a[t];return s?s():{}},_applyDimensionsToElements:function e(t,r,n,i,o,a){if(void 0!==n||void 0!==i){var s=void 0!==n?n:this.initialOffset.left;var l=void 0!==i?i:this.initialOffset.top;t.offset({left:s,top:l});r.offset({left:s,top:l})}if(void 0!==o){t.width(o);r.width(o)}if(void 0!==a){t.height(a);r.height(a)}},updateDragHandles:function e(t,r,n){if(r){this._applyDimensionsToElements(this.$el,n,this.initialOffset.left,this.initialOffset.top,this.initialSize.width,this.initialSize.height);return}var i=t.currentTarget.dataset.constrain;var o=t.pageX-this.initialOffset.left;var a=t.pageY-this.initialOffset.top;var s=this._calculateConstrainedDimensions(i,t,o,a),l=s.left,u=s.top,c=s.width,d=s.height;this._applyDimensionsToElements(this.$el,n,l,u,c,d);if(this.overlayData.isGridResizingLimited){var f=window.getComputedStyle(n[0]);var p=Number.parseFloat(f.height);this.$el.height(p)}},onScale:function e(t){if(0!==t.originalEvent.screenX&&0!==t.originalEvent.screenY){var r=t.currentTarget.dataset.constrain;if(this.scaleLock){if(null===this.scaleLockCoordX&&null===this.scaleLockCoordY){u.HandleHelpers.handleAllowsHorizontalDragging(r)&&(this.scaleLockCoordX=t.originalEvent.screenX);u.HandleHelpers.handleAllowsVerticalDragging(r)&&(this.scaleLockCoordY=t.originalEvent.screenY)}if(null!==this.scaleLockCoordX){if(u.HandleHelpers.handleAllowsLeftDragging(r)&&t.originalEvent.screenX>=this.scaleLockCoordX)return;if(u.HandleHelpers.handleAllowsRightDragging(r)&&t.originalEvent.screenX<=this.scaleLockCoordX)return}if(null!==this.scaleLockCoordY){if(u.HandleHelpers.handleAllowsTopDragging(r)&&t.originalEvent.screenY>=this.scaleLockCoordY)return;if(u.HandleHelpers.handleAllowsBottomDragging(r)&&t.originalEvent.screenY<=this.scaleLockCoordY)return}this.scaleLock=false;this.scaleLockCoordX=null;this.scaleLockCoordY=null}var n=this.getWidget();var i=n.view.el;var o=this.getDroppable(n);var a=$(n.view.el.firstElementChild);var l=o.calculateResizeInformation(t,n,this.overlayData.isGridResizingLimited);if(l.outOfRange){if(u.HandleHelpers.handleAllowsLeftDragging(r)&&"left"===l.outOfRange)return;if(u.HandleHelpers.handleAllowsRightDragging(r)&&"right"===l.outOfRange)return;if(u.HandleHelpers.handleAllowsTopDragging(r)&&"top"===l.outOfRange)return;if(u.HandleHelpers.handleAllowsBottomDragging(r)&&"bottom"===l.outOfRange&&l.rowEnd<=l.rowStart+1)return;if("bottom"===l.outOfRange){var c=o.getHighestRowEnd(l.rowEnd)-1;var d=n.parentUniqueId;Editor.Events.trigger("grid-row-end-changed",s.default.isMobileEditMode()?{numRowsMobile:c,gridId:d}:{numRows:c,gridId:d})}}this.updateDragHandles(t,!l,a);if(!l)return;i.classList.add("widget-in-scale");o.addShadow(l)}},onScaleEnd:function e(t){var r=this.getWidget();var n=r.view.el;var i=this.getDroppable(r);var o=i.calculateResizeInformation(t,r,this.overlayData.isGridResizingLimited);i.removeShadow();if(!(null!==o&&void 0!==o&&o.colStart)||!(null!==o&&void 0!==o&&o.colEnd)||!(null!==o&&void 0!==o&&o.rowStart)||!(null!==o&&void 0!==o&&o.rowEnd))return;s.default.activateAllEditLayoutButtons();this.trigger("widget:scale",{coordinates:o,isMobile:s.default.isMobileEditMode(),uniqueId:this.overlayData.properties.uniqueId});n.classList.remove("widget-in-scale");this.closeSettingsMenu();this.scaleLock=false;this.scaleLockCoordX=null;this.scaleLockCoordY=null},onDeleteClick:function e(t){t.stopPropagation();this.trigger("widget:delete");this.closeSettingsMenu()},onHideClick:function e(t){t.stopPropagation();var r=this.el.getBoundingClientRect();var n=(0,s.getIframeWindow)().scrollY;r.y+n<250&&this.el.querySelector(".js-hide-dropdown").classList.add("reverse");t.target.classList.toggle("active");this.el.querySelector(".js-hide-dropdown").classList.toggle("open")},onHideOptionClick:function e(t){t.stopPropagation();this.trigger("widget:showHide",{uniqueId:this.overlayData.properties.uniqueId,visibility:t.target.value});this.overlayData.visibility=t.target.value;this.render()},onMouseover:function e(t){t.stopPropagation();this.el.closest(".js-widget").classList.add("hover-active-widget");this._isProductListWidgetOnNotLiveStore()&&this.el.classList.add("no-pointer")},onMouseout:function e(t){t.stopPropagation();this.el.closest(".js-widget").classList.remove("hover-active-widget");this._isProductListWidgetOnNotLiveStore()&&this.el.classList.remove("no-pointer")},openSettingsMenu:function e(){var t=this.el.closest(".js-widget-overlay");var r=document.getElementById("siteFrame");this.childElement&&this.parentView.el.classList.add("child-widget-active");null===t||void 0===t?void 0:t.classList.add("active-widget");this.$el.attr("draggable","false");s.default.getIframeDocument().body.classList.add("hide-add-row");document.addEventListener("click",this.closeSettingsClick,true);r.contentWindow.addEventListener("click",this.closeSettingsClick,true);document.body.classList.add("widget-settings-active");Editor.Events.trigger("dragProxy:hide")},closeSettingsMenu:function e(){var t=this.el.closest(".js-widget-overlay");var r=document.getElementById("siteFrame");this.childElement&&this.parentView.el.classList.remove("child-widget-active");null===t||void 0===t?void 0:t.classList.remove("active-widget","hover");this.$el.attr("draggable","true");document.removeEventListener("click",this.closeSettingsClick,true);r.contentWindow.removeEventListener("click",this.closeSettingsClick,true);document.body.classList.remove("widget-settings-active");s.default.getIframeDocument().body.classList.remove("hide-add-row")},onForceBackwardClick:function e(){this.trigger("widget:layer",{action:"force-back",uniqueId:this.overlayData.properties.uniqueId,gridUniqueId:this.el.offsetParent.attributes["data-parentuniqueid"].value})},onForceForwardClick:function e(){this.trigger("widget:layer",{action:"force-front",uniqueId:this.overlayData.properties.uniqueId,gridUniqueId:this.el.offsetParent.attributes["data-parentuniqueid"].value})},closeSettingsClickHandler:function e(t){var r=this.el.closest(".js-widget-overlay");r&&!r.contains(t.target)&&this.closeSettingsMenu()},_blockScaling:function e(t){var r=this.getWidget();var n=r.parentUniqueId;n===t&&(this.scaleLock=true)},_isProductListWidgetOnNotLiveStore:function e(){var t=o.default.container.SiteDataProvider.get("ecommerce");var r="widget.ecomproductslist"===this.overlayData.properties.type;var n=!(null!==t&&void 0!==t&&t.store.live);if(!r)return false;return n},_isGridSection:function e(){return this.parentView.el.parentNode.classList.contains("row__container--grid")},_isGridResizingLimited:function e(t){var r=["widget.advancedcontactform","widget.blogpostlist","widget.blogsearch","widget.contactform","widget.content","widget.ecomcategorieslist","widget.ecomfeaturedproducts","widget.ecomproductslist","widget.signupform"];return r.includes(t.properties.type.toLowerCase())}});var p=t["default"]=f},17905(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(21983));var i=r(62412);function o(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({className:"widget-overlay js-widget-overlay js-widget-in-row-overlay",events:{click:"onTouch","click .js-delete":"onDeleteTouch"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.childElement=t.childElement;this.isActive=false;Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},setOverlayData:function e(t){var r,n;var o=null!==(r=null===t||void 0===t||null===(n=t.parentView)||void 0===n?void 0:n.model)&&void 0!==r&&r;return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isImageEditable:t.isImageEditable,isDeletable:t.isDeletable,isMovable:t.isMovable||false,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton&&!(0,i.isAssetSvg)(o)}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(t){var r=n.default.container.SiteDataProvider.get("ecommerce");var i="widget.ecomproductslist"===this.overlayData.properties.type;if(r&&!r.store.live&&i||!r&&i)return;this.trigger("widget:overlayClick",t)},onDeleteTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:delete")},onParentViewDelete:function e(){}});var s=t["default"]=a},68598(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(21983));var i=r(62412);function o(e){return e&&e.__esModule?e:{default:e}}var a=Backbone.View.extend({className:"widget-overlay js-widget-overlay",events:{click:"onTouch","click .js-settings":"onSettingsTouch","click .js-image-picker":"onImagePickerTouch","click .js-visibility":"onVisibilityTouch","click .js-delete":"onDeleteTouch"},initialize:function e(t){this.templateRenderer=t.templateRenderer;this.hideTplWidget=0===parseInt(t.showTplWidget,10);this.overlayData=this.setOverlayData(t);this.parentView=t.parentView;this.isActive=false;Editor.Events.on("widgetOverlay:touchOverlayClicked",this.onGlobalOverlayTouch.bind(this))},setOverlayData:function e(t){var r,o;var a=null!==(r=null===t||void 0===t||null===(o=t.parentView)||void 0===o?void 0:o.model)&&void 0!==r&&r;var s=t.hasOwnProperty("properties");var l=n.default.container.SiteDataProvider.get("ecommerce");var u=!(l&&!l.store.live&&s&&"widget.ecomproductslist"===t.properties.type||!l&&s&&"widget.ecomproductslist"===t.properties.type)&&t.showSettingsIcon;return{hideTplWidget:this.hideTplWidget,properties:t.properties,immutable:t.immutable,isMovable:t.isMovable,isDeletable:t.isDeletable,showSettingsIcon:u,showImageSelectionButton:t.showImageSelectionButton,showImageEditorButton:t.showImageEditorButton&&!(0,i.isAssetSvg)(a)}},render:function e(){var t=this.templateRenderer.render("view_widgetoverlay",this.overlayData);this.$el.append(t);return this},onGlobalOverlayTouch:function e(){this.isActive&&this._deactivateOverlay()},onTouch:function e(){if(this.isActive)this._deactivateOverlay();else{Editor.Events.trigger("widgetOverlay:touchOverlayClicked",this.parentView);this._activateOverlay()}},onSettingsTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:settings")},onImagePickerTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:imagePicker")},onDeleteTouch:function e(t){t.stopPropagation();this.isActive&&this.trigger("widget:delete")},onVisibilityTouch:function e(t){t.stopPropagation();Editor.Events.trigger("visibility:click");if(this.isActive){var r=this._getNewVisibilityState(t.currentTarget);this.parentView.changeVisibility(r);this._setVisibilityDataAttribute(t.currentTarget,r)}},onParentViewDelete:function e(){},_deactivateOverlay:function e(){this.isActive=false;this.el.classList.remove("hover")},_activateOverlay:function e(){this.isActive=true;this.el.classList.add("hover")},_getNewVisibilityState:function e(t){var r=t.getAttribute("data-visibility");if("hidden"===r)return"visible";return"hidden"},_setVisibilityDataAttribute:function e(t,r){t.setAttribute("data-visibility",r)}});var s=t["default"]=a},6878(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=l(r(70013));var i=r(83502);var o=r(46900);var a=r(6965);var s=r(97146);function l(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(l=function e(t,i){if(!i&&t&&t.__esModule)return t;var o,a,s={__proto__:null,default:t};if(null===t||"object"!=u(t)&&"function"!=typeof t)return s;if(o=i?n:r){if(o.has(t))return o.get(t);o.set(t,s)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(a.get||a.set)?o(s,l,a):s[l]=t[l]);return s})(e,t)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function f(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function g(e){var t=y();return function(){var r,n=b(e);if(t){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function t(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=S(e,"string");return"symbol"==u(t)?t:t+""}function S(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var k=function(e){p(r,e);var t=g(r);function r(){var e;c(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e=t.call.apply(t,[this].concat(i));w(m(e),"root",null);w(m(e),"destroy",function(){if(e.root){e.root.unmount();e.root=null}});return e}f(r,[{key:"build",value:function e(t){if(!this.root){this.root=(0,a.createRoot)(t);this.root.render(n.default.createElement(o.Provider,{store:i.store},n.default.createElement(s.RowWidgetDropdownContainer,null)))}}}]);return r}(n.Component);var P=t["default"]=k},1603(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.RowWidgetDropdown=void 0;var i=g(r(70013));var o=r(71469);var a=r(83502);var s=h(r(96342));var l=r(11383);var u=r(15209);var c=r(26385);var d=r(23022);var f=r(39550);var p=r(40067);function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(g=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}var v=t.RowWidgetDropdown=function e(t){var r=t.repositionControlList;var n=(0,a.useAppDispatch)();var h=(0,a.useAppSelector)(l.selectEnableStandaloneMode);var g=(0,a.useAppSelector)(o.selectIsGrid);var v=(0,a.useAppSelector)(o.selectRowWidgetSettings);var m=(0,a.useAppSelector)(o.selectShowImageBackgroundControlList);var y=(0,a.useAppSelector)(o.selectShowLayoutControlList);var b=(0,a.useAppSelector)(o.selectShowRowWidgetLayoutControlList);var w=(0,a.useAppSelector)(o.selectShowShapeDividerControlList);var _=(0,a.useAppSelector)(o.selectZoneType);var S=(0,s.default)("editor.animation_picker.animation","Animation");var k=(0,s.default)("editor.section_height_picker.section_height","Height");var P=(0,s.default)("editor.section_height_picker.section_width","Width");var E=(0,s.default)("editor.section_gradient_picker.section_gradient","Gradient");var x=(0,s.default)("editor.section_link_picker.section_link","Section link");var C=(0,s.default)("editor.grid_gap_picker.grid_gap","Grid gap");var O="main"!==_;var j=h&&O;var A=false!==b;var T=function e(){n((0,o.rowWidgetControlListClosed)())};var D=function e(){n((0,o.controlPanelOpened)("animation"));T()};var L=function e(t){var r;if(t.currentTarget.classList.contains("is-inactive"))return;n((0,o.controlPanelOpened)(null!==(r=t.currentTarget.dataset.name)&&void 0!==r?r:""));T()};var I=function e(){n((0,o.controlPanelOpened)("change-layout"));T()};var M=function e(){n((0,o.controlPanelOpened)("scroll-effects"));T()};var R=function e(){n((0,o.controlPanelOpened)("section-gradient"));T()};var F=function e(){n((0,o.controlPanelOpened)("section-height"));T()};var B=function e(){n((0,o.controlPanelOpened)("section-link"));T()};var N=function e(){n((0,o.controlPanelOpened)("section-width"));T()};var V=function e(){n((0,o.controlPanelOpened)("change-shape-divider"));T()};var q=function e(){n((0,o.controlPanelOpened)("grid-gap"));T()};var W=function e(t){var r,i;var a=null!==(r=t.currentTarget.dataset.style)&&void 0!==r?r:"";var s=null!==(i=t.currentTarget.dataset.name)&&void 0!==i?i:"";if("image"!==a){n((0,o.rowWidgetStyleChanged)({selectedStyleSet:s,selectedStyleType:a}));n((0,o.imageBackgroundControlListHidden)())}else n((0,o.imageBackgroundControlListShown)())};(0,i.useEffect)(function(){r()},[r]);return i.default.createElement("div",{className:"row-overlay__control-list-content"},!A&&i.default.createElement(i.default.Fragment,null,i.default.createElement(u.RowBackgroundStyleControl,{styleSets:v.styleSets,selectedStyleType:v.selectedStyleType,selectedStyleSet:v.selectedStyleSet,styleSelected:W}),("image"===v.selectedStyleType||m)&&i.default.createElement(c.RowBackgroundImageControl,{selectedStyleType:v.selectedStyleType,scrollEffectsControlClicked:M,imageControlClicked:L}),"image"!==v.selectedStyleType&&i.default.createElement(p.WidgetOverlayMenuItem,{controlClicked:R,controlName:"section-gradient",controlLabel:E}),w&&i.default.createElement(f.RowShapeDividerControl,{shapeDividerControlClicked:V}),i.default.createElement(p.WidgetOverlayMenuItem,{controlClicked:D,controlName:"animation",controlLabel:S})),A&&i.default.createElement(i.default.Fragment,null,y&&!j&&i.default.createElement(d.RowLayoutControl,{layoutControlClicked:I}),i.default.createElement(p.WidgetOverlayMenuItem,{controlClicked:B,controlName:"section-link",controlLabel:x}),g&&i.default.createElement(p.WidgetOverlayMenuItem,{controlClicked:q,controlName:"grid-gap",controlLabel:C}),!g&&i.default.createElement(p.WidgetOverlayMenuItem,{controlClicked:F,controlName:"section-height",controlLabel:k}),!g&&i.default.createElement(p.WidgetOverlayMenuItem,{controlClicked:N,controlName:"section-width",controlLabel:P})))}},97146(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t.RowWidgetDropdownContainer=void 0;var i=u(r(70013));var o=r(71469);var a=r(83502);var s=r(1603);var l=r(45404);function u(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(u=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}var c=t.RowWidgetDropdownContainer=function e(){var t=(0,a.useAppDispatch)();var r=(0,a.useAppSelector)(o.selectZoneType);var n=(0,a.useAppSelector)(o.selectShowRowWidgetControlList);var u=n&&["header","footer"].includes(r);var c=(0,i.useCallback)(function(){t((0,o.rowWidgetControlRenderedSet)(true))},[t]);(0,i.useEffect)(function(){c()},[c]);return i.default.createElement(i.default.Fragment,null,n&&i.default.createElement(s.RowWidgetDropdown,{repositionControlList:c}),u&&i.default.createElement(l.RowWidgetInformation,null))}},45404(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RowWidgetInformation=void 0;var n=s(r(70013));var i=r(71469);var o=s(r(96342));var a=r(83502);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.RowWidgetInformation=function e(){var t=(0,a.useAppDispatch)();var r=(0,a.useAppSelector)(i.selectZoneType);var s=(0,a.useAppSelector)(i.selectZoneSharingScope);var l=(0,o.default)("editor.zone_sharing.info_heading_".concat(r),"Page ".concat(r));var u="shared"===s?(0,o.default)("editor.zone_sharing.shared_info_text","Changes applied to all pages"):(0,o.default)("editor.zone_sharing.custom_info_text","Changes applied to just this page");var c=function e(){t((0,i.controlPanelOpened)("more-information"));t((0,i.rowWidgetControlListClosed)())};return n.default.createElement("div",{className:"row-overlay__information"},n.default.createElement("div",{className:"row-overlay__information-content"},n.default.createElement("ul",{className:"row-overlay__information-list"},n.default.createElement("li",{className:"row-overlay__information-item row-overlay__control-icon row-overlay__control-icon--information",onClick:c},n.default.createElement("div",{className:"row-overlay__information-label"},n.default.createElement("span",{className:"row-overlay__control-item--heading"},l),n.default.createElement("span",{className:"row-overlay__control-item--text"},u)),n.default.createElement("span",{className:"row-overlay__information-icon row-overlay__information-icon--edit"})))))}},68270(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ColorStyleListItem=void 0;var n=i(r(70013));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.ColorStyleListItem=function e(t){var r=t.colorType,i=t.colorSet,o=t.selectedStyleType,a=t.selectedStyleSet,s=t.styleSelected;var l="row-overlay__control-item js-".concat(r,"-preview");"color"===o&&r===a&&(l="".concat(l," is-current-style"));return n.default.createElement("li",{className:l,"data-name":r,"data-style":"color",onClick:s},n.default.createElement("span",{className:"row-overlay__style-label",style:{backgroundColor:i.background,color:i.background}}))}},26385(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RowBackgroundImageControl=void 0;var n=o(r(70013));var i=o(r(96342));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.RowBackgroundImageControl=function e(t){var r=t.selectedStyleType,o=t.imageControlClicked,a=t.scrollEffectsControlClicked;var s=(0,i.default)("editor.style_picker.replace_image","Replace image");var l=(0,i.default)("editor.style_picker.overlay","Overlay");var u=(0,i.default)("editor.style_picker.focal_point","Image focal point");var c="row-overlay__control-item row-overlay__control-icon";var d="image"!==r?"is-inactive":"";var f=(0,i.default)("editor.style_picker.scroll_effects","Scroll effects");return n.default.createElement("ul",{className:"row-overlay__style-list--advanced"},n.default.createElement("li",{className:"".concat(c,"\n            row-overlay__control-icon--image-replace js-replace-image-option"),"data-name":"replace-image",onClick:o},n.default.createElement("span",null,s)),n.default.createElement("li",{className:"".concat(c," ").concat(d,"\n            row-overlay__control-icon--overlay js-overlay-option"),"data-name":"overlay",onClick:o},n.default.createElement("span",null,l)),n.default.createElement("li",{className:"".concat(c," ").concat(d,"\n            row-overlay__control-icon--image-focus js-focal-point-option"),"data-name":"focal-point",onClick:o},n.default.createElement("span",null,u)),n.default.createElement("li",{className:"".concat(c," ").concat(d,"\n            row-overlay__control-icon--scroll-effects js-scroll-effects-option"),"data-name":"scroll-effects",onClick:a},n.default.createElement("span",null,f)))}},15209(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RowBackgroundStyleControl=void 0;var n=o(r(70013));var i=r(68270);function o(e){return e&&e.__esModule?e:{default:e}}var a=t.RowBackgroundStyleControl=function e(t){var r=t.styleSets,o=t.selectedStyleType,a=t.selectedStyleSet,s=t.styleSelected;var l=["light","accent","dark","spare"];var u="row-overlay__control-item js-image-style-preview";"image"===o&&(u="".concat(u," is-current-style"));var c={};l.forEach(function(e){r[e]&&(c[e]=r[e])});return n.default.createElement("ul",{className:"row-overlay__style-list"},Object.keys(c).map(function(e){return n.default.createElement(i.ColorStyleListItem,{key:e,colorType:e,colorSet:r[e],selectedStyleType:o,selectedStyleSet:a,styleSelected:s})}),n.default.createElement("li",{className:u,"data-name":"image","data-style":"image",onClick:s},n.default.createElement("span",{className:"row-overlay__style-label row-overlay__control-icon row-overlay__control-icon--image-control"})))}},23022(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RowLayoutControl=void 0;var n=o(r(70013));var i=o(r(96342));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.RowLayoutControl=function e(t){var r=t.layoutControlClicked;var o=(0,i.default)("editor.layout_picker.change_layout","Change layout");return n.default.createElement("ul",{className:"row-overlay__control-list row-overlay__layout-list"},n.default.createElement("li",{className:"row-overlay__control-item row-overlay__control-icon row-overlay__control-icon--layout-control js-layout-control","data-name":"replace-image",onClick:r},n.default.createElement("span",null,o)))}},39550(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RowShapeDividerControl=void 0;var n=o(r(70013));var i=o(r(96342));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.RowShapeDividerControl=function e(t){var r=t.shapeDividerControlClicked;var o=(0,i.default)("editor.shape_divider_picker.shape_dividers","Shape dividers");return n.default.createElement("ul",{className:"row-overlay__control-list row-overlay__shape-divider-list"},n.default.createElement("li",{className:"row-overlay__control-item row-overlay__control-icon row-overlay__control-icon--shape-divider-control js-shape-divider-control","data-name":"shape-divider",onClick:r},n.default.createElement("span",null,o)))}},40067(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WidgetOverlayMenuItem=void 0;var n=i(r(70013));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.WidgetOverlayMenuItem=function e(t){var r=t.controlClicked,i=t.controlLabel,o=t.controlName;return n.default.createElement("ul",{className:"row-overlay__control-list row-overlay__".concat(o,"-list")},n.default.createElement("li",{className:"row-overlay__control-item row-overlay__control-icon\n        row-overlay__control-icon--".concat(o,"-control js-").concat(o,"-control"),"data-name":o,onClick:r},n.default.createElement("span",null,i)))}},18959(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=new WeakMap;var u=function(){function e(t){n(this,e);this.CollectionClass=t.stdCollectionClass;this.globalEventsHandler=t.globalEventsHandler;this.initialize()}o(e,[{key:"initialize",value:function e(){this.collections={};this._setRegisters();this._setupCollections();this._bindEvents()}},{key:"register",value:function e(t){var r=l.get(this);var n=c(t);r[n]=t;this._addToCollection(t)}},{key:"unregister",value:function e(t){var r=this;var n=this.getByParentId(t);n.length&&n.forEach(function(e){r.unregister(e.uniqueId)});this.get(t)&&this._removeFromRegister(t)}},{key:"clearRegister",value:function e(){this._setRegisters();this._setupCollections()}},{key:"get",value:function e(t){var r=l.get(this);return r[t]}},{key:"getByParentId",value:function e(t){var r=l.get(this);var n=[];this.getKeys().forEach(function(e){var i=r[e];i.parentUniqueId===t&&n.push(i)});return n}},{key:"getByAttribute",value:function e(t,r){var n=this;var i=this.getKeys();var o=i.find(function(e){var i=n.get(e);return i.get(t)===r});return this.get(o)}},{key:"getMainZoneWidget",value:function e(){return this.getByAttribute("uniqueHTMLId","page-zones__main")}},{key:"isWidgetInZone",value:function e(t,r){var n=this.getZone(t);if(n)return n.get("uniqueId")===r;return false}},{key:"getZone",value:function e(t){return this.getByAttribute("uniqueHTMLId","page-zones__".concat(t))}},{key:"getByUniqueHTMLId",value:function e(t){return this.getByAttribute("uniqueHTMLId",t)}},{key:"getParentByUniqueId",value:function e(t){var r=this.get(t);return this.get(r.parentUniqueId)}},{key:"getKeys",value:function e(){return Object.keys(l.get(this))}},{key:"getAll",value:function e(){var t=l.get(this);return t}},{key:"getTemplateWidgetCollection",value:function e(){return this.getCollection("template-widgets")}},{key:"getZoneWidgetCollection",value:function e(){return this.getCollection("main-widgets")}},{key:"getCollection",value:function e(t){var r=l.get(this.collections);return r[t]}},{key:"_bindEvents",value:function e(){this.globalEventsHandler.on("page:change",this.clearRegister.bind(this))}},{key:"_removeFromRegister",value:function e(t){var r=l.get(this);var n=r[t];delete r[t];this._removeFromCollection(n);n.destroy()}},{key:"_setRegisters",value:function e(){l.set(this,{});l.set(this.collections,{})}},{key:"_setupCollections",value:function e(){var t=l.get(this.collections);t["main-widgets"]=new this.CollectionClass;t["template-widgets"]=new this.CollectionClass}},{key:"_addToCollection",value:function e(t){t.isTemplateWidget?this._addToTemplateCollection(t.model):this._addToMainZoneCollection(t.model)}},{key:"_removeFromCollection",value:function e(t){t.isTemplateWidget?this._removeFromTemplateCollection(t.model):this._removeFromMainZoneCollection(t.model)}},{key:"_removeFromMainZoneCollection",value:function e(t){var r=l.get(this.collections);r["main-widgets"].remove(t)}},{key:"_removeFromTemplateCollection",value:function e(t){var r=l.get(this.collections);r["template-widgets"].remove(t)}},{key:"_addToMainZoneCollection",value:function e(t){var r=l.get(this.collections);r["main-widgets"].add(t)}},{key:"_addToTemplateCollection",value:function e(t){var r=l.get(this.collections);r["template-widgets"].add(t)}}]);return e}();function c(e){var t=e.get("fixed")?e.get("uniqueHTMLId"):e.uniqueId;return t}var d=t["default"]=u},60540(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.twig=t.twig}o(e,[{key:"render",value:function e(t){var r=this.twig.render(Twig.templates.widget_responsivecolumnscolumn,{widget:t});return r}}]);return e}();var u=t["default"]=l},34962(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"create",value:function e(t){var r=document.createRange();r.selectNode(document.body);var n=r.createContextualFragment(t);return n}}]);return e}();var u=t["default"]=l},89719(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"resize",value:function e(t){Editor.Events.trigger("gridHeightResize:success",t.widgetId,t.numRowsDesktop,t.numRowsMobile)}}]);return e}();var u=t["default"]=l},7961(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(34962));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.widgetRendererFactory=t.widgetRendererFactory;this.tree=document.createElement("div")}l(e,[{key:"createTreeFromWidgetData",value:function e(t){var r=this;this.tree=document.createElement("div");var i=new n.default;t.forEach(function(e){if(r._canRender(e)){var t=r.widgetRendererFactory.build(e.type);var n=t.render(e);var o=i.create(n.trim());r._insertNodeIntoTree(o,e.parentUniqueId)}});return this.tree}},{key:"_insertNodeIntoTree",value:function e(t,r){var n=this._getNodeFromTree(r);n=this._setParentElement(n);var i=n||this.tree;i.appendChild(t)}},{key:"_setParentElement",value:function e(t){if(t&&"row"===t.getAttribute("data-name"))return t.querySelector(".js-row-container");if(t&&"responsivecolumns"===t.getAttribute("data-name"))return t.querySelector(".js-responsivecolumns");return t}},{key:"_getNodeFromTree",value:function e(t){return this.tree.querySelector('[data-uniqueid="'.concat(t,'"]'))}},{key:"_canRender",value:function e(t){if("widget.template"===t.type&&"main"===t.name)return false;return false===t.fixed}}]);return e}();var f=t["default"]=d},14543(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l(e,t){u(e,t),t.add(e)}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var d=new WeakSet;var f=function(){function e(){n(this,e);l(this,d)}o(e,[{key:"insert",value:function e(t){var r=this;var n=t.widgetLayerer;var i=t.widgetShowHider;var o=c(d,this,p).call(this,t);var a=c(d,this,h).call(this,t);var s=t.coordinates,l=s.colStart,u=s.colEnd,f=s.rowStart,v=s.rowEnd,m=s.mobileColStart,y=s.mobileColEnd,b=s.mobileRowStart,w=s.mobileRowEnd;if(l){o.setAttribute("data-col-start",l);o.setAttribute("data-col-end",u);o.setAttribute("data-row-start",f);o.setAttribute("data-row-end",v)}if(m){o.setAttribute("data-mobile-col-start",m);o.setAttribute("data-mobile-col-end",y);o.setAttribute("data-mobile-row-start",b);o.setAttribute("data-mobile-row-end",w)}a.insertBefore(o,null);t.siblingChanges.forEach(function(e){return c(d,r,g).call(r,e,n,i)})}}]);return e}();function p(e){var t=e.node;return t.firstChild}function h(e){var t=e.gridId;var r=Editor.Site.Dom.window.document.querySelector('[data-uniqueid="'.concat(t,'"]'));var n=r.querySelector(".js-row-container");return n}function g(e,t,r){if("grid-mobile-coordinates"===e.type){var n=Editor.Site.Dom.window.document.querySelector("#".concat(e.id));if(!n){console.error("Sibling with id ".concat(e.id," not found when updating grid widgets."));return}n.setAttribute("data-mobile-row-start",e.newMobileRowStart);n.setAttribute("data-mobile-row-end",e.newMobileRowEnd)}if("layer"===e.type){var i=Editor.Site.Dom.window.document.querySelector("#".concat(e.widgetId));if(!i){console.error("Widget with id ".concat(e.widgetId," not found when updating grid widgets."));return}t.layer({layerIndex:e.layerIndex,widget:i})}if("show-hide"===e.type){var o=Editor.Site.Dom.window.document.querySelector("#".concat(e.widgetId));if(!o){console.error("Widget with id ".concat(e.widgetId," not found when updating grid widgets."));return}r.showHide({visibility:e.visibility,widget:o})}}var v=t["default"]=f},16711(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"insert",value:function e(t){var r=this.getInsertionRoot(t.parent);var n=r.children;var i=n.item(t.position)||null;r.insertBefore(t.node.firstChild,i)}},{key:"getInsertionRoot",value:function e(t){var r=Editor.Site.Dom.window.document.querySelector('[data-uniqueid="'.concat(t,'"]'));if("row"===r.getAttribute("data-name"))return r.querySelector(".js-row-container");return r}}]);return e}();var u=t["default"]=l},54075(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"layer",value:function e(t){t.widget.dataset.layerIndex=t.layerIndex}}]);return e}();var u=t["default"]=l},95530(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.store=t.store;this.siteDataProvider=t.siteDataProvider;this.pagesProvider=t.pagesProvider;this.envDataProvider=t.envDataProvider;this.sessionProvider=t.sessionProvider;this.twig=t.twig;this.imageAssets=t.assets;this.profile=t.profile;this.formatImageAssetData=t.formatImageAssetData;this.ColumnWidgetRenderer=t.ColumnWidgetRenderer;this.ZoneRenderer=t.ZoneRenderer;this.ZoneWidgetRenderer=t.ZoneWidgetRenderer}o(e,[{key:"build",value:function e(t){if("widget.template"===t)return new this.ZoneRenderer({twig:this.twig});if("widget.columns.column"===t)return new this.ColumnWidgetRenderer({twig:this.twig});return new this.ZoneWidgetRenderer({store:this.store,siteDataProvider:this.siteDataProvider,pagesProvider:this.pagesProvider,sessionProvider:this.sessionProvider,envDataProvider:this.envDataProvider,twig:this.twig,assets:this.imageAssets,profile:this.profile,formatImageAssetData:this.formatImageAssetData})}}]);return e}();var u=t["default"]=l},88307(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){return s(e)||a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==r(t)?t:t+""}function p(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=function(){function e(){u(this,e)}d(e,[{key:"replace",value:function e(t){var r=Editor.Site.Dom.window.document.querySelector('[data-uniqueid="'.concat(t.replaces,'"]'));var i=n(t.node.childNodes);Array.prototype.forEach.call(i,function(e){r.insertAdjacentElement("beforebegin",e)});r.parentNode.removeChild(r)}}]);return e}();var g=t["default"]=h},39556(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(){n(this,e)}o(e,[{key:"showHide",value:function e(t){t.widget.dataset.visibility=t.visibility}}]);return e}();var u=t["default"]=l},37820(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.twig=t.twig}o(e,[{key:"render",value:function e(t){var r=this.twig.render(Twig.templates.widget_zone,{zone:t});return r}}]);return e}();var u=t["default"]=l},81040(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.store=t.store;this.siteDataProvider=t.siteDataProvider;this.pagesProvider=t.pagesProvider;this.envDataProvider=t.envDataProvider;this.sessionProvider=t.sessionProvider;this.twig=t.twig;this.assets=t.assets;this.profile=t.profile;this.formatImageAssetData=t.formatImageAssetData}o(e,[{key:"render",value:function e(t){var r=false;var n=this.siteDataProvider.get("globalValues").find(function(e){return"enablePolicyPages"===e.name});"undefined"!==typeof n&&(r=n.value);var i=this.siteDataProvider.get("policyPageData");var o=this.twig.render(this.twig.templates.widget_wrapper,{app:this.siteDataProvider.get("app"),googleMapsEmbedKey:this.envDataProvider.get("googleMapsEmbedKey"),widget:t,profile:this.profile.toJSON(),debugMode:true===this.sessionProvider().get("debugMode"),page:this.pagesProvider(this.sessionProvider().get("pageRef")).toJSON(),plugins:{assets:{images:this.formatImageAssetData(this.assets.toJSON())},blog:this.siteDataProvider.get("blog"),ecommerce:this.siteDataProvider.get("ecommerce")},connect:{bookings:this.siteDataProvider.get("connectBookings")},siteLanguages:this.siteDataProvider.getSiteLanguages(),siteDefaultLanguage:this.siteDataProvider.getSiteDefaultLanguage(),enablePolicyPages:r,policyPageData:i,isRTLLanguage:this.store.getState().page.isRTLLanguage});return o}}]);return e}();var u=t["default"]=l},23291(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(46903));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.CollectionView.extend({childView:n.default,initialize:function e(t){this.widgetView=t.widgetView},childViewOptions:function e(t){return{title:t.get("groupTitle"),collection:t.get("collection"),widgetView:this.widgetView}}});var a=t["default"]=o},46903(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(29087));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.CompositeView.extend({template:"view_settings_group",tagName:"fieldset",className:"popup-panel-form__fieldset",childViewContainer:".js-container",childEvents:{"setting:change":"onSettingsChange"},initialize:function e(t){this.title=t.title;this.widgetView=t.widgetView;this.widgetView.listenForSettingsChanges(this)},onSettingsChange:function e(t,r,n){this.trigger(r,n);this.autoSave&&this.widgetView.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId,fixed:this.widgetView.properties.fixed})},childViewOptions:function e(){return{isRowsEnabled:true}},getChildView:function e(t){return(0,n.default)(t.get("type"))}});var a=t["default"]=o},76515(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(61771));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=c(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=function(){function e(t){a(this,e);this.siteDataProvider=t.siteDataProvider}l(e,[{key:"getStyleSettings",value:function e(t){this.widgetType=t.widgetType;this.widgetEl=t.widgetEl;this.fixed=t.fixed;this.model=t.model;this.stylesCollection=this.getStylesCollection();this.templateStylePreprocessorVariableWidgets=this.siteDataProvider.get("templateStylePreprocessorVariableWidgets");var r=this._getAssociatedWidgets(this.widgetEl);return this._combineWidgetsAndStyles(r)}},{key:"hasStyleCollection",value:function e(){return null!==this.getStylesCollection()}},{key:"getStylesCollection",value:function e(){var t=this.siteDataProvider.get("templateData");return t.templateStylePreprocessorVariablesEnabled&&1===t.templateStylePreprocessorVariablesEnabled?BaseKit.Globals.templateStylePreprocessorVariables:null}},{key:"_getWidgetTypeForElementAndChildren",value:function e(t){var r=[];t.find("*").each(function(e,n){var i=$(n);var o=this._getWidgetType(i);void 0!==o&&r.push(o);t=t.parent()}.bind(this));return r}},{key:"_getWidgetType",value:function e(t){if(t)return t.attr("data-widget-type");return this.widgetType}},{key:"_addWidgetTranslations",value:function e(t){return window._.compact(window._.map(t,function(e){if(this.templateStylePreprocessorVariableWidgets&&this.templateStylePreprocessorVariableWidgets[e]){var t=window._.clone(this.templateStylePreprocessorVariableWidgets[e]);t.name=e;return t}}.bind(this)))}},{key:"_setProfileWidgetType",value:function e(t){var r=window._.indexOf(t,"profile");if("-1"===r)return t;t[r]=this.model.get("profileType");return t}},{key:"_getAssociatedWidgets",value:function e(t){var r=[this.widgetType];if(this.fixed){r=r.concat(this._getWidgetTypeForElementAndChildren(t.parent().parent().parent()));(0,n.default)(r);window._.uniq(r)}r=this._setProfileWidgetType(r);r=this._addWidgetTranslations(r);r=window._.indexBy(r,"name");return r}},{key:"_combineWidgetsAndStyles",value:function e(t){var r=this;var n={};Object.keys(t).forEach(function(e){var i=r.stylesCollection.where({widget:t[e].name});if(i.length){n[e]=t[e];n[e].styles=i}});return n}}]);return e}();var f=t["default"]=d},26976(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.settingsView=t.settingsView;Object.assign(this,Backbone.Events)}o(e,[{key:"isOpen",value:function e(){return this.settingsView.isOpen}},{key:"reset",value:function e(t){var r=this;var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i=t.getWidgetSettings();var o=!!n.enableSave&&n.enableSave;this.off();this.settingsView.viewReset({widgetTitle:i.title,widgetName:t.properties.name,className:t.properties.className||t.properties.type,model:t.model,collection:new Backbone.Collection(i.components),widgetEl:t.$el,widgetElId:t.el.getAttribute("id"),widgetUniqueId:t.el.getAttribute("data-uniqueid"),fixed:t.properties.fixed,profileModel:t.profileModel,previousAttributes:t.previousAttributes,previousProfileAttributes:t.previousProfileAttributes,enableSave:o,emptySettingMessage:i.emptySettingMessage||""});this.listenTo(this.settingsView,"all",function(){r.trigger.apply(r,arguments)})}}]);return e}();var u=t["default"]=l},60341(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(97310));var i=a(r(67427));var o=a(r(58100));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=f(e,"string");return"symbol"==s(t)?t:t+""}function f(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=function(){function e(t){l(this,e);this.siteDataProvider=t.siteDataProvider;this.widgetStyleSettingsViewFactory=t.widgetStyleSettingsViewFactory;this.styleSettingsProvider=t.styleSettingsProvider;this.settingsComponentProvider=t.settingsComponentProvider;this.rowsEnabled=t.rowsEnabled;this.tracker=t.tracker;this.formEmailVerification=t.formEmailVerification}c(e,[{key:"build",value:function e(){this.formEmailVerification&&Cocktail.mixin(n.default,i.default);return new n.default({el:".js-widget-property-panel",profileModel:(0,o.default)(),widgetStyleSettingsViewFactory:this.widgetStyleSettingsViewFactory,styleSettingsProvider:this.styleSettingsProvider,settingsComponentProvider:this.settingsComponentProvider,rowsEnabled:this.rowsEnabled,tracker:this.tracker})}}]);return e}();var h=t["default"]=p},5997(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(81488));var i=o(r(23291));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(t){s(this,e);this.settingsComponentProvider=t.settingsComponentProvider}u(e,[{key:"build",value:function e(t){var r=t.widgetView.getSettings();if(r.groupInformation&&!t.settingId)return this._buildGroupedSettings(t.widgetView,r.components,r.groupInformation);return new n.default({settingsComponentProvider:this.settingsComponentProvider,widgetView:t.widgetView,settingId:t.settingId||false,autoSave:t.autoSave||false,settingsComponents:r.components,profileModel:t.profileModel})}},{key:"_buildGroupedSettings",value:function e(t,r,n){var o=this._createGroupCollection(n);this._addSettingsToGroups(r,o);return new i.default({collection:o,widgetView:t})}},{key:"_createGroupCollection",value:function e(t){var r=new Backbone.Collection;t.forEach(function(e){var t=new Backbone.Model({collection:new Backbone.Collection,groupId:e.groupId,title:e.groupTitle});r.add(t)});return r}},{key:"_addSettingsToGroups",value:function e(t,r){t.forEach(function(e){if("label"===e.type)return;var t=r.findWhere({groupId:e.groupId});t.get("collection").add(e)})}}]);return e}();var p=t["default"]=f},81488(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.CollectionView.extend({childEvents:{"setting:change":"onSettingsChange","setting:click":"onSettingsChange","setting:update":"onSettingsUpdate","setting:reset":"onSettingsReset"},childViewOptions:function e(){return{isRowsEnabled:true,profileModel:this.profileModel}},onSettingsChange:function e(t,r,n){this.trigger(r,n);this.autoSave&&this.widgetView.model.save({widgetName:this.widgetView.properties.name,widgetUniqueId:this.widgetView.properties.uniqueId,fixed:this.widgetView.properties.fixed})},onSettingsButtonClick:function e(t,r,n){this.trigger(r,n)},onSettingsUpdate:function e(t,r,n){this.trigger(r,n)},onSettingsReset:function e(t,r,n){Editor.Events.trigger("widgetSettings:changed",this.widgetView)},initialize:function e(t){this.widgetView=t.widgetView;this.profileModel=t.profileModel;if(!this.widgetView||"function"!==typeof this.widgetView.listenForSettingsChanges){var r;var n;var i="";try{r=JSON.stringify(this)}catch(e){r=JSON.stringify(Object.keys(this));n=JSON.stringify(Object.keys(this.options));i=e.stack}console.error("WidgetView not set correctly: ".concat(r));console.error("".concat(n));console.error(i)}this.settingsComponentProvider=t.settingsComponentProvider;this.settingId=t.settingId;this.autoSave=t.autoSave||false;this.settingsComponents=t.settingsComponents;this.setupCollection();this.widgetView.listenForSettingsChanges(this)},setupCollection:function e(){var t;t=this.settingId?this._getSettingsComponentById(this.settingId):this.settingsComponents;this.collection=this._generateCollection(t)},getChildView:function e(t){return this.settingsComponentProvider(t.get("type"))},_getSettingsComponents:function e(){return this.widgetView.getSettings().components},_getSettingsComponentById:function e(t){var r=this._getSettingsComponents();return r.find(function(e){return e.id===t})},_generateCollection:function e(t){return new Backbone.Collection(t)}});var n=t["default"]=r},20361(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(73908));var i=o(r(46672));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=d(e,"string");return"symbol"==a(t)?t:t+""}function d(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var f=function(){function e(t){s(this,e);this.store=t.store;this.styleSettingsProvider=t.styleSettingsProvider;this.envDataProvider=t.envDataProvider;this.rowsEnabled=t.rowsEnabled}u(e,[{key:"build",value:function e(t){return new i.default({el:t.el,styles:this.store.getState().ui.panel.styles,stylesCollection:this.styleSettingsProvider.getStylesCollection(),fontListContents:(0,n.default)(),allGoogleFonts:this.envDataProvider.get("allGoogleFonts"),presetAttributesCollection:BaseKit.Globals.presetAttributes,rowsEnabled:this.rowsEnabled})}}]);return e}();var p=t["default"]=f},29087(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=R(r(96849));var o=M(r(68955));var a=M(r(64084));var s=M(r(86909));var l=M(r(78055));var u=M(r(52163));var c=M(r(60917));var d=M(r(7457));var f=M(r(16856));var p=M(r(21904));var h=M(r(7241));var g=M(r(35137));var v=M(r(8222));var m=M(r(67184));var y=M(r(73531));var b=M(r(69903));var w=M(r(54088));var _=M(r(57490));var S=M(r(88180));var k=M(r(91541));var P=M(r(55769));var E=M(r(92511));var x=M(r(46287));var C=M(r(217));var O=M(r(20911));var j=M(r(18840));var A=M(r(36992));var T=M(r(66180));var D=M(r(63243));var L=M(r(98267));var I=M(r(5068));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(R=function e(t,o){if(!o&&t&&t.__esModule)return t;var a,s,l={__proto__:null,default:t};if(null===t||"object"!=n(t)&&"function"!=typeof t)return l;if(a=o?i:r){if(a.has(t))return a.get(t);a.set(t,l)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(s.get||s.set)?a(l,u,s):l[u]=t[u]);return l})(e,t)}var F={advancedtextbox:g.default,button:i.default,visualButton:i.VisualButtonView,buttonset:o.default,radiobutton:a.default,paragraph:s.default,textarea:l.default,text:u.default,select:d.default,datasourcechooser:c.default,slider:f.default,checkbox:p.default,imagedetail:y.default,label:h.default,information:k.default,logo:x.default,"profile-settings":w.default,"link-editor-select":m.default,"file-selector":v.default,"custom-select":_.default,"label-counter":b.default,"style-picker":S.default,"row-layout":P.default,"shape-divider":E.default,animation:C.default,"section-height":O.default,"section-width":j.default,"section-gradient":A.default,"section-link":T.default,"grid-gap":D.default,colourPicker:L.default,dropdownListView:I.default};var B=function e(t){var r=F[t];if(r)return r;throw new Error("Invalid settings component supplied")};var N=t["default"]=B},35137(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-advancedtextbox"},events:{"change .js-input":"inputChanged","change .js-font-size-select":"fontSizeChanged","click .js-bold":"boldButtonClicked","click .js-italic":"italicButtonClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_advancedtextbox_component_v8r":"view_settings_advancedtextbox"},inputChanged:function e(){this.trigger("setting:change",this.model.get("id"),{type:"text",value:this.el.querySelector(".js-input").value.trim()})},fontSizeChanged:function e(){this.trigger("setting:change",this.model.get("id"),{type:"font",value:this.el.querySelector(".js-font-size-select").value})},boldButtonClicked:function e(){this.el.querySelector(".js-bold").classList.toggle("is-selected");this.trigger("setting:change",this.model.get("id"),{type:"style",value:"bold"})},italicButtonClicked:function e(){this.el.querySelector(".js-italic").classList.toggle("is-selected");this.trigger("setting:change",this.model.get("id"),{type:"style",value:"italic"})}});var n=t["default"]=r},217(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(89860));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_animation_picker",initialize:function e(){this.animations=this.model.get("animations");this.currentAnimationEffect=this.model.get("currentAnimationEffect");return this},onRender:function e(){this.openAnimationPanel()},openAnimationPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",animations:this.animations,currentAnimationEffect:this.currentAnimationEffect}).render();this.listenTo(t,"animationEffect:change",this._setAnimationEffect.bind(this))},_setAnimationEffect:function e(t){this.trigger("setting:change","row-animation-effect-changed",t);this.currentAnimationEffect=t}});var a=t["default"]=o},68955(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){var e=this.options.isRowsEnabled?"popup-panel-form__field":"settings-buttonset";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"click .js-btn":"btnClicked"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_buttonset_component_v8r":"view_settings_buttonset"},btnClicked:function e(t){var r=t.currentTarget.querySelector(".js-value");var n=r.dataset.attr;this.model.set("value",n);var i=r.dataset.visual;i?this.trigger("setting:click",this.model.get("id"),n):this.trigger("setting:change",this.model.get("id"),n)}});var n=t["default"]=r},96849(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.VisualButtonView=void 0;var r=Marionette.ItemView.extend({template:"view_settings_button",className:"settings-button",events:{"click .js-button":"buttonClicked"},initialize:function e(){return this},buttonClicked:function e(){this.trigger("setting:change",this.model.get("id"))}});var n=t["default"]=r;var i=t.VisualButtonView=Marionette.ItemView.extend({template:"view_settings_button",className:"settings-button",events:{"click .js-button":"buttonClicked"},initialize:function e(){return this},buttonClicked:function e(){this.trigger("setting:click",this.model.get("id"))}})},21904(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-checkbox"},events:{"change .js-input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_checkbox_component_v8r":"view_settings_checkbox"},inputChanged:function e(){var t=this.el.querySelector(".js-input").checked;this.trigger("setting:change",this.model.get("id"),t)}});var n=t["default"]=r},98267(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(76110));var i=r(83502);function o(e){return e&&e.__esModule?e:{default:e}}var a=Marionette.ItemView.extend({template:"view_settings_colour_picker",events:{"click .js-edit-colour-button":"editColourClicked"},initialize:function e(t){this.colour=t.colour;this.currentColour=this.model.get("value")||this.colour;this.swatches=this.getSiteColours();this.listenTo(this.model,"change",this.render)},onRender:function e(){this.colourNode=this.el.querySelector(".js-edit-colour-button");this.colourNode.style.backgroundColor=this.currentColour},getSiteColours:function e(){var t=i.store.getState().env.siteColorSet;if(t){var r=Object.keys(t);return r.map(function(e){return t[e].background})}},editColourClicked:function e(){this.customColourPickerView=new n.default({colorType:"",fill:this.currentColour,colorNode:this.colourNode,swatches:this.swatches,opacity:true});this.customColourPickerView.render();this.customColourPickerView.on("save",this.onColourPickerColourSaved.bind(this));this.customColourPickerView.on("change",this.onColourPickerColourChanged.bind(this))},isColourSettingChanged:function e(t){return t.colour!==this.currentColour},onColourPickerColourSaved:function e(t){this.changeColourSettings({colour:t})},onColourPickerColourChanged:function e(t){this.colourNode.style.backgroundColor=t},changeColourSettings:function e(t){if(!this.isColourSettingChanged(t))return;this.currentColour=t.colour;this.trigger("setting:change",this.model.get("id"),{colour:t.colour})}});var s=t["default"]=a},57490(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(88926));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_button",className:"settings-customselect",events:{"click .js-button":"openSelectPanel"},openSelectPanel:function e(){var t=new n.default({model:new Backbone.Model({title:this.model.get("searchPanelTitle"),onSearch:this.model.get("onSearch"),helpWords:this.model.get("searchHelpWords"),noSearchResults:this.model.get("noSearchResultsWords"),imageProperty:this.model.get("imageProperty"),idProperty:this.model.get("idProperty"),mainTitleProperty:this.model.get("mainTitleProperty"),secondTitleProperty:this.model.get("secondTitleProperty"),thirdTitleProperty:this.model.get("thirdTitleProperty"),subTitleProperty:this.model.get("subTitleProperty")})}).render();this.listenTo(t,"item:selected",this.itemSelected)},itemSelected:function e(t){this.trigger("setting:change",this.model.get("id"),t)}});var a=t["default"]=o},60917(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=2e3;var n=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-datasource-chooser"},events:{"change .js-select":"selectChanged","change .js-custom-input":"inputChanged","mouseover .js-tooltip-icon":"showTooltip","mouseout .js-tooltip-icon":"hideTooltip"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_datachooser_component_v8r":"view_settings_datasourcechooser"},showTooltip:function e(){var t=this.el.querySelector(".js-tooltip");if(!t.hasAttribute("hidden"))return;t.removeAttribute("hidden")},hideTooltip:function e(){var t=this.el.querySelector(".js-tooltip");setTimeout(function(){t.setAttribute("hidden","hidden")},r)},selectChanged:function e(){var t=this.el.querySelector(".js-select").value.trim();if("custom"!==t){this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),{value:t,source:""})}else{this.model.set("value","");this.trigger("setting:change",this.model.get("id"),{value:"",source:t})}},inputChanged:function e(){var t=this.el.querySelector(".js-custom-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),{value:t,source:"custom"})}});var i=t["default"]=n},5068(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_dropdown_list",events:{"click .js-dropdown-toggle":"toggleMenu","click .js-dropdown-option":"onOptionClick"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t.option||[];this.listenTo(this.model,"change",this.render)},templateHelpers:function e(){return{options:this.options,current:this.model.get("value")}},toggleMenu:function e(t){t.stopPropagation();var r=this.el.querySelector(".js-dropdown-options");r.classList.toggle("is-open")},onOptionClick:function e(t){t.stopPropagation();var r=t.currentTarget;var n=r.getAttribute("data-id");this.model.set("value",n);this.trigger("setting:change",this.model.get("id"),n);this.el.querySelector(".js-dropdown-options").classList.remove("is-open")}});var n=t["default"]=r},8222(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_fileselector",events:{"click .js-file":"openFileManagement"},initialize:function e(){return this},openFileManagement:function e(){this.filePanelView=new BaseKit.Panels.FilesPanelView({model:new BaseKit.Panels.FilesPanelModel({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")})}).render();this.listenTo(this.filePanelView,"file:selected",this.updateFileLink);this.listenTo(this.filePanelView,"file:deleted",this.deleteFileLink);this.listenTo(this.filePanelView,"panel:close",this.render)},updateFileLink:function e(t){this.model.set({url:t.url,fileName:t.fileName},{silent:true});this.notifyChanges()},deleteFileLink:function e(t){if(this.model.get("url")===t.url){this.model.set({url:"",fileName:""});this.trigger("setting:change","widget-filedownload-linkeditor-delete",{url:this.model.get("url"),fileName:this.model.get("fileName")})}},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{url:this.model.get("url"),fileName:this.model.get("fileName")})}});var n=t["default"]=r},63243(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(52872));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_grid_gap_picker",initialize:function e(){var t,r;this.gridGapTypes=this.model.get("gridGapTypes")||gridGapTypes;this.gridGap={selectedGridGap:this.model.get("selectedGridGap")||"default",horizontalGap:null!==(t=this.model.get("horizontalGap"))&&void 0!==t?t:"12",verticalGap:null!==(r=this.model.get("verticalGap"))&&void 0!==r?r:"12"};return this},onRender:function e(){this.openGridGapPanel()},openGridGapPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",gridGapTypes:this.gridGapTypes,gridGap:this.gridGap}).render();this.listenTo(t,"gap:change",this._setGridGap.bind(this))},_setGridGap:function e(t){this.gridGap=t;this.trigger("row-grid-gap-changed",t)}});var a=t["default"]=o},73531(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=s(r(16706));var o=r(80219);var a=r(60443);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=f(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,"next",e)}function s(e){p(o,n,i,a,s,"throw",e)}a(void 0)})}}function g(){return"".concat(App.assetBaseUrl(),"/apps/images/mobile/transparent_218x98.png")}var v=Marionette.ItemView.extend({template:"view_settings_imagedetail",className:function e(){var e="settings-imagedetail settings-imagedetail--short js-imagedetail";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"click .js-change-image":"chooseRecentClicked","click .js-add-image":"addNewImageClicked"},initialize:function e(){this.previousModel=null;this.model.get("draggable")&&!(0,o.isMobileDevice)()&&(this.isDraggable=true);this.listenTo(this.model,"change:imageSrc",this.render);return this},onRender:function e(){if(!this.isDraggable)return;setTimeout(function(){this.handleImagePositioning()}.bind(this),10)},serializeData:function e(){return Object.assign(this.model.toJSON(),{isDraggable:this.isDraggable,proxySrc:g()})},handleImagePositioning:function e(){var t=this.el.querySelector(".js-image-container").offsetWidth;var r=this.el.querySelector(".js-image-container").offsetHeight;var n=this.model.get("imageNaturalHeight");var i=this.model.get("imageNaturalWidth");var o=n/i*t;var a=o-r;this.setImageContainerHeight();this.setImageDragProxyHeight(a,o);this.attachDragEvent(a)},setImageContainerHeight:function e(){var t=this.el.offsetWidth;var r=t*this.model.get("imageDisplayRadio");this.el.querySelector(".js-image-container").style.height="".concat(r,"px")},setImageDragProxyHeight:function e(t,r){this.el.querySelector(".js-drag-proxy").style.height="".concat(r,"px");if(t){var n=this.model.get("positionTopPercentage")/100*t;this.el.querySelector(".js-drag-proxy").style.top="-".concat(n,"px")}},attachDragEvent:function e(t){var r=this.el.querySelector(".js-image-container");var n=r.getBoundingClientRect();var i=n.top-t;var o=n.top;var a=null;this.$(".js-drag-proxy").draggable({axis:"y",containment:[0,i,0,o],drag:function(e,n){a=-n.position.top/t*100;r.style.backgroundPosition="center ".concat(a,"%");this.model.set("positionTopPercentage",a);this.notifyChanges()}.bind(this)})},openImagePopup:function e(t){var r=this;return h(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:if(!(0,a.isMediaManagerEnabled)()){o.next=7;break}o.next=3;return(0,a.invokeMediaManager)(false);case 3:n=o.sent;n.addEventListener("bk-media-manager:media-selected",function(e){r.setAsset(e.detail)});o.next=10;break;case 7:r.imagesPanelView=new i.default({model:new BaseKit.Panels.Model(t.model)}).render();r.listenTo(r.imagesPanelView,"asset:change",r.setAsset);r.listenTo(r.imagesPanelView,"asset:reset",r.resetAsset);case 10:case"end":return o.stop()}},e)}))()},addNewImageClicked:function e(){var t=this;this.openImagePopup({model:{panel:"upload",parentPanel:void 0,subPanel:false,isSubPanel:false,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")}});(0,a.isMediaManagerEnabled)()||setTimeout(function(){t.imagesPanelView.openFileUpload()},50)},chooseRecentClicked:function e(){this.openImagePopup({model:{panel:"recentImages",forceHidden:false,parentPanel:void 0,isSubPanel:false,asset:void 0,title:App.t("shared_components.imagespanel.recent_title","Recent")}});(0,a.isMediaManagerEnabled)()||this.imagesPanelView.sourceSelected()},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{positionTopPercentage:this.model.get("positionTopPercentage"),src:this.model.get("imageSrc"),url:this.model.get("imageSrc"),fileName:this.model.get("fileName"),fileSize:this.model.get("fileSize"),imageWidth:this.model.get("imageWidth"),imagePxWidth:"".concat(this.model.get("imageWidth"),"px"),imageHeight:this.model.get("imageHeight"),path:this.model.get("path"),imageSize:"".concat(this.model.get("imageWidth")," x ").concat(this.model.get("imageHeight")),description:this.model.get("description"),title:this.model.get("title"),assetRef:this.model.get("ref")})},setAsset:function e(t){var r,n;this.previousModel=this.model.clone().toJSON();this.model.set({imageSrc:t.url,fileName:t.fileName,fileSize:t.fileSize,imageHeight:t.imageHeight,imageWidth:t.imageWidth,path:t.path,description:null!==(r=t.description)&&void 0!==r?r:"assets",title:null!==(n=t.title)&&void 0!==n?n:"assets",ref:t.ref});this.notifyChanges()},resetAsset:function e(){if(this.previousModel){this.model.set(u({},this.previousModel));this.notifyChanges()}}});var m=t["default"]=v},91541(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_information",className:"settings_information",events:{"click .js-more-info":"moreInfoClicked"},moreInfoClicked:function e(){this.trigger("setting:change","more-information")}});var n=t["default"]=r},52163(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-input"},events:{"change .js-input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_input_component_v8r":"view_settings_input"},inputChanged:function e(){var t=this.el.querySelector(".js-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),t)}});var n=t["default"]=r},69903(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_label_counter",className:function e(){var e="settings-label-counter";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e}});var n=t["default"]=r},7241(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_label",className:function e(){var e="settings-label";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e}});var n=t["default"]=r},67184(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=o(r(21983));var i=r(53025);function o(e){return e&&e.__esModule?e:{default:e}}function a(){return n.default.container.BrandDataProvider.has("fileUpload")}var s=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-linkeditor-select"},events:{"change .js-link-action":"linkActionChanged","change .js-internal-link":"internalLinkChanged","change .js-external-link":"externalLinkChange","change .js-external-target":"externalLinkTargetChange","click .js-file":"openFileManagement","change .js-email":"emailChanged"},serializeData:function e(){return Object.assign(this.model.toJSON(),{isFileUploadEnabled:a(),pages:(0,i.getActiveLanguageInternalPages)()})},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_link_component_v8r":"view_settings_linkeditorselect"},linkActionChanged:function e(){var t=this.el.querySelector(".js-link-action").value;this.model.set({value:t,url:"",fileName:"",target:"_self"});this.notifyChanges();"file"===t&&this.openFileManagement()},openFileManagement:function e(){this.filePanelView=new BaseKit.Panels.FilesPanelView({model:new BaseKit.Panels.FilesPanelModel({panel:"upload",title:App.t("shared_components.filespanel.source_title","File source")})}).render();this.listenTo(this.filePanelView,"file:selected",this.updateFileLink);this.listenTo(this.filePanelView,"panel:close",this.render)},updateFileLink:function e(t){this.model.set({value:"file",url:t.url,fileName:t.fileName},{silent:true});this.notifyChanges()},internalLinkChanged:function e(){var t=this.el.querySelector(".js-internal-link").value;this.model.set("url",t);this.notifyChanges()},externalLinkChange:function e(){var t=this.el.querySelector(".js-external-link").value.trim();var r=/^((http|ftp|ftps|https):\/\/)?[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+(\.[\u00C0-\u1FFE\u2C00-\uD7FB\w\-_]+)+([\u00C0-\u1FFE\u2C00-\uD7FB\w\-\.,@?\^=%&amp;:\/~\+#!]*[\u00C0-\u1FFE\u2C00-\uD7FB\w\-\@?\^=%&amp;\/~\+#])?$/i;var n=/^(http|ftp|ftps|https)$/i;var i=t.match(r);if(r.test(t)){n.test(i[2])||(t="http://".concat(t));this.model.set("url",t);this.notifyChanges();this.model.set("linkError",void 0);this.trigger("save:enable")}else{this.model.set({url:"",linkError:App.t("shared_components.linkeditor.error_invalidllink","Invalid link")});this.trigger("save:disable")}},externalLinkTargetChange:function e(){var t=this.el.querySelector(".js-external-target").value;this.model.set("target",t);this.notifyChanges()},emailChanged:function e(){var t=this.el.querySelector(".js-email").value.trim();var r=/.+@.+/;this.model.set("target","_self");if(r.test(t)){this.model.set("url","mailto:".concat(t));this.notifyChanges();this.model.set("emailError",void 0);this.trigger("save:enable")}else{this.model.set({url:"",emailError:App.t("shared_components.linkeditor.error_invalidEmail","Invalid email address")});this.trigger("save:disable")}},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{target:this.model.get("target"),url:this.model.get("url"),action:this.model.get("value"),fileName:this.model.get("fileName")})}});var l=t["default"]=s},86909(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_paragraph",className:"settings-paragraph",initialize:function e(){return this}});var n=t["default"]=r},29337(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=c(r(35137));var i=c(r(67184));var o=c(r(78055));var a=c(r(52163));var s=c(r(7457));var l=c(r(16856));var u=c(r(60917));function c(e){return e&&e.__esModule?e:{default:e}}var d=Marionette.CollectionView.extend({tagName:"div",className:"settings__child",childEvents:{"setting:change":function e(t,r,n){this.trigger("profileSettings:change",{id:r,value:n,childView:t})}},childViewOptions:function e(){return{isRowsEnabled:this.isRowsEnabled}},initialize:function e(t){this.isRowsEnabled=t.isRowsEnabled;return this},getChildView:function e(t){var r=null;switch(t.get("type")){case"advancedtextbox":r=n.default;break;case"link-editor-select":r=i.default;break;case"textarea":r=o.default;break;case"text":r=a.default;break;case"select":r=s.default;break;case"datasourcechooser":r=u.default;break;case"slider":r=l.default;break}return r}});var f=t["default"]=d},54088(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(21983));var i=a(r(29337));var o=r(53025);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return n.default.container.BrandDataProvider.has("googleServices")}function u(){var e=false;var t=n.default.container.SiteDataProvider.get("globalValues").find(function(e){return"enablePolicyPages"===e.name});"undefined"!==typeof t&&(e=t.value);return e}var c={"form-email":"e.g. mail@example.com"};var d=Marionette.ItemView.extend({className:"settings-profile settings__child",events:{"change .js-profile-type":"profileTypeChanged"},ui:{settingsContainer:".js-profile-settings-container"},initialize:function e(t){this.isRowsEnabled=t.isRowsEnabled;this._setTemplate();this.previousModel=_.omit(this.model.toJSON(),"profileType");this.profileModel=t.profileModel;this.previousProfileModel=t.profileModel.toJSON();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_profile_component_v8r":"view_settings_profile"},profileTypeChanged:function e(){var t=this.el.querySelector(".js-profile-type").value.trim();this.model.set("profileType",t);this.trigger("setting:change",this.model.get("id"),t);this.renderSettingsByType();this.trigger("setting:reset",this.model.get("id"),t)},onRender:function e(){this.renderSettingsByType()},countryData:function e(){var t=Editor.Site.Dom.window.Data.countries;var e=[{text:App.t("widgets.companyaddress.choose-country","Choose country"),value:""}];t.forEach(function(t){e.push({text:t.name,value:t.name})});return e},getAddressTypeSetting:function e(){return[{id:this.model.get("addressSettingId"),label:App.t("widgets.profile.address","Address"),type:"text",value:this.model.get("address")},{id:this.model.get("address1SettingId"),label:App.t("widgets.profile.address1","Address"),type:"text",value:this.model.get("address1")},{id:this.model.get("address2SettingId"),label:App.t("widgets.profile.address2","Address"),type:"text",value:this.model.get("address2")},{id:this.model.get("countrySettingId"),type:"select",label:App.t("widgets.companyaddress.country","Country"),value:this.model.get("country"),data:this.countryData()},{id:this.model.get("postalcodeSettingId"),label:App.t("widgets.profile.postalcode","Postal Code"),type:"text",value:this.model.get("addressPostalCode")}]},getEmailTypeSetting:function e(){return[{id:this.model.get("emailSettingId"),label:App.t("widgets.profile.email","Email"),type:"text",inputType:"email",value:this.model.get("email")}]},getHeadlineTypeSetting:function e(){return[{id:this.model.get("headlineSettingId"),label:App.t("widgets.profile.headline","Headline"),type:"text",autocapitalize:"on",autocorrect:"on",value:this.model.get("headline")}]},getStraplineTypeSetting:function e(){return[{id:this.model.get("straplineSettingId"),label:App.t("widgets.profile.strapline","Strap Line"),type:"text",autocapitalize:"on",autocorrect:"on",value:this.model.get("strapline")}]},getCompanydescriptionTypeSetting:function e(){return[{id:this.model.get("companydescriptionSettingId"),label:App.t("widgets.profile.companydescription","Company Description"),type:"textarea",autocapitalize:"on",autocorrect:"on",value:this.model.get("companydescription")}]},getPhoneTypeSetting:function e(){return[{id:this.model.get("phoneSettingId"),label:App.t("widgets.profile.phone","Phone"),type:"text",value:this.model.get("phone")}]},getBusinessTypeSetting:function e(){return[{id:this.model.get("businessSettingId"),label:App.t("widgets.profile.business","Business"),type:"text",value:this.model.get("business")}]},getCopyrightTypeSetting:function e(){return[{id:this.model.get("copyrightSettingId"),label:App.t("widgets.profile.copyright","Copyright"),type:"textarea",autocapitalize:"on",autocorrect:"on",value:this.model.get("copyright")}]},getTwitterTypeSetting:function e(){return[{id:this.model.get("twitterSettingId"),label:App.t("widgets.profile.latesttweet","Latest Tweet"),type:"text",value:this.model.get("twitter")}]},getMapTypeSetting:function e(){return[{id:this.model.get("mapAddressSettingId"),type:"text",label:App.t("widgets.map.address","Address line 1"),value:this.model.get("mapAddress")},{id:this.model.get("mapAddress1SettingId"),type:"text",label:App.t("widgets.map.address1","Address line 2"),value:this.model.get("mapAddress1")},{id:this.model.get("mapAddress2SettingId"),type:"text",label:App.t("widgets.map.address2","Address line 3"),value:this.model.get("mapAddress2")},{id:this.model.get("mapPostalcodeSettingId"),type:"text",label:App.t("widgets.map.postalcode","Postal Code"),value:this.model.get("mapPostalCode")},{id:this.model.get("mapZoomSettingId"),type:"slider",label:App.t("widgets.map.zoom","Zoom"),minValue:1,maxValue:20,value:this.model.get("mapZoom")},{id:this.model.get("mapHeightSettingId"),type:"slider",label:App.t("shared_views.settings.height","Height"),minValue:100,maxValue:500,units:"px",value:this.model.get("mapHeight")}]},getFormTypeSetting:function e(){var t=[{id:this.model.get("formLabelId"),type:"text",label:App.t("widgets.profile.formtitle_label","Form Title"),value:this.model.get("formLabel")},{id:this.model.get("formTitleSettingId"),type:"text",label:App.t("widgets.contactform.email_title","Email Title"),value:this.model.get("formTitle")},{id:this.model.get("emailPlaceholderSettingId"),type:"text",label:App.t("widgets.signupform.label_placeholder","Email placeholder"),value:this.model.get("emailPlaceholder")},{id:this.model.get("formButtonSettingId"),type:"advancedtextbox",label:App.t("widgets.contactform.btntext","Button Text"),value:this.model.get("formText"),bold:this.model.get("formBold"),italic:this.model.get("formItalic"),size:this.model.get("formFontSize")},{id:this.model.get("formEmailSettingId"),type:"text",inputType:"email",label:App.t("widgets.profile.form_email","Profile Email"),value:this.model.get("email")},{id:this.model.get("goalUrlSettingId"),type:"datasourcechooser",label:App.t("widgets.contactform.goal_label","Success Page"),requireValidation:true,value:this.model.get("goalUrl"),data:(0,o.getActiveLanguageInternalPages)()}];u()&&t.push({id:this.model.get("privacyLabelId"),type:"text",label:App.t("widgets.profile.privacy_label","Privacy Label"),placeholder:App.t("widgets.profile.privacy_label_placeholder","eg. I agree to the use..."),value:this.model.get("privacyLabel")});return t},getSocialiconsTypeSetting:function e(){var t=[{id:this.model.get("socialIconsLinkedinSettingId"),label:App.t("widgets.socialicons.linkedin","LinkedIn"),requireValidation:true,type:"text",placeholder:App.t("widgets.linkedinprofile.profileurl_placeholder","eg. www.linkedin.com/in/yourname"),value:this.model.get("socialIconsLinkedin")},{id:this.model.get("socialIconsTwitterSettingId"),label:App.t("widgets.socialicons.twitter","Twitter"),placeholder:App.t("widgets.twitter.search_placeholder","eg. coffee"),type:"text",value:this.model.get("socialIconsTwitter")},{id:this.model.get("socialIconsInstagramSettingId"),label:App.t("widgets.socialicons.instagram","Instagram"),placeholder:App.t("widgets.instagram.search_placeholder","eg. coffee"),type:"text",value:this.model.get("socialIconsInstagram")},{id:this.model.get("socialIconsPinterestSettingId"),label:App.t("widgets.socialicons.pinterest","Pinterest"),placeholder:App.t("widgets.pinterest.search_placeholder","eg. coffee"),type:"text",value:this.model.get("socialIconsPinterest")},{id:this.model.get("socialIconsFacebookSettingId"),label:App.t("widgets.socialicons.facebook","Facebook"),placeholder:App.t("widgets.profile.facebook_placeholder","eg. www.facebook.com/example"),requireValidation:true,type:"text",value:this.model.get("socialIconsFacebook")},{id:this.model.get("socialIconsRssSettingId"),label:App.t("widgets.socialicons.rss","RSS"),placeholder:App.t("widgets.profile.rss_placeholder","eg. http://www.example.com/rss"),requireValidation:true,type:"text",value:this.model.get("socialIconsRss")},{id:this.model.get("socialIconsVkontakteSettingId"),label:App.t("widgets.socialicons.vkontakte","VKontakte"),placeholder:App.t("widgets.profile.vkontakte_placeholder","eg. www.vk.com/example"),requireValidation:true,type:"text",value:this.model.get("socialIconsVkontakte")},{id:this.model.get("socialIconsXingSettingId"),label:App.t("widgets.socialicons.xing","Xing"),placeholder:App.t("widgets.profile.xing_placeholder","eg. www.xing.com/profile/your_name"),requireValidation:true,type:"text",value:this.model.get("socialIconsXing")},{id:this.model.get("socialIconsTiktokSettingId"),label:App.t("widgets.socialicons.tiktok","Tiktok"),placeholder:App.t("widgets.profile.tiktok_placeholder","eg. www.tiktok.com/@example"),requireValidation:true,type:"text",value:this.model.get("socialIconsTiktok")}];l()&&t.push({id:this.model.get("socialIconsYoutubeSettingId"),label:App.t("widgets.socialicons.youtube","YouTube"),placeholder:App.t("widgets.profile.youtube_placeholder","eg. www.youtube.com/yourid"),requireValidation:true,type:"text",value:this.model.get("socialIconsYoutube")});return t},getSettings:function e(t){var r=null;switch(t){case"address":r=this.getAddressTypeSetting();break;case"email":r=this.getEmailTypeSetting();break;case"headline":r=this.getHeadlineTypeSetting();break;case"strapline":r=this.getStraplineTypeSetting();break;case"companydescription":r=this.getCompanydescriptionTypeSetting();break;case"phone":r=this.getPhoneTypeSetting();break;case"business":r=this.getBusinessTypeSetting();break;case"copyright":r=this.getCopyrightTypeSetting();break;case"twitter":r=this.getTwitterTypeSetting();break;case"map":r=this.getMapTypeSetting();break;case"form":r=this.getFormTypeSetting();break;case"socialicons":r=this.getSocialiconsTypeSetting();break}return r},renderSettingsByType:function e(){var t=this.getSettings(this.model.get("profileType"));var r=this.profileModel.changedAttributes(this.previousProfileModel);this.model.hasChanged()&&this.model.set(this.previousModel);if(this.settingsView){this.stopListening(this.settingsView,"profileSettings:change",this.settingChanged);this.settingsView.collection=new Backbone.Collection(t)}else this.settingsView=new i.default({collection:new Backbone.Collection(t),isRowsEnabled:this.isRowsEnabled});this.ui.settingsContainer.empty().append(this.settingsView.render().$el);this.listenTo(this.settingsView,"profileSettings:change",this.settingChanged);r&&this.profileModel.set(r)},settingChanged:function e(t){if(!this.isValidate(t))return;if(this.isEmpty(t))return;this.trigger("setting:change",t.id,t.value)},isRequired:function e(t){return Object.keys(c).includes(t)},isEmpty:function e(t){var e=false;var r=t.id.match(/widget-profile-([a-zA-Z-]+)/i)[1];var n="object"===s(t.value)?t.value.value:t.value;var i=this.settingsView.collection.get(t.id);var o=this.settingsView.children.findByModel(i);if(!this.isRequired(r))return false;if(0===n.length){i.set("error",App.t("widgets.profile.error_empty_".concat(r),c[r]));o.render();e=true;this.trigger("save:disable")}else{i.set("error","");o.render();e=false;this.trigger("save:enable")}return e},isValidate:function e(t){var e=true;var r="object"===s(t.value)?t.value.value:t.value;var n=t.id;var i=this.settingsView.collection.get(n);var o=this.settingsView.children.findByModel(i);var a=/^(http|ftp|ftps|https)$/i;var l=/^((http|ftp|ftps|https):\/\/)?[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?\^=%&amp;:\/~\+#]*[\w\-\@?\^=%&amp;\/~\+#])?$/i;if("object"===s(t.value)&&"undefined"!==typeof t.value.source&&"custom"!==t.value.source)return e;if(t.childView.model.get("requireValidation"))if(0===r.length||l.test(r)){0===r.length||a.test(r.match(l)[2])||("object"===s(t.value)?t.value.value="http://".concat(r):t.value="http://".concat(r));i.set("error","");o.render();o.el.querySelector(".js-input").focus();e=true;this.isRowsEnabled?Editor.Events.trigger("setting:save:validate"):this.trigger("save:validate")}else{i.set("error",App.t("widgets.socialicons.error_link","Please enter a URL"));o.render();o.el.querySelector(".js-input").focus();e=false;this.isRowsEnabled?Editor.Events.trigger("setting:save:disable",true):this.trigger("save:disable")}return e}});var f=t["default"]=d},64084(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({template:"view_settings_radiobutton",tagName:function e(){return this.options.isRowsEnabled?"fieldset":"div"},className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-radiobutton"},events:{"change input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_radiobutton_component_v8r":"view_settings_radiobutton"},inputChanged:function e(t){this.trigger("setting:change",this.model.get("id"),t.currentTarget.value.trim())}});var n=t["default"]=r},55769(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(21983));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_row_layout",events:{"click .js-previous-layout":"previousClicked","click .js-next-layout":"nextClicked","change .js-radio-item":"itemChanged"},initialize:function e(){this.layouts=this.model.get("layouts");this.currentIndex=this.layouts.indexOf(this.model.get("currentLayout"));return this},unsetCheckedItem:function e(){var t=this.el.querySelector(".js-radio-item:checked");t.checked=false},checkRadioItem:function e(t){var r=this.el.querySelector(".js-radio-item[value=".concat(t,"]"));r.checked=true},updateLayout:function e(){this.trigger("setting:change","row-layout-changed",{layout:this.layouts[this.currentIndex]});n.default.container.Tracker.track("Section layout updated")},itemChanged:function e(t){this.currentIndex=this.layouts.indexOf(t.currentTarget.value);this.updateLayout()},previousClicked:function e(){this.currentIndex-1<0?this.currentIndex=this.layouts.length-1:this.currentIndex--;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()},nextClicked:function e(){this.currentIndex+1>this.layouts.length-1?this.currentIndex=0:this.currentIndex++;this.unsetCheckedItem();this.checkRadioItem(this.layouts[this.currentIndex]);this.updateLayout()}});var a=t["default"]=o},36992(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(45410));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_section_gradient_picker",initialize:function e(){this.sectionGradients=this.model.get("sectionGradients");this.currentSectionGradient=this.model.get("currentSectionGradient");return this},onRender:function e(){this.openSectionGradientPanel()},openSectionGradientPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",sectionGradients:this.sectionGradients,currentSectionGradient:this.currentSectionGradient}).render();this.listenTo(t,"gradient:change",this._setSectionGradient.bind(this))},_setSectionGradient:function e(t){this.trigger("setting:change","row-section-gradient-changed",t);this.currentSectionGradient=t}});var a=t["default"]=o},20911(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(98976));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_section_height_picker",initialize:function e(){this.sectionHeights=this.model.get("sectionHeights");this.currentSectionHeight=this.model.get("currentSectionHeight");return this},onRender:function e(){this.openSectionHeightPanel()},openSectionHeightPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",sectionHeights:this.sectionHeights,currentSectionHeight:this.currentSectionHeight}).render();this.listenTo(t,"height:change",this._setSectionHeight.bind(this))},_setSectionHeight:function e(t){this.trigger("setting:change","row-section-height-changed",t);this.currentSectionHeight=t}});var a=t["default"]=o},66180(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(91998));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_section_link_picker",initialize:function e(){this.pageUrl=this.model.get("pageUrl");this.sectionId=this.model.get("sectionId");return this},onRender:function e(){this.openSectionLinkPanel()},openSectionLinkPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",pageUrl:this.pageUrl,sectionId:this.sectionId}).render()}});var a=t["default"]=o},18840(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(21286));function i(e){return e&&e.__esModule?e:{default:e}}var o=Marionette.ItemView.extend({template:"view_settings_section_width_picker",initialize:function e(){this.sectionWidths=this.model.get("sectionWidths");this.currentSectionWidth=this.model.get("currentSectionWidth");return this},onRender:function e(){this.openSectionWidthPanel()},openSectionWidthPanel:function e(){var t=new n.default({dialogStyle:"dialog__panel-style--green",sectionWidths:this.sectionWidths,currentSectionWidth:this.currentSectionWidth}).render();this.listenTo(t,"width:change",this._setSectionWidth.bind(this))},_setSectionWidth:function e(t){this.trigger("setting:change","row-section-width-changed",t);this.currentSectionWidth=t}});var a=t["default"]=o},7457(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){var e=this.options.isRowsEnabled?"popup-panel-form__field":"settings-select";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"change .js-select":"selectChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_select_component_v8r":"view_settings_select"},selectChanged:function e(){this.trigger("setting:change",this.model.get("id"),this.el.querySelector(".js-select").value.trim())}});var n=t["default"]=r},92511(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=i(r(21983));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return u(e)||l(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function l(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d="dark";var f="none";var p=Marionette.ItemView.extend({template:"view_settings_shape_divider",events:{"click .js-shape-divider-item":"shapeDividerClicked","click .js-shape-divider-color-option":"colorClicked"},initialize:function e(){this.shapeDividers=this.model.get("shapeDividers");this.currentShapeDividerIndex=this.shapeDividers.indexOf(this.model.get("currentShapeDivider"));this.currentShapeDividerColor=this.model.get("currentShapeDividerColor");this.styleSets=this.model.get("styleSets");return this},shapeDividerClicked:function e(t){if(this._isSelectedTypeAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDividerIndex=this.shapeDividers.indexOf(t.currentTarget.getAttribute("data-name"));"undefined"===typeof this.currentShapeDividerColor&&(this.currentShapeDividerColor=d);this._clearSelectedShapeDividerClasses();this._addSelectedShapeDividerClass(t.currentTarget);this._updateColorSwitchVisibility(this.shapeDividers[this.currentShapeDividerIndex]);this.updateShapeDivider();n.default.container.Tracker.track("Divider type selected",{shapeDividerType:this.shapeDividers[this.currentShapeDividerIndex]})}},colorClicked:function e(t){if(this._isSelectedColorAllowed(t.currentTarget.getAttribute("data-name"))){this.currentShapeDividerColor=t.currentTarget.getAttribute("data-name");this._clearSelectedColorClasses();this._addSelectedColorClass(t.currentTarget);this.updateShapeDivider();n.default.container.Tracker.track("Divider colour selected",{shapeDividerColour:this.currentShapeDividerColor})}},updateShapeDivider:function e(){this.trigger("setting:change","row-shape-divider-changed",{shapeDivider:this.shapeDividers[this.currentShapeDividerIndex],shapeDividerColor:this.currentShapeDividerColor})},_isSelectedColorAllowed:function e(t){return-1!==Object.keys(this.styleSets).indexOf(t)},_isSelectedTypeAllowed:function e(t){return-1!==this.shapeDividers.indexOf(t)},_clearSelectedShapeDividerClasses:function e(){o(this.el.querySelectorAll(".js-shape-divider-item")).forEach(function(e){e.classList.remove("is-current")})},_addSelectedShapeDividerClass:function e(t){t.classList.add("is-current")},_clearSelectedColorClasses:function e(){o(this.el.querySelectorAll(".js-shape-divider-color-option")).forEach(function(e){e.classList.remove("is-current-color")})},_addSelectedColorClass:function e(t){t.classList.add("is-current-color")},_updateColorSwitchVisibility:function e(t){var r=this.el.querySelector(".js-shape-divider-color-switch");t===f?r.setAttribute("hidden","true"):r.removeAttribute("hidden")}});var h=t["default"]=p},46287(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=a(r(16706));var o=r(60443);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=d(e,"string");return"symbol"==n(t)?t:t+""}function d(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)})}}var h=Marionette.ItemView.extend({template:"view_settings_site_logo",events:{"click .js-change-logo":"openImagePicker","click .js-remove-logo":"removeLogo"},initialize:function e(){this.listenTo(this.model,"change:imageSrc",this.render);return this},removeLogo:function e(){this.model.set("imageSrc",null);this.notifyChanges()},openImagePicker:function e(){var t=this;return p(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:if(!(0,o.isMediaManagerEnabled)()){n.next=7;break}n.next=3;return(0,o.invokeMediaManager)(false);case 3:r=n.sent;r.addEventListener("bk-media-manager:media-selected",function(e){t.setAsset(e.detail)});n.next=10;break;case 7:t.imagesPanelView=new i.default({model:new BaseKit.Panels.Model({panel:"upload",parentPanel:void 0,subPanel:false,isSubPanel:false,showSaveBtn:false,title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();t.listenTo(t.imagesPanelView,"asset:change",t.setAsset);t.listenTo(t.imagesPanelView,"asset:reset",t.resetAsset);case 10:case"end":return n.stop()}},e)}))()},setAsset:function e(t){this.previousModel=this.model.clone().toJSON();this.model.set({imageSrc:t.url,fileName:t.fileName,fileSize:t.fileSize,imageHeight:t.imageHeight,imageWidth:t.imageWidth,path:t.path,description:"assets",title:"assets",ref:t.ref});this.notifyChanges()},resetAsset:function e(){if(this.previousModel){this.model.set(l({},this.previousModel));this.notifyChanges()}},notifyChanges:function e(){this.trigger("setting:change",this.model.get("id"),{positionTopPercentage:this.model.get("positionTopPercentage"),src:this.model.get("imageSrc"),url:this.model.get("imageSrc"),fileName:this.model.get("fileName"),fileSize:this.model.get("fileSize"),imageWidth:this.model.get("imageWidth"),imageHeight:this.model.get("imageHeight"),path:this.model.get("path"),imageSize:"".concat(this.model.get("imageWidth")," x ").concat(this.model.get("imageHeight")),description:this.model.get("description"),title:this.model.get("title"),assetRef:this.model.get("ref")})}});var g=t["default"]=h},16856(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-slider"},events:{"change .js-input":"inputChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();this.listenTo(this.model,"change",this.render);return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_slider_component_v8r":"view_settings_slider"},inputChanged:function e(){var t=this.el.querySelector(".js-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),t)}});var n=t["default"]=r},88180(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=u(r(16706));var i=u(r(98686));var o=u(r(74686));var a=u(r(99736));var s=u(r(54998));var l=r(60443);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return h(e)||p(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)})}}var y="is-selected";var b=Marionette.ItemView.extend({template:"view_settings_stylepicker",className:function e(){var e="settings-stylepicker";this.model.get("className")&&(e="".concat(e," ").concat(this.model.get("className")));return e},events:{"click .js-style-option":"styleClicked","click .js-image-option":"imageClicked","click .js-presets-option":"presetsClicked","click .js-replace-image-option":"replaceImageClicked","click .js-overlay-option":"overlayClicked","click .js-focal-point-option":"focalPointClicked","click .js-scroll-effects-option":"scrollEffectClicked"},initialize:function e(){this.defaultBackgroundPosition={left:"50%",top:"50%"};this.overlayColourType=this.model.get("overlayColourType");this.overlayColour=this.model.get("overlayColour");this.overlayOpacity=this.model.get("overlayOpacity");this.dominantColor=this.model.get("dominantColor");this.backgroundImageRef=this.model.get("backgroundImageRef");this.backgroundImage=this.model.get("backgroundImageSrc");this.backgroundPosition=this.model.get("backgroundPosition")||this.defaultBackgroundPosition;this.scrollEffect=this.model.get("scrollEffect");return this},onRender:function e(){this.cacheElements()},cacheElements:function e(){this.focalPointButton=this.el.querySelector(".js-focal-point-button");this.scrollEffectsButton=this.el.querySelector(".js-scroll-effects-button");this.overlayButton=this.el.querySelector(".js-overlay-button");this.editMode=this.el.querySelector(".js-style-edit-mode");this.presetsMode=this.el.querySelector(".js-style-presets-mode")},styleClicked:function e(t){this._clearSelectedStyleClasses();this._addSelectedStyleClass(t.currentTarget);document.querySelector(".js-section-gradient-tab").closest("li").removeAttribute("hidden");this.trigger("setting:change","row-style-changed",{styleName:t.currentTarget.getAttribute("data-name")});this._disableCustomiseButtons()},replaceImageClicked:function e(){var t=this;return m(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:if(!(0,l.isMediaManagerEnabled)()){o.next=7;break}o.next=3;return(0,l.invokeMediaManager)(false);case 3:r=o.sent;r.addEventListener("bk-media-manager:media-selected",function(e){t.setAsset(e.detail)});o.next=10;break;case 7:t.imagesPanelView=new n.default({model:new i.default({panel:"upload",title:App.t("shared_components.imagespanel.source_title","Image source")})}).render();t.listenTo(t.imagesPanelView,"asset:change",t.setAsset);t.listenTo(t.imagesPanelView,"close:images-panel",function(){t.backgroundImage||t.presetsClicked()});case 10:case"end":return o.stop()}},e)}))()},imageClicked:function e(){if(!this._isImageStyleActive()&&this.backgroundImage){var t=this.backgroundPosition;this.setAsset({url:this.backgroundImage,ref:this.backgroundImageRef,dominantColor:this.dominantColor});this.setBackgroundPosition(t)}this._enableEditMode();document.querySelector(".js-section-gradient-tab").closest("li").setAttribute("hidden","");this.backgroundImage||this.replaceImageClicked()},presetsClicked:function e(){this._enablePresetsMode()},overlayClicked:function e(){if(!this._isOverlayButtonEnabled())return;this.overlayColourPanelView=new a.default({styleSets:this.model.get("styleSets"),overlayColour:this.overlayColour,overlayColourType:this.overlayColourType,overlayOpacity:this.overlayOpacity}).render();this.listenTo(this.overlayColourPanelView,"overlay:change",this.setOverlaySettings.bind(this));this.listenTo(this.overlayColourPanelView,"opacity:drag",this.updateOverlayOpacity.bind(this))},focalPointClicked:function e(){if(!this._isFocalPointButtonEnabled())return;this.imageFocusPanelView=new o.default({backgroundImage:this.backgroundImage,backgroundPosition:this.backgroundPosition}).render();this.listenTo(this.imageFocusPanelView,"focus:change",this.setBackgroundPosition)},scrollEffectClicked:function e(){if(!this._isScrollEffectsButtonEnabled())return;this.scrollEffectsPanel=new s.default({dialogStyle:"dialog__panel-style--green",effects:this.model.get("effects"),scrollEffect:this.scrollEffect}).render();this.listenTo(this.scrollEffectsPanel,"scrollEffect:change",this.setScrollEffect.bind(this))},setAsset:function e(t){this._clearSelectedStyleClasses();this._addSelectedStyleClass(this.el.querySelector(".js-image-option"));this.trigger("setting:change","row-image-changed",{asset:t,backgroundPosition:this.defaultBackgroundPosition});this.backgroundImage=t.url;this.backgroundPosition=this.defaultBackgroundPosition;this._enableCustomiseButtons()},setBackgroundPosition:function e(t){this.trigger("setting:change","row-background-position-changed",{backgroundPosition:t});this.backgroundPosition=t},setScrollEffect:function e(t){this.trigger("setting:change","row-scroll-effect-changed",t);this.scrollEffect=t},setOverlaySettings:function e(t){this.trigger("setting:change","row-overlay-changed",{overlayColour:t.overlayColour,overlayColourType:t.overlayColourType,overlayOpacity:t.overlayOpacity});this.overlayColour=t.overlayColour;this.overlayColourType=t.overlayColourType;this.overlayOpacity=t.overlayOpacity},updateOverlayOpacity:function e(t){this.trigger("setting:update","row-overlay-opacity-changed",{overlayOpacity:t});this.overlayOpacity=t},_addSelectedStyleClass:function e(t){t.classList.add(y)},_clearSelectedStyleClasses:function e(){c(this.el.querySelectorAll(".js-style-option, .js-image-option")).forEach(function(e){e.classList.remove(y)})},_isImageStyleActive:function e(){return this.el.querySelector(".js-image-option").classList.contains("is-selected")},_isFocalPointButtonEnabled:function e(){return!this.focalPointButton.disabled},_isScrollEffectsButtonEnabled:function e(){return!this.scrollEffectsButton.disabled},_isOverlayButtonEnabled:function e(){return!this.overlayButton.disabled},_enableCustomiseButtons:function e(){this.overlayButton.disabled=false;this.focalPointButton.disabled=false;this.scrollEffectsButton.disabled=false},_disableCustomiseButtons:function e(){this.overlayButton.disabled=true;this.focalPointButton.disabled=true;this.scrollEffectsButton.disabled=true},_enableEditMode:function e(){this.presetsMode.setAttribute("hidden","true");this.editMode.removeAttribute("hidden")},_enablePresetsMode:function e(){this.editMode.setAttribute("hidden","true");this.presetsMode.removeAttribute("hidden")}});var w=t["default"]=b},46672(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=a(r(33346));var i=a(r(92399));var o=r(62047);function a(e){return e&&e.__esModule?e:{default:e}}var s=Marionette.ItemView.extend({activeItem:null,colourPicker:null,fontPicker:null,stylesCollection:null,events:{"click .js-section-list-button":"sectionListButtonClicked","click .js-back":"closeColourPalette","click .js-font-back":"closeFontOptions"},initialize:function e(t){this.styles=t.styles;this.stylesCollection=t.stylesCollection;this.fontListContents=t.fontListContents;this.allGoogleFonts=t.allGoogleFonts;this.presetAttributesCollection=t.presetAttributesCollection;this.rowsEnabled=t.rowsEnabled;this._setTemplate();return this},_setTemplate:function e(){this.template=this.rowsEnabled?"settings_widget_style_component_v8r":"view_settings_widget_style"},render:function e(){var t={styles:this.styles};var r=Twig.render(Twig.templates[this.template],t);(0,o.emptyElement)(this.el);(0,o.append)(this.el,r);return this},viewReset:function e(t){this.styles=t.styles;this.stylesCollection=t.stylesCollection;this.fontListContents=t.fontListContents;this.allGoogleFonts=t.allGoogleFonts;return this},sectionListButtonClicked:function e(t){t.preventDefault();var r=t.currentTarget;var n=r.dataset.sectionName;var i=r.dataset.styleName;var o=r.dataset.styleType;var a=this.stylesCollection.findWhere({name:i});this.activeItem=r;"font"===o?this.showFontOptions(a,this.updateFont.bind(this)):this.showColourPicker(n,i)},getColourModel:function e(t){return this.stylesCollection.findWhere({name:t})},updateSampleColour:function e(t){this.activeItem.querySelector(".js-colour-preview").style.backgroundColor=t},updateFont:function e(){var t={templateStylePreprocessorVariables:this.stylesCollection.toProcessedJSON()};window.parent.fetch("/site-css-template-model/".concat(App.session.get("siteRef")),{credentials:"include",method:"POST",body:JSON.stringify(t),headers:{"X-CSRF-TOKEN":App.frontEndBucket.csrfToken}}).then(function(e){401===e.status&&Editor.Responsive.displaySessionTimeoutDialog();return e.text()}).then(function(e){Editor.Site.Dom.replaceCss(e);Editor.Site.Dom.cleanUpStyles()})},colourChosen:function e(t,r){this.stylesCollection.findWhere({name:t}).set({value:r});this.stylesCollection.save();this.updateSampleColour(r)},showColourPicker:function e(t,r){var i=this;this.colourPicker=new n.default({el:".js-widget-colour-picker-contents",afterRender:function e(){return i.openColourPalette()},colourChosen:this.colourChosen.bind(this),showColourSet:this.rowsEnabled,colourSet:this.getColourSet()});this.colourPicker.setModel(this.getColourModel(r));this.colourPicker.render()},getColourSet:function e(){var t=this;return this.rowsEnabled?[{name:"light",attr:"@color--light"},{name:"dark",attr:"@color--dark"},{name:"accent",attr:"@color--accent"}].map(function(e){var r=t.presetAttributesCollection.findWhere({name:e.attr});e.background=r.get("value");return e}):[]},showFontOptions:function e(t,r){var n=this;this.fontPicker=new i.default({el:".js-widget-font-picker-contents",fontListContents:this.fontListContents,allGoogleFonts:this.allGoogleFonts,templateStylePreprocessorVariablesEnabled:true,rowsEnabled:this.rowsEnabled,afterRender:function e(){return n.openFontOptions()}});this.fontPicker.setModel(t);this.fontPicker.setFontChosen(r);this.fontPicker.render()},openColourPalette:function e(){var t=this;this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.remove("is-open");document.querySelector(".js-widget-styles-picker-container").classList.add("is-open");document.querySelector(".js-widget-colour-picker-container").classList.add("is-open");$(".js-widget-colour-picker-container").find(".js-back").off("click").on("click",function(){return t.closeColourPalette()});this.bindStylePickerBackstopEvent(this.closeColourPalette.bind(this))},closeColourPalette:function e(){this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.add("is-open");document.querySelector(".js-widget-styles-picker-container").classList.remove("is-open");document.querySelector(".js-widget-colour-picker-container").classList.remove("is-open");this.colourPicker.setElement(this.$(".js-colour-picker-wrapper"));this.colourPicker.destroy();this.colourPicker=null;this.unbindStylePickerBackstopEvent(this.closeHandler)},openFontOptions:function e(){var t=this;this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.remove("is-open");document.querySelector(".js-widget-styles-picker-container").classList.add("is-open");document.querySelector(".js-widget-font-picker-container").classList.add("is-open");$(".js-widget-font-picker-container").find(".js-font-back").off("click").on("click",function(){return t.closeFontOptions()});this.bindStylePickerBackstopEvent(this.closeFontOptions.bind(this))},closeFontOptions:function e(){this.rowsEnabled||document.querySelector(".js-widget-property-panel").classList.add("is-open");document.querySelector(".js-widget-styles-picker-container").classList.remove("is-open");document.querySelector(".js-widget-font-picker-container").classList.remove("is-open");this.fontPicker.setElement(this.$(".js-font-panel-wrapper"));this.fontPicker.destroy();this.fontPicker=null;this.unbindStylePickerBackstopEvent(this.closeHandler)},bindStylePickerBackstopEvent:function e(t){this.closeHandler=t;document.querySelector(".js-widget-styles-picker-backstop").addEventListener("click",this.closeHandler)},unbindStylePickerBackstopEvent:function e(t){t&&document.querySelector(".js-widget-styles-picker-backstop").removeEventListener("click",t)}});var l=t["default"]=s},78055(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=Marionette.ItemView.extend({className:function e(){return this.options.isRowsEnabled?"popup-panel-form__field":"settings-textarea"},events:{"change textarea":"textareaChanged"},initialize:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isRowsEnabled=t.isRowsEnabled||false;this._setTemplate();return this},_setTemplate:function e(){this.template=this.isRowsEnabled?"settings_textarea_component_v8r":"view_settings_textarea"},textareaChanged:function e(){var t=this.el.querySelector(".js-input").value.trim();this.model.set("value",t);this.trigger("setting:change",this.model.get("id"),t)}});var n=t["default"]=r},17103(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetRegister=t.widgetRegister}o(e,[{key:"observeWidgets",value:function e(t){var r=this;this._createAdaptor();Object.keys(t).forEach(function(e){if(!r.widgets[e])return;Object.keys(t[e]).forEach(function(n){r.widgets[e].on(n,t[e][n])})})}},{key:"_createAdaptor",value:function e(){this.widgets={"main-widgets":this.widgetRegister.getZoneWidgetCollection(),"template-widgets":this.widgetRegister.getTemplateWidgetCollection()}}}]);return e}();var u=t["default"]=l},30322(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(79969);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=u(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var c=function(){function e(t){o(this,e);this.StdModelClass=t.StdModelClass}s(e,[{key:"transform",value:function e(t,r){var i=(0,n.getWidgetClass)({widgetType:t,type:"Model",StdClass:this.StdModelClass});if("function"!==typeof i.prototype.transformWidgetData)return r;return i.prototype.transformWidgetData(r)}}]);return e}();var d=t["default"]=c},18293(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(79969);var i=r(60023);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function d(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==o(t)?t:t+""}function p(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=function(){function e(t){u(this,e);this.StdModelClass=t.StdModelClass}d(e,[{key:"getDefaults",value:function e(t){var r;var o=(0,n.getWidgetClass)({widgetType:t,type:"Model",StdClass:this.StdModelClass});r=t.includes("widget.content")?o.prototype.defaults(t):i.AbstractWidgetData[t]?s({},i.AbstractWidgetData[t].defaults):o.prototype.defaults;return r}}]);return e}();var g=t["default"]=h},34357(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetApi=t.widgetApi}o(e,[{key:"cloneZone",value:function e(t){this.widgetApi.cloneZone({name:t.name,pageRef:t.pageRef})}}]);return e}();var u=t["default"]=l},16491(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var l=function(){function e(t){n(this,e);this.widgetApi=t.widgetApi}o(e,[{key:"restoreZone",value:function e(t){this.widgetApi.restoreZone({name:t.name,pageRef:t.pageRef})}}]);return e}();var u=t["default"]=l},55751(e,t,r){"use strict";r(82376);r(22423);r(42702);r(1614);r(1875);r(28169);r(43896);r(82986);r(42108);r(25988);r(55356);r(1523);r(11936);r(53971)},82376(e,t,r){r(31175);r(27596);r(85373);r(94085);r(86487);r(76591);r(86020);r(56628);r(68639);r(79241);r(42275);r(14087);r(9265);r(17672);r(12753);r(99752);r(39691);r(40111);r(89206);r(55102);r(6561);r(22576);r(14271);r(62560);r(2040);r(46098);r(11330);r(6e3);r(34825);r(79962);r(47817);r(32325);r(24903);r(21448);r(30135);r(92061);r(9874);r(8297);r(65472);r(785);r(4326);r(73554);r(41169);r(23777);r(29468);r(85932);r(27532);r(95739);r(28646);r(28973);r(11854);r(8021);r(83053);r(63926);r(93358);r(11160);r(40);r(43589);r(16559);r(85529);r(64276);r(29031);r(91294);r(7982);r(24365);r(75294);r(60112);r(70886);r(1865);r(84750);r(7455);r(41816);r(64290);r(57320);r(61013);r(64727);r(32180);r(38388);r(59312);r(2694);r(35270);r(45487);r(42202);r(39290);r(7506);r(63553);r(63442);r(1404);r(34842);r(50307);r(50172);r(3931);r(76880);r(77757);r(93607);r(51911);r(85325);r(35552);r(30994);r(37060);r(70220);r(8539);r(34665);r(80923);r(91873);r(95376);r(74018);r(31464);r(16302);r(31533);r(93131);r(51192);r(35970);r(43523);r(62439);r(6290);r(88449);r(15270);r(51771);r(54010);r(97093);r(77692);r(38930);r(47961);r(27248);r(93941);r(33327);r(70543);r(95062);r(6612);r(39885);r(54753);r(61376);r(74774);r(57653);r(62581);r(35344);r(49965);e.exports=r(24069)},42702(e,t,r){r(5451);e.exports=r(24069).Array.flatMap},22423(e,t,r){r(1922);e.exports=r(24069).Array.includes},55356(e,t,r){r(15711);e.exports=r(24069).Object.entries},42108(e,t,r){r(92957);e.exports=r(24069).Object.getOwnPropertyDescriptors},25988(e,t,r){r(34473);e.exports=r(24069).Object.values},1523(e,t,r){"use strict";r(16302);r(34340);e.exports=r(24069).Promise["finally"]},1875(e,t,r){r(17928);e.exports=r(24069).String.padEnd},1614(e,t,r){r(9785);e.exports=r(24069).String.padStart},43896(e,t,r){r(16322);e.exports=r(24069).String.trimRight},28169(e,t,r){r(44347);e.exports=r(24069).String.trimLeft},82986(e,t,r){r(55599);e.exports=r(17957).f("asyncIterator")},1903(e,t,r){r(49921);e.exports=r(68961).global},36888(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},92769(e,t,r){var n=r(46364);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},68961(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},7905(e,t,r){var n=r(36888);e.exports=function(e,t,r){n(e);if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},402(e,t,r){e.exports=!r(11261)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},42113(e,t,r){var n=r(46364);var i=r(3441).document;var o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},16680(e,t,r){var n=r(3441);var i=r(68961);var o=r(7905);var a=r(58790);var s=r(89320);var l="prototype";var u=function(e,t,r){var c=e&u.F;var d=e&u.G;var f=e&u.S;var p=e&u.P;var h=e&u.B;var g=e&u.W;var v=d?i:i[t]||(i[t]={});var m=v[l];var y=d?n:f?n[t]:(n[t]||{})[l];var b,w,_;d&&(r=t);for(b in r){w=!c&&y&&void 0!==y[b];if(w&&s(v,b))continue;_=w?y[b]:r[b];v[b]=d&&"function"!=typeof y[b]?r[b]:h&&w?o(_,n):g&&y[b]==_?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};t[l]=e[l];return t}(_):p&&"function"==typeof _?o(Function.call,_):_;if(p){(v.virtual||(v.virtual={}))[b]=_;e&u.R&&m&&!m[b]&&a(m,b,_)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},11261(e){e.exports=function(e){try{return!!e()}catch(e){return true}}},3441(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},89320(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},58790(e,t,r){var n=r(31866);var i=r(11005);e.exports=r(402)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},65547(e,t,r){e.exports=!r(402)&&!r(11261)(function(){return 7!=Object.defineProperty(r(42113)("div"),"a",{get:function(){return 7}}).a})},46364(e){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},31866(e,t,r){var n=r(92769);var i=r(65547);var o=r(66071);var a=Object.defineProperty;t.f=r(402)?Object.defineProperty:function e(t,r,s){n(t);r=o(r,true);n(s);if(i)try{return a(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(t[r]=s.value);return t}},11005(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},66071(e,t,r){var n=r(46364);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},49921(e,t,r){var n=r(16680);n(n.G,{global:r(3441)})},21412(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},40305(e,t,r){var n=r(28708);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},25703(e,t,r){var n=r(21343)("unscopables");var i=Array.prototype;void 0==i[n]&&r(38922)(i,n,{});e.exports=function(e){i[n][e]=true}},71555(e,t,r){"use strict";var n=r(66681)(true);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},98453(e){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},6293(e,t,r){var n=r(40344);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},20383(e,t,r){"use strict";var n=r(60651);var i=r(28016);var o=r(67284);e.exports=[].copyWithin||function e(t,r){var a=n(this);var s=o(a.length);var l=i(t,s);var u=i(r,s);var c=arguments.length>2?arguments[2]:void 0;var d=Math.min((void 0===c?s:i(c,s))-u,s-l);var f=1;if(u<l&&l<u+d){f=-1;u+=d-1;l+=d-1}while(d-- >0){u in a?a[l]=a[u]:delete a[l];l+=f;u+=f}return a}},39919(e,t,r){"use strict";var n=r(60651);var i=r(28016);var o=r(67284);e.exports=function e(t){var r=n(this);var a=o(r.length);var s=arguments.length;var l=i(s>1?arguments[1]:void 0,a);var u=s>2?arguments[2]:void 0;var c=void 0===u?a:i(u,a);while(c>l)r[l++]=t;return r}},31771(e,t,r){var n=r(64802);var i=r(67284);var o=r(28016);e.exports=function(e){return function(t,r,a){var s=n(t);var l=i(s.length);var u=o(a,l);var c;if(e&&r!=r)while(l>u){c=s[u++];if(c!=c)return true}else for(;l>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}}},43298(e,t,r){var n=r(28805);var i=r(7300);var o=r(60651);var a=r(67284);var s=r(92007);e.exports=function(e,t){var r=1==e;var l=2==e;var u=3==e;var c=4==e;var d=6==e;var f=5==e||d;var p=t||s;return function(t,s,h){var g=o(t);var v=i(g);var m=n(s,h,3);var y=a(v.length);var b=0;var w=r?p(t,y):l?p(t,0):void 0;var _,S;for(;y>b;b++)if(f||b in v){_=v[b];S=m(_,b,g);if(e)if(r)w[b]=S;else if(S)switch(e){case 3:return true;case 5:return _;case 6:return b;case 2:w.push(_)}else if(c)return false}return d?-1:u||c?c:w}}},35636(e,t,r){var n=r(21412);var i=r(60651);var o=r(7300);var a=r(67284);e.exports=function(e,t,r,s,l){n(t);var u=i(e);var c=o(u);var d=a(u.length);var f=l?d-1:0;var p=l?-1:1;if(r<2)for(;;){if(f in c){s=c[f];f+=p;break}f+=p;if(l?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:d>f;f+=p)f in c&&(s=t(s,c[f],f,u));return s}},53719(e,t,r){var n=r(40344);var i=r(63906);var o=r(21343)("species");e.exports=function(e){var t;if(i(e)){t=e.constructor;"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0);if(n(t)){t=t[o];null===t&&(t=void 0)}}return void 0===t?Array:t}},92007(e,t,r){var n=r(53719);e.exports=function(e,t){return new(n(e))(t)}},75957(e,t,r){"use strict";var n=r(21412);var i=r(40344);var o=r(28202);var a=[].slice;var s={};var l=function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)};e.exports=Function.bind||function e(t){var r=n(this);var s=a.call(arguments,1);var u=function(){var e=s.concat(a.call(arguments));return this instanceof u?l(r,e.length,e):o(r,e,t)};i(r.prototype)&&(u.prototype=r.prototype);return u}},87905(e,t,r){var n=r(28708);var i=r(21343)("toStringTag");var o="Arguments"==n(function(){return arguments}());var a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),i))?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},28708(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},92588(e,t,r){"use strict";var n=r(11710).f;var i=r(86154);var o=r(90910);var a=r(28805);var s=r(98453);var l=r(27289);var u=r(69798);var c=r(29135);var d=r(90547);var f=r(91710);var p=r(15779).fastKey;var h=r(72577);var g=f?"_s":"size";var v=function(e,t){var r=p(t);var n;if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,r,u){var c=e(function(e,n){s(e,c,t,"_i");e._t=t;e._i=i(null);e._f=void 0;e._l=void 0;e[g]=0;void 0!=n&&l(n,r,e[u],e)});o(c.prototype,{clear:function e(){for(var r=h(this,t),n=r._i,i=r._f;i;i=i.n){i.r=true;i.p&&(i.p=i.p.n=void 0);delete n[i.i]}r._f=r._l=void 0;r[g]=0},delete:function(e){var r=h(this,t);var n=v(r,e);if(n){var i=n.n;var o=n.p;delete r._i[n.i];n.r=true;o&&(o.n=i);i&&(i.p=o);r._f==n&&(r._f=i);r._l==n&&(r._l=o);r[g]--}return!!n},forEach:function e(r){h(this,t);var n=a(r,arguments.length>1?arguments[1]:void 0,3);var i;while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function e(r){return!!v(h(this,t),r)}});f&&n(c.prototype,"size",{get:function(){return h(this,t)[g]}});return c},def:function(e,t,r){var n=v(e,t);var i,o;if(n)n.v=r;else{e._l=n={i:o=p(t,true),k:t,v:r,p:i=e._l,n:void 0,r:false};e._f||(e._f=n);i&&(i.n=n);e[g]++;"F"!==o&&(e._i[o]=n)}return e},getEntry:v,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=h(e,t);this._k=r;this._l=void 0},function(){var e=this;var t=e._k;var r=e._l;while(r&&r.r)r=r.p;if(!e._t||!(e._l=r=r?r.n:e._t._f)){e._t=void 0;return c(1)}if("keys"==t)return c(0,r.k);if("values"==t)return c(0,r.v);return c(0,[r.k,r.v])},r?"entries":"values",!r,true);d(t)}}},64143(e,t,r){"use strict";var n=r(90910);var i=r(15779).getWeak;var o=r(6293);var a=r(40344);var s=r(98453);var l=r(27289);var u=r(43298);var c=r(69236);var d=r(72577);var f=u(5);var p=u(6);var h=0;var g=function(e){return e._l||(e._l=new v)};var v=function(){this.a=[]};var m=function(e,t){return f(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});~t&&this.a.splice(t,1);return!!~t}};e.exports={getConstructor:function(e,t,r,o){var u=e(function(e,n){s(e,u,t,"_i");e._t=t;e._i=h++;e._l=void 0;void 0!=n&&l(n,r,e[o],e)});n(u.prototype,{delete:function(e){if(!a(e))return false;var r=i(e);if(true===r)return g(d(this,t))["delete"](e);return r&&c(r,this._i)&&delete r[this._i]},has:function e(r){if(!a(r))return false;var n=i(r);if(true===n)return g(d(this,t)).has(r);return n&&c(n,this._i)}});return u},def:function(e,t,r){var n=i(o(t),true);true===n?g(e).set(t,r):n[e._i]=r;return e},ufstore:g}},86278(e,t,r){"use strict";var n=r(245);var i=r(11044);var o=r(45724);var a=r(90910);var s=r(15779);var l=r(27289);var u=r(98453);var c=r(40344);var d=r(24985);var f=r(5006);var p=r(89877);var h=r(74861);e.exports=function(e,t,r,g,v,m){var y=n[e];var b=y;var w=v?"set":"add";var _=b&&b.prototype;var S={};var k=function(e){var t=_[e];o(_,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function e(r){return!(m&&!c(r))&&t.call(this,0===r?0:r)}:"get"==e?function e(r){return m&&!c(r)?void 0:t.call(this,0===r?0:r)}:"add"==e?function e(r){t.call(this,0===r?0:r);return this}:function e(r,n){t.call(this,0===r?0:r,n);return this})};if("function"==typeof b&&(m||_.forEach&&!d(function(){(new b).entries().next()}))){var P=new b;var E=P[w](m?{}:-0,1)!=P;var x=d(function(){P.has(1)});var C=f(function(e){new b(e)});var O=!m&&d(function(){var e=new b;var t=5;while(t--)e[w](t,t);return!e.has(-0)});if(!C){b=t(function(t,r){u(t,b,e);var n=h(new y,t,b);void 0!=r&&l(r,v,n[w],n);return n});b.prototype=_;_.constructor=b}if(x||O){k("delete");k("has");v&&k("get")}(O||E)&&k(w);m&&_.clear&&delete _.clear}else{b=g.getConstructor(t,e,v,w);a(b.prototype,r);s.NEED=true}p(b,e);S[e]=b;i(i.G+i.W+i.F*(b!=y),S);m||g.setStrong(b,e,v);return b}},24069(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},29934(e,t,r){"use strict";var n=r(11710);var i=r(16041);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},28805(e,t,r){var n=r(21412);e.exports=function(e,t,r){n(e);if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},63054(e,t,r){"use strict";var n=r(24985);var i=Date.prototype.getTime;var o=Date.prototype.toISOString;var a=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))})||!n(function(){o.call(new Date(NaN))})?function e(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this;var r=t.getUTCFullYear();var n=t.getUTCMilliseconds();var o=r<0?"-":r>9999?"+":"";return o+("00000"+Math.abs(r)).slice(o?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},20142(e,t,r){"use strict";var n=r(6293);var i=r(56435);var o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),e!=o)}},2113(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},91710(e,t,r){e.exports=!r(24985)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},75613(e,t,r){var n=r(40344);var i=r(245).document;var o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},70341(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},51200(e,t,r){var n=r(30234);var i=r(3629);var o=r(1602);e.exports=function(e){var t=n(e);var r=i.f;if(r){var a=r(e);var s=o.f;var l=0;var u;while(a.length>l)s.call(e,u=a[l++])&&t.push(u)}return t}},11044(e,t,r){var n=r(245);var i=r(24069);var o=r(38922);var a=r(45724);var s=r(28805);var l="prototype";var u=function(e,t,r){var c=e&u.F;var d=e&u.G;var f=e&u.S;var p=e&u.P;var h=e&u.B;var g=d?n:f?n[t]||(n[t]={}):(n[t]||{})[l];var v=d?i:i[t]||(i[t]={});var m=v[l]||(v[l]={});var y,b,w,_;d&&(r=t);for(y in r){b=!c&&g&&void 0!==g[y];w=(b?g:r)[y];_=h&&b?s(w,n):p&&"function"==typeof w?s(Function.call,w):w;g&&a(g,y,w,e&u.U);v[y]!=w&&o(v,y,_);p&&m[y]!=w&&(m[y]=w)}};n.core=i;u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},1122(e,t,r){var n=r(21343)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[n]=false;return!"/./"[e](t)}catch(e){}}return true}},24985(e){e.exports=function(e){try{return!!e()}catch(e){return true}}},58499(e,t,r){"use strict";r(8539);var n=r(45724);var i=r(38922);var o=r(24985);var a=r(2113);var s=r(21343);var l=r(3105);var u=s("species");var c=!o(function(){var e=/./;e.exec=function(){var e=[];e.groups={a:"7"};return e};return"7"!=="".replace(e,"$<a>")});var d=function(){var e=/(?:)/;var t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var f=s(e);var p=!o(function(){var t={};t[f]=function(){return 7};return 7!=""[e](t)});var h=p?!o(function(){var t=false;var r=/a/;r.exec=function(){t=true;return null};if("split"===e){r.constructor={};r.constructor[u]=function(){return r}}r[f]("");return!t}):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!d){var g=/./[f];var v=r(a,f,""[e],function e(t,r,n,i,o){if(r.exec===l){if(p&&!o)return{done:true,value:g.call(r,n,i)};return{done:true,value:t.call(n,r,i)}}return{done:false}});var m=v[0];var y=v[1];n(String.prototype,e,m);i(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},92815(e,t,r){"use strict";var n=r(6293);e.exports=function(){var e=n(this);var t="";e.global&&(t+="g");e.ignoreCase&&(t+="i");e.multiline&&(t+="m");e.unicode&&(t+="u");e.sticky&&(t+="y");return t}},8737(e,t,r){"use strict";var n=r(63906);var i=r(40344);var o=r(67284);var a=r(28805);var s=r(21343)("isConcatSpreadable");function l(e,t,r,u,c,d,f,p){var h=c;var g=0;var v=!!f&&a(f,p,3);var m,y;while(g<u){if(g in r){m=v?v(r[g],g,t):r[g];y=false;if(i(m)){y=m[s];y=void 0!==y?!!y:n(m)}if(y&&d>0)h=l(e,t,m,o(m.length),h,d-1)-1;else{if(h>=9007199254740991)throw TypeError();e[h]=m}h++}g++}return h}e.exports=l},27289(e,t,r){var n=r(28805);var i=r(16161);var o=r(95149);var a=r(6293);var s=r(67284);var l=r(18259);var u={};var c={};var d=e.exports=function(e,t,r,d,f){var p=f?function(){return e}:l(e);var h=n(r,d,t?2:1);var g=0;var v,m,y,b;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(o(p))for(v=s(e.length);v>g;g++){b=t?h(a(m=e[g])[0],m[1]):h(e[g]);if(b===u||b===c)return b}else for(y=p.call(e);!(m=y.next()).done;){b=i(y,h,m.value,t);if(b===u||b===c)return b}};d.BREAK=u;d.RETURN=c},39734(e,t,r){e.exports=r(49111)("native-function-to-string",Function.toString)},245(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},69236(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},38922(e,t,r){var n=r(11710);var i=r(16041);e.exports=r(91710)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},51931(e,t,r){var n=r(245).document;e.exports=n&&n.documentElement},68103(e,t,r){e.exports=!r(91710)&&!r(24985)(function(){return 7!=Object.defineProperty(r(75613)("div"),"a",{get:function(){return 7}}).a})},74861(e,t,r){var n=r(40344);var i=r(14539).set;e.exports=function(e,t,r){var o=t.constructor;var a;o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(e,a);return e}},28202(e){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},7300(e,t,r){var n=r(28708);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},95149(e,t,r){var n=r(95319);var i=r(21343)("iterator");var o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},63906(e,t,r){var n=r(28708);e.exports=Array.isArray||function e(t){return"Array"==n(t)}},49425(e,t,r){var n=r(40344);var i=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&i(t)===t}},40344(e){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},70226(e,t,r){var n=r(40344);var i=r(28708);var o=r(21343)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},16161(e,t,r){var n=r(6293);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e["return"];void 0!==o&&n(o.call(e));throw t}}},31801(e,t,r){"use strict";var n=r(86154);var i=r(16041);var o=r(89877);var a={};r(38922)(a,r(21343)("iterator"),function(){return this});e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)});o(e,t+" Iterator")}},69798(e,t,r){"use strict";var n=r(26715);var i=r(11044);var o=r(45724);var a=r(38922);var s=r(95319);var l=r(31801);var u=r(89877);var c=r(17728);var d=r(21343)("iterator");var f=!([].keys&&"next"in[].keys());var p="@@iterator";var h="keys";var g="values";var v=function(){return this};e.exports=function(e,t,r,m,y,b,w){l(r,t,m);var _=function(e){if(!f&&e in E)return E[e];switch(e){case h:return function t(){return new r(this,e)};case g:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var S=t+" Iterator";var k=y==g;var P=false;var E=e.prototype;var x=E[d]||E[p]||y&&E[y];var C=x||_(y);var O=y?k?_("entries"):C:void 0;var j="Array"==t&&E.entries||x;var A,T,D;if(j){D=c(j.call(new e));if(D!==Object.prototype&&D.next){u(D,S,true);n||"function"==typeof D[d]||a(D,d,v)}}if(k&&x&&x.name!==g){P=true;C=function e(){return x.call(this)}}n&&!w||!f&&!P&&E[d]||a(E,d,C);s[t]=C;s[S]=v;if(y){A={values:k?C:_(g),keys:b?C:_(h),entries:O};if(w)for(T in A)T in E||o(E,T,A[T]);else i(i.P+i.F*(f||P),t,A)}return A}},5006(e,t,r){var n=r(21343)("iterator");var i=false;try{var o=[7][n]();o["return"]=function(){i=true};Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var r=false;try{var o=[7];var a=o[n]();a.next=function(){return{done:r=true}};o[n]=function(){return a};e(o)}catch(e){}return r}},29135(e){e.exports=function(e,t){return{value:t,done:!!e}}},95319(e){e.exports={}},26715(e){e.exports=false},15728(e){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function e(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:t},34787(e,t,r){var n=r(17444);var i=Math.pow;var o=i(2,-52);var a=i(2,-23);var s=i(2,127)*(2-a);var l=i(2,-126);var u=function(e){return e+1/o-1/o};e.exports=Math.fround||function e(t){var r=Math.abs(t);var i=n(t);var c,d;if(r<l)return i*u(r/l/a)*l*a;c=(1+a/o)*r;d=c-(c-r);if(d>s||d!=d)return Infinity*i;return i*d}},45266(e){e.exports=Math.log1p||function e(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},17444(e){e.exports=Math.sign||function e(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},15779(e,t,r){var n=r(64842)("meta");var i=r(40344);var o=r(69236);var a=r(11710).f;var s=0;var l=Object.isExtensible||function(){return true};var u=!r(24985)(function(){return l(Object.preventExtensions({}))});var c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})};var d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i};var f=function(e,t){if(!o(e,n)){if(!l(e))return true;if(!t)return false;c(e)}return e[n].w};var p=function(e){u&&h.NEED&&l(e)&&!o(e,n)&&c(e);return e};var h=e.exports={KEY:n,NEED:false,fastKey:d,getWeak:f,onFreeze:p}},47465(e,t,r){var n=r(245);var i=r(18063).set;var o=n.MutationObserver||n.WebKitMutationObserver;var a=n.process;var s=n.Promise;var l="process"==r(28708)(a);e.exports=function(){var e,t,r;var u=function(){var n,i;l&&(n=a.domain)&&n.exit();while(e){i=e.fn;e=e.next;try{i()}catch(n){e?r():t=void 0;throw n}}t=void 0;n&&n.enter()};if(l)r=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(u)}}else r=function(){i.call(n,u)};else{var d=true;var f=document.createTextNode("");new o(u).observe(f,{characterData:true});r=function(){f.data=d=!d}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i);if(!e){e=i;r()}t=i}}},55669(e,t,r){"use strict";var n=r(21412);function i(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e;r=n});this.resolve=n(t);this.reject=n(r)}e.exports.f=function(e){return new i(e)}},93599(e,t,r){"use strict";var n=r(91710);var i=r(30234);var o=r(3629);var a=r(1602);var s=r(60651);var l=r(7300);var u=Object.assign;e.exports=!u||r(24985)(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return 7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function e(t,r){var u=s(t);var c=arguments.length;var d=1;var f=o.f;var p=a.f;while(c>d){var h=l(arguments[d++]);var g=f?i(h).concat(f(h)):i(h);var v=g.length;var m=0;var y;while(v>m){y=g[m++];n&&!p.call(h,y)||(u[y]=h[y])}}return u}:u},86154(e,t,r){var n=r(6293);var i=r(34069);var o=r(70341);var a=r(40769)("IE_PROTO");var s=function(){};var l="prototype";var u=function(){var e=r(75613)("iframe");var t=o.length;var n="<";var i=">";var a;e.style.display="none";r(51931).appendChild(e);e.src="javascript:";a=e.contentWindow.document;a.open();a.write(n+"script"+i+"document.F=Object"+n+"/script"+i);a.close();u=a.F;while(t--)delete u[l][o[t]];return u()};e.exports=Object.create||function e(t,r){var o;if(null!==t){s[l]=n(t);o=new s;s[l]=null;o[a]=t}else o=u();return void 0===r?o:i(o,r)}},11710(e,t,r){var n=r(6293);var i=r(68103);var o=r(56435);var a=Object.defineProperty;t.f=r(91710)?Object.defineProperty:function e(t,r,s){n(t);r=o(r,true);n(s);if(i)try{return a(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(t[r]=s.value);return t}},34069(e,t,r){var n=r(11710);var i=r(6293);var o=r(30234);e.exports=r(91710)?Object.defineProperties:function e(t,r){i(t);var a=o(r);var s=a.length;var l=0;var u;while(s>l)n.f(t,u=a[l++],r[u]);return t}},76840(e,t,r){var n=r(1602);var i=r(16041);var o=r(64802);var a=r(56435);var s=r(69236);var l=r(68103);var u=Object.getOwnPropertyDescriptor;t.f=r(91710)?u:function e(t,r){t=o(t);r=a(r,true);if(l)try{return u(t,r)}catch(e){}if(s(t,r))return i(!n.f.call(t,r),t[r])}},17140(e,t,r){var n=r(64802);var i=r(94314).f;var o={}.toString;var a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function e(t){return a&&"[object Window]"==o.call(t)?s(t):i(n(t))}},94314(e,t,r){var n=r(21926);var i=r(70341).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,i)}},3629(e,t){t.f=Object.getOwnPropertySymbols},17728(e,t,r){var n=r(69236);var i=r(60651);var o=r(40769)("IE_PROTO");var a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=i(e);if(n(e,o))return e[o];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?a:null}},21926(e,t,r){var n=r(69236);var i=r(64802);var o=r(31771)(false);var a=r(40769)("IE_PROTO");e.exports=function(e,t){var r=i(e);var s=0;var l=[];var u;for(u in r)u!=a&&n(r,u)&&l.push(u);while(t.length>s)n(r,u=t[s++])&&(~o(l,u)||l.push(u));return l}},30234(e,t,r){var n=r(21926);var i=r(70341);e.exports=Object.keys||function e(t){return n(t,i)}},1602(e,t){t.f={}.propertyIsEnumerable},96300(e,t,r){var n=r(11044);var i=r(24069);var o=r(24985);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e];var a={};a[e]=t(r);n(n.S+n.F*o(function(){r(1)}),"Object",a)}},55483(e,t,r){var n=r(91710);var i=r(30234);var o=r(64802);var a=r(1602).f;e.exports=function(e){return function(t){var r=o(t);var s=i(r);var l=s.length;var u=0;var c=[];var d;while(l>u){d=s[u++];n&&!a.call(r,d)||c.push(e?[d,r[d]]:r[d])}return c}}},26041(e,t,r){var n=r(94314);var i=r(3629);var o=r(6293);var a=r(245).Reflect;e.exports=a&&a.ownKeys||function e(t){var r=n.f(o(t));var a=i.f;return a?r.concat(a(t)):r}},9072(e,t,r){var n=r(245).parseFloat;var i=r(38640).trim;e.exports=1/n(r(71926)+"-0")!==-Infinity?function e(t){var r=i(String(t),3);var o=n(r);return 0===o&&"-"==r.charAt(0)?-0:o}:n},28927(e,t,r){var n=r(245).parseInt;var i=r(38640).trim;var o=r(71926);var a=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function e(t,r){var o=i(String(t),3);return n(o,r>>>0||(a.test(o)?16:10))}:n},47809(e){e.exports=function(e){try{return{e:false,v:e()}}catch(e){return{e:true,v:e}}}},46108(e,t,r){var n=r(6293);var i=r(40344);var o=r(55669);e.exports=function(e,t){n(e);if(i(t)&&t.constructor===e)return t;var r=o.f(e);var a=r.resolve;a(t);return r.promise}},16041(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},90910(e,t,r){var n=r(45724);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},45724(e,t,r){var n=r(245);var i=r(38922);var o=r(69236);var a=r(64842)("src");var s=r(39734);var l="toString";var u=(""+s).split(l);r(24069).inspectSource=function(e){return s.call(e)};(e.exports=function(e,t,r,s){var l="function"==typeof r;l&&(o(r,"name")||i(r,"name",t));if(e[t]===r)return;l&&(o(r,a)||i(r,a,e[t]?""+e[t]:u.join(String(t))));if(e===n)e[t]=r;else if(s)e[t]?e[t]=r:i(e,t,r);else{delete e[t];i(e,t,r)}})(Function.prototype,l,function e(){return"function"==typeof this&&this[a]||s.call(this)})},9116(e,t,r){"use strict";var n=r(87905);var i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},3105(e,t,r){"use strict";var n=r(92815);var i=RegExp.prototype.exec;var o=String.prototype.replace;var a=i;var s="lastIndex";var l=function(){var e=/a/,t=/b*/g;i.call(e,"a");i.call(t,"a");return 0!==e[s]||0!==t[s]}();var u=void 0!==/()??/.exec("")[1];var c=l||u;c&&(a=function e(t){var r=this;var a,c,d,f;u&&(c=new RegExp("^"+r.source+"$(?!\\s)",n.call(r)));l&&(a=r[s]);d=i.call(r,t);l&&d&&(r[s]=r.global?d.index+d[0].length:a);u&&d&&d.length>1&&o.call(d[0],c,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(d[f]=void 0)});return d});e.exports=a},51292(e){e.exports=Object.is||function e(t,r){return t===r?0!==t||1/t===1/r:t!=t&&r!=r}},14539(e,t,r){var n=r(40344);var i=r(6293);var o=function(e,t){i(e);if(!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(28805)(Function.call,r(76840).f(Object.prototype,"__proto__").set,2);n(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(r,i){o(r,i);t?r.__proto__=i:n(r,i);return r}}({},false):void 0),check:o}},90547(e,t,r){"use strict";var n=r(245);var i=r(11710);var o=r(91710);var a=r(21343)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:true,get:function(){return this}})}},89877(e,t,r){var n=r(11710).f;var i=r(69236);var o=r(21343)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:true,value:t})}},40769(e,t,r){var n=r(49111)("keys");var i=r(64842);e.exports=function(e){return n[e]||(n[e]=i(e))}},49111(e,t,r){var n=r(24069);var i=r(245);var o="__core-js_shared__";var a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(26715)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},15715(e,t,r){var n=r(6293);var i=r(21412);var o=r(21343)("species");e.exports=function(e,t){var r=n(e).constructor;var a;return void 0===r||void 0==(a=n(r)[o])?t:i(a)}},20345(e,t,r){"use strict";var n=r(24985);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},66681(e,t,r){var n=r(90076);var i=r(2113);e.exports=function(e){return function(t,r){var o=String(i(t));var a=n(r);var s=o.length;var l,u;if(a<0||a>=s)return e?"":void 0;l=o.charCodeAt(a);return l<55296||l>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?e?o.charAt(a):l:e?o.slice(a,a+2):u-56320+(l-55296<<10)+65536}}},7741(e,t,r){var n=r(70226);var i=r(2113);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},43985(e,t,r){var n=r(11044);var i=r(24985);var o=r(2113);var a=/"/g;var s=function(e,t,r,n){var i=String(o(e));var s="<"+t;""!==r&&(s+=" "+r+'="'+String(n).replace(a,"&quot;")+'"');return s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s);n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},28203(e,t,r){var n=r(67284);var i=r(77651);var o=r(2113);e.exports=function(e,t,r,a){var s=String(o(e));var l=s.length;var u=void 0===r?" ":String(r);var c=n(t);if(c<=l||""==u)return s;var d=c-l;var f=i.call(u,Math.ceil(d/u.length));f.length>d&&(f=f.slice(0,d));return a?f+s:s+f}},77651(e,t,r){"use strict";var n=r(90076);var i=r(2113);e.exports=function e(t){var r=String(i(this));var o="";var a=n(t);if(a<0||Infinity==a)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(r+=r))1&a&&(o+=r);return o}},38640(e,t,r){var n=r(11044);var i=r(2113);var o=r(24985);var a=r(71926);var s="["+a+"]";var l="";var u=RegExp("^"+s+s+"*");var c=RegExp(s+s+"*$");var d=function(e,t,r){var i={};var s=o(function(){return!!a[e]()||l[e]()!=l});var u=i[e]=s?t(f):a[e];r&&(i[r]=u);n(n.P+n.F*s,"String",i)};var f=d.trim=function(e,t){e=String(i(e));1&t&&(e=e.replace(u,""));2&t&&(e=e.replace(c,""));return e};e.exports=d},71926(e){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},18063(e,t,r){var n=r(28805);var i=r(28202);var o=r(51931);var a=r(75613);var s=r(245);var l=s.process;var u=s.setImmediate;var c=s.clearImmediate;var d=s.MessageChannel;var f=s.Dispatch;var p=0;var h={};var g="onreadystatechange";var v,m,y;var b=function(){var e=+this;if(h.hasOwnProperty(e)){var t=h[e];delete h[e];t()}};var w=function(e){b.call(e.data)};if(!u||!c){u=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);h[++p]=function(){i("function"==typeof t?t:Function(t),r)};v(p);return p};c=function e(t){delete h[t]};if("process"==r(28708)(l))v=function(e){l.nextTick(n(b,e,1))};else if(f&&f.now)v=function(e){f.now(n(b,e,1))};else if(d){m=new d;y=m.port2;m.port1.onmessage=w;v=n(y.postMessage,y,1)}else if(s.addEventListener&&"function"==typeof postMessage&&!s.importScripts){v=function(e){s.postMessage(e+"","*")};s.addEventListener("message",w,false)}else v=g in a("script")?function(e){o.appendChild(a("script"))[g]=function(){o.removeChild(this);b.call(e)}}:function(e){setTimeout(n(b,e,1),0)}}e.exports={set:u,clear:c}},28016(e,t,r){var n=r(90076);var i=Math.max;var o=Math.min;e.exports=function(e,t){e=n(e);return e<0?i(e+t,0):o(e,t)}},31254(e,t,r){var n=r(90076);var i=r(67284);e.exports=function(e){if(void 0===e)return 0;var t=n(e);var r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},90076(e){var t=Math.ceil;var r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},64802(e,t,r){var n=r(7300);var i=r(2113);e.exports=function(e){return n(i(e))}},67284(e,t,r){var n=r(90076);var i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},60651(e,t,r){var n=r(2113);e.exports=function(e){return Object(n(e))}},56435(e,t,r){var n=r(40344);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},7940(e,t,r){"use strict";if(r(91710)){var n=r(26715);var i=r(245);var o=r(24985);var a=r(11044);var s=r(97436);var l=r(79615);var u=r(28805);var c=r(98453);var d=r(16041);var f=r(38922);var p=r(90910);var h=r(90076);var g=r(67284);var v=r(31254);var m=r(28016);var y=r(56435);var b=r(69236);var w=r(87905);var _=r(40344);var S=r(60651);var k=r(95149);var P=r(86154);var E=r(17728);var x=r(94314).f;var C=r(18259);var O=r(64842);var j=r(21343);var A=r(43298);var T=r(31771);var D=r(15715);var L=r(37060);var I=r(95319);var M=r(5006);var R=r(90547);var F=r(39919);var B=r(20383);var N=r(11710);var V=r(76840);var q=N.f;var W=V.f;var U=i.RangeError;var z=i.TypeError;var G=i.Uint8Array;var H="ArrayBuffer";var $="Shared"+H;var K="BYTES_PER_ELEMENT";var Z="prototype";var Q=Array[Z];var Y=l.ArrayBuffer;var X=l.DataView;var J=A(0);var ee=A(2);var te=A(3);var re=A(4);var ne=A(5);var ie=A(6);var oe=T(true);var ae=T(false);var se=L.values;var le=L.keys;var ue=L.entries;var ce=Q.lastIndexOf;var de=Q.reduce;var fe=Q.reduceRight;var pe=Q.join;var he=Q.sort;var ge=Q.slice;var ve=Q.toString;var me=Q.toLocaleString;var ye=j("iterator");var be=j("toStringTag");var we=O("typed_constructor");var _e=O("def_constructor");var Se=s.CONSTR;var ke=s.TYPED;var Pe=s.VIEW;var Ee="Wrong length!";var xe=A(1,function(e,t){return Te(D(e,e[_e]),t)});var Ce=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]});var Oe=!!G&&!!G[Z].set&&o(function(){new G(1).set({})});var je=function(e,t){var r=h(e);if(r<0||r%t)throw U("Wrong offset!");return r};var Ae=function(e){if(_(e)&&ke in e)return e;throw z(e+" is not a typed array!")};var Te=function(e,t){if(!(_(e)&&we in e))throw z("It is not a typed array constructor!");return new e(t)};var De=function(e,t){return Le(D(e,e[_e]),t)};var Le=function(e,t){var r=0;var n=t.length;var i=Te(e,n);while(n>r)i[r]=t[r++];return i};var Ie=function(e,t,r){q(e,t,{get:function(){return this._d[r]}})};var Me=function e(t){var r=S(t);var n=arguments.length;var i=n>1?arguments[1]:void 0;var o=void 0!==i;var a=C(r);var s,l,c,d,f,p;if(void 0!=a&&!k(a)){for(p=a.call(r),c=[],s=0;!(f=p.next()).done;s++)c.push(f.value);r=c}o&&n>2&&(i=u(i,arguments[2],2));for(s=0,l=g(r.length),d=Te(this,l);l>s;s++)d[s]=o?i(r[s],s):r[s];return d};var Re=function e(){var t=0;var r=arguments.length;var n=Te(this,r);while(r>t)n[t]=arguments[t++];return n};var Fe=!!G&&o(function(){me.call(new G(1))});var Be=function e(){return me.apply(Fe?ge.call(Ae(this)):Ae(this),arguments)};var Ne={copyWithin:function e(t,r){return B.call(Ae(this),t,r,arguments.length>2?arguments[2]:void 0)},every:function e(t){return re(Ae(this),t,arguments.length>1?arguments[1]:void 0)},fill:function e(t){return F.apply(Ae(this),arguments)},filter:function e(t){return De(this,ee(Ae(this),t,arguments.length>1?arguments[1]:void 0))},find:function e(t){return ne(Ae(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function e(t){return ie(Ae(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function e(t){J(Ae(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function e(t){return ae(Ae(this),t,arguments.length>1?arguments[1]:void 0)},includes:function e(t){return oe(Ae(this),t,arguments.length>1?arguments[1]:void 0)},join:function e(t){return pe.apply(Ae(this),arguments)},lastIndexOf:function e(t){return ce.apply(Ae(this),arguments)},map:function e(t){return xe(Ae(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function e(t){return de.apply(Ae(this),arguments)},reduceRight:function e(t){return fe.apply(Ae(this),arguments)},reverse:function e(){var t=this;var r=Ae(t).length;var n=Math.floor(r/2);var i=0;var o;while(i<n){o=t[i];t[i++]=t[--r];t[r]=o}return t},some:function e(t){return te(Ae(this),t,arguments.length>1?arguments[1]:void 0)},sort:function e(t){return he.call(Ae(this),t)},subarray:function e(t,r){var n=Ae(this);var i=n.length;var o=m(t,i);return new(D(n,n[_e]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,g((void 0===r?i:m(r,i))-o))}};var Ve=function e(t,r){return De(this,ge.call(Ae(this),t,r))};var qe=function e(t){Ae(this);var r=je(arguments[1],1);var n=this.length;var i=S(t);var o=g(i.length);var a=0;if(o+r>n)throw U(Ee);while(a<o)this[r+a]=i[a++]};var We={entries:function e(){return ue.call(Ae(this))},keys:function e(){return le.call(Ae(this))},values:function e(){return se.call(Ae(this))}};var Ue=function(e,t){return _(e)&&e[ke]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)};var ze=function e(t,r){return Ue(t,r=y(r,true))?d(2,t[r]):W(t,r)};var Ge=function e(t,r,n){if(Ue(t,r=y(r,true))&&_(n)&&b(n,"value")&&!b(n,"get")&&!b(n,"set")&&!n.configurable&&(!b(n,"writable")||n.writable)&&(!b(n,"enumerable")||n.enumerable)){t[r]=n.value;return t}return q(t,r,n)};if(!Se){V.f=ze;N.f=Ge}a(a.S+a.F*!Se,"Object",{getOwnPropertyDescriptor:ze,defineProperty:Ge});o(function(){ve.call({})})&&(ve=me=function e(){return pe.call(this)});var He=p({},Ne);p(He,We);f(He,ye,We.values);p(He,{slice:Ve,set:qe,constructor:function(){},toString:ve,toLocaleString:Be});Ie(He,"buffer","b");Ie(He,"byteOffset","o");Ie(He,"byteLength","l");Ie(He,"length","e");q(He,be,{get:function(){return this[ke]}});e.exports=function(e,t,r,l){l=!!l;var u=e+(l?"Clamped":"")+"Array";var d="get"+e;var p="set"+e;var h=i[u];var m=h||{};var y=h&&E(h);var b=!h||!s.ABV;var S={};var k=h&&h[Z];var C=function(e,r){var n=e._d;return n.v[d](r*t+n.o,Ce)};var O=function(e,r,n){var i=e._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n);i.v[p](r*t+i.o,n,Ce)};var j=function(e,t){q(e,t,{get:function(){return C(this,t)},set:function(e){return O(this,t,e)},enumerable:true})};if(b){h=r(function(e,r,n,i){c(e,h,u,"_d");var o=0;var a=0;var s,l,d,p;if(_(r)){if(!(r instanceof Y||(p=w(r))==H||p==$))return ke in r?Le(h,r):Me.call(h,r);s=r;a=je(n,t);var m=r.byteLength;if(void 0===i){if(m%t)throw U(Ee);l=m-a;if(l<0)throw U(Ee)}else{l=g(i)*t;if(l+a>m)throw U(Ee)}d=l/t}else{d=v(r);l=d*t;s=new Y(l)}f(e,"_d",{b:s,o:a,l,e:d,v:new X(s)});while(o<d)j(e,o++)});k=h[Z]=P(He);f(k,"constructor",h)}else if(!o(function(){h(1)})||!o(function(){new h(-1)})||!M(function(e){new h;new h(null);new h(1.5);new h(e)},true)){h=r(function(e,r,n,i){c(e,h,u);var o;if(!_(r))return new m(v(r));if(r instanceof Y||(o=w(r))==H||o==$)return void 0!==i?new m(r,je(n,t),i):void 0!==n?new m(r,je(n,t)):new m(r);if(ke in r)return Le(h,r);return Me.call(h,r)});J(y!==Function.prototype?x(m).concat(x(y)):x(m),function(e){e in h||f(h,e,m[e])});h[Z]=k;n||(k.constructor=h)}var A=k[ye];var T=!!A&&("values"==A.name||void 0==A.name);var D=We.values;f(h,we,true);f(k,ke,u);f(k,Pe,true);f(k,_e,h);(l?new h(1)[be]==u:be in k)||q(k,be,{get:function(){return u}});S[u]=h;a(a.G+a.W+a.F*(h!=m),S);a(a.S,u,{BYTES_PER_ELEMENT:t});a(a.S+a.F*o(function(){m.of.call(h,1)}),u,{from:Me,of:Re});K in k||f(k,K,t);a(a.P,u,Ne);R(u);a(a.P+a.F*Oe,u,{set:qe});a(a.P+a.F*!T,u,We);n||k.toString==ve||(k.toString=ve);a(a.P+a.F*o(function(){new h(1).slice()}),u,{slice:Ve});a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){k.toLocaleString.call([1,2])})),u,{toLocaleString:Be});I[u]=T?A:D;n||T||f(k,ye,D)}}else e.exports=function(){}},79615(e,t,r){"use strict";var n=r(245);var i=r(91710);var o=r(26715);var a=r(97436);var s=r(38922);var l=r(90910);var u=r(24985);var c=r(98453);var d=r(90076);var f=r(67284);var p=r(31254);var h=r(94314).f;var g=r(11710).f;var v=r(39919);var m=r(89877);var y="ArrayBuffer";var b="DataView";var w="prototype";var _="Wrong length!";var S="Wrong index!";var k=n[y];var P=n[b];var E=n.Math;var x=n.RangeError;var C=n.Infinity;var O=k;var j=E.abs;var A=E.pow;var T=E.floor;var D=E.log;var L=E.LN2;var I="buffer";var M="byteLength";var R="byteOffset";var F=i?"_b":I;var B=i?"_l":M;var N=i?"_o":R;function V(e,t,r){var n=new Array(r);var i=8*r-t-1;var o=(1<<i)-1;var a=o>>1;var s=23===t?A(2,-24)-A(2,-77):0;var l=0;var u=e<0||0===e&&1/e<0?1:0;var c,d,f;e=j(e);if(e!=e||e===C){d=e!=e?1:0;c=o}else{c=T(D(e)/L);if(e*(f=A(2,-c))<1){c--;f*=2}e+=c+a>=1?s/f:s*A(2,1-a);if(e*f>=2){c++;f/=2}if(c+a>=o){d=0;c=o}else if(c+a>=1){d=(e*f-1)*A(2,t);c+=a}else{d=e*A(2,a-1)*A(2,t);c=0}}for(;t>=8;n[l++]=255&d,d/=256,t-=8);c=c<<t|d;i+=t;for(;i>0;n[l++]=255&c,c/=256,i-=8);n[--l]|=128*u;return n}function q(e,t,r){var n=8*r-t-1;var i=(1<<n)-1;var o=i>>1;var a=n-7;var s=r-1;var l=e[s--];var u=127&l;var c;l>>=7;for(;a>0;u=256*u+e[s],s--,a-=8);c=u&(1<<-a)-1;u>>=-a;a+=t;for(;a>0;c=256*c+e[s],s--,a-=8);if(0===u)u=1-o;else{if(u===i)return c?NaN:l?-C:C;c+=A(2,t);u-=o}return(l?-1:1)*c*A(2,u-t)}function W(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function U(e){return[255&e]}function z(e){return[255&e,e>>8&255]}function G(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function H(e){return V(e,52,8)}function $(e){return V(e,23,4)}function K(e,t,r){g(e[w],t,{get:function(){return this[r]}})}function Z(e,t,r,n){var i=+r;var o=p(i);if(o+t>e[B])throw x(S);var a=e[F]._b;var s=o+e[N];var l=a.slice(s,s+t);return n?l:l.reverse()}function Q(e,t,r,n,i,o){var a=+r;var s=p(a);if(s+t>e[B])throw x(S);var l=e[F]._b;var u=s+e[N];var c=n(+i);for(var d=0;d<t;d++)l[u+d]=c[o?d:t-d-1]}if(a.ABV){if(!u(function(){k(1)})||!u(function(){new k(-1)})||u(function(){new k;new k(1.5);new k(NaN);return k.name!=y})){k=function e(t){c(this,k);return new O(p(t))};var Y=k[w]=O[w];for(var X=h(O),J=0,ee;X.length>J;)(ee=X[J++])in k||s(k,ee,O[ee]);o||(Y.constructor=k)}var te=new P(new k(2));var re=P[w].setInt8;te.setInt8(0,2147483648);te.setInt8(1,2147483649);!te.getInt8(0)&&te.getInt8(1)||l(P[w],{setInt8:function e(t,r){re.call(this,t,r<<24>>24)},setUint8:function e(t,r){re.call(this,t,r<<24>>24)}},true)}else{k=function e(t){c(this,k,y);var r=p(t);this._b=v.call(new Array(r),0);this[B]=r};P=function e(t,r,n){c(this,P,b);c(t,k,b);var i=t[B];var o=d(r);if(o<0||o>i)throw x("Wrong offset!");n=void 0===n?i-o:f(n);if(o+n>i)throw x(_);this[F]=t;this[N]=o;this[B]=n};if(i){K(k,M,"_l");K(P,I,"_b");K(P,M,"_l");K(P,R,"_o")}l(P[w],{getInt8:function e(t){return Z(this,1,t)[0]<<24>>24},getUint8:function e(t){return Z(this,1,t)[0]},getInt16:function e(t){var r=Z(this,2,t,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function e(t){var r=Z(this,2,t,arguments[1]);return r[1]<<8|r[0]},getInt32:function e(t){return W(Z(this,4,t,arguments[1]))},getUint32:function e(t){return W(Z(this,4,t,arguments[1]))>>>0},getFloat32:function e(t){return q(Z(this,4,t,arguments[1]),23,4)},getFloat64:function e(t){return q(Z(this,8,t,arguments[1]),52,8)},setInt8:function e(t,r){Q(this,1,t,U,r)},setUint8:function e(t,r){Q(this,1,t,U,r)},setInt16:function e(t,r){Q(this,2,t,z,r,arguments[2])},setUint16:function e(t,r){Q(this,2,t,z,r,arguments[2])},setInt32:function e(t,r){Q(this,4,t,G,r,arguments[2])},setUint32:function e(t,r){Q(this,4,t,G,r,arguments[2])},setFloat32:function e(t,r){Q(this,4,t,$,r,arguments[2])},setFloat64:function e(t,r){Q(this,8,t,H,r,arguments[2])}})}m(k,y);m(P,b);s(P[w],a.VIEW,true);t[y]=k;t[b]=P},97436(e,t,r){var n=r(245);var i=r(38922);var o=r(64842);var a=o("typed_array");var s=o("view");var l=!!(n.ArrayBuffer&&n.DataView);var u=l;var c=0;var d=9;var f;var p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(c<d)if(f=n[p[c++]]){i(f.prototype,a,true);i(f.prototype,s,true)}else u=false;e.exports={ABV:l,CONSTR:u,TYPED:a,VIEW:s}},64842(e){var t=0;var r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},76053(e,t,r){var n=r(245);var i=n.navigator;e.exports=i&&i.userAgent||""},72577(e,t,r){var n=r(40344);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},18579(e,t,r){var n=r(245);var i=r(24069);var o=r(26715);var a=r(17957);var s=r(11710).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},17957(e,t,r){t.f=r(21343)},21343(e,t,r){var n=r(49111)("wks");var i=r(64842);var o=r(245).Symbol;var a="function"==typeof o;var s=e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))};s.store=n},18259(e,t,r){var n=r(87905);var i=r(21343)("iterator");var o=r(95319);e.exports=r(24069).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},93607(e,t,r){var n=r(11044);n(n.P,"Array",{copyWithin:r(20383)});r(25703)("copyWithin")},50307(e,t,r){"use strict";var n=r(11044);var i=r(43298)(4);n(n.P+n.F*!r(20345)([].every,true),"Array",{every:function e(t){return i(this,t,arguments[1])}})},51911(e,t,r){var n=r(11044);n(n.P,"Array",{fill:r(39919)});r(25703)("fill")},1404(e,t,r){"use strict";var n=r(11044);var i=r(43298)(2);n(n.P+n.F*!r(20345)([].filter,true),"Array",{filter:function e(t){return i(this,t,arguments[1])}})},35552(e,t,r){"use strict";var n=r(11044);var i=r(43298)(6);var o="findIndex";var a=true;o in[]&&Array(1)[o](function(){a=false});n(n.P+n.F*a,"Array",{findIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}});r(25703)(o)},85325(e,t,r){"use strict";var n=r(11044);var i=r(43298)(5);var o="find";var a=true;o in[]&&Array(1)[o](function(){a=false});n(n.P+n.F*a,"Array",{find:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}});r(25703)(o)},63553(e,t,r){"use strict";var n=r(11044);var i=r(43298)(0);var o=r(20345)([].forEach,true);n(n.P+n.F*!o,"Array",{forEach:function e(t){return i(this,t,arguments[1])}})},35270(e,t,r){"use strict";var n=r(28805);var i=r(11044);var o=r(60651);var a=r(16161);var s=r(95149);var l=r(67284);var u=r(29934);var c=r(18259);i(i.S+i.F*!r(5006)(function(e){Array.from(e)}),"Array",{from:function e(t){var r=o(t);var i="function"==typeof this?this:Array;var d=arguments.length;var f=d>1?arguments[1]:void 0;var p=void 0!==f;var h=0;var g=c(r);var v,m,y,b;p&&(f=n(f,d>2?arguments[2]:void 0,2));if(void 0==g||i==Array&&s(g)){v=l(r.length);for(m=new i(v);v>h;h++)u(m,h,p?f(r[h],h):r[h])}else for(b=g.call(r),m=new i;!(y=b.next()).done;h++)u(m,h,p?a(b,f,[y.value,h],true):y.value);m.length=h;return m}})},76880(e,t,r){"use strict";var n=r(11044);var i=r(31771)(false);var o=[].indexOf;var a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!r(20345)(o)),"Array",{indexOf:function e(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},2694(e,t,r){var n=r(11044);n(n.S,"Array",{isArray:r(63906)})},37060(e,t,r){"use strict";var n=r(25703);var i=r(29135);var o=r(95319);var a=r(64802);e.exports=r(69798)(Array,"Array",function(e,t){this._t=a(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=void 0;return i(1)}if("keys"==t)return i(0,r);if("values"==t)return i(0,e[r]);return i(0,[r,e[r]])},"values");o.Arguments=o.Array;n("keys");n("values");n("entries")},42202(e,t,r){"use strict";var n=r(11044);var i=r(64802);var o=[].join;n(n.P+n.F*(r(7300)!=Object||!r(20345)(o)),"Array",{join:function e(t){return o.call(i(this),void 0===t?",":t)}})},77757(e,t,r){"use strict";var n=r(11044);var i=r(64802);var o=r(90076);var a=r(67284);var s=[].lastIndexOf;var l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!r(20345)(s)),"Array",{lastIndexOf:function e(t){if(l)return s.apply(this,arguments)||0;var r=i(this);var n=a(r.length);var u=n-1;arguments.length>1&&(u=Math.min(u,o(arguments[1])));u<0&&(u=n+u);for(;u>=0;u--)if(u in r&&r[u]===t)return u||0;return-1}})},63442(e,t,r){"use strict";var n=r(11044);var i=r(43298)(1);n(n.P+n.F*!r(20345)([].map,true),"Array",{map:function e(t){return i(this,t,arguments[1])}})},45487(e,t,r){"use strict";var n=r(11044);var i=r(29934);n(n.S+n.F*r(24985)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function e(){var t=0;var r=arguments.length;var n=new("function"==typeof this?this:Array)(r);while(r>t)i(n,t,arguments[t++]);n.length=r;return n}})},3931(e,t,r){"use strict";var n=r(11044);var i=r(35636);n(n.P+n.F*!r(20345)([].reduceRight,true),"Array",{reduceRight:function e(t){return i(this,t,arguments.length,arguments[1],true)}})},50172(e,t,r){"use strict";var n=r(11044);var i=r(35636);n(n.P+n.F*!r(20345)([].reduce,true),"Array",{reduce:function e(t){return i(this,t,arguments.length,arguments[1],false)}})},39290(e,t,r){"use strict";var n=r(11044);var i=r(51931);var o=r(28708);var a=r(28016);var s=r(67284);var l=[].slice;n(n.P+n.F*r(24985)(function(){i&&l.call(i)}),"Array",{slice:function e(t,r){var n=s(this.length);var i=o(this);r=void 0===r?n:r;if("Array"==i)return l.call(this,t,r);var u=a(t,n);var c=a(r,n);var d=s(c-u);var f=new Array(d);var p=0;for(;p<d;p++)f[p]="String"==i?this.charAt(u+p):this[u+p];return f}})},34842(e,t,r){"use strict";var n=r(11044);var i=r(43298)(3);n(n.P+n.F*!r(20345)([].some,true),"Array",{some:function e(t){return i(this,t,arguments[1])}})},7506(e,t,r){"use strict";var n=r(11044);var i=r(21412);var o=r(60651);var a=r(24985);var s=[].sort;var l=[1,2,3];n(n.P+n.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!r(20345)(s)),"Array",{sort:function e(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},30994(e,t,r){r(90547)("Array")},61013(e,t,r){var n=r(11044);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},32180(e,t,r){var n=r(11044);var i=r(63054);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},64727(e,t,r){"use strict";var n=r(11044);var i=r(60651);var o=r(56435);n(n.P+n.F*r(24985)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function e(t){var r=i(this);var n=o(r);return"number"!=typeof n||isFinite(n)?r.toISOString():null}})},59312(e,t,r){var n=r(21343)("toPrimitive");var i=Date.prototype;n in i||r(38922)(i,n,r(20142))},38388(e,t,r){var n=Date.prototype;var i="Invalid Date";var o="toString";var a=n[o];var s=n.getTime;new Date(NaN)+""!=i&&r(45724)(n,o,function e(){var t=s.call(this);return t===t?a.call(this):i})},89206(e,t,r){var n=r(11044);n(n.P,"Function",{bind:r(75957)})},6561(e,t,r){"use strict";var n=r(40344);var i=r(17728);var o=r(21343)("hasInstance");var a=Function.prototype;o in a||r(11710).f(a,o,{value:function(e){if("function"!=typeof this||!n(e))return false;if(!n(this.prototype))return e instanceof this;while(e=i(e))if(this.prototype===e)return true;return false}})},55102(e,t,r){var n=r(11710).f;var i=Function.prototype;var o=/^\s*function ([^ (]*)/;var a="name";a in i||r(91710)&&n(i,a,{configurable:true,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},31533(e,t,r){"use strict";var n=r(92588);var i=r(72577);var o="Map";e.exports=r(86278)(o,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function e(t){var r=n.getEntry(i(this,o),t);return r&&r.v},set:function e(t,r){return n.def(i(this,o),0===t?0:t,r)}},n,true)},92061(e,t,r){var n=r(11044);var i=r(45266);var o=Math.sqrt;var a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&Infinity==a(Infinity)),"Math",{acosh:function e(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},9874(e,t,r){var n=r(11044);var i=Math.asinh;function o(e){return isFinite(e=+e)&&0!=e?e<0?-o(-e):Math.log(e+Math.sqrt(e*e+1)):e}n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:o})},8297(e,t,r){var n=r(11044);var i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function e(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},65472(e,t,r){var n=r(11044);var i=r(17444);n(n.S,"Math",{cbrt:function e(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},785(e,t,r){var n=r(11044);n(n.S,"Math",{clz32:function e(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},4326(e,t,r){var n=r(11044);var i=Math.exp;n(n.S,"Math",{cosh:function e(t){return(i(t=+t)+i(-t))/2}})},73554(e,t,r){var n=r(11044);var i=r(15728);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},41169(e,t,r){var n=r(11044);n(n.S,"Math",{fround:r(34787)})},23777(e,t,r){var n=r(11044);var i=Math.abs;n(n.S,"Math",{hypot:function e(t,r){var n=0;var o=0;var a=arguments.length;var s=0;var l,u;while(o<a){l=i(arguments[o++]);if(s<l){u=s/l;n=n*u*u+1;s=l}else if(l>0){u=l/s;n+=u*u}else n+=l}return Infinity===s?Infinity:s*Math.sqrt(n)}})},29468(e,t,r){var n=r(11044);var i=Math.imul;n(n.S+n.F*r(24985)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function e(t,r){var n=65535;var i=+t;var o=+r;var a=n&i;var s=n&o;return 0|a*s+((n&i>>>16)*s+a*(n&o>>>16)<<16>>>0)}})},85932(e,t,r){var n=r(11044);n(n.S,"Math",{log10:function e(t){return Math.log(t)*Math.LOG10E}})},27532(e,t,r){var n=r(11044);n(n.S,"Math",{log1p:r(45266)})},95739(e,t,r){var n=r(11044);n(n.S,"Math",{log2:function e(t){return Math.log(t)/Math.LN2}})},28646(e,t,r){var n=r(11044);n(n.S,"Math",{sign:r(17444)})},28973(e,t,r){var n=r(11044);var i=r(15728);var o=Math.exp;n(n.S+n.F*r(24985)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function e(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},11854(e,t,r){var n=r(11044);var i=r(15728);var o=Math.exp;n(n.S,"Math",{tanh:function e(t){var r=i(t=+t);var n=i(-t);return Infinity==r?1:Infinity==n?-1:(r-n)/(o(t)+o(-t))}})},8021(e,t,r){var n=r(11044);n(n.S,"Math",{trunc:function e(t){return(t>0?Math.floor:Math.ceil)(t)}})},62560(e,t,r){"use strict";var n=r(245);var i=r(69236);var o=r(28708);var a=r(74861);var s=r(56435);var l=r(24985);var u=r(94314).f;var c=r(76840).f;var d=r(11710).f;var f=r(38640).trim;var p="Number";var h=n[p];var g=h;var v=h.prototype;var m=o(r(86154)(v))==p;var y="trim"in String.prototype;var b=function(e){var t=s(e,false);if("string"==typeof t&&t.length>2){t=y?t.trim():f(t,3);var r=t.charCodeAt(0);var n,i,o;if(43===r||45===r){n=t.charCodeAt(2);if(88===n||120===n)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:i=2;o=49;break;case 79:case 111:i=8;o=55;break;default:return+t}for(var a=t.slice(2),l=0,u=a.length,c;l<u;l++){c=a.charCodeAt(l);if(c<48||c>o)return NaN}return parseInt(a,i)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function e(t){var r=arguments.length<1?0:t;var n=this;return n instanceof h&&(m?l(function(){v.valueOf.call(n)}):o(n)!=p)?a(new g(b(r)),n,h):b(r)};for(var w=r(91710)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0,S;w.length>_;_++)i(g,S=w[_])&&!i(h,S)&&d(h,S,c(g,S));h.prototype=v;v.constructor=h;r(45724)(n,p,h)}},11330(e,t,r){var n=r(11044);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},6e3(e,t,r){var n=r(11044);var i=r(245).isFinite;n(n.S,"Number",{isFinite:function e(t){return"number"==typeof t&&i(t)}})},34825(e,t,r){var n=r(11044);n(n.S,"Number",{isInteger:r(49425)})},79962(e,t,r){var n=r(11044);n(n.S,"Number",{isNaN:function e(t){return t!=t}})},47817(e,t,r){var n=r(11044);var i=r(49425);var o=Math.abs;n(n.S,"Number",{isSafeInteger:function e(t){return i(t)&&o(t)<=9007199254740991}})},32325(e,t,r){var n=r(11044);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},24903(e,t,r){var n=r(11044);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},21448(e,t,r){var n=r(11044);var i=r(9072);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},30135(e,t,r){var n=r(11044);var i=r(28927);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},2040(e,t,r){"use strict";var n=r(11044);var i=r(90076);var o=r(40305);var a=r(77651);var s=1..toFixed;var l=Math.floor;var u=[0,0,0,0,0,0];var c="Number.toFixed: incorrect invocation!";var d="0";var f=function(e,t){var r=-1;var n=t;while(++r<6){n+=e*u[r];u[r]=n%1e7;n=l(n/1e7)}};var p=function(e){var t=6;var r=0;while(--t>=0){r+=u[t];u[t]=l(r/e);r=r%e*1e7}};var h=function(){var e=6;var t="";while(--e>=0)if(""!==t||0===e||0!==u[e]){var r=String(u[e]);t=""===t?r:t+a.call(d,7-r.length)+r}return t};var g=function(e,t,r){return 0===t?r:t%2===1?g(e,t-1,r*e):g(e*e,t/2,r)};var v=function(e){var t=0;var r=e;while(r>=4096){t+=12;r/=4096}while(r>=2){t+=1;r/=2}return t};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(24985)(function(){s.call({})})),"Number",{toFixed:function e(t){var r=o(this,c);var n=i(t);var s="";var l=d;var u,m,y,b;if(n<0||n>20)throw RangeError(c);if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0){s="-";r=-r}if(r>1e-21){u=v(r*g(2,69,1))-69;m=u<0?r*g(2,-u,1):r/g(2,u,1);m*=4503599627370496;u=52-u;if(u>0){f(0,m);y=n;while(y>=7){f(1e7,0);y-=7}f(g(10,y,1),0);y=u-1;while(y>=23){p(1<<23);y-=23}p(1<<y);f(1,1);p(2);l=h()}else{f(0,m);f(1<<-u,0);l=h()+a.call(d,n)}}if(n>0){b=l.length;l=s+(b<=n?"0."+a.call(d,n-b)+l:l.slice(0,b-n)+"."+l.slice(b-n))}else l=s+l;return l}})},46098(e,t,r){"use strict";var n=r(11044);var i=r(24985);var o=r(40305);var a=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function e(t){var r=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(r):a.call(r,t)}})},12753(e,t,r){var n=r(11044);n(n.S+n.F,"Object",{assign:r(93599)})},27596(e,t,r){var n=r(11044);n(n.S,"Object",{create:r(86154)})},94085(e,t,r){var n=r(11044);n(n.S+n.F*!r(91710),"Object",{defineProperties:r(34069)})},85373(e,t,r){var n=r(11044);n(n.S+n.F*!r(91710),"Object",{defineProperty:r(11710).f})},68639(e,t,r){var n=r(40344);var i=r(15779).onFreeze;r(96300)("freeze",function(e){return function t(r){return e&&n(r)?e(i(r)):r}})},86487(e,t,r){var n=r(64802);var i=r(76840).f;r(96300)("getOwnPropertyDescriptor",function(){return function e(t,r){return i(n(t),r)}})},56628(e,t,r){r(96300)("getOwnPropertyNames",function(){return r(17140).f})},76591(e,t,r){var n=r(60651);var i=r(17728);r(96300)("getPrototypeOf",function(){return function e(t){return i(n(t))}})},17672(e,t,r){var n=r(40344);r(96300)("isExtensible",function(e){return function t(r){return!!n(r)&&(!e||e(r))}})},14087(e,t,r){var n=r(40344);r(96300)("isFrozen",function(e){return function t(r){return!n(r)||!!e&&e(r)}})},9265(e,t,r){var n=r(40344);r(96300)("isSealed",function(e){return function t(r){return!n(r)||!!e&&e(r)}})},99752(e,t,r){var n=r(11044);n(n.S,"Object",{is:r(51292)})},86020(e,t,r){var n=r(60651);var i=r(30234);r(96300)("keys",function(){return function e(t){return i(n(t))}})},42275(e,t,r){var n=r(40344);var i=r(15779).onFreeze;r(96300)("preventExtensions",function(e){return function t(r){return e&&n(r)?e(i(r)):r}})},79241(e,t,r){var n=r(40344);var i=r(15779).onFreeze;r(96300)("seal",function(e){return function t(r){return e&&n(r)?e(i(r)):r}})},39691(e,t,r){var n=r(11044);n(n.S,"Object",{setPrototypeOf:r(14539).set})},40111(e,t,r){"use strict";var n=r(87905);var i={};i[r(21343)("toStringTag")]="z";i+""!="[object z]"&&r(45724)(Object.prototype,"toString",function e(){return"[object "+n(this)+"]"},true)},14271(e,t,r){var n=r(11044);var i=r(9072);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},22576(e,t,r){var n=r(11044);var i=r(28927);n(n.G+n.F*(parseInt!=i),{parseInt:i})},16302(e,t,r){"use strict";var n=r(26715);var i=r(245);var o=r(28805);var a=r(87905);var s=r(11044);var l=r(40344);var u=r(21412);var c=r(98453);var d=r(27289);var f=r(15715);var p=r(18063).set;var h=r(47465)();var g=r(55669);var v=r(47809);var m=r(76053);var y=r(46108);var b="Promise";var w=i.TypeError;var _=i.process;var S=_&&_.versions;var k=S&&S.v8||"";var P=i[b];var E="process"==a(_);var x=function(){};var C,O,j,A;var T=O=g.f;var D=!!function(){try{var e=P.resolve(1);var t=(e.constructor={})[r(21343)("species")]=function(e){e(x,x)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t&&0!==k.indexOf("6.6")&&-1===m.indexOf("Chrome/66")}catch(e){}}();var L=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t};var I=function(e,t){if(e._n)return;e._n=true;var r=e._c;h(function(){var n=e._v;var i=1==e._s;var o=0;var a=function(t){var r=i?t.ok:t.fail;var o=t.resolve;var a=t.reject;var s=t.domain;var l,u,c;try{if(r){if(!i){2==e._h&&F(e);e._h=1}if(true===r)l=n;else{s&&s.enter();l=r(n);if(s){s.exit();c=true}}l===t.promise?a(w("Promise-chain cycle")):(u=L(l))?u.call(l,o,a):o(l)}else a(n)}catch(e){s&&!c&&s.exit();a(e)}};while(r.length>o)a(r[o++]);e._c=[];e._n=false;t&&!e._h&&M(e)})};var M=function(e){p.call(i,function(){var t=e._v;var r=R(e);var n,o,a;if(r){n=v(function(){E?_.emit("unhandledRejection",t,e):(o=i.onunhandledrejection)?o({promise:e,reason:t}):(a=i.console)&&a.error&&a.error("Unhandled promise rejection",t)});e._h=E||R(e)?2:1}e._a=void 0;if(r&&n.e)throw n.v})};var R=function(e){return 1!==e._h&&0===(e._a||e._c).length};var F=function(e){p.call(i,function(){var t;E?_.emit("rejectionHandled",e):(t=i.onrejectionhandled)&&t({promise:e,reason:e._v})})};var B=function(e){var t=this;if(t._d)return;t._d=true;t=t._w||t;t._v=e;t._s=2;t._a||(t._a=t._c.slice());I(t,true)};var N=function(e){var t=this;var r;if(t._d)return;t._d=true;t=t._w||t;try{if(t===e)throw w("Promise can't be resolved itself");if(r=L(e))h(function(){var n={_w:t,_d:false};try{r.call(e,o(N,n,1),o(B,n,1))}catch(e){B.call(n,e)}});else{t._v=e;t._s=1;I(t,false)}}catch(e){B.call({_w:t,_d:false},e)}};if(!D){P=function e(t){c(this,P,b,"_h");u(t);C.call(this);try{t(o(N,this,1),o(B,this,1))}catch(e){B.call(this,e)}};C=function e(t){this._c=[];this._a=void 0;this._s=0;this._d=false;this._v=void 0;this._h=0;this._n=false};C.prototype=r(90910)(P.prototype,{then:function e(t,r){var n=T(f(this,P));n.ok="function"!=typeof t||t;n.fail="function"==typeof r&&r;n.domain=E?_.domain:void 0;this._c.push(n);this._a&&this._a.push(n);this._s&&I(this,false);return n.promise},catch:function(e){return this.then(void 0,e)}});j=function(){var e=new C;this.promise=e;this.resolve=o(N,e,1);this.reject=o(B,e,1)};g.f=T=function(e){return e===P||e===A?new j(e):O(e)}}s(s.G+s.W+s.F*!D,{Promise:P});r(89877)(P,b);r(90547)(b);A=r(24069)[b];s(s.S+s.F*!D,b,{reject:function e(t){var r=T(this);var n=r.reject;n(t);return r.promise}});s(s.S+s.F*(n||!D),b,{resolve:function e(t){return y(n&&this===A?P:this,t)}});s(s.S+s.F*!(D&&r(5006)(function(e){P.all(e)["catch"](x)})),b,{all:function e(t){var r=this;var n=T(r);var i=n.resolve;var o=n.reject;var a=v(function(){var e=[];var n=0;var a=1;d(t,false,function(t){var s=n++;var l=false;e.push(void 0);a++;r.resolve(t).then(function(t){if(l)return;l=true;e[s]=t;--a||i(e)},o)});--a||i(e)});a.e&&o(a.v);return n.promise},race:function e(t){var r=this;var n=T(r);var i=n.reject;var o=v(function(){d(t,false,function(e){r.resolve(e).then(n.resolve,i)})});o.e&&i(o.v);return n.promise}})},27248(e,t,r){var n=r(11044);var i=r(21412);var o=r(6293);var a=(r(245).Reflect||{}).apply;var s=Function.apply;n(n.S+n.F*!r(24985)(function(){a(function(){})}),"Reflect",{apply:function e(t,r,n){var l=i(t);var u=o(n);return a?a(l,r,u):s.call(l,r,u)}})},93941(e,t,r){var n=r(11044);var i=r(86154);var o=r(21412);var a=r(6293);var s=r(40344);var l=r(24985);var u=r(75957);var c=(r(245).Reflect||{}).construct;var d=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)});var f=!l(function(){c(function(){})});n(n.S+n.F*(d||f),"Reflect",{construct:function e(t,r){o(t);a(r);var n=arguments.length<3?t:o(arguments[2]);if(f&&!d)return c(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var l=[null];l.push.apply(l,r);return new(u.apply(t,l))}var p=n.prototype;var h=i(s(p)?p:Object.prototype);var g=Function.apply.call(t,h,r);return s(g)?g:h}})},33327(e,t,r){var n=r(11710);var i=r(11044);var o=r(6293);var a=r(56435);i(i.S+i.F*r(24985)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function e(t,r,i){o(t);r=a(r,true);o(i);try{n.f(t,r,i);return true}catch(e){return false}}})},70543(e,t,r){var n=r(11044);var i=r(76840).f;var o=r(6293);n(n.S,"Reflect",{deleteProperty:function e(t,r){var n=i(o(t),r);return!(n&&!n.configurable)&&delete t[r]}})},95062(e,t,r){"use strict";var n=r(11044);var i=r(6293);var o=function(e){this._t=i(e);this._i=0;var t=this._k=[];var r;for(r in e)t.push(r)};r(31801)(o,"Object",function(){var e=this;var t=e._k;var r;do{if(e._i>=t.length)return{value:void 0,done:true}}while(!((r=t[e._i++])in e._t));return{value:r,done:false}});n(n.S,"Reflect",{enumerate:function e(t){return new o(t)}})},39885(e,t,r){var n=r(76840);var i=r(11044);var o=r(6293);i(i.S,"Reflect",{getOwnPropertyDescriptor:function e(t,r){return n.f(o(t),r)}})},54753(e,t,r){var n=r(11044);var i=r(17728);var o=r(6293);n(n.S,"Reflect",{getPrototypeOf:function e(t){return i(o(t))}})},6612(e,t,r){var n=r(76840);var i=r(17728);var o=r(69236);var a=r(11044);var s=r(40344);var l=r(6293);function u(e,t){var r=arguments.length<3?e:arguments[2];var a,c;if(l(e)===r)return e[t];if(a=n.f(e,t))return o(a,"value")?a.value:void 0!==a.get?a.get.call(r):void 0;if(s(c=i(e)))return u(c,t,r)}a(a.S,"Reflect",{get:u})},61376(e,t,r){var n=r(11044);n(n.S,"Reflect",{has:function e(t,r){return r in t}})},74774(e,t,r){var n=r(11044);var i=r(6293);var o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function e(t){i(t);return!o||o(t)}})},57653(e,t,r){var n=r(11044);n(n.S,"Reflect",{ownKeys:r(26041)})},62581(e,t,r){var n=r(11044);var i=r(6293);var o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function e(t){i(t);try{o&&o(t);return true}catch(e){return false}}})},49965(e,t,r){var n=r(11044);var i=r(14539);i&&n(n.S,"Reflect",{setPrototypeOf:function e(t,r){i.check(t,r);try{i.set(t,r);return true}catch(e){return false}}})},35344(e,t,r){var n=r(11710);var i=r(76840);var o=r(17728);var a=r(69236);var s=r(11044);var l=r(16041);var u=r(6293);var c=r(40344);function d(e,t,r){var s=arguments.length<4?e:arguments[3];var f=i.f(u(e),t);var p,h;if(!f){if(c(h=o(e)))return d(h,t,r,s);f=l(0)}if(a(f,"value")){if(false===f.writable||!c(s))return false;if(p=i.f(s,t)){if(p.get||p.set||false===p.writable)return false;p.value=r;n.f(s,t,p)}else n.f(s,t,l(0,r));return true}return void 0!==f.set&&(f.set.call(s,r),true)}s(s.S,"Reflect",{set:d})},70220(e,t,r){var n=r(245);var i=r(74861);var o=r(11710).f;var a=r(94314).f;var s=r(70226);var l=r(92815);var u=n.RegExp;var c=u;var d=u.prototype;var f=/a/g;var p=/a/g;var h=new u(f)!==f;if(r(91710)&&(!h||r(24985)(function(){p[r(21343)("match")]=false;return u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function e(t,r){var n=this instanceof u;var o=s(t);var a=void 0===r;return!n&&o&&t.constructor===u&&a?t:i(h?new c(o&&!a?t.source:t,r):c((o=t instanceof u)?t.source:t,o&&a?l.call(t):r),n?this:d,u)};var g=function(e){e in u||o(u,e,{configurable:true,get:function(){return c[e]},set:function(t){c[e]=t}})};for(var v=a(c),m=0;v.length>m;)g(v[m++]);d.constructor=u;u.prototype=d;r(45724)(n,"RegExp",u)}r(90547)("RegExp")},8539(e,t,r){"use strict";var n=r(3105);r(11044)({target:"RegExp",proto:true,forced:n!==/./.exec},{exec:n})},80923(e,t,r){r(91710)&&"g"!=/./g.flags&&r(11710).f(RegExp.prototype,"flags",{configurable:true,get:r(92815)})},91873(e,t,r){"use strict";var n=r(6293);var i=r(67284);var o=r(71555);var a=r(9116);r(58499)("match",1,function(e,t,r,s){return[function r(n){var i=e(this);var o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=s(r,e,this);if(t.done)return t.value;var l=n(e);var u=String(this);if(!l.global)return a(l,u);var c=l.unicode;l.lastIndex=0;var d=[];var f=0;var p;while(null!==(p=a(l,u))){var h=String(p[0]);d[f]=h;""===h&&(l.lastIndex=o(u,i(l.lastIndex),c));f++}return 0===f?null:d}]})},95376(e,t,r){"use strict";var n=r(6293);var i=r(60651);var o=r(67284);var a=r(90076);var s=r(71555);var l=r(9116);var u=Math.max;var c=Math.min;var d=Math.floor;var f=/\$([$&`']|\d\d?|<[^>]*>)/g;var p=/\$([$&`']|\d\d?)/g;var h=function(e){return void 0===e?e:String(e)};r(58499)("replace",2,function(e,t,r,g){return[function n(i,o){var a=e(this);var s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,a,o):r.call(String(a),i,o)},function(e,t){var i=g(r,e,this,t);if(i.done)return i.value;var d=n(e);var f=String(this);var p="function"===typeof t;p||(t=String(t));var m=d.global;if(m){var y=d.unicode;d.lastIndex=0}var b=[];while(true){var w=l(d,f);if(null===w)break;b.push(w);if(!m)break;var _=String(w[0]);""===_&&(d.lastIndex=s(f,o(d.lastIndex),y))}var S="";var k=0;for(var P=0;P<b.length;P++){w=b[P];var E=String(w[0]);var x=u(c(a(w.index),f.length),0);var C=[];for(var O=1;O<w.length;O++)C.push(h(w[O]));var j=w.groups;if(p){var A=[E].concat(C,x,f);void 0!==j&&A.push(j);var T=String(t.apply(void 0,A))}else T=v(E,f,x,C,j,t);if(x>=k){S+=f.slice(k,x)+T;k=x+E.length}}return S+f.slice(k)}];function v(e,t,n,o,a,s){var l=n+e.length;var u=o.length;var c=p;if(void 0!==a){a=i(a);c=f}return r.call(s,c,function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>u){var f=d(c/10);if(0===f)return r;if(f<=u)return void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1);return r}s=o[c-1]}return void 0===s?"":s})}})},74018(e,t,r){"use strict";var n=r(6293);var i=r(51292);var o=r(9116);r(58499)("search",1,function(e,t,r,a){return[function r(n){var i=e(this);var o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=a(r,e,this);if(t.done)return t.value;var s=n(e);var l=String(this);var u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=o(s,l);i(s.lastIndex,u)||(s.lastIndex=u);return null===c?-1:c.index}]})},31464(e,t,r){"use strict";var n=r(70226);var i=r(6293);var o=r(15715);var a=r(71555);var s=r(67284);var l=r(9116);var u=r(3105);var c=r(24985);var d=Math.min;var f=[].push;var p="split";var h="length";var g="lastIndex";var v=4294967295;var m=!c(function(){RegExp(v,"y")});r(58499)("split",2,function(e,t,r,c){var y;y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);var o=[];var a=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"");var s=0;var l=void 0===t?v:t>>>0;var c=new RegExp(e.source,a+"g");var d,p,m;while(d=u.call(c,i)){p=c[g];if(p>s){o.push(i.slice(s,d.index));d[h]>1&&d.index<i[h]&&f.apply(o,d.slice(1));m=d[0][h];s=p;if(o[h]>=l)break}c[g]===d.index&&c[g]++}s===i[h]?!m&&c.test("")||o.push(""):o.push(i.slice(s));return o[h]>l?o.slice(0,l):o}:"0"[p](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r;return[function r(n,i){var o=e(this);var a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):y.call(String(o),n,i)},function(e,t){var n=c(y,e,this,t,y!==r);if(n.done)return n.value;var u=i(e);var f=String(this);var p=o(u,RegExp);var h=u.unicode;var g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g");var b=new p(m?u:"^(?:"+u.source+")",g);var w=void 0===t?v:t>>>0;if(0===w)return[];if(0===f.length)return null===l(b,f)?[f]:[];var _=0;var S=0;var k=[];while(S<f.length){b.lastIndex=m?S:0;var P=l(b,m?f:f.slice(S));var E;if(null===P||(E=d(s(b.lastIndex+(m?0:S)),f.length))===_)S=a(f,S,h);else{k.push(f.slice(_,S));if(k.length===w)return k;for(var x=1;x<=P.length-1;x++){k.push(P[x]);if(k.length===w)return k}S=_=E}}k.push(f.slice(_));return k}]})},34665(e,t,r){"use strict";r(80923);var n=r(6293);var i=r(92815);var o=r(91710);var a="toString";var s=/./[a];var l=function(e){r(45724)(RegExp.prototype,a,e,true)};r(24985)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function e(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):s.name!=a&&l(function e(){return s.call(this)})},93131(e,t,r){"use strict";var n=r(92588);var i=r(72577);var o="Set";e.exports=r(86278)(o,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function e(t){return n.def(i(this,o),t=0===t?0:t,t)}},n)},29031(e,t,r){"use strict";r(43985)("anchor",function(e){return function t(r){return e(this,"a","name",r)}})},91294(e,t,r){"use strict";r(43985)("big",function(e){return function t(){return e(this,"big","","")}})},7982(e,t,r){"use strict";r(43985)("blink",function(e){return function t(){return e(this,"blink","","")}})},24365(e,t,r){"use strict";r(43985)("bold",function(e){return function t(){return e(this,"b","","")}})},40(e,t,r){"use strict";var n=r(11044);var i=r(66681)(false);n(n.P,"String",{codePointAt:function e(t){return i(this,t)}})},43589(e,t,r){"use strict";var n=r(11044);var i=r(67284);var o=r(7741);var a="endsWith";var s=""[a];n(n.P+n.F*r(1122)(a),"String",{endsWith:function e(t){var r=o(this,t,a);var n=arguments.length>1?arguments[1]:void 0;var l=i(r.length);var u=void 0===n?l:Math.min(i(n),l);var c=String(t);return s?s.call(r,c,u):r.slice(u-c.length,u)===c}})},75294(e,t,r){"use strict";r(43985)("fixed",function(e){return function t(){return e(this,"tt","","")}})},60112(e,t,r){"use strict";r(43985)("fontcolor",function(e){return function t(r){return e(this,"font","color",r)}})},70886(e,t,r){"use strict";r(43985)("fontsize",function(e){return function t(r){return e(this,"font","size",r)}})},83053(e,t,r){var n=r(11044);var i=r(28016);var o=String.fromCharCode;var a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function e(t){var r=[];var n=arguments.length;var a=0;var s;while(n>a){s=+arguments[a++];if(i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");r.push(s<65536?o(s):o(55296+((s-=65536)>>10),s%1024+56320))}return r.join("")}})},16559(e,t,r){"use strict";var n=r(11044);var i=r(7741);var o="includes";n(n.P+n.F*r(1122)(o),"String",{includes:function e(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},1865(e,t,r){"use strict";r(43985)("italics",function(e){return function t(){return e(this,"i","","")}})},11160(e,t,r){"use strict";var n=r(66681)(true);r(69798)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:void 0,done:true};r=n(e,t);this._i+=r.length;return{value:r,done:false}})},84750(e,t,r){"use strict";r(43985)("link",function(e){return function t(r){return e(this,"a","href",r)}})},63926(e,t,r){var n=r(11044);var i=r(64802);var o=r(67284);n(n.S,"String",{raw:function e(t){var r=i(t.raw);var n=o(r.length);var a=arguments.length;var s=[];var l=0;while(n>l){s.push(String(r[l++]));l<a&&s.push(String(arguments[l]))}return s.join("")}})},85529(e,t,r){var n=r(11044);n(n.P,"String",{repeat:r(77651)})},7455(e,t,r){"use strict";r(43985)("small",function(e){return function t(){return e(this,"small","","")}})},64276(e,t,r){"use strict";var n=r(11044);var i=r(67284);var o=r(7741);var a="startsWith";var s=""[a];n(n.P+n.F*r(1122)(a),"String",{startsWith:function e(t){var r=o(this,t,a);var n=i(Math.min(arguments.length>1?arguments[1]:void 0,r.length));var l=String(t);return s?s.call(r,l,n):r.slice(n,n+l.length)===l}})},41816(e,t,r){"use strict";r(43985)("strike",function(e){return function t(){return e(this,"strike","","")}})},64290(e,t,r){"use strict";r(43985)("sub",function(e){return function t(){return e(this,"sub","","")}})},57320(e,t,r){"use strict";r(43985)("sup",function(e){return function t(){return e(this,"sup","","")}})},93358(e,t,r){"use strict";r(38640)("trim",function(e){return function t(){return e(this,3)}})},31175(e,t,r){"use strict";var n=r(245);var i=r(69236);var o=r(91710);var a=r(11044);var s=r(45724);var l=r(15779).KEY;var u=r(24985);var c=r(49111);var d=r(89877);var f=r(64842);var p=r(21343);var h=r(17957);var g=r(18579);var v=r(51200);var m=r(63906);var y=r(6293);var b=r(40344);var w=r(60651);var _=r(64802);var S=r(56435);var k=r(16041);var P=r(86154);var E=r(17140);var x=r(76840);var C=r(3629);var O=r(11710);var j=r(30234);var A=x.f;var T=O.f;var D=E.f;var L=n.Symbol;var I=n.JSON;var M=I&&I.stringify;var R="prototype";var F=p("_hidden");var B=p("toPrimitive");var N={}.propertyIsEnumerable;var V=c("symbol-registry");var q=c("symbols");var W=c("op-symbols");var U=Object[R];var z="function"==typeof L&&!!C.f;var G=n.QObject;var H=!G||!G[R]||!G[R].findChild;var $=o&&u(function(){return 7!=P(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=A(U,t);n&&delete U[t];T(e,t,r);n&&e!==U&&T(U,t,n)}:T;var K=function(e){var t=q[e]=P(L[R]);t._k=e;return t};var Z=z&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L};var Q=function e(t,r,n){t===U&&Q(W,r,n);y(t);r=S(r,true);y(n);if(i(q,r)){if(n.enumerable){i(t,F)&&t[F][r]&&(t[F][r]=false);n=P(n,{enumerable:k(0,false)})}else{i(t,F)||T(t,F,k(1,{}));t[F][r]=true}return $(t,r,n)}return T(t,r,n)};var Y=function e(t,r){y(t);var n=v(r=_(r));var i=0;var o=n.length;var a;while(o>i)Q(t,a=n[i++],r[a]);return t};var X=function e(t,r){return void 0===r?P(t):Y(P(t),r)};var J=function e(t){var r=N.call(this,t=S(t,true));if(this===U&&i(q,t)&&!i(W,t))return false;return!(r||!i(this,t)||!i(q,t)||i(this,F)&&this[F][t])||r};var ee=function e(t,r){t=_(t);r=S(r,true);if(t===U&&i(q,r)&&!i(W,r))return;var n=A(t,r);!n||!i(q,r)||i(t,F)&&t[F][r]||(n.enumerable=true);return n};var te=function e(t){var r=D(_(t));var n=[];var o=0;var a;while(r.length>o)i(q,a=r[o++])||a==F||a==l||n.push(a);return n};var re=function e(t){var r=t===U;var n=D(r?W:_(t));var o=[];var a=0;var s;while(n.length>a)!i(q,s=n[a++])||r&&!i(U,s)||o.push(q[s]);return o};if(!z){L=function e(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0);var r=function(e){this===U&&r.call(W,e);i(this,F)&&i(this[F],t)&&(this[F][t]=false);$(this,t,k(1,e))};o&&H&&$(U,t,{configurable:true,set:r});return K(t)};s(L[R],"toString",function e(){return this._k});x.f=ee;O.f=Q;r(94314).f=E.f=te;r(1602).f=J;C.f=re;o&&!r(26715)&&s(U,"propertyIsEnumerable",J,true);h.f=function(e){return K(p(e))}}a(a.G+a.W+a.F*!z,{Symbol:L});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ne.length>ie;)p(ne[ie++]);for(var oe=j(p.store),ae=0;oe.length>ae;)g(oe[ae++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(V,e+="")?V[e]:V[e]=L(e)},keyFor:function e(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var r in V)if(V[r]===t)return r},useSetter:function(){H=true},useSimple:function(){H=false}});a(a.S+a.F*!z,"Object",{create:X,defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:re});var se=u(function(){C.f(1)});a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function e(t){return C.f(w(t))}});I&&a(a.S+a.F*(!z||u(function(){var e=L();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function e(t){var r=[t];var n=1;var i,o;while(arguments.length>n)r.push(arguments[n++]);o=i=r[1];if(!b(i)&&void 0===t||Z(t))return;m(i)||(i=function(e,t){"function"==typeof o&&(t=o.call(this,e,t));if(!Z(t))return t});r[1]=i;return M.apply(I,r)}});L[R][B]||r(38922)(L[R],B,L[R].valueOf);d(L,"Symbol");d(Math,"Math",true);d(n.JSON,"JSON",true)},43523(e,t,r){"use strict";var n=r(11044);var i=r(97436);var o=r(79615);var a=r(6293);var s=r(28016);var l=r(67284);var u=r(40344);var c=r(245).ArrayBuffer;var d=r(15715);var f=o.ArrayBuffer;var p=o.DataView;var h=i.ABV&&c.isView;var g=f.prototype.slice;var v=i.VIEW;var m="ArrayBuffer";n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f});n(n.S+n.F*!i.CONSTR,m,{isView:function e(t){return h&&h(t)||u(t)&&v in t}});n(n.P+n.U+n.F*r(24985)(function(){return!new f(2).slice(1,void 0).byteLength}),m,{slice:function e(t,r){if(void 0!==g&&void 0===r)return g.call(a(this),t);var n=a(this).byteLength;var i=s(t,n);var o=s(void 0===r?n:r,n);var u=new(d(this,f))(l(o-i));var c=new p(this);var h=new p(u);var v=0;while(i<o)h.setUint8(v++,c.getUint8(i++));return u}});r(90547)(m)},62439(e,t,r){var n=r(11044);n(n.G+n.W+n.F*!r(97436).ABV,{DataView:r(79615).DataView})},38930(e,t,r){r(7940)("Float32",4,function(e){return function t(r,n,i){return e(this,r,n,i)}})},47961(e,t,r){r(7940)("Float64",8,function(e){return function t(r,n,i){return e(this,r,n,i)}})},51771(e,t,r){r(7940)("Int16",2,function(e){return function t(r,n,i){return e(this,r,n,i)}})},97093(e,t,r){r(7940)("Int32",4,function(e){return function t(r,n,i){return e(this,r,n,i)}})},6290(e,t,r){r(7940)("Int8",1,function(e){return function t(r,n,i){return e(this,r,n,i)}})},54010(e,t,r){r(7940)("Uint16",2,function(e){return function t(r,n,i){return e(this,r,n,i)}})},77692(e,t,r){r(7940)("Uint32",4,function(e){return function t(r,n,i){return e(this,r,n,i)}})},88449(e,t,r){r(7940)("Uint8",1,function(e){return function t(r,n,i){return e(this,r,n,i)}})},15270(e,t,r){r(7940)("Uint8",1,function(e){return function t(r,n,i){return e(this,r,n,i)}},true)},51192(e,t,r){"use strict";var n=r(245);var i=r(43298)(0);var o=r(45724);var a=r(15779);var s=r(93599);var l=r(64143);var u=r(40344);var c=r(72577);var d=r(72577);var f=!n.ActiveXObject&&"ActiveXObject"in n;var p="WeakMap";var h=a.getWeak;var g=Object.isExtensible;var v=l.ufstore;var m;var y=function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}};var b={get:function e(t){if(u(t)){var r=h(t);if(true===r)return v(c(this,p)).get(t);return r?r[this._i]:void 0}},set:function e(t,r){return l.def(c(this,p),t,r)}};var w=e.exports=r(86278)(p,y,b,l,true,true);if(d&&f){m=l.getConstructor(y,p);s(m.prototype,b);a.NEED=true;i(["delete","has","get","set"],function(e){var t=w.prototype;var r=t[e];o(t,e,function(t,n){if(u(t)&&!g(t)){this._f||(this._f=new m);var i=this._f[e](t,n);return"set"==e?this:i}return r.call(this,t,n)})})}},35970(e,t,r){"use strict";var n=r(64143);var i=r(72577);var o="WeakSet";r(86278)(o,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function e(t){return n.def(i(this,o),t,true)}},n,false,true)},5451(e,t,r){"use strict";var n=r(11044);var i=r(8737);var o=r(60651);var a=r(67284);var s=r(21412);var l=r(92007);n(n.P,"Array",{flatMap:function e(t){var r=o(this);var n,u;s(t);n=a(r.length);u=l(r,0);i(u,r,r,n,0,1,t,arguments[1]);return u}});r(25703)("flatMap")},1922(e,t,r){"use strict";var n=r(11044);var i=r(31771)(true);n(n.P,"Array",{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}});r(25703)("includes")},15711(e,t,r){var n=r(11044);var i=r(55483)(true);n(n.S,"Object",{entries:function e(t){return i(t)}})},92957(e,t,r){var n=r(11044);var i=r(26041);var o=r(64802);var a=r(76840);var s=r(29934);n(n.S,"Object",{getOwnPropertyDescriptors:function e(t){var r=o(t);var n=a.f;var l=i(r);var u={};var c=0;var d,f;while(l.length>c){f=n(r,d=l[c++]);void 0!==f&&s(u,d,f)}return u}})},34473(e,t,r){var n=r(11044);var i=r(55483)(false);n(n.S,"Object",{values:function e(t){return i(t)}})},34340(e,t,r){"use strict";var n=r(11044);var i=r(24069);var o=r(245);var a=r(15715);var s=r(46108);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise);var r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},17928(e,t,r){"use strict";var n=r(11044);var i=r(28203);var o=r(76053);var a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padEnd:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0,false)}})},9785(e,t,r){"use strict";var n=r(11044);var i=r(28203);var o=r(76053);var a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padStart:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0,true)}})},44347(e,t,r){"use strict";r(38640)("trimLeft",function(e){return function t(){return e(this,1)}},"trimStart")},16322(e,t,r){"use strict";r(38640)("trimRight",function(e){return function t(){return e(this,2)}},"trimEnd")},55599(e,t,r){r(18579)("asyncIterator")},90123(e,t,r){var n=r(37060);var i=r(30234);var o=r(45724);var a=r(245);var s=r(38922);var l=r(95319);var u=r(21343);var c=u("iterator");var d=u("toStringTag");var f=l.Array;var p={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var h=i(p),g=0;g<h.length;g++){var v=h[g];var m=p[v];var y=a[v];var b=y&&y.prototype;var w;if(b){b[c]||s(b,c,f);b[d]||s(b,d,v);l[v]=f;if(m)for(w in n)b[w]||o(b,w,n[w],true)}}},68834(e,t,r){var n=r(11044);var i=r(18063);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},74685(e,t,r){var n=r(245);var i=r(11044);var o=r(76053);var a=[].slice;var s=/MSIE .\./.test(o);var l=function(e){return function(t,r){var n=arguments.length>2;var i=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};i(i.G+i.B+i.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},11936(e,t,r){r(74685);r(68834);r(90123);e.exports=r(24069)},53971(e){var t=function(e){"use strict";var t=Object.prototype;var r=t.hasOwnProperty;var n=Object.defineProperty||function(e,t,r){e[t]=r.value};var i;var o="function"===typeof Symbol?Symbol:{};var a=o.iterator||"@@iterator";var s=o.asyncIterator||"@@asyncIterator";var l=o.toStringTag||"@@toStringTag";function u(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true});return e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var o=t&&t.prototype instanceof m?t:m;var a=Object.create(o.prototype);var s=new A(i||[]);n(a,"_invoke",{value:x(e,r,s)});return a}e.wrap=c;function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var f="suspendedStart";var p="suspendedYield";var h="executing";var g="completed";var v={};function m(){}function y(){}function b(){}var w={};u(w,a,function(){return this});var _=Object.getPrototypeOf;var S=_&&_(_(T([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);y.prototype=b;n(k,"constructor",{value:b,configurable:true});n(b,"constructor",{value:y,configurable:true});y.displayName=u(b,l,"GeneratorFunction");function P(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))};e.mark=function(e){if(Object.setPrototypeOf)Object.setPrototypeOf(e,b);else{e.__proto__=b;u(e,l,"GeneratorFunction")}e.prototype=Object.create(k);return e};e.awrap=function(e){return{__await:e}};function E(e,t){function i(n,o,a,s){var l=d(e[n],e,o);if("throw"!==l.type){var u=l.arg;var c=u.value;if(c&&"object"===typeof c&&r.call(c,"__await"))return t.resolve(c.__await).then(function(e){i("next",e,a,s)},function(e){i("throw",e,a,s)});return t.resolve(c).then(function(e){u.value=e;a(u)},function(e){return i("throw",e,a,s)})}s(l.arg)}var o;function a(e,r){function n(){return new t(function(t,n){i(e,r,t,n)})}return o=o?o.then(n,n):n()}n(this,"_invoke",{value:a})}P(E.prototype);u(E.prototype,s,function(){return this});e.AsyncIterator=E;e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new E(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})};function x(e,t,r){var n=f;return function i(o,a){if(n===h)throw new Error("Generator is already running");if(n===g){if("throw"===o)throw a;return D()}r.method=o;r.arg=a;while(true){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f){n=g;throw r.arg}r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=d(e,t,r);if("normal"===u.type){n=r.done?g:p;if(u.arg===v)continue;return{value:u.arg,done:r.done}}if("throw"===u.type){n=g;r.method="throw";r.arg=u.arg}}}}function C(e,t){var r=t.method;var n=e.iterator[r];if(n===i){t.delegate=null;if("throw"===r&&e.iterator["return"]){t.method="return";t.arg=i;C(e,t);if("throw"===t.method)return v}if("return"!==r){t.method="throw";t.arg=new TypeError("The iterator does not provide a '"+r+"' method")}return v}var o=d(n,e.iterator,t.arg);if("throw"===o.type){t.method="throw";t.arg=o.arg;t.delegate=null;return v}var a=o.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return v}if(!a.done)return a;t[e.resultName]=a.value;t.next=e.nextLoc;if("return"!==t.method){t.method="next";t.arg=i}t.delegate=null;return v}P(k);u(k,l,"Generator");u(k,a,function(){return this});u(k,"toString",function(){return"[object Generator]"});function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]);if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(O,this);this.reset(true)}e.keys=function(e){var t=Object(e);var r=[];for(var n in t)r.push(n);r.reverse();return function e(){while(r.length){var n=r.pop();if(n in t){e.value=n;e.done=false;return e}}e.done=true;return e}};function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){while(++n<e.length)if(r.call(e,n)){t.value=e[n];t.done=false;return t}t.value=i;t.done=true;return t};return o.next=o}}return{next:D}}e.values=T;function D(){return{value:i,done:true}}A.prototype={constructor:A,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=i;this.done=false;this.delegate=null;this.method="next";this.arg=i;this.tryEntries.forEach(j);if(!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){s.type="throw";s.arg=e;t.next=r;if(n){t.method="next";t.arg=i}return!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];var s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc");var u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,true);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,true)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};a.type=e;a.arg=t;if(o){this.method="next";this.next=o.finallyLoc;return v}return this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;if("break"===e.type||"continue"===e.type)this.next=e.arg;else if("return"===e.type){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else"normal"===e.type&&t&&(this.next=t);return v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);j(r);return v}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:T(e),resultName:t,nextLoc:r};"next"===this.method&&(this.arg=i);return v}};return e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},42008(e){!function(t,r){e.exports=r()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n={};function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(n),r.d(n,"on",function(){return a}),r.d(n,"off",function(){return s}),r.d(n,"createElementFromString",function(){return u}),r.d(n,"removeAttribute",function(){return c}),r.d(n,"createFromTemplate",function(){return d}),r.d(n,"eventPath",function(){return f}),r.d(n,"adjustableInputNumbers",function(){return p});const a=l.bind(null,"addEventListener"),s=l.bind(null,"removeEventListener");function l(e,t,r,n,o={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);for(const a of t)for(const t of r)a[e](t,n,i({capture:!1},o));return Array.prototype.slice.call(arguments,1)}function u(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild}function c(e,t){const r=e.getAttribute(t);return e.removeAttribute(t),r}function d(e){return function e(t,r={}){const n=c(t,"data-con"),i=c(t,"data-key");i&&(r[i]=t);const o=n?r[n]={}:r;for(let r of Array.from(t.children)){const t=c(r,"data-arr");t?(o[t]||(o[t]=[])).push(r):e(r,o)}return r}(u(e))}function f(e){let t=e.path||e.composedPath&&e.composedPath();if(t)return t;let r=e.target.parentElement;for(t=[e.target,r];r=r.parentElement;)t.push(r);return t.push(document,window),t}function p(e,t=e=>e){function r(r){const n=[.001,.01,.1][Number(r.shiftKey||2*r.ctrlKey)]*(r.deltaY<0?1:-1);let i=0,o=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(e,r)=>r<=o&&r+e.length>=o?(o=r,t(Number(e),n,i)):(i++,e)),e.focus(),e.setSelectionRange(o,o),r.preventDefault(),e.dispatchEvent(new Event("input"))}a(e,"focus",()=>a(window,"wheel",r,{passive:!1})),a(e,"blur",()=>s(window,"wheel",r))}const{min:h,max:g,floor:v,round:m}=Math;function y(e,t,r){t/=100,r/=100;let n=v(e=e/360*6),i=e-n,o=r*(1-t),a=r*(1-i*t),s=r*(1-(1-i)*t),l=n%6;return[255*[r,a,o,o,s,r][l],255*[s,r,r,a,o,o][l],255*[o,o,s,r,r,a][l]]}function b(e,t,r){let n,i,o;const a=h(e/=255,t/=255,r/=255),s=g(e,t,r),l=s-a;if(0===l)n=i=0;else{i=l/s;let o=((s-e)/6+l/2)/l,a=((s-t)/6+l/2)/l,u=((s-r)/6+l/2)/l;e===s?n=u-a:t===s?n=1/3+o-u:r===s&&(n=2/3+a-o),n<0?n+=1:n>1&&(n-=1)}return[360*n,100*i,100*(o=s)]}function w(e,t,r,n){return t/=100,r/=100,[...b(255*(1-h(1,(e/=100)*(1-(n/=100))+n)),255*(1-h(1,t*(1-n)+n)),255*(1-h(1,r*(1-n)+n)))]}function _(e,t,r){return t/=100,[e,2*(t*=(r/=100)<.5?r:1-r)/(r+t)*100,100*(r+t)]}function S(e){return b(...e.match(/.{2}/g).map(e=>parseInt(e,16)))}function k(e){e=e.match(/^[a-zA-Z]+$/)?function(e){const t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle}(e):e;const t={cmyk:/^cmyk[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)/i,rgba:/^(rgb|rgba)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hsla:/^(hsl|hsla)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hsva:/^(hsv|hsva)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hex:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},r=e=>e.map(e=>/^(|\d+)\.\d+|\d+$/.test(e)?Number(e):void 0);let n;for(const i in t)if(n=t[i].exec(e))switch(i){case"cmyk":{let[,e,t,o,a]=r(n);if(e>100||t>100||o>100||a>100)break;return{values:[...w(e,t,o,a),1],type:i}}case"rgba":{let[,,e,t,o,a=1]=r(n);if(e>255||t>255||o>255||a<0||a>1)break;return{values:[...b(e,t,o),a],type:i}}case"hex":{const e=(e,t)=>[e.substring(0,t),e.substring(t,e.length)];let t,[,r]=n;return 3===r.length?r+="F":6===r.length&&(r+="FF"),4===r.length?[r,t]=e(r,3).map(e=>e+e):8===r.length&&([r,t]=e(r,6)),t=parseInt(t,16)/255,{values:[...S(r),t],type:i}}case"hsla":{let[,,e,t,o,a=1]=r(n);if(e>360||t>100||o>100||a<0||a>1)break;return{values:[..._(e,t,o),a],type:i}}case"hsva":{let[,,e,t,o,a=1]=r(n);if(e>360||t>100||o>100||a<0||a>1)break;return{values:[e,t,o,a],type:i}}}return{values:null,type:null}}function P(e=0,t=0,r=0,n=1){const{ceil:i}=Math,o={h:e,s:t,v:r,a:n,toHSVA(){const e=[o.h,o.s,o.v],t=e.map(i);return e.push(o.a),e.toString=()=>"hsva(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(o.a.toFixed(1),")"),e},toHSLA(){const e=function(e,t,r){let n=(2-(t/=100))*(r/=100)/2;return 0!==n&&(t=1===n?0:n<.5?t*r/(2*n):t*r/(2-2*n)),[e,100*t,100*n]}(o.h,o.s,o.v),t=e.map(i);return e.push(o.a),e.toString=()=>"hsla(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(o.a.toFixed(1),")"),e},toRGBA(){const e=y(o.h,o.s,o.v),t=e.map(i);return e.push(o.a),e.toString=()=>"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(o.a.toFixed(1),")"),e},toCMYK(){const e=function(e,t,r){const n=y(e,t,r),i=n[0]/255,o=n[1]/255,a=n[2]/255;let s,l,u,c;return[100*(l=1===(s=h(1-i,1-o,1-a))?0:(1-i-s)/(1-s)),100*(u=1===s?0:(1-o-s)/(1-s)),100*(c=1===s?0:(1-a-s)/(1-s)),100*s]}(o.h,o.s,o.v),t=e.map(i);return e.toString=()=>"cmyk(".concat(t[0],"%, ").concat(t[1],"%, ").concat(t[2],"%, ").concat(t[3],"%)"),e},toHEXA(){const e=function(e,t,r){return y(e,t,r).map(e=>m(e).toString(16).padStart(2,"0"))}(o.h,o.s,o.v);return e.toString=()=>{const t=o.a>=1?"":Number((255*o.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return"#".concat(e.join("").toUpperCase()+t)},e},clone:()=>P(o.h,o.s,o.v,o.a)};return o}const E=e=>Math.max(Math.min(e,1),0);function x(e){const t={options:Object.assign({lock:null,onchange:()=>0},e),_tapstart(e){a(document,["mouseup","touchend","touchcancel"],t._tapstop),a(document,["mousemove","touchmove"],t._tapmove),e.preventDefault(),t._tapmove(e)},_tapmove(e){const{options:{lock:n},cache:i}=t,{element:o,wrapper:a}=r,s=a.getBoundingClientRect();let l=0,u=0;if(e){const t=e&&e.touches&&e.touches[0];l=e?(t||e).clientX:0,u=e?(t||e).clientY:0,l<s.left?l=s.left:l>s.left+s.width&&(l=s.left+s.width),u<s.top?u=s.top:u>s.top+s.height&&(u=s.top+s.height),l-=s.left,u-=s.top}else i&&(l=i.x*s.width,u=i.y*s.height);"h"!==n&&(o.style.left="calc(".concat(l/s.width*100,"% - ").concat(o.offsetWidth/2,"px)")),"v"!==n&&(o.style.top="calc(".concat(u/s.height*100,"% - ").concat(o.offsetHeight/2,"px)")),t.cache={x:l/s.width,y:u/s.height};const c=E(l/a.offsetWidth),d=E(u/a.offsetHeight);switch(n){case"v":return r.onchange(c);case"h":return r.onchange(d);default:return r.onchange(c,d)}},_tapstop(){s(document,["mouseup","touchend","touchcancel"],t._tapstop),s(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(e=0,r=0){const{left:n,top:i,width:o,height:a}=t.options.wrapper.getBoundingClientRect();t._tapmove({clientX:n+o*e,clientY:i+a*r})},destroy(){const{options:e,_tapstart:r}=t;s([e.wrapper,e.element],"mousedown",r),s([e.wrapper,e.element],"touchstart",r,{passive:!1})}},{options:r,_tapstart:n}=t;return a([r.wrapper,r.element],"mousedown",n),a([r.wrapper,r.element],"touchstart",n,{passive:!1}),t}function C(e={}){e=Object.assign({onchange:()=>0,className:"",elements:[]},e);const t=a(e.elements,"click",t=>{e.elements.forEach(r=>r.classList[t.target===r?"add":"remove"](e.className)),e.onchange(t)});return{destroy:()=>s(...t)}}var O=({components:e,strings:t,useAsButton:r,inline:n,appClass:i})=>{const o=e=>e?"":'style="display:none" hidden',a=d('\n      <div data-key="root" class="pickr">\n\n        '.concat(r?"":'<button type="button" data-key="button" class="pcr-button"></button>','\n\n        <div data-key="app" class="pcr-app ').concat(i||"",'" ').concat(n?'style="position: unset"':"",'>\n          <div class="pcr-selection" ').concat(o(e.palette),'>\n            <div data-con="preview" class="pcr-color-preview" ').concat(o(e.preview),'>\n              <button type="button" data-key="lastColor" class="pcr-last-color"></button>\n              <div data-key="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div data-con="palette" class="pcr-color-palette">\n              <div data-key="picker" class="pcr-picker"></div>\n              <div data-key="palette" class="pcr-palette"></div>\n            </div>\n\n            <div data-con="hue" class="pcr-color-chooser" ').concat(o(e.hue),'>\n              <div data-key="picker" class="pcr-picker"></div>\n              <div data-key="slider" class="pcr-hue pcr-slider"></div>\n            </div>\n\n            <div data-con="opacity" class="pcr-color-opacity" ').concat(o(e.opacity),'>\n              <div data-key="picker" class="pcr-picker"></div>\n              <div data-key="slider" class="pcr-opacity pcr-slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ').concat(e.palette?"":" pcr-last",'" data-key="swatches"></div> \n\n          <div data-con="interaction" class="pcr-interaction" ').concat(o(Object.keys(e.interaction).length),'>\n            <input data-key="result" class="pcr-result" type="text" spellcheck="false" ').concat(o(e.interaction.input),'>\n\n            <input data-arr="options" class="pcr-type" data-type="HEXA" value="HEXA" type="button" ').concat(o(e.interaction.hex),'>\n            <input data-arr="options" class="pcr-type" data-type="RGBA" value="RGBA" type="button" ').concat(o(e.interaction.rgba),'>\n            <input data-arr="options" class="pcr-type" data-type="HSLA" value="HSLA" type="button" ').concat(o(e.interaction.hsla),'>\n            <input data-arr="options" class="pcr-type" data-type="HSVA" value="HSVA" type="button" ').concat(o(e.interaction.hsva),'>\n            <input data-arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ').concat(o(e.interaction.cmyk),'>\n\n            <input data-key="save" class="pcr-save" value="').concat(t.save||"Save",'" type="button" ').concat(o(e.interaction.save),'>\n            <input data-key="clear" class="pcr-clear" value="').concat(t.clear||"Clear",'" type="button" ').concat(o(e.interaction.clear),">\n          </div>\n        </div>\n      </div>\n    ")),s=a.interaction;return s.options.find(e=>!e.hidden&&!e.classList.add("active")),s.type=()=>s.options.find(e=>e.classList.contains("active")),a};function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class A{constructor(e){j(this,"_initializingActive",!0),j(this,"_recalc",!0),j(this,"_color",P()),j(this,"_lastColor",P()),j(this,"_swatchColors",[]),j(this,"_eventListener",{swatchselect:[],change:[],save:[],init:[]}),this.options=e=Object.assign({appClass:null,useAsButton:!1,disabled:!1,comparison:!0,closeOnScroll:!1,components:{interaction:{}},strings:{},swatches:null,inline:!1,sliders:"v",default:"#42445A",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"},e);const{swatches:t,inline:r,components:n}=e;n.interaction||(n.interaction={});const{preview:i,opacity:o,hue:a,palette:s}=n;n.palette=s||i||o||a,r&&(e.showAlways=!0),this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(e=>this.addSwatch(e)),this._nanopop=function({el:e,reference:t,padding:r=8}){const n={start:"sme",middle:"mse",end:"ems"},i={top:"tb",right:"rl",bottom:"bt",left:"lr"},o=((e={})=>(t,r=e[t])=>{if(r)return r;const[n,i="middle"]=t.split("-"),o="top"===n||"bottom"===n;return e[t]={position:n,variant:i,isVertical:o}})();return{update(a){const{position:s,variant:l,isVertical:u}=o(a),c=t.getBoundingClientRect(),d=e.getBoundingClientRect(),f=((e,t=0)=>{for(;e=e.parentElement;)t+=e.scrollTop;return t})(e),p=u?{t:c.top-d.height-r,b:c.bottom+r+f}:{r:c.right+r,l:c.left-d.width-r},h=u?{s:c.left+c.width-d.width,m:-d.width/2+(c.left+c.width/2),e:c.left}:{s:c.bottom-d.height,m:c.bottom-c.height/2-d.height/2,e:c.bottom-c.height};function g(t,r,n){const i="top"===n,o=i?d.height:d.width,a=window[i?"innerHeight":"innerWidth"];for(const i of t){const t=r[i];if(t>0&&t+o<a)return e.style[n]="".concat(t,"px"),!0}return!1}const v=g(n[l],h,u?"left":"top"),m=g(i[s],p,u?"top":"left");v&&m?e.style.margin="inherit":Object.assign(e.style,{top:"".concat(r,"px"),left:0,right:0,margin:"auto"})}}}({reference:this._root.button,el:this._root.app});const{button:l}=this._root,u=this;requestAnimationFrame(function t(){if(null===l.offsetParent&&l!==document.body)return requestAnimationFrame(t);u.setColor(e.default),u._rePositioningPicker(),e.defaultRepresentation&&(u._representation=e.defaultRepresentation,u.setColorRepresentation(u._representation)),e.showAlways&&u.show(),u._initializingActive=!1,u._emit("init")})}_preBuild(){const e=this.options;"string"==typeof e.el&&(e.el=e.el.split(/>>/g).reduce((e,t,r,n)=>(e=e.querySelector(t),r<n.length-1?e.shadowRoot:e),document)),this._root=O(e),e.useAsButton&&(this._root.button=e.el),document.body.appendChild(this._root.root)}_finalBuild(){const e=this.options,t=this._root;if(document.body.removeChild(t.root),e.inline){const{parentElement:r}=e.el;r.lastChild===e.el?r.appendChild(t.app):r.insertBefore(t.app,e.el.nextSibling)}else document.body.appendChild(t.app);e.useAsButton||e.el.parentNode.replaceChild(t.root,e.el),e.disabled&&this.disable(),e.comparison||(t.button.style.transition="none",e.useAsButton||(t.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const e=this,t=this.options.components,[r,n]=(()=>{const{sliders:t}=e.options;let r="v",n="v";t.match(/^[vh]+$/g)&&(t.length>1?[r,n]=t:r=n=t);const i={v:"h",h:"v"};return[i[r],i[n]]})(),i={palette:x({element:e._root.palette.picker,wrapper:e._root.palette.palette,onchange(r,n){if(!t.palette)return;const{_color:i,_root:o,options:a}=e;i.s=100*r,i.v=100-100*n,i.v<0&&(i.v=0);const s=i.toRGBA().toString();this.element.style.background=s,this.wrapper.style.background="\n                        linear-gradient(to top, rgba(0, 0, 0, ".concat(i.a,"), transparent),\n                        linear-gradient(to left, hsla(").concat(i.h,", 100%, 50%, ").concat(i.a,"), rgba(255, 255, 255, ").concat(i.a,"))\n                    "),a.comparison||(o.button.style.color=s,a.useAsButton||(o.preview.lastColor.style.color=s)),o.preview.currentColor.style.color=s,e._recalc&&e._updateOutput(),e.options.comparison||o.button.classList.remove("clear")}}),hue:x({lock:n,element:e._root.hue.picker,wrapper:e._root.hue.slider,onchange(r){t.hue&&t.palette&&(e._color.h=360*r,this.element.style.backgroundColor="hsl(".concat(e._color.h,", 100%, 50%)"),i.palette.trigger())}}),opacity:x({lock:r,element:e._root.opacity.picker,wrapper:e._root.opacity.slider,onchange(r){t.opacity&&t.palette&&(e._color.a=Math.round(100*r)/100,this.element.style.background="rgba(0, 0, 0, ".concat(e._color.a,")"),e.components.palette.trigger())}}),selectable:C({elements:e._root.interaction.options,className:"active",onchange(t){e._representation=t.target.getAttribute("data-type").toUpperCase(),e._updateOutput()}})};this.components=i}_bindEvents(){const{_root:e,options:t}=this,r=[a(e.interaction.clear,"click",()=>this._clearColor()),a(e.preview.lastColor,"click",()=>this.setHSVA(...this._lastColor.toHSVA())),a(e.interaction.save,"click",()=>{!this.applyColor()&&!t.showAlways&&this.hide()}),a(e.interaction.result,["keyup","input"],e=>{this._recalc=!1,this.setColor(e.target.value,!0)&&!this._initializingActive&&this._emit("change",this._color),e.stopImmediatePropagation()}),a([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0)];if(!t.showAlways){const n=t.closeWithKey;r.push(a(e.button,"click",()=>this.isOpen()?this.hide():this.show()),a(document,"keyup",e=>this.isOpen()&&(e.key===n||e.code===n)&&this.hide()),a(document,["touchstart","mousedown"],t=>{this.isOpen()&&!f(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(t.adjustableNumbers){const t={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};p(e.interaction.result,(e,r,n)=>{const i=t[this.getColorRepresentation().toLowerCase()];if(i){const t=i[n],o=e+(t>=100?1e3*r:r);return o<=0?0:Number((o<t?o:t).toPrecision(3))}return e})}if(!t.inline){let e=null;const n=this;r.push(a(window,["scroll","resize"],()=>{n.isOpen()&&(t.closeOnScroll&&n.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame(function t(){n._rePositioningPicker(),null!==e&&requestAnimationFrame(t)})):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=r}_rePositioningPicker(){const{options:e}=this;e.inline||this._nanopop.update(e.position)}_updateOutput(){if(this._root.interaction.type()){const e="to".concat(this._root.interaction.type().getAttribute("data-type"));this._root.interaction.result.value="function"==typeof this._color[e]?this._color[e]().toString():""}this._initializingActive||this._emit("change",this._color)}_clearColor(){const{_root:e,options:t}=this;t.useAsButton||(e.button.style.color="rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),t.showAlways||this.hide(),this._initializingActive||this._emit("save",null)}_emit(e,...t){this._eventListener[e].forEach(e=>e(...t,this))}on(e,t){return"function"==typeof t&&"string"==typeof e&&e in this._eventListener&&this._eventListener[e].push(t),this}off(e,t){const r=this._eventListener[e];if(r){const e=r.indexOf(t);~e&&r.splice(e,1)}return this}addSwatch(e){const{values:t}=k(e);if(t){const{_swatchColors:e,_root:r}=this,n=P(...t),i=u('<button type="button" style="color: '.concat(n.toRGBA(),'"></button>'));return r.swatches.appendChild(i),e.push({element:i,hsvaColorObject:n}),this._eventBindings.push(a(i,"click",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit("swatchselect",n)})),!0}return!1}removeSwatch(e){if("number"==typeof e){const t=this._swatchColors[e];if(t){const{element:r}=t;return this._root.swatches.removeChild(r),this._swatchColors.splice(e,1),!0}}return!1}applyColor(e=!1){const{preview:t,button:r}=this._root,n=this._color.toRGBA().toString();t.lastColor.style.color=n,this.options.useAsButton||(r.style.color=n),r.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||e||this._emit("save",this._color)}destroy(){this._eventBindings.forEach(e=>s(...e)),Object.keys(this.components).forEach(e=>this.components[e].destroy())}destroyAndRemove(){this.destroy();const e=this._root.root;e.parentElement.removeChild(e);const t=this._root.app;t.parentElement.removeChild(t);const r=this;Object.keys(r).forEach(e=>r[e]=null)}hide(){return this._root.app.classList.remove("visible"),this}show(){if(!this.options.disabled)return this._root.app.classList.add("visible"),this._rePositioningPicker(),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(e=360,t=0,r=0,n=1,i=!1){const o=this._recalc;if(this._recalc=!1,e<0||e>360||t<0||t>100||r<0||r>100||n<0||n>1)return!1;this._color=P(e,t,r,n);const{hue:a,opacity:s,palette:l}=this.components;return a.update(0,e/360),s.update(0,n),l.update(t/100,1-r/100),this._recalc=o,this._recalc&&this._updateOutput(),i||this.applyColor(),!0}setColor(e,t=!1){if(null===e)return this._clearColor(),!0;const{values:r,type:n}=k(e);if(r){const e=n.toUpperCase(),{options:i}=this._root.interaction,o=i.find(t=>t.getAttribute("data-type").startsWith(e));if(o&&!o.hidden)for(const e of i)e.classList[e===o?"add":"remove"]("active");return this.setHSVA(...r,t)}}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}A.utils=n,A.create=e=>new A(e),A.version="0.6.6";t.default=A}]).default})},96948(e,t,r){e=r.nmd(e);var n;(function(i){"use strict";var o;var a=".";var s="function";var l="string";var u="__global__";var c="Provider";var d=0;var f=Array.prototype.slice;var p=function e(t,r){var n=t[r];if(n===i&&o.config.strict)throw new Error("Bottle was unable to resolve a service.  `"+r+"` is undefined.");return n};var h=function e(t){var r;if(!this.nested[t]){r=o.pop();this.nested[t]=r;this.factory(t,function e(){return r.container})}return this.nested[t]};var g=function e(t){return t.split(a).reduce(p,this)};var v=function e(t,r,n,i){var o={configurable:true,enumerable:true};if(t.length)o.get=function e(){var r=0;var i=function e(o){if(o)throw o;t[r]&&t[r++](n,i)};i();return n};else{o.value=n;o.writable=true}Object.defineProperty(i,r,o);return i[r]};var m=function e(t,r){var n,i;if(typeof t===s){r=t;t=u}n=t.split(a);i=n.shift();if(n.length)h.call(this,i).middleware(n.join(a),r);else{this.middlewares[i]||(this.middlewares[i]=[]);this.middlewares[i].push(r)}return this};var y=function e(t,r){return r(t)};var b=function e(t,r){return(t[r]||[]).concat(t.__global__||[])};var w=function e(t,r){var n,o,a,s,l,u;s=this.id;a=this.container;l=this.decorators;u=this.middlewares;n=t+c;o=Object.create(null);o[n]={configurable:true,enumerable:true,get:function e(){var t=new r;delete a[n];a[n]=t;return t}};o[t]={configurable:true,enumerable:true,get:function e(){var r=a[n];var o;if(r){o=b(l,t).reduce(y,r.$get(a));delete a[n];delete a[t]}return o===i?o:v(b(u,t),t,o,a)}};Object.defineProperties(a,o);return this};var _=function e(t,r){var n,i;n=t.split(a);if(this.providerMap[t]&&1===n.length&&!this.container[t+c])return console.error(t+" provider already instantiated.");this.originalProviders[t]=r;this.providerMap[t]=true;i=n.shift();if(n.length){h.call(this,i).provider(n.join(a),r);return this}return w.call(this,i,r)};var S=function e(t,r){return _.call(this,t,function e(){this.$get=r})};var k=function e(t,r,n){var i=arguments.length>3?f.call(arguments,3):[];var o=this;return S.call(this,t,function e(){var t=r;var a=i.map(g,o.container);if(!n)return t.apply(null,a);return new(r.bind.apply(r,[null].concat(a)))})};var P=function e(t,r){return k.apply(this,[t,r,true].concat(f.call(arguments,2)))};var E=function e(t,r){return k.apply(this,[t,r,false].concat(f.call(arguments,2)))};var x=function e(t,r){Object.defineProperty(this,t,{configurable:true,enumerable:true,value:r,writable:true})};var C=function e(t,r){var n=t[r];if(!n){n={};x.call(t,r,n)}return n};var O=function e(t,r){var n;n=t.split(a);t=n.pop();x.call(n.reduce(C,this.container),t,r);return this};var j=function e(t,r){Object.defineProperty(this,t,{configurable:false,enumerable:true,value:r,writable:false})};var A=function e(t,r){var n=t.split(a);t=n.pop();j.call(n.reduce(C,this.container),t,r);return this};var T=function e(t,r){var n,i;if(typeof t===s){r=t;t=u}n=t.split(a);i=n.shift();if(n.length)h.call(this,i).decorator(n.join(a),r);else{this.decorators[i]||(this.decorators[i]=[]);this.decorators[i].push(r)}return this};var D=function e(t){this.deferred.push(t);return this};var L=function e(t){return(t||[]).map(g,this.container)};var I=function e(t,r){return S.call(this,t,function e(t){return{instance:r.bind(r,t)}})};var M=function e(t){return!/^\$(?:decorator|register|list)$|Provider$/.test(t)};var R=function e(t){return Object.keys(t||this.container||{}).filter(M)};var F={};var B=function e(t){var r;if(typeof t===l){r=F[t];if(!r){F[t]=r=new o;r.constant("BOTTLE_NAME",t)}return r}return new o};var N=function e(t){typeof t===l?delete F[t]:F={}};var V=function e(t){var r=t.$value===i?t:t.$value;return this[t.$type||"service"].apply(this,[t.$name,r].concat(t.$inject||[]))};var q=function e(t){delete this.providerMap[t];delete this.container[t];delete this.container[t+c]};var W=function e(t){var r=this.originalProviders;var n=Array.isArray(t);Object.keys(this.originalProviders).forEach(function e(i){if(n&&-1===t.indexOf(i))return;var o=i.split(a);o.length>1&&o.forEach(q,h.call(this,o[0]));q.call(this,i);this.provider(i,r[i])},this)};var U=function e(t){this.deferred.forEach(function e(r){r(t)});return this};o=function e(t){if(!(this instanceof e))return e.pop(t);this.id=d++;this.decorators={};this.middlewares={};this.nested={};this.providerMap={};this.originalProviders={};this.deferred=[];this.container={$decorator:T.bind(this),$register:V.bind(this),$list:R.bind(this)}};o.prototype={constant:A,decorator:T,defer:D,digest:L,factory:S,instanceFactory:I,list:R,middleware:m,provider:_,resetProviders:W,register:V,resolve:U,service:P,serviceFactory:E,value:O};o.pop=B;o.clear=N;o.list=R;o.config={strict:false};var z={function:true,object:true};(function a(l){var u=z[typeof t]&&t&&!t.nodeType&&t;var c=z["object"]&&e&&!e.nodeType&&e;var d=c&&c.exports===u&&u;var f=z[typeof r.g]&&r.g;!f||f.global!==f&&f.window!==f||(l=f);if("function"===s&&r.amdO){l.Bottle=o;!(n=function(){return o}.call(t,r,t,e),n!==i&&(e.exports=n))}else u&&c?d?(c.exports=o).Bottle=o:u.Bottle=o:l.Bottle=o})(z[typeof window]&&window||this)}).call(this)},80971(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{Align:()=>__webpack_exports__Align,AudioTypes:()=>__webpack_exports__AudioTypes,BlurMode:()=>__webpack_exports__BlurMode,Client:()=>__webpack_exports__Client,ColorspaceType:()=>__webpack_exports__ColorspaceType,CropfacesType:()=>__webpack_exports__CropfacesType,EAlignFacesOptions:()=>__webpack_exports__EAlignFacesOptions,EAlignOptions:()=>__webpack_exports__EAlignOptions,EAudioTypes:()=>__webpack_exports__EAudioTypes,EBlurMode:()=>__webpack_exports__EBlurMode,EColorspaceType:()=>__webpack_exports__EColorspaceType,ECropfacesType:()=>__webpack_exports__ECropfacesType,EFitOptions:()=>__webpack_exports__EFitOptions,EImageWatermarkPosition:()=>__webpack_exports__EImageWatermarkPosition,ENoiseType:()=>__webpack_exports__ENoiseType,EShapeType:()=>__webpack_exports__EShapeType,ESmartCropMode:()=>__webpack_exports__ESmartCropMode,EStyleType:()=>__webpack_exports__EStyleType,EUrlscreenshotAgent:()=>__webpack_exports__EUrlscreenshotAgent,EUrlscreenshotMode:()=>__webpack_exports__EUrlscreenshotMode,EUrlscreenshotOrientation:()=>__webpack_exports__EUrlscreenshotOrientation,EVideoAccess:()=>__webpack_exports__EVideoAccess,EVideoAccessMode:()=>__webpack_exports__EVideoAccessMode,EVideoLocations:()=>__webpack_exports__EVideoLocations,EVideoTypes:()=>__webpack_exports__EVideoTypes,EnhancePreset:()=>__webpack_exports__EnhancePreset,Filelink:()=>__webpack_exports__Filelink,Filestack:()=>__webpack_exports__Filestack,FilestackError:()=>__webpack_exports__FilestackError,FilestackErrorType:()=>__webpack_exports__FilestackErrorType,FitOptions:()=>__webpack_exports__FitOptions,FsCancelToken:()=>__webpack_exports__FsCancelToken,FsHttpMethod:()=>__webpack_exports__FsHttpMethod,FsRequest:()=>__webpack_exports__FsRequest,FsRequestError:()=>__webpack_exports__FsRequestError,FsRequestErrorCode:()=>__webpack_exports__FsRequestErrorCode,ImageWatermarkPosition:()=>__webpack_exports__ImageWatermarkPosition,Locations:()=>__webpack_exports__Locations,NoiseType:()=>__webpack_exports__NoiseType,PickerDisplayMode:()=>__webpack_exports__PickerDisplayMode,PrefetchEvents:()=>__webpack_exports__PrefetchEvents,ShapeType:()=>__webpack_exports__ShapeType,SmartCropMode:()=>__webpack_exports__SmartCropMode,StyleType:()=>__webpack_exports__StyleType,TransformSchema:()=>__webpack_exports__TransformSchema,URLScreenshotAgent:()=>__webpack_exports__URLScreenshotAgent,URLScreenshotMode:()=>__webpack_exports__URLScreenshotMode,URLScreenshotOrientation:()=>__webpack_exports__URLScreenshotOrientation,VideoAccess:()=>__webpack_exports__VideoAccess,VideoAccessMode:()=>__webpack_exports__VideoAccessMode,VideoTypes:()=>__webpack_exports__VideoTypes,b64:()=>__webpack_exports__b64,cleanUpCallbacks:()=>__webpack_exports__cleanUpCallbacks,extensionToMime:()=>__webpack_exports__extensionToMime,filterObject:()=>__webpack_exports__filterObject,getMimetype:()=>__webpack_exports__getMimetype,getSecurity:()=>__webpack_exports__getSecurity,getVersion:()=>__webpack_exports__getVersion,init:()=>__webpack_exports__init,isFacebook:()=>__webpack_exports__isFacebook,isMobile:()=>__webpack_exports__isMobile,md5:()=>__webpack_exports__md5,removeEmpty:()=>__webpack_exports__removeEmpty,resolveCdnUrl:()=>__webpack_exports__resolveCdnUrl,resolveHost:()=>__webpack_exports__resolveHost,sanitizeName:()=>__webpack_exports__sanitizeName,transform:()=>__webpack_exports__transform,uniqueId:()=>__webpack_exports__uniqueId,uniqueTime:()=>__webpack_exports__uniqueTime,validateWebhookSignature:()=>__webpack_exports__validateWebhookSignature,version:()=>__webpack_exports__version});var __webpack_modules__={2:e=>{e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},15:e=>{e.exports=EvalError},157:e=>{e.exports=Error},249:(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__(1545).hp;function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:x(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",h="executing",g="completed",v={};function m(){}function y(){}function b(){}var w={};u(w,a,function(){return this});var _=Object.getPrototypeOf,S=_&&_(_(T([])));S&&S!==r&&n.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function P(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function r(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==_typeof(c)&&n.call(c,"__await")?t.resolve(c.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(c).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,s)})}s(l.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function x(t,r,n){var i=f;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=C(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=d(t,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(_typeof(t)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},P(E.prototype),u(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},P(k),u(k,l,"Generator"),u(k,a,function(){return this}),u(k,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function asyncGeneratorStep(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){asyncGeneratorStep(o,n,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,n,i,a,s,"throw",e)}a(void 0)})}}var Token=__webpack_require__(4872),strtok3=__webpack_require__(4021),_require=__webpack_require__(1690),stringToBytes=_require.stringToBytes,tarHeaderChecksumMatches=_require.tarHeaderChecksumMatches,uint32SyncSafeToken=_require.uint32SyncSafeToken,supported=__webpack_require__(2),minimumBytes=4100;function fromStream(e){return _fromStream.apply(this,arguments)}function _fromStream(){return _fromStream=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,strtok3.fromStream(t);case 2:return r=e.sent,e.prev=3,e.next=6,fromTokenizer(r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,r.close();case 10:return e.finish(7);case 11:case"end":return e.stop()}},e,null,[[3,,7,11]])})),_fromStream.apply(this,arguments)}function fromBuffer(e){return _fromBuffer.apply(this,arguments)}function _fromBuffer(){return(_fromBuffer=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)){e.next=2;break}throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof(t),"`"));case 2:if((r=t instanceof Buffer?t:Buffer.from(t))&&r.length>1){e.next=5;break}return e.abrupt("return");case 5:return n=strtok3.fromBuffer(r),e.abrupt("return",fromTokenizer(n));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _check(e,t,r){r=_objectSpread({offset:0},r);var n,i=_createForOfIteratorHelper(t.entries());try{for(i.s();!(n=i.n()).done;){var o=_slicedToArray(n.value,2),a=o[0],s=o[1];if(r.mask){if(s!==(r.mask[a]&e[a+r.offset]))return!1}else if(s!==e[a+r.offset])return!1}}catch(e){i.e(e)}finally{i.f()}return!0}function fromTokenizer(e){return _fromTokenizer2.apply(this,arguments)}function _fromTokenizer2(){return(_fromTokenizer2=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",_fromTokenizer(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof strtok3.EndOfStreamError){e.next=8;break}throw e.t0;case 8:case"end":return e.stop()}},e,null,[[0,4]])}))).apply(this,arguments)}function _fromTokenizer(e){return _fromTokenizer3.apply(this,arguments)}function _fromTokenizer3(){return _fromTokenizer3=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n,i,o,a,s,l,u,c,d,f,p,h,g,v,m,y,b,w,_,S,k,P,E,x,C,O,j,A,T;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Buffer.alloc(minimumBytes),n=function(e,t){return _check(r,e,t)},i=function(e,t){return n(stringToBytes(e),t)},t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),e.next=7,t.peekBuffer(r,{length:12,mayBeLess:!0});case 7:if(!n([66,77])){e.next=9;break}return e.abrupt("return",{ext:"bmp",mime:"image/bmp"});case 9:if(!n([11,119])){e.next=11;break}return e.abrupt("return",{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"});case 11:if(!n([120,1])){e.next=13;break}return e.abrupt("return",{ext:"dmg",mime:"application/x-apple-diskimage"});case 13:if(!n([77,90])){e.next=15;break}return e.abrupt("return",{ext:"exe",mime:"application/x-msdownload"});case 15:if(!n([37,33])){e.next=21;break}return e.next=18,t.peekBuffer(r,{length:24,mayBeLess:!0});case 18:if(!i("PS-Adobe-",{offset:2})||!i(" EPSF-",{offset:14})){e.next=20;break}return e.abrupt("return",{ext:"eps",mime:"application/eps"});case 20:return e.abrupt("return",{ext:"ps",mime:"application/postscript"});case 21:if(!n([31,160])&&!n([31,157])){e.next=23;break}return e.abrupt("return",{ext:"Z",mime:"application/x-compress"});case 23:if(!n([255,216,255])){e.next=25;break}return e.abrupt("return",{ext:"jpg",mime:"image/jpeg"});case 25:if(!n([73,73,188])){e.next=27;break}return e.abrupt("return",{ext:"jxr",mime:"image/vnd.ms-photo"});case 27:if(!n([31,139,8])){e.next=29;break}return e.abrupt("return",{ext:"gz",mime:"application/gzip"});case 29:if(!n([66,90,104])){e.next=31;break}return e.abrupt("return",{ext:"bz2",mime:"application/x-bzip2"});case 31:if(!i("ID3")){e.next=42;break}return e.next=34,t.ignore(6);case 34:return e.next=36,t.readToken(uint32SyncSafeToken);case 36:if(o=e.sent,!(t.position+o>t.fileInfo.size)){e.next=39;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 39:return e.next=41,t.ignore(o);case 41:return e.abrupt("return",fromTokenizer(t));case 42:if(!i("MP+")){e.next=44;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 44:if(67!==r[0]&&70!==r[0]||!n([87,83],{offset:1})){e.next=46;break}return e.abrupt("return",{ext:"swf",mime:"application/x-shockwave-flash"});case 46:if(!n([71,73,70])){e.next=48;break}return e.abrupt("return",{ext:"gif",mime:"image/gif"});case 48:if(!i("FLIF")){e.next=50;break}return e.abrupt("return",{ext:"flif",mime:"image/flif"});case 50:if(!i("8BPS")){e.next=52;break}return e.abrupt("return",{ext:"psd",mime:"image/vnd.adobe.photoshop"});case 52:if(!i("WEBP",{offset:8})){e.next=54;break}return e.abrupt("return",{ext:"webp",mime:"image/webp"});case 54:if(!i("MPCK")){e.next=56;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 56:if(!i("FORM")){e.next=58;break}return e.abrupt("return",{ext:"aif",mime:"audio/aiff"});case 58:if(!i("icns",{offset:0})){e.next=60;break}return e.abrupt("return",{ext:"icns",mime:"image/icns"});case 60:if(!n([80,75,3,4])){e.next=121;break}e.prev=61;case 62:if(!(t.position+30<t.fileInfo.size)){e.next=114;break}return e.next=65,t.readBuffer(r,{length:30});case 65:return a={compressedSize:r.readUInt32LE(18),uncompressedSize:r.readUInt32LE(22),filenameLength:r.readUInt16LE(26),extraFieldLength:r.readUInt16LE(28)},e.next=68,t.readToken(new Token.StringType(a.filenameLength,"utf-8"));case 68:return a.filename=e.sent,e.next=71,t.ignore(a.extraFieldLength);case 71:if("META-INF/mozilla.rsa"!==a.filename){e.next=73;break}return e.abrupt("return",{ext:"xpi",mime:"application/x-xpinstall"});case 73:if(!a.filename.endsWith(".rels")&&!a.filename.endsWith(".xml")){e.next=83;break}s=a.filename.split("/")[0],e.t0=s,e.next="_rels"===e.t0?78:"word"===e.t0?79:"ppt"===e.t0?80:"xl"===e.t0?81:82;break;case 78:return e.abrupt("break",83);case 79:return e.abrupt("return",{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});case 80:return e.abrupt("return",{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"});case 81:return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 82:return e.abrupt("break",83);case 83:if(!a.filename.startsWith("xl/")){e.next=85;break}return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 85:if(!a.filename.startsWith("3D/")||!a.filename.endsWith(".model")){e.next=87;break}return e.abrupt("return",{ext:"3mf",mime:"model/3mf"});case 87:if("mimetype"!==a.filename||a.compressedSize!==a.uncompressedSize){e.next=98;break}return e.next=90,t.readToken(new Token.StringType(a.compressedSize,"utf-8"));case 90:l=e.sent,e.t1=l,e.next="application/epub+zip"===e.t1?94:"application/vnd.oasis.opendocument.text"===e.t1?95:"application/vnd.oasis.opendocument.spreadsheet"===e.t1?96:"application/vnd.oasis.opendocument.presentation"===e.t1?97:98;break;case 94:return e.abrupt("return",{ext:"epub",mime:"application/epub+zip"});case 95:return e.abrupt("return",{ext:"odt",mime:"application/vnd.oasis.opendocument.text"});case 96:return e.abrupt("return",{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"});case 97:return e.abrupt("return",{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"});case 98:if(0!==a.compressedSize){e.next=110;break}u=-1;case 100:if(!(u<0&&t.position<t.fileInfo.size)){e.next=108;break}return e.next=103,t.peekBuffer(r,{mayBeLess:!0});case 103:return u=r.indexOf("504B0304",0,"hex"),e.next=106,t.ignore(u>=0?u:r.length);case 106:e.next=100;break;case 108:e.next=112;break;case 110:return e.next=112,t.ignore(a.compressedSize);case 112:e.next=62;break;case 114:e.next=120;break;case 116:if(e.prev=116,e.t2=e.catch(61),e.t2 instanceof strtok3.EndOfStreamError){e.next=120;break}throw e.t2;case 120:return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 121:if(!i("OggS")){e.next=140;break}return e.next=124,t.ignore(28);case 124:return c=Buffer.alloc(8),e.next=127,t.readBuffer(c);case 127:if(!_check(c,[79,112,117,115,72,101,97,100])){e.next=129;break}return e.abrupt("return",{ext:"opus",mime:"audio/opus"});case 129:if(!_check(c,[128,116,104,101,111,114,97])){e.next=131;break}return e.abrupt("return",{ext:"ogv",mime:"video/ogg"});case 131:if(!_check(c,[1,118,105,100,101,111,0])){e.next=133;break}return e.abrupt("return",{ext:"ogm",mime:"video/ogg"});case 133:if(!_check(c,[127,70,76,65,67])){e.next=135;break}return e.abrupt("return",{ext:"oga",mime:"audio/ogg"});case 135:if(!_check(c,[83,112,101,101,120,32,32])){e.next=137;break}return e.abrupt("return",{ext:"spx",mime:"audio/ogg"});case 137:if(!_check(c,[1,118,111,114,98,105,115])){e.next=139;break}return e.abrupt("return",{ext:"ogg",mime:"audio/ogg"});case 139:return e.abrupt("return",{ext:"ogx",mime:"application/ogg"});case 140:if(!n([80,75])||3!==r[2]&&5!==r[2]&&7!==r[2]||4!==r[3]&&6!==r[3]&&8!==r[3]){e.next=142;break}return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 142:if(!(i("ftyp",{offset:4})&&96&r[8])){e.next=167;break}d=r.toString("binary",8,12).replace("\0"," ").trim(),e.t3=d,e.next="avif"===e.t3?147:"mif1"===e.t3?148:"msf1"===e.t3?149:"heic"===e.t3||"heix"===e.t3?150:"hevc"===e.t3||"hevx"===e.t3?151:"qt"===e.t3?152:"M4V"===e.t3||"M4VH"===e.t3||"M4VP"===e.t3?153:"M4P"===e.t3?154:"M4B"===e.t3?155:"M4A"===e.t3?156:"F4V"===e.t3?157:"F4P"===e.t3?158:"F4A"===e.t3?159:"F4B"===e.t3?160:"crx"===e.t3?161:162;break;case 147:return e.abrupt("return",{ext:"avif",mime:"image/avif"});case 148:return e.abrupt("return",{ext:"heic",mime:"image/heif"});case 149:return e.abrupt("return",{ext:"heic",mime:"image/heif-sequence"});case 150:return e.abrupt("return",{ext:"heic",mime:"image/heic"});case 151:return e.abrupt("return",{ext:"heic",mime:"image/heic-sequence"});case 152:return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 153:return e.abrupt("return",{ext:"m4v",mime:"video/x-m4v"});case 154:return e.abrupt("return",{ext:"m4p",mime:"video/mp4"});case 155:return e.abrupt("return",{ext:"m4b",mime:"audio/mp4"});case 156:return e.abrupt("return",{ext:"m4a",mime:"audio/x-m4a"});case 157:return e.abrupt("return",{ext:"f4v",mime:"video/mp4"});case 158:return e.abrupt("return",{ext:"f4p",mime:"video/mp4"});case 159:return e.abrupt("return",{ext:"f4a",mime:"audio/mp4"});case 160:return e.abrupt("return",{ext:"f4b",mime:"audio/mp4"});case 161:return e.abrupt("return",{ext:"cr3",mime:"image/x-canon-cr3"});case 162:if(!d.startsWith("3g")){e.next=166;break}if(!d.startsWith("3g2")){e.next=165;break}return e.abrupt("return",{ext:"3g2",mime:"video/3gpp2"});case 165:return e.abrupt("return",{ext:"3gp",mime:"video/3gpp"});case 166:return e.abrupt("return",{ext:"mp4",mime:"video/mp4"});case 167:if(!i("MThd")){e.next=169;break}return e.abrupt("return",{ext:"mid",mime:"audio/midi"});case 169:if(!i("wOFF")||!n([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=171;break}return e.abrupt("return",{ext:"woff",mime:"font/woff"});case 171:if(!i("wOF2")||!n([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=173;break}return e.abrupt("return",{ext:"woff2",mime:"font/woff2"});case 173:if(!n([212,195,178,161])&&!n([161,178,195,212])){e.next=175;break}return e.abrupt("return",{ext:"pcap",mime:"application/vnd.tcpdump.pcap"});case 175:if(!i("DSD ")){e.next=177;break}return e.abrupt("return",{ext:"dsf",mime:"audio/x-dsf"});case 177:if(!i("LZIP")){e.next=179;break}return e.abrupt("return",{ext:"lz",mime:"application/x-lzip"});case 179:if(!i("fLaC")){e.next=181;break}return e.abrupt("return",{ext:"flac",mime:"audio/x-flac"});case 181:if(!n([66,80,71,251])){e.next=183;break}return e.abrupt("return",{ext:"bpg",mime:"image/bpg"});case 183:if(!i("wvpk")){e.next=185;break}return e.abrupt("return",{ext:"wv",mime:"audio/wavpack"});case 185:if(!i("%PDF")){e.next=195;break}return e.next=188,t.ignore(1350);case 188:return f=Buffer.alloc(Math.min(10485760,t.fileInfo.size)),e.next=192,t.readBuffer(f,{mayBeLess:!0});case 192:if(!f.includes(Buffer.from("AIPrivateData"))){e.next=194;break}return e.abrupt("return",{ext:"ai",mime:"application/postscript"});case 194:return e.abrupt("return",{ext:"pdf",mime:"application/pdf"});case 195:if(!n([0,97,115,109])){e.next=197;break}return e.abrupt("return",{ext:"wasm",mime:"application/wasm"});case 197:if(!n([73,73,42,0])){e.next=210;break}if(!i("CR",{offset:8})){e.next=200;break}return e.abrupt("return",{ext:"cr2",mime:"image/x-canon-cr2"});case 200:if(!n([28,0,254,0],{offset:8})&&!n([31,0,11,0],{offset:8})){e.next=202;break}return e.abrupt("return",{ext:"nef",mime:"image/x-nikon-nef"});case 202:if(!n([8,0,0,0],{offset:4})||!n([45,0,254,0],{offset:8})&&!n([39,0,254,0],{offset:8})){e.next=204;break}return e.abrupt("return",{ext:"dng",mime:"image/x-adobe-dng"});case 204:return r=Buffer.alloc(24),e.next=207,t.peekBuffer(r);case 207:if(!n([16,251,134,1],{offset:4})&&!n([8,0,0,0],{offset:4})||!n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})){e.next=209;break}return e.abrupt("return",{ext:"arw",mime:"image/x-sony-arw"});case 209:return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 210:if(!n([77,77,0,42])){e.next=212;break}return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 212:if(!i("MAC ")){e.next=214;break}return e.abrupt("return",{ext:"ape",mime:"audio/ape"});case 214:if(!n([26,69,223,163])){e.next=233;break}return y=function(){return(y=_asyncToGenerator(_regeneratorRuntime().mark(function e(r,n){var i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>0)){e.next=11;break}return e.next=3,g();case 3:if(17026!==(i=e.sent).id){e.next=6;break}return e.abrupt("return",t.readToken(new Token.StringType(i.len,"utf-8")));case 6:return e.next=8,t.ignore(i.len);case 8:--n,e.next=0;break;case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)},m=function(e,t){return y.apply(this,arguments)},v=function(){return(v=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return t=e.sent,e.next=5,p();case 5:return(r=e.sent)[0]^=128>>r.length-1,n=Math.min(6,r.length),e.abrupt("return",{id:t.readUIntBE(0,t.length),len:r.readUIntBE(r.length-n,n)});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)},g=function(){return v.apply(this,arguments)},h=function(){return(h=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var r,n,i,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.peekNumber(Token.UINT8);case 2:for(r=e.sent,n=128,i=0;!(r&n)&&0!==n;)++i,n>>=1;return o=Buffer.alloc(i+1),e.next=9,t.readBuffer(o);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)},p=function(){return h.apply(this,arguments)},e.next=223,g();case 223:return b=e.sent,e.next=226,m(1,b.len);case 226:w=e.sent,e.t4=w,e.next="webm"===e.t4?230:"matroska"===e.t4?231:232;break;case 230:return e.abrupt("return",{ext:"webm",mime:"video/webm"});case 231:return e.abrupt("return",{ext:"mkv",mime:"video/x-matroska"});case 232:return e.abrupt("return");case 233:if(!n([82,73,70,70])){e.next=240;break}if(!n([65,86,73],{offset:8})){e.next=236;break}return e.abrupt("return",{ext:"avi",mime:"video/vnd.avi"});case 236:if(!n([87,65,86,69],{offset:8})){e.next=238;break}return e.abrupt("return",{ext:"wav",mime:"audio/vnd.wave"});case 238:if(!n([81,76,67,77],{offset:8})){e.next=240;break}return e.abrupt("return",{ext:"qcp",mime:"audio/qcelp"});case 240:if(!i("SQLi")){e.next=242;break}return e.abrupt("return",{ext:"sqlite",mime:"application/x-sqlite3"});case 242:if(!n([78,69,83,26])){e.next=244;break}return e.abrupt("return",{ext:"nes",mime:"application/x-nintendo-nes-rom"});case 244:if(!i("Cr24")){e.next=246;break}return e.abrupt("return",{ext:"crx",mime:"application/x-google-chrome-extension"});case 246:if(!i("MSCF")&&!i("ISc(")){e.next=248;break}return e.abrupt("return",{ext:"cab",mime:"application/vnd.ms-cab-compressed"});case 248:if(!n([237,171,238,219])){e.next=250;break}return e.abrupt("return",{ext:"rpm",mime:"application/x-rpm"});case 250:if(!n([197,208,211,198])){e.next=252;break}return e.abrupt("return",{ext:"eps",mime:"application/eps"});case 252:if(!n([40,181,47,253])){e.next=254;break}return e.abrupt("return",{ext:"zst",mime:"application/zstd"});case 254:if(!n([79,84,84,79,0])){e.next=256;break}return e.abrupt("return",{ext:"otf",mime:"font/otf"});case 256:if(!i("#!AMR")){e.next=258;break}return e.abrupt("return",{ext:"amr",mime:"audio/amr"});case 258:if(!i("{\\rtf")){e.next=260;break}return e.abrupt("return",{ext:"rtf",mime:"application/rtf"});case 260:if(!n([70,76,86,1])){e.next=262;break}return e.abrupt("return",{ext:"flv",mime:"video/x-flv"});case 262:if(!i("IMPM")){e.next=264;break}return e.abrupt("return",{ext:"it",mime:"audio/x-it"});case 264:if(!(i("-lh0-",{offset:2})||i("-lh1-",{offset:2})||i("-lh2-",{offset:2})||i("-lh3-",{offset:2})||i("-lh4-",{offset:2})||i("-lh5-",{offset:2})||i("-lh6-",{offset:2})||i("-lh7-",{offset:2})||i("-lzs-",{offset:2})||i("-lz4-",{offset:2})||i("-lz5-",{offset:2})||i("-lhd-",{offset:2}))){e.next=266;break}return e.abrupt("return",{ext:"lzh",mime:"application/x-lzh-compressed"});case 266:if(!n([0,0,1,186])){e.next=271;break}if(!n([33],{offset:4,mask:[241]})){e.next=269;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP1S"});case 269:if(!n([68],{offset:4,mask:[196]})){e.next=271;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP2P"});case 271:if(!i("ITSF")){e.next=273;break}return e.abrupt("return",{ext:"chm",mime:"application/vnd.ms-htmlhelp"});case 273:if(!n([253,55,122,88,90,0])){e.next=275;break}return e.abrupt("return",{ext:"xz",mime:"application/x-xz"});case 275:if(!i("<?xml ")){e.next=277;break}return e.abrupt("return",{ext:"xml",mime:"application/xml"});case 277:if(!n([55,122,188,175,39,28])){e.next=279;break}return e.abrupt("return",{ext:"7z",mime:"application/x-7z-compressed"});case 279:if(!n([82,97,114,33,26,7])||0!==r[6]&&1!==r[6]){e.next=281;break}return e.abrupt("return",{ext:"rar",mime:"application/x-rar-compressed"});case 281:if(!i("solid ")){e.next=283;break}return e.abrupt("return",{ext:"stl",mime:"model/stl"});case 283:if(!i("BLENDER")){e.next=285;break}return e.abrupt("return",{ext:"blend",mime:"application/x-blender"});case 285:if(!i("!<arch>")){e.next=294;break}return e.next=288,t.ignore(8);case 288:return e.next=290,t.readToken(new Token.StringType(13,"ascii"));case 290:if("debian-binary"!==e.sent){e.next=293;break}return e.abrupt("return",{ext:"deb",mime:"application/x-deb"});case 293:return e.abrupt("return",{ext:"ar",mime:"application/x-unix-archive"});case 294:if(!n([137,80,78,71,13,10,26,10])){e.next=313;break}return S=function(){return(S=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readToken(Token.INT32_BE);case 2:return e.t0=e.sent,e.next=5,t.readToken(new Token.StringType(4,"binary"));case 5:return e.t1=e.sent,e.abrupt("return",{length:e.t0,type:e.t1});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},_=function(){return S.apply(this,arguments)},e.next=299,t.ignore(8);case 299:return e.next=301,_();case 301:if(!((k=e.sent).length<0)){e.next=304;break}return e.abrupt("return");case 304:e.t5=k.type,e.next="IDAT"===e.t5?307:"acTL"===e.t5?308:309;break;case 307:return e.abrupt("return",{ext:"png",mime:"image/png"});case 308:return e.abrupt("return",{ext:"apng",mime:"image/apng"});case 309:return e.next=311,t.ignore(k.length+4);case 311:if(t.position+8<t.fileInfo.size){e.next=299;break}case 312:return e.abrupt("return",{ext:"png",mime:"image/png"});case 313:if(!n([65,82,82,79,87,49,0,0])){e.next=315;break}return e.abrupt("return",{ext:"arrow",mime:"application/x-apache-arrow"});case 315:if(!n([103,108,84,70,2,0,0,0])){e.next=317;break}return e.abrupt("return",{ext:"glb",mime:"model/gltf-binary"});case 317:if(!(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))){e.next=319;break}return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 319:if(!n([73,73,82,79,8,0,0,0,24])){e.next=321;break}return e.abrupt("return",{ext:"orf",mime:"image/x-olympus-orf"});case 321:if(!i("gimp xcf ")){e.next=323;break}return e.abrupt("return",{ext:"xcf",mime:"image/x-xcf"});case 323:if(!n([73,73,85,0,24,0,0,0,136,231,116,216])){e.next=325;break}return e.abrupt("return",{ext:"rw2",mime:"image/x-panasonic-rw2"});case 325:if(!n([48,38,178,117,142,102,207,17,166,217])){e.next=351;break}return E=function(){return(E=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Buffer.alloc(16),e.next=3,t.readBuffer(r);case 3:return e.t0=r,e.t1=Number,e.next=7,t.readToken(Token.UINT64_LE);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",{id:e.t0,size:e.t3});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)},P=function(){return E.apply(this,arguments)},e.next=330,t.ignore(30);case 330:if(!(t.position+24<t.fileInfo.size)){e.next=350;break}return e.next=333,P();case 333:if(x=e.sent,C=x.size-24,!_check(x.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){e.next=346;break}return O=Buffer.alloc(16),e.t6=C,e.next=340,t.readBuffer(O);case 340:if(C=e.t6-=e.sent,!_check(O,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=343;break}return e.abrupt("return",{ext:"asf",mime:"audio/x-ms-asf"});case 343:if(!_check(O,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=345;break}return e.abrupt("return",{ext:"asf",mime:"video/x-ms-asf"});case 345:return e.abrupt("break",350);case 346:return e.next=348,t.ignore(C);case 348:e.next=330;break;case 350:return e.abrupt("return",{ext:"asf",mime:"application/vnd.ms-asf"});case 351:if(!n([171,75,84,88,32,49,49,187,13,10,26,10])){e.next=353;break}return e.abrupt("return",{ext:"ktx",mime:"image/ktx"});case 353:if(!n([126,16,4])&&!n([126,24,4])||!n([48,77,73,69],{offset:4})){e.next=355;break}return e.abrupt("return",{ext:"mie",mime:"application/x-mie"});case 355:if(!n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2})){e.next=357;break}return e.abrupt("return",{ext:"shp",mime:"application/x-esri-shape"});case 357:if(!n([0,0,0,12,106,80,32,32,13,10,135,10])){e.next=371;break}return e.next=360,t.ignore(20);case 360:return e.next=362,t.readToken(new Token.StringType(4,"ascii"));case 362:j=e.sent,e.t7=j,e.next="jp2 "===e.t7?366:"jpx "===e.t7?367:"jpm "===e.t7?368:"mjp2"===e.t7?369:370;break;case 366:return e.abrupt("return",{ext:"jp2",mime:"image/jp2"});case 367:return e.abrupt("return",{ext:"jpx",mime:"image/jpx"});case 368:return e.abrupt("return",{ext:"jpm",mime:"image/jpm"});case 369:return e.abrupt("return",{ext:"mj2",mime:"image/mj2"});case 370:return e.abrupt("return");case 371:if(!n([255,10])&&!n([0,0,0,12,74,88,76,32,13,10,135,10])){e.next=373;break}return e.abrupt("return",{ext:"jxl",mime:"image/jxl"});case 373:if(!n([0,0,1,186])&&!n([0,0,1,179])){e.next=375;break}return e.abrupt("return",{ext:"mpg",mime:"video/mpeg"});case 375:if(!n([0,1,0,0,0])){e.next=377;break}return e.abrupt("return",{ext:"ttf",mime:"font/ttf"});case 377:if(!n([0,0,1,0])){e.next=379;break}return e.abrupt("return",{ext:"ico",mime:"image/x-icon"});case 379:if(!n([0,0,2,0])){e.next=381;break}return e.abrupt("return",{ext:"cur",mime:"image/x-icon"});case 381:if(!n([208,207,17,224,161,177,26,225])){e.next=383;break}return e.abrupt("return",{ext:"cfb",mime:"application/x-cfb"});case 383:return e.next=385,t.peekBuffer(r,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0});case 385:if(!i("BEGIN:")){e.next=390;break}if(!i("VCARD",{offset:6})){e.next=388;break}return e.abrupt("return",{ext:"vcf",mime:"text/vcard"});case 388:if(!i("VCALENDAR",{offset:6})){e.next=390;break}return e.abrupt("return",{ext:"ics",mime:"text/calendar"});case 390:if(!i("FUJIFILMCCD-RAW")){e.next=392;break}return e.abrupt("return",{ext:"raf",mime:"image/x-fujifilm-raf"});case 392:if(!i("Extended Module:")){e.next=394;break}return e.abrupt("return",{ext:"xm",mime:"audio/x-xm"});case 394:if(!i("Creative Voice File")){e.next=396;break}return e.abrupt("return",{ext:"voc",mime:"audio/x-voc"});case 396:if(!(n([4,0,0,0])&&r.length>=16)){e.next=408;break}if(!((A=r.readUInt32LE(12))>12&&r.length>=A+16)){e.next=408;break}if(e.prev=399,T=r.slice(16,A+16).toString(),!JSON.parse(T).files){e.next=404;break}return e.abrupt("return",{ext:"asar",mime:"application/x-asar"});case 404:e.next=408;break;case 406:e.prev=406,e.t8=e.catch(399);case 408:if(!n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])){e.next=410;break}return e.abrupt("return",{ext:"mxf",mime:"application/mxf"});case 410:if(!i("SCRM",{offset:44})){e.next=412;break}return e.abrupt("return",{ext:"s3m",mime:"audio/x-s3m"});case 412:if(!n([71],{offset:4})||!n([71],{offset:192})&&!n([71],{offset:196})){e.next=414;break}return e.abrupt("return",{ext:"mts",mime:"video/mp2t"});case 414:if(!n([66,79,79,75,77,79,66,73],{offset:60})){e.next=416;break}return e.abrupt("return",{ext:"mobi",mime:"application/x-mobipocket-ebook"});case 416:if(!n([68,73,67,77],{offset:128})){e.next=418;break}return e.abrupt("return",{ext:"dcm",mime:"application/dicom"});case 418:if(!n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])){e.next=420;break}return e.abrupt("return",{ext:"lnk",mime:"application/x.ms.shortcut"});case 420:if(!n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])){e.next=422;break}return e.abrupt("return",{ext:"alias",mime:"application/x.apple.alias"});case 422:if(!n([76,80],{offset:34})||!(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))){e.next=424;break}return e.abrupt("return",{ext:"eot",mime:"application/vnd.ms-fontobject"});case 424:if(!n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29])){e.next=426;break}return e.abrupt("return",{ext:"indd",mime:"application/x-indesign"});case 426:return e.next=428,t.peekBuffer(r,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0});case 428:if(!tarHeaderChecksumMatches(r)){e.next=430;break}return e.abrupt("return",{ext:"tar",mime:"application/x-tar"});case 430:if(!n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0])){e.next=432;break}return e.abrupt("return",{ext:"skp",mime:"application/vnd.sketchup.skp"});case 432:if(!i("-----BEGIN PGP MESSAGE-----")){e.next=434;break}return e.abrupt("return",{ext:"pgp",mime:"application/pgp-encrypted"});case 434:if(!(r.length>=2&&n([255,224],{offset:0,mask:[255,224]}))){e.next=445;break}if(!n([16],{offset:1,mask:[22]})){e.next=439;break}if(!n([8],{offset:1,mask:[8]})){e.next=438;break}return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 438:return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 439:if(!n([2],{offset:1,mask:[6]})){e.next=441;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 441:if(!n([4],{offset:1,mask:[6]})){e.next=443;break}return e.abrupt("return",{ext:"mp2",mime:"audio/mpeg"});case 443:if(!n([6],{offset:1,mask:[6]})){e.next=445;break}return e.abrupt("return",{ext:"mp1",mime:"audio/mpeg"});case 445:case"end":return e.stop()}},e,null,[[61,116],[399,406]])})),_fromTokenizer3.apply(this,arguments)}var stream=function stream(readableStream){return new Promise(function(resolve,reject){var stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new stream.PassThrough,r=stream.pipeline?stream.pipeline(readableStream,t,function(){}):readableStream.pipe(t),n=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0),e.prev=3,e.next=6,fromBuffer(n);case 6:i=e.sent,t.fileType=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),reject(e.t0);case 13:resolve(r);case 14:case"end":return e.stop()}},e,null,[[3,10]])})))})},fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:function(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get:function(){return new Set(supported.mimeTypes)}}),module.exports=fileType},377:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i="undefined"!=typeof Symbol&&Symbol,o=r(4379);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"===n(i("foo"))&&"symbol"===n(Symbol("bar"))&&o()}},395:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e=r.nmd(e);var i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",l="[object Date]",u="[object Function]",c="[object GeneratorFunction]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",S="[object Float32Array]",k="[object Float64Array]",P="[object Int8Array]",E="[object Int16Array]",x="[object Int32Array]",C="[object Uint8Array]",O="[object Uint8ClampedArray]",j="[object Uint16Array]",A="[object Uint32Array]",T=/\w*$/,D=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,I={};I[a]=I["[object Array]"]=I[w]=I[_]=I[s]=I[l]=I[S]=I[k]=I[P]=I[E]=I[x]=I[d]=I[f]=I[p]=I[g]=I[v]=I[m]=I[y]=I[C]=I[O]=I[j]=I[A]=!0,I["[object Error]"]=I[u]=I[b]=!1;var M="object"==(void 0===r.g?"undefined":n(r.g))&&r.g&&r.g.Object===Object&&r.g,R="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,F=M||R||Function("return this")(),B="object"==n(t)&&t&&!t.nodeType&&t,N=B&&"object"==n(e)&&e&&!e.nodeType&&e,V=N&&N.exports===B;function q(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function U(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function G(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function H(e,t){return function(r){return e(t(r))}}function $(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var K,Z=Array.prototype,Q=Function.prototype,Y=Object.prototype,X=F["__core-js_shared__"],J=(K=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",ee=Q.toString,te=Y.hasOwnProperty,re=Y.toString,ne=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=V?F.Buffer:void 0,oe=F.Symbol,ae=F.Uint8Array,se=H(Object.getPrototypeOf,Object),le=Object.create,ue=Y.propertyIsEnumerable,ce=Z.splice,de=Object.getOwnPropertySymbols,fe=ie?ie.isBuffer:void 0,pe=H(Object.keys,Object),he=Fe(F,"DataView"),ge=Fe(F,"Map"),ve=Fe(F,"Promise"),me=Fe(F,"Set"),ye=Fe(F,"WeakMap"),be=Fe(Object,"create"),we=We(he),_e=We(ge),Se=We(ve),ke=We(me),Pe=We(ye),Ee=oe?oe.prototype:void 0,xe=Ee?Ee.valueOf:void 0;function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function je(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){this.__data__=new Oe(e)}function Te(e,t,r){var n=e[t];te.call(e,t)&&Ue(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function De(e,t){for(var r=e.length;r--;)if(Ue(e[r][0],t))return r;return-1}function Le(e,t,r,n,i,o,h){var b;if(n&&(b=o?n(e,i,o,h):n(e)),void 0!==b)return b;if(!Ke(e))return e;var D=ze(e);if(D){if(b=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&te.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,b)}else{var L=Ne(e),M=L==u||L==c;if(He(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(L==p||L==a||M&&!o){if(z(e))return o?e:{};if(b=function(e){return"function"!=typeof e.constructor||qe(e)?{}:Ke(t=se(e))?le(t):{};var t}(M?{}:e),!t)return function(e,t){return Me(e,Be(e),t)}(e,function(e,t){return e&&Me(t,Ze(t),e)}(b,e))}else{if(!I[L])return o?e:{};b=function(e,t,r,n){var i,o=e.constructor;switch(t){case w:return Ie(e);case s:case l:return new o(+e);case _:return function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case S:case k:case P:case E:case x:case C:case O:case j:case A:return function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case d:return function(e,t,r){return U(t?r(G(e),!0):G(e),q,new e.constructor)}(e,n,r);case f:case m:return new o(e);case g:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,r){return U(t?r($(e),!0):$(e),W,new e.constructor)}(e,n,r);case y:return i=e,xe?Object(xe.call(i)):{}}}(e,L,Le,t)}}h||(h=new Ae);var R=h.get(e);if(R)return R;if(h.set(e,b),!D)var F=r?function(e){return function(e,t,r){var n=t(e);return ze(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ze,Be)}(e):Ze(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(F||e,function(i,o){F&&(i=e[o=i]),Te(b,o,Le(i,t,r,n,o,e,h))}),b}function Ie(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Me(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;Te(r,a,void 0===s?e[a]:s)}return r}function Re(e,t){var r,i,o=e.__data__;return("string"==(i=n(r=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Fe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ke(e)||(t=e,J&&J in t))&&($e(e)||z(e)?ne:D).test(We(e));var t}(r)?r:void 0}Ce.prototype.clear=function(){this.__data__=be?be(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===i?void 0:r}return te.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:te.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?i:t,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(e){var t=this.__data__,r=De(t,e);return!(r<0||(r==t.length-1?t.pop():ce.call(t,r,1),0))},Oe.prototype.get=function(e){var t=this.__data__,r=De(t,e);return r<0?void 0:t[r][1]},Oe.prototype.has=function(e){return De(this.__data__,e)>-1},Oe.prototype.set=function(e,t){var r=this.__data__,n=De(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},je.prototype.clear=function(){this.__data__={hash:new Ce,map:new(ge||Oe),string:new Ce}},je.prototype.delete=function(e){return Re(this,e).delete(e)},je.prototype.get=function(e){return Re(this,e).get(e)},je.prototype.has=function(e){return Re(this,e).has(e)},je.prototype.set=function(e,t){return Re(this,e).set(e,t),this},Ae.prototype.clear=function(){this.__data__=new Oe},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Oe){var n=r.__data__;if(!ge||n.length<199)return n.push([e,t]),this;r=this.__data__=new je(n)}return r.set(e,t),this};var Be=de?H(de,Object):function(){return[]},Ne=function(e){return re.call(e)};function Ve(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function We(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(he&&Ne(new he(new ArrayBuffer(1)))!=_||ge&&Ne(new ge)!=d||ve&&Ne(ve.resolve())!=h||me&&Ne(new me)!=v||ye&&Ne(new ye)!=b)&&(Ne=function(e){var t=re.call(e),r=t==p?e.constructor:void 0,n=r?We(r):void 0;if(n)switch(n){case we:return _;case _e:return d;case Se:return h;case ke:return v;case Pe:return b}return t});var ze=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!$e(e)}var He=fe||function(){return!1};function $e(e){var t=Ke(e)?re.call(e):"";return t==u||t==c}function Ke(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function Ze(e){return Ge(e)?function(e,t){var r=ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==n(e)}(e)&&Ge(e)}(e)&&te.call(e,"callee")&&(!ue.call(e,"callee")||re.call(e)==a)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,o=!!i;for(var s in e)!t&&!te.call(e,s)||o&&("length"==s||Ve(s,i))||r.push(s);return r}(e):function(e){if(!qe(e))return pe(e);var t=[];for(var r in Object(e))te.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Le(e,!0,!0)}},428:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(1837),o=r(6234),a=r(1371),s=r(5605).S,l=a.ValidatorResult,u=a.ValidatorResultError,c=a.SchemaError,d=a.SchemaContext,f=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(h),this.attributes=Object.create(o.validators)};function p(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}f.prototype.customFormats={},f.prototype.schemas=null,f.prototype.types=null,f.prototype.attributes=null,f.prototype.unresolvedRefs=null,f.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=s(t||"/",e),i=t||e.$id||e.id;for(var o in n.id)this.schemas[o]=n.id[o];for(var o in n.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter(function(e){return void 0===r.schemas[e]}),this.schemas[i]},f.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},f.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==n(t))for(var r in t)this.addSubSchema(e,t[r])},f.prototype.setSchemas=function(e){this.schemas=e},f.prototype.getSchema=function(e){return this.schemas[e]},f.prototype.validate=function(e,t,r,o){if("boolean"!=typeof t&&"object"!==n(t)||null===t)throw new c("Expected `schema` to be an object or boolean");r||(r={});var a,f=t.$id||t.id,p=i.resolve(r.base||"/",f||"");if(!o){(o=new d(t,r,[],p,Object.create(this.schemas))).schemas[p]||(o.schemas[p]=t);var h=s(p,t);for(var g in h.id){var v=h.id[g];o.schemas[g]=v}}if(r.required&&void 0===e)return(a=new l(e,t,r,o)).addError("is required, but is undefined"),a;if(!(a=this.validateSchema(e,t,r,o)))throw new Error("Result undefined");if(r.throwAll&&a.errors.length)throw new u(a);return a},f.prototype.validateSchema=function(e,t,r,n){var i=new l(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var s={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,s)),t=s.schema,s.schema=null,s.ctx=null,s=null}else t=a.deepMerge(t,this.superResolve(t.extends,n));var u=p(t);if(u){var f=this.resolve(t,u,n),h=new d(f.subschema,r,n.path,f.switchSchema,n.schemas);return this.validateSchema(e,f.subschema,r,h)}var g=r&&r.skipAttributes||[];for(var v in t)if(!o.ignoreProperties[v]&&g.indexOf(v)<0){var m=null,y=this.attributes[v];if(y)m=y.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new c("Unsupported attribute: "+v,t);m&&i.importErrors(m)}if("function"==typeof r.rewrite){var b=r.rewrite.call(this,e,t,r,n);i.instance=b}return i},f.prototype.schemaTraverser=function(e,t){e.schema=a.deepMerge(e.schema,this.superResolve(t,e.ctx))},f.prototype.superResolve=function(e,t){var r=p(e);return r?this.resolve(e,r,t).subschema:e},f.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var n=i.parse(t),o=n&&n.hash,s=o&&o.length&&t.substr(0,t.length-o.length);if(!s||!r.schemas[s])throw new c("no such schema <"+t+">",e);var l=a.objectGetPath(r.schemas[s],o.substr(1));if(void 0===l)throw new c("no such schema "+o+" located in <"+s+">",e);return{subschema:l,switchSchema:t}},f.prototype.testType=function(e,t,r,i,o){if(void 0!==o){if(null===o)throw new c('Unexpected null in "type" keyword');if("function"==typeof this.types[o])return this.types[o].call(this,e);if(o&&"object"==n(o)){var a=this.validateSchema(e,o,r,i);return void 0===a||!(a&&a.errors.length)}return!0}};var h=f.prototype.types={};h.string=function(e){return"string"==typeof e},h.number=function(e){return"number"==typeof e&&isFinite(e)},h.integer=function(e){return"number"==typeof e&&e%1==0},h.boolean=function(e){return"boolean"==typeof e},h.array=function(e){return Array.isArray(e)},h.null=function(e){return null===e},h.date=function(e){return e instanceof Date},h.any=function(e){return!0},h.object=function(e){return e&&"object"===n(e)&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=f},863:(e,t,r)=>{var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(5465);e.exports=o.call(n,i)},1090:(e,t,r)=>{var n=r(1545).hp;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){o=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&n.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(o,a,s,l){var u=p(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t(function(t,i){r(e,n,t,i)})}return o=o?o.then(i,i):i()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function a(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;var c=r(1787),d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}var t,r,i,a,u,d,f,p;return t=e,r=[{key:"readToken",value:(p=s(o().mark(function e(t){var r,i,a=arguments;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:this.position,i=n.alloc(t.len),e.next=4,this.readBuffer(i,{position:r});case 4:if(!(e.sent<t.len)){e.next=7;break}throw new c.EndOfStreamError;case 7:return e.abrupt("return",t.get(i,0));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"peekToken",value:(f=s(o().mark(function e(t){var r,i,a=arguments;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:this.position,i=n.alloc(t.len),e.next=4,this.peekBuffer(i,{position:r});case 4:if(!(e.sent<t.len)){e.next=7;break}throw new c.EndOfStreamError;case 7:return e.abrupt("return",t.get(i,0));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"readNumber",value:(d=s(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readBuffer(this.numBuffer,{length:t.len});case 2:if(!(e.sent<t.len)){e.next=5;break}throw new c.EndOfStreamError;case 5:return e.abrupt("return",t.get(this.numBuffer,0));case 6:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"peekNumber",value:(u=s(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peekBuffer(this.numBuffer,{length:t.len});case 2:if(!(e.sent<t.len)){e.next=5;break}throw new c.EndOfStreamError;case 5:return e.abrupt("return",t.get(this.numBuffer,0));case 6:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"ignore",value:(a=s(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.fileInfo.size){e.next=5;break}if(r=this.fileInfo.size-this.position,!(t>r)){e.next=5;break}return this.position+=r,e.abrupt("return",r);case 5:return this.position+=t,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"close",value:(i=s(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"normalizeOptions",value:function(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}],r&&l(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.AbstractTokenizer=d},1226:e=>{e.exports=SyntaxError},1227:(e,t,r)=>{var n;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(8630)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},1310:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},1371:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(1837),o=t.ValidationError=function(e,t,r,n,i,o){if(Array.isArray(n)?(this.path=n,this.property=n.reduce(function(e,t){return e+f(t)},"instance")):void 0!==n&&(this.property=n),e&&(this.message=e),r){var a=r.$id||r.id;this.schema=a||r}void 0!==t&&(this.instance=t),this.name=i,this.argument=o,this.stack=this.toString()};o.prototype.toString=function(){return this.property+" "+this.message};var a=t.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.options=r,this.path=n.path,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&!0===r.disableFormat};function s(e,t){return t+": "+e.toString()+"\n"}function l(e){Error.captureStackTrace&&Error.captureStackTrace(this,l),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}a.prototype.addError=function(e){var t;if("string"==typeof e)t=new o(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new o(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new l(this);if(this.throwError)throw t;return t},a.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},a.prototype.toString=function(e){return this.errors.map(s).join("")},Object.defineProperty(a.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=l,l.prototype=new Error,l.prototype.constructor=l,l.prototype.name="Validation Error";var u=t.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};u.prototype=Object.create(Error.prototype,{constructor:{value:u,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=t.SchemaContext=function(e,t,r,n,i){this.schema=e,this.options=t,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce(function(e,t){return e+f(t)},"instance")):this.propertyPath=r,this.base=n,this.schemas=i};c.prototype.resolve=function(e){return i.resolve(this.base,e)},c.prototype.makeChild=function(e,t){var r=void 0===t?this.path:this.path.concat([t]),n=e.$id||e.id,o=i.resolve(this.base,n||""),a=new c(e,this.options,r,o,Object.create(this.schemas));return n&&!a.schemas[o]&&(a.schemas[o]=e),a};var d=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:(?:[!#-\[\]-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|\\(?:[\t -\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*"|(?:[!#-'\*\+\x2D\/-9=\?A-Z\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])(?:\.?(?:[!#-'\*\+\x2D\/-9=\?A-Z\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*)@((?:[!#-'\*\+\x2D\/-9=\?A-Z\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])(?:\.?(?:[!#-'\*\+\x2D\/-9=\?A-Z\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*|\[(?:[!-Z\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][\+\x2D\.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:(?:[!\$&-\.0-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|[\/\?])|\?)(%[0-9A-Fa-f]{2}|(?:[!\$&-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*|([A-Za-z][\+\x2D\.0-9A-Za-z]*:?)?)|([A-Za-z][\+\x2D\.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|(?:[!\$&-\.0-9;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+|(\[(([Vv][0-9A-Fa-f]+\.(?:[!\$&-\.0-;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?|[\.0-:A-Fa-f]+)\])?)(:[0-9]*)?[\/\?]|(?:[!\$&-\.0-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(%[0-9A-Fa-f]{2}|(?:[!\$&-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*|(\/((%[0-9A-Fa-f]{2}|(?:[!\$&-\.0-9;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+|(\[(([Vv][0-9A-Fa-f]+\.(?:[!\$&-\.0-;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?|[\.0-:A-Fa-f]+)\])?)(:[0-9]*)?)?))#(%[0-9A-Fa-f]{2}|(?:[!\$&-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*|(([A-Za-z][\+\x2D\.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|(?:[!\$&-\.0-9;=@_~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|[A-Za-z][\+\x2D\.0-9A-Za-z]*(?:[!\$&-\*,;=@_~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(%[0-9A-Fa-f]{2}|(?:[!\$&-\.0-9;=@-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*((([\/\?](%[0-9A-Fa-f]{2}|(?:[!\$&-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*)?#|[\/\?])(%[0-9A-Fa-f]{2}|(?:[!\$&-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*)?|([A-Za-z][\+\x2D\.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:(?:[!\$&-\.0-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|[\/\?])|\?)(%[0-9A-Fa-f]{2}|(?:[!\$&-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*|([A-Za-z][\+\x2D\.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|(?:[!\$&-\.0-9;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+|(\[(([Vv][0-9A-Fa-f]+\.(?:[!\$&-\.0-;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?|[\.0-:A-Fa-f]+)\])?)(:[0-9]*)?[\/\?]|(?:[!\$&-\.0-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(%[0-9A-Fa-f]{2}|(?:[!\$&-;=\?-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*|\/((%[0-9A-Fa-f]{2}|(?:[!\$&-\.0-9;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+(:[0-9]*)?|(\[(([Vv][0-9A-Fa-f]+\.(?:[!\$&-\.0-;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?|[\.0-:A-Fa-f]+)\])?:[0-9]*|\[(([Vv][0-9A-Fa-f]+\.(?:[!\$&-\.0-;=A-Z_a-z~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?|[\.0-:A-Fa-f]+)\])?)?|[A-Za-z][\+\x2D\.0-9A-Za-z]*:?)?$/,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#\$&\(-;=\?@\[\]_a-z~\u017F\u212A]|\{[!#&\+,\.\/;=\?@\|]?(%[0-9a-f]{2}|[0-9_a-z\u017F\u212A])(\.?(%[0-9a-f]{2}|[0-9_a-z\u017F\u212A]))*(:[1-9][0-9]{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z\u017F\u212A])(\.?(%[0-9a-f]{2}|[0-9_a-z\u017F\u212A]))*(:[1-9][0-9]{0,3}|\*)?)*\})*/i,"json-pointer":/^(\/([\0-\.0-@\[-\}\x7F\u017F\u212A]|~[01])*)*$/i,"relative-json-pointer":/^[0-9]+(#|(\/([\0-\.0-@\[-\}\x7F\u017F\u212A]|~[01])*)*)$/i,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};d.regexp=d.regex,d.pattern=d.regex,d.ipv4=d["ip-address"],t.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==d[t]){if(d[t]instanceof RegExp)return d[t].test(e);if("function"==typeof d[t])return d[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var f=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function p(e,t,r,i){"object"===n(r)?t[i]=v(e[i],r):-1===e.indexOf(r)&&t.push(r)}function h(e,t,r){t[r]=e[r]}function g(e,t,r,i){"object"===n(t[i])&&t[i]&&e[i]?r[i]=v(e[i],t[i]):r[i]=t[i]}function v(e,t){var r=Array.isArray(t),i=r&&[]||{};return r?(e=e||[],i=i.concat(e),t.forEach(p.bind(null,e,i))):(e&&"object"===n(e)&&Object.keys(e).forEach(h.bind(null,e,i)),Object.keys(t).forEach(g.bind(null,e,t,i))),i}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,r){if(n(t)!==n(r))return!1;if(Array.isArray(t))return!!Array.isArray(r)&&t.length===r.length&&t.every(function(n,i){return e(t[i],r[i])});if("object"===n(t)){if(!t||!r)return t===r;var i=Object.keys(t),o=Object.keys(r);return i.length===o.length&&i.every(function(n){return e(t[n],r[n])})}return t===r},e.exports.deepMerge=v,t.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var i=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},t.encodePath=function(e){return e.map(m).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t},t.isSchema=function(e){return"object"===n(e)&&e||"boolean"==typeof e}},1422:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var r=function(e){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:String(r)}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tagname=t,this.child=[],this[":@"]={}}var t,i;return t=e,(i=[{key:"add",value:function(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push(r({},e,t))}},{key:"addChild",value:function(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push(r(r({},e.tagname,e.child),":@",e[":@"])):this.child.push(r({},e.tagname,e.child))}}])&&n(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=o},1424:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&o.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var a=r(4397),s=r(249);function l(){var e;return e=i().mark(function e(t){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fromFile(t);case 2:return r=e.sent,e.prev=3,e.next=6,s.fromTokenizer(r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,r.close();case 10:return e.finish(7);case 11:case"end":return e.stop()}},e,null,[[3,,7,11]])}),l=function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})},l.apply(this,arguments)}var u={fromFile:function(e){return l.apply(this,arguments)}};Object.assign(u,s),Object.defineProperty(u,"extensions",{get:function(){return s.extensions}}),Object.defineProperty(u,"mimeTypes",{get:function(){return s.mimeTypes}}),e.exports=u},1545:(e,t,r)=>{function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:String(t)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var u=r(5768),c=r(6773),d="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=h,t.IS=50;var f=2147483647;function p(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return m(e)}return g(e,t,r)}function g(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|_(e,t),n=p(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(te(e,Uint8Array)){var t=new Uint8Array(e);return b(t.buffer,t.byteOffset,t.byteLength)}return y(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(e));if(te(e,ArrayBuffer)||e&&te(e.buffer,ArrayBuffer))return b(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(te(e,SharedArrayBuffer)||e&&te(e.buffer,SharedArrayBuffer)))return b(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return h.from(n,t,r);var i=function(e){if(h.isBuffer(e)){var t=0|w(e.length),r=p(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||re(e.length)?p(0):y(e):"Buffer"===e.type&&Array.isArray(e.data)?y(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(e))}function v(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function m(e){return v(e),p(e<0?0:0|w(e))}function y(e){for(var t=e.length<0?0:0|w(e.length),r=p(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function b(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,h.prototype),n}function w(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|e}function _(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||te(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(e).length;default:if(i)return n?-1:X(e).length;t=(""+t).toLowerCase(),i=!0}}function S(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return D(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function k(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function P(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),re(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function x(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(re(s))return o;e[r+o]=s}return o}function C(e,t,r,n){return ee(X(t,e.length-r),e,r,n)}function O(e,t,r,n){return ee(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function j(e,t,r,n){return ee(J(t),e,r,n)}function A(e,t,r,n){return ee(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,r))}function D(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var l=void 0,u=void 0,c=void 0,d=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(l=e[i+1]))&&(d=(31&o)<<6|63&l)>127&&(a=d);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(d=(15&o)<<12|(63&l)<<6|63&u)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(d=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=L));return r}(n)}h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,r){return g(e,t,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,r){return function(e,t,r){return v(e),e<=0?p(e):void 0!==t?"string"==typeof r?p(e).fill(t,r):p(e).fill(t):p(e)}(e,t,r)},h.allocUnsafe=function(e){return m(e)},h.allocUnsafeSlow=function(e){return m(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(te(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),te(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=h.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(te(o,Uint8Array))i+o.length>n.length?(h.isBuffer(o)||(o=h.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},h.byteLength=_,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)k(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?D(this,0,e):S.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},d&&(h.prototype[d]=h.prototype.inspect),h.prototype.compare=function(e,t,r,n,i){if(te(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return P(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return P(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return C(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return j(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=ne[e[o]];return i}function F(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function V(e,t,r,n,i){K(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function q(e,t,r,n,i){K(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function W(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return t=+t,r>>>=0,i||W(e,0,r,4),c.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,i){return t=+t,r>>>=0,i||W(e,0,r,8),c.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,h.prototype),n},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=ie(function(e){Z(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))}),h.prototype.readBigUInt64BE=ie(function(e){Z(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=ie(function(e){Z(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))}),h.prototype.readBigInt64BE=ie(function(e){Z(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)}),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),c.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),c.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),c.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),c.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=ie(function(e){return V(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=ie(function(e){return q(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=ie(function(e){return V(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=ie(function(e){return q(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},h.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=h.isBuffer(e)?e:h.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var G={};function H(e,t,r){G[e]=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(p,r);var i,u,c,d,f=(c=p,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=s(c);if(d){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function p(){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),r=f.call(this),Object.defineProperty(a(r),"message",{value:t.apply(a(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return i=p,(u=[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}])&&n(i.prototype,u),Object.defineProperty(i,"prototype",{writable:!1}),p}(r)}function $(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function K(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"==typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new G.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){Z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||Q(t,e.length-(r+1))}(n,i,o)}function Z(e,t){if("number"!=typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function Q(e,t,r){if(Math.floor(e)!==e)throw Z(e,r),new G.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}H("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(l(t))},TypeError),H("ERR_OUT_OF_RANGE",function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=$(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=$(i)),i+="n"),n+" It must be ".concat(t,". Received ").concat(i)},RangeError);var Y=/[^+/0-9A-Za-z-_]/g;function X(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function J(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ee(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function te(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function re(e){return e!=e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function ie(e){return"undefined"==typeof BigInt?oe:e}function oe(){throw new Error("BigInt not supported")}},1622:e=>{e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},1635:(e,t,r)=>{r.d(t,{C6:()=>i,Cl:()=>o,YH:()=>s,sH:()=>a});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}function s(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},1690:(e,t)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.stringToBytes=function(e){return(t=e,function(e){if(Array.isArray(e))return r(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return e.charCodeAt(0)});var t},t.tarHeaderChecksumMatches=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;for(var n=256,i=t;i<t+148;i++)n+=e[i];for(var o=t+156;o<t+512;o++)n+=e[o];return r===n},t.uint32SyncSafeToken={get:function(e,t){return 127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21},len:4}},1734:(e,t,r)=>{function n(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}var l=r(3496),u=r(1422),c=r(9326),d=r(2937),f=a(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:function(e,t){return String.fromCharCode(Number.parseInt(t,10))}},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:function(e,t){return String.fromCharCode(Number.parseInt(t,16))}}},this.addExternalEntities=p,this.parseXml=y,this.parseTextData=h,this.resolveNameSpace=g,this.buildAttributesMap=m,this.isItStopNode=S,this.replaceEntitiesValue=w,this.readStopNodeData=E,this.saveTextToParentTag=_,this.addChild=b});function p(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function h(e,t,r,n,o,a,s){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));var l=this.options.tagValueProcessor(t,e,r,o,a);return null==l?e:i(l)!==i(e)||l!==e?l:this.options.trimValues||e.trim()===e?x(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function g(e){if(this.options.removeNSPrefix){var t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}var v=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function m(e,t,r){if(!this.options.ignoreAttributes&&"string"==typeof e){for(var n=l.getAllMatches(e,v),o=n.length,a={},s=0;s<o;s++){var u=this.resolveNameSpace(n[s][1]),c=n[s][4],d=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),"__proto__"===d&&(d="#__proto__"),void 0!==c){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);var f=this.options.attributeValueProcessor(u,c,t);null==f?a[d]=c:i(f)!==i(c)||f!==c?a[d]=f:a[d]=x(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(a[d]=!0)}if(!Object.keys(a).length)return;if(this.options.attributesGroupName){var p={};return p[this.options.attributesGroupName]=a,p}return a}}var y=function(e){e=e.replace(/\r\n?/g,"\n");for(var t=new u("!xml"),r=t,i="",o="",a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){var s=k(e,">",a,"Closing Tag is not closed."),l=e.substring(a+2,s).trim();if(this.options.removeNSPrefix){var d=l.indexOf(":");-1!==d&&(l=l.substr(d+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(i=this.saveTextToParentTag(i,r,o));var f=o.substring(o.lastIndexOf(".")+1);if(l&&-1!==this.options.unpairedTags.indexOf(l))throw new Error("Unpaired tag can not be used as closing tag: </".concat(l,">"));var p=0;f&&-1!==this.options.unpairedTags.indexOf(f)?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),i="",a=s}else if("?"===e[a+1]){var h=P(e,a,!1,"?>");if(!h)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,r,o),this.options.ignoreDeclaration&&"?xml"===h.tagName||this.options.ignorePiTags);else{var g=new u(h.tagName);g.add(this.options.textNodeName,""),h.tagName!==h.tagExp&&h.attrExpPresent&&(g[":@"]=this.buildAttributesMap(h.tagExp,o,h.tagName)),this.addChild(r,g,o)}a=h.closeIndex+1}else if("!--"===e.substr(a+1,3)){var v=k(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){var m=e.substring(a+4,v-2);i=this.saveTextToParentTag(i,r,o),r.add(this.options.commentPropName,[n({},this.options.textNodeName,m)])}a=v}else if("!D"===e.substr(a+1,2)){var y=c(e,a);this.docTypeEntities=y.entities,a=y.i}else if("!["===e.substr(a+1,2)){var b=k(e,"]]>",a,"CDATA is not closed.")-2,w=e.substring(a+9,b);i=this.saveTextToParentTag(i,r,o);var _=this.parseTextData(w,r.tagname,o,!0,!1,!0,!0);null==_&&(_=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[n({},this.options.textNodeName,w)]):r.add(this.options.textNodeName,_),a=b+2}else{var S=P(e,a,this.options.removeNSPrefix),E=S.tagName,x=S.rawTagName,C=S.tagExp,O=S.attrExpPresent,j=S.closeIndex;this.options.transformTagName&&(E=this.options.transformTagName(E)),r&&i&&"!xml"!==r.tagname&&(i=this.saveTextToParentTag(i,r,o,!1));var A=r;if(A&&-1!==this.options.unpairedTags.indexOf(A.tagname)&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),E!==t.tagname&&(o+=o?"."+E:E),this.isItStopNode(this.options.stopNodes,o,E)){var T="";if(C.length>0&&C.lastIndexOf("/")===C.length-1)"/"===E[E.length-1]?(E=E.substr(0,E.length-1),o=o.substr(0,o.length-1),C=E):C=C.substr(0,C.length-1),a=S.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(E))a=S.closeIndex;else{var D=this.readStopNodeData(e,x,j+1);if(!D)throw new Error("Unexpected end of ".concat(x));a=D.i,T=D.tagContent}var L=new u(E);E!==C&&O&&(L[":@"]=this.buildAttributesMap(C,o,E)),T&&(T=this.parseTextData(T,E,o,!0,O,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),L.add(this.options.textNodeName,T),this.addChild(r,L,o)}else{if(C.length>0&&C.lastIndexOf("/")===C.length-1){"/"===E[E.length-1]?(E=E.substr(0,E.length-1),o=o.substr(0,o.length-1),C=E):C=C.substr(0,C.length-1),this.options.transformTagName&&(E=this.options.transformTagName(E));var I=new u(E);E!==C&&O&&(I[":@"]=this.buildAttributesMap(C,o,E)),this.addChild(r,I,o),o=o.substr(0,o.lastIndexOf("."))}else{var M=new u(E);this.tagsNodeStack.push(r),E!==C&&O&&(M[":@"]=this.buildAttributesMap(C,o,E)),this.addChild(r,M,o),r=M}i="",a=j}}else i+=e[a];return t.child};function b(e,t,r){var n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"==typeof n?(t.tagname=n,e.addChild(t)):e.addChild(t))}var w=function(e){if(this.options.processEntities){for(var t in this.docTypeEntities){var r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(var n in this.lastEntities){var i=this.lastEntities[n];e=e.replace(i.regex,i.val)}if(this.options.htmlEntities)for(var o in this.htmlEntities){var a=this.htmlEntities[o];e=e.replace(a.regex,a.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function _(e,t,r,n){return e&&(void 0===n&&(n=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function S(e,t,r){var n="*."+r;for(var i in e){var o=e[i];if(n===o||t===o)return!0}return!1}function k(e,t,r,n){var i=e.indexOf(t,r);if(-1===i)throw new Error(n);return i+t.length-1}function P(e,t,r){var n=function(e,t){for(var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",i="",o=t;o<e.length;o++){var a=e[o];if(r)a===r&&(r="");else if('"'===a||"'"===a)r=a;else if(a===n[0]){if(!n[1])return{data:i,index:o};if(e[o+1]===n[1])return{data:i,index:o}}else"\t"===a&&(a=" ");i+=a}}(e,t+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if(n){var i=n.data,o=n.index,a=i.search(/\s/),s=i,l=!0;-1!==a&&(s=i.substring(0,a),i=i.substring(a+1).trimStart());var u=s;if(r){var c=s.indexOf(":");-1!==c&&(l=(s=s.substr(c+1))!==n.data.substr(c+1))}return{tagName:s,tagExp:i,closeIndex:o,attrExpPresent:l,rawTagName:u}}}function E(e,t,r){for(var n=r,i=1;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){var o=k(e,">",r,"".concat(t," is not closed"));if(e.substring(r+2,o).trim()===t&&0==--i)return{tagContent:e.substring(n,r),i:o};r=o}else if("?"===e[r+1])r=k(e,"?>",r+1,"StopNode is not closed.");else if("!--"===e.substr(r+1,3))r=k(e,"--\x3e",r+3,"StopNode is not closed.");else if("!["===e.substr(r+1,2))r=k(e,"]]>",r,"StopNode is not closed.")-2;else{var a=P(e,r,">");a&&((a&&a.tagName)===t&&"/"!==a.tagExp[a.tagExp.length-1]&&i++,r=a.closeIndex)}}function x(e,t,r){if(t&&"string"==typeof e){var n=e.trim();return"true"===n||"false"!==n&&d(e,r)}return l.isExist(e)?e:""}e.exports=f},1787:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var n=r(6273);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});var i=r(3216);Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return i.StreamReader}})},1837:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(5417);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(3988);function b(e,t,r){if(e&&"object"===n(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,r),i}o.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+n(e));var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@/]+@[^@/]+/)){var k="//"===b.substr(0,2);!k||_&&v[_]||(b=b.substr(2),this.slashes=!0)}if(!v[_]&&(k||_&&!m[_])){for(var P,E,x=-1,C=0;C<f.length;C++)-1!==(O=b.indexOf(f[C]))&&(-1===x||O<x)&&(x=O);for(-1!==(E=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(P=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(P)),x=-1,C=0;C<d.length;C++){var O;-1!==(O=b.indexOf(d[C]))&&(-1===x||O<x)&&(x=O)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var A=this.hostname.split(/\./),T=(C=0,A.length);C<T;C++){var D=A[C];if(D&&!D.match(p)){for(var L="",I=0,M=D.length;I<M;I++)D.charCodeAt(I)>127?L+="x":L+=D[I];if(!L.match(p)){var R=A.slice(0,C),F=A.slice(C+1),B=D.match(h);B&&(R.push(B[1]),F.unshift(B[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=i.toASCII(this.hostname));var N=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+N,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[S])for(C=0,T=c.length;C<T;C++){var q=c[C];if(-1!==b.indexOf(q)){var W=encodeURIComponent(q);W===q&&(W=escape(q)),b=b.split(q).join(W)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var G=this.search||"";this.path=N+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&"object"===n(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if("string"==typeof e){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var u=s[l];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var f=c[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var h=r.pathname||"",g=r.search||"";r.path=h+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||y||r.host&&e.pathname,_=w,S=r.pathname&&r.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===S[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),r.search=e.search,r.query=e.query;else if(null!=e.search)return k&&(r.host=S.shift(),r.hostname=r.host,(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname)),r.search=e.search,r.query=e.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=S.slice(-1)[0],E=(r.host||e.host||S.length>1)&&("."===P||".."===P)||""===P,x=0,C=S.length;C>=0;C--)"."===(P=S[C])?S.splice(C,1):".."===P?(S.splice(C,1),x++):x&&(S.splice(C,1),x--);if(!w&&!_)for(;x--;x)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),E&&"/"!==S.join("/").substr(-1)&&S.push("");var O,j=""===S[0]||S[0]&&"/"===S[0].charAt(0);return k&&(r.hostname=j?"":S.length?S.shift():"",r.host=r.hostname,(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname)),(w=w||r.host&&S.length)&&!j&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return"string"==typeof e&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o},1953:e=>{e.exports=TypeError},1976:(e,t)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;var a=i(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolve=function(){return null},this.reject=function(){return null},this.promise=new Promise(function(e,r){t.reject=r,t.resolve=e})});t.Deferred=a},1978:(e,t,r)=>{var n=r(5465),i=r(7052),o=r(5118),a=r(2069);e.exports=a||n.call(o,i)},2031:(e,t)=>{function r(e,t,a){for(var s,l={},u=0;u<e.length;u++){var c,d=e[u],f=n(d);if(c=void 0===a?f:a+"."+f,f===t.textNodeName)void 0===s?s=d[f]:s+=""+d[f];else{if(void 0===f)continue;if(d[f]){var p=r(d[f],t,c),h=o(p,t);d[":@"]?i(p,d[":@"],c,t):1!==Object.keys(p).length||void 0===p[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(p).length&&(t.alwaysCreateTextNode?p[t.textNodeName]="":p=""):p=p[t.textNodeName],void 0!==l[f]&&l.hasOwnProperty(f)?(Array.isArray(l[f])||(l[f]=[l[f]]),l[f].push(p)):t.isArray(f,c,h)?l[f]=[p]:l[f]=p}}}return"string"==typeof s?s.length>0&&(l[t.textNodeName]=s):void 0!==s&&(l[t.textNodeName]=s),l}function n(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r];if(":@"!==n)return n}}function i(e,t,r,n){if(t)for(var i=Object.keys(t),o=i.length,a=0;a<o;a++){var s=i[a];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}function o(e,t){var r=t.textNodeName,n=Object.keys(e).length;return 0===n||!(1!==n||!e[r]&&"boolean"!=typeof e[r]&&0!==e[r])}t.prettify=function(e,t){return r(e,t)}},2069:e=>{e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},2104:e=>{e.exports=RangeError},2593:(e,t,r)=>{var n,i,o;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}o=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],i=e[2],o=e[3];n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+t[1]-389564586|0)<<12|o>>>20)+r|0)&r|~o&n)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&r)+t[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+t[5]+1200080426|0)<<12|o>>>20)+r|0)&r|~o&n)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&r)+t[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+t[9]-1958414417|0)<<12|o>>>20)+r|0)&r|~o&n)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&r)+t[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+t[13]-40341101|0)<<12|o>>>20)+r|0)&r|~o&n)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&r)+t[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+t[6]-1069501632|0)<<9|o>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|i>>>18)+o|0)&r|o&~r)+t[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+t[10]+38016083|0)<<9|o>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|i>>>18)+o|0)&r|o&~r)+t[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+t[14]-1019803690|0)<<9|o>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|i>>>18)+o|0)&r|o&~r)+t[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+t[2]-51403784|0)<<9|o>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&r|o&~r)+t[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+t[8]-2022574463|0)<<11|o>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^r)+t[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+t[4]+1272893353|0)<<11|o>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^r)+t[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+t[0]-358537222|0)<<11|o>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^r)+t[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+t[12]-421815835|0)<<11|o>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^r)+t[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function i(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var t,i,o,a,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)r(c,n(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(c,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,o[14]=s,o[15]=l,r(c,o),c}function a(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function c(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var i,o,a,s,l=this.byteLength,u=t(r,l),c=l;return n!==e&&(c=t(n,l)),u>c?new ArrayBuffer(0):(i=c-u,o=new ArrayBuffer(i),a=new Uint8Array(o),s=new Uint8Array(this,u,i),a.set(s),o)}}(),c.prototype.append=function(e){return this.appendBinary(l(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),r=s(this._hash),e&&(r=u(r)),this.reset(),r},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var n,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,e),a=0;a<16;a+=1)e[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=i,e[15]=o,r(this._hash,e)},c.hash=function(e,t){return c.hashBinary(l(e),t)},c.hashBinary=function(e,t){var r=s(o(e));return t?u(r):r},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(e){var t,n,o,a,s=(n=this._buff.buffer,o=e,(a=new Uint8Array(n.byteLength+o.byteLength)).set(new Uint8Array(n)),a.set(new Uint8Array(o),n.byteLength),a),l=s.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)r(this._hash,i(s.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(s.buffer.slice(t-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n[t]<<(t%4<<3);return this._finish(o,i),r=s(this._hash),e&&(r=u(r)),this.reset(),r},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var e,t=c.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e){var t,r=e.length,n=new ArrayBuffer(r),i=new Uint8Array(n);for(t=0;t<r;t+=1)i[t]=e.charCodeAt(t);return i}(e.buff),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var n=s(function(e){var t,n,o,a,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)r(c,i(e.subarray(t-64,t)));for(n=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(c,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,o[14]=s,o[15]=l,r(c,o),c}(new Uint8Array(e)));return t?u(n):n},c},"object"===a(t)?e.exports=o():void 0===(i="function"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=i)},2629:(e,t,r)=>{var n=r(8657),i=r(1953),o=function(e,t,r){for(var n,i=e;null!=(n=i.next);i=n)if(n.key===t)return i.next=n.next,r||(n.next=e.next,e.next=n),n};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=function(e,t){if(e)return o(e,t,!0)}(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return function(e,t){if(e){var r=o(e,t);return r&&r.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!o(e,t)}(e,t)},set:function(t,r){e||(e={next:void 0}),function(e,t,r){var n=o(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(e,t,r)}};return t}},2634:()=>{},2703:e=>{var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),s=r(0,i.length-a.length),l=[],u=0;u<s;u++)l[u]="$"+u;if(o=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var t=i.apply(this,n(a,arguments));return Object(t)===t?t:this}return i.apply(e,n(a,arguments))}),i.prototype){var c=function(){};c.prototype=i.prototype,o.prototype=new c,c.prototype=null}return o}},2937:e=>{var t=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=Object.assign({},n,i),!e||"string"!=typeof e)return e;var o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if(i.hex&&t.test(o))return Number.parseInt(o,16);var a=r.exec(o);if(a){var s=a[1],l=a[2],u=function(e){return e&&-1!==e.indexOf(".")?("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e):e}(a[3]),c=a[4]||a[6];if(!i.leadingZeros&&l.length>0&&s&&"."!==o[2])return e;if(!i.leadingZeros&&l.length>0&&!s&&"."!==o[1])return e;var d=Number(o),f=""+d;return-1!==f.search(/[eE]/)||c?i.eNotation?d:e:-1!==o.indexOf(".")?"0"===f&&""===u||f===u||s&&f==="-"+u?d:e:l?u===f||s+u===f?d:e:o===f||o===s+f?d:e}return e}},3186:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Bq:()=>c,Gv:()=>o,OU:()=>l,V1:()=>u,fo:()=>a,mw:()=>i,qf:()=>s});var i=function(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)},o=function(e){return null!==e&&"object"===n(e)},a=function(e){return"[object File]"===Object.prototype.toString.call(e)},s=function(e){return"[object Blob]"===Object.prototype.toString.call(e)},l=function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},u=function(e){return"undefined"!=typeof FormData&&e instanceof FormData},c=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},3190:(e,t,r)=>{var n=r(8299),i=r(9472),o=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i([r]):r}},3216:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&o.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var u=r(6273),c=r(1976),d=r(6273);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return d.EndOfStreamError}});var f=function(){function e(t){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.s=t,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!t.read||!t.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",function(){return r.reject(new u.EndOfStreamError)}),this.s.once("error",function(e){return r.reject(e)}),this.s.once("close",function(){return r.reject(new Error("Stream closed"))})}var t,r,n,o,l;return t=e,r=[{key:"peek",value:(l=a(i().mark(function e(t,r,n){var o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.read(t,r,n);case 2:return o=e.sent,this.peekQueue.push(t.subarray(r,r+o)),e.abrupt("return",o);case 5:case"end":return e.stop()}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"read",value:(o=a(i().mark(function e(t,r,n){var o,a,s,l,c,d;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n){e.next=2;break}return e.abrupt("return",0);case 2:if(0!==this.peekQueue.length||!this.endOfStream){e.next=4;break}throw new u.EndOfStreamError;case 4:o=n,a=0;case 6:if(!(this.peekQueue.length>0&&o>0)){e.next=17;break}if(s=this.peekQueue.pop()){e.next=10;break}throw new Error("peekData should be defined");case 10:l=Math.min(s.length,o),t.set(s.subarray(0,l),r+a),a+=l,o-=l,l<s.length&&this.peekQueue.push(s.subarray(l)),e.next=6;break;case 17:if(!(o>0)||this.endOfStream){e.next=28;break}return c=Math.min(o,1048576),e.next=21,this.readFromStream(t,r+a,c);case 21:if(d=e.sent,a+=d,!(d<c)){e.next=25;break}return e.abrupt("break",28);case 25:o-=d,e.next=17;break;case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}},e,this)})),function(e,t,r){return o.apply(this,arguments)})},{key:"readFromStream",value:(n=a(i().mark(function e(t,r,n){var o,a,s=this;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=this.s.read(n))){e.next=6;break}return t.set(o,r),e.abrupt("return",o.length);case 6:return a={buffer:t,offset:r,length:n,deferred:new c.Deferred},this.deferred=a.deferred,this.s.once("readable",function(){s.readDeferred(a)}),e.abrupt("return",a.deferred.promise);case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"readDeferred",value:function(e){var t=this,r=this.s.read(e.length);r?(e.buffer.set(r,e.offset),e.deferred.resolve(r.length),this.deferred=null):this.s.once("readable",function(){t.readDeferred(e)})}},{key:"reject",value:function(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.StreamReader=f},3221:(e,t,r)=>{var n=r(8299),i=r(3190),o=r(8657),a=r(1953),s=n("%Map%",!0),l=i("Map.prototype.get",!0),u=i("Map.prototype.set",!0),c=i("Map.prototype.has",!0),d=i("Map.prototype.delete",!0),f=i("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=d(e,t);return 0===f(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&c(e,t)},set:function(t,r){e||(e=new s),u(e,t,r)}};return t}},3284:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(8796),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[]}var t,r;return t=e,(r=[{key:"enqueue",value:function(e,t){var r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)this._queue.push(r);else{var n=a.default(this._queue,r,function(e,t){return t.priority-e.priority});this._queue.splice(n,0,r)}}},{key:"dequeue",value:function(){var e=this._queue.shift();return null==e?void 0:e.run}},{key:"filter",value:function(e){return this._queue.filter(function(t){return t.priority===e.priority}).map(function(e){return e.run})}},{key:"size",get:function(){return this._queue.length}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=s},3441:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(8299),o=r(3190),a=r(8657),s=r(3221),l=r(1953),u=i("%WeakMap%",!0),c=o("WeakMap.prototype.get",!0),d=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),p=o("WeakMap.prototype.delete",!0);e.exports=u?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new l("Side channel does not contain "+a(e))},delete:function(r){if(u&&r&&("object"===n(r)||"function"==typeof r)){if(e)return p(e,r)}else if(s&&t)return t.delete(r);return!1},get:function(r){return u&&r&&("object"===n(r)||"function"==typeof r)&&e?c(e,r):t&&t.get(r)},has:function(r){return u&&r&&("object"===n(r)||"function"==typeof r)&&e?f(e,r):!!t&&t.has(r)},set:function(r,i){u&&r&&("object"===n(r)||"function"==typeof r)?(e||(e=new u),d(e,r,i)):s&&(t||(t=s()),t.set(r,i))}};return r}:s},3496:(e,t)=>{var r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+n+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,r){if(t)for(var n=Object.keys(t),i=n.length,o=0;o<i;o++)e[n[o]]="strict"===r?[t[n[o]]]:t[n[o]]},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==i.exec(e))},t.getAllMatches=function(e,t){for(var r=[],n=t.exec(e);n;){var i=[];i.startIndex=t.lastIndex-n[0].length;for(var o=n.length,a=0;a<o;a++)i.push(n[a]);r.push(i),n=t.exec(e)}return r},t.nameRegexp=n},3574:(e,t,r)=>{r.d(t,{U:()=>d});var n=r(1635),i=r(1227),o=r.n(i),a=r(3186),s=r(5934),l=r(9653),u=r(5076),c=o()("fs:request:xhr"),d=function(){function e(){}return e.prototype.request=function(e){var t=this;void 0===e.filestackHeaders&&(e.filestackHeaders=!0),(e=(0,u.cN)(e)).headers=e.headers||{};var r=e.data,i=e.headers;a.V1(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.blobResponse&&(o.responseType="blob"),e.auth){if(!e.auth.username||0===e.auth.username.length||!e.auth.password||0===e.auth.password.length)return Promise.reject(new l.d("Basic auth: username and password are required ".concat(e.auth),e));i.Authorization="Basic "+btoa(unescape(encodeURIComponent("".concat(e.auth.username,":").concat(e.auth.password)))),c("Set request authorization to %s",e.auth.username+e.auth.password)}var d=e.url.trim();return/^http(s)?:\/\//.test(d)||(d="https://".concat(d)),d=(0,u.D6)(d,e.params),c("Starting request to %s with options %O",d,e),o.open(e.method.toUpperCase(),d,!0),o.timeout=e.timeout,new Promise(function(a,f){var p;if(e.cancelToken&&(p=function(t){return o&&(o.abort(),o=null),c("Request canceled by user %s, config: %O",t,e),f(new l.d("Request aborted. Reason: ".concat(t),e,null,l.E.ABORTED))},e.cancelToken.once("cancel",p)),o.onreadystatechange=function(){return(0,n.sH)(t,void 0,void 0,function(){var t,r,i;return(0,n.YH)(this,function(n){switch(n.label){case 0:return o&&4===o.readyState&&(0!==o.status||o.responseURL)?(t=(0,u.qg)(o.getAllResponseHeaders()),r=o.response,i={data:r,status:o.status,statusText:o.statusText,headers:t,config:e},o=null,[4,(0,u.xp)(i)]):[2];case 1:return 500<=(i=n.sent()).status&&i.status<=599?(c("Server error(5xx) - %O",i),[2,f(new l.d("Server error ".concat(d),e,i,l.E.SERVER))]):400<=i.status&&i.status<=499?(c("Request error(4xx) - %O",i),[2,f(new l.d("Request error ".concat(d),e,i,l.E.REQUEST))]):(e.cancelToken&&(e.cancelToken.removeListener("cancel",p),p=null),[2,a(i)])}})})},o.onabort=function(){o&&(o=null,f(new l.d("Request aborted",e,null,l.E.ABORTED)))},o.onerror=function(t){o=null,c("Request error! %O",t),f(new l.d("Network Error",e,null,l.E.NETWORK))},o.ontimeout=function(){o=null,c("Request timed out. %O",e),f(new l.d("Request timeout",e,null,l.E.TIMEOUT))},"setRequestHeader"in o&&i&&Object.keys(i).length)for(var h in i)void 0!==i[h]&&(c("Set request header %s to %s",h,i[h]),o.setRequestHeader(h,i[h]));"function"==typeof e.onProgress&&[s.j.POST,s.j.PUT].indexOf(e.method)>-1&&(o.upload?(c("Bind to upload progress event"),o.upload.addEventListener("progress",e.onProgress)):(c("Bind to progress event"),o.addEventListener("progress",e.onProgress))),void 0===r&&(r=null),o.send(r)})},e}()},3581:(e,t,r)=>{var n=r(5759);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3772:(e,t,r)=>{function n(){n=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new D(n||[]);return o(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&i.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(n,o,s,l){var u=p(e[n],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==a(d)&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var n;o(this,"_invoke",{value:function(e,i){function o(){return new t(function(t,n){r(e,i,t,n)})}return n=n?n.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=_,o(E,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,l,"next",e)}function l(e){i(a,n,o,s,l,"throw",e)}s(void 0)})}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:String(t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var d=r(1310),f=r(4419),p=r(3284),h=function(){},g=new f.TimeoutError,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(w,e);var t,r,i,l,d,v,m,y,b=(m=w,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=c(m);if(y){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function w(e){var t,r,n,i,o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=b.call(this))._intervalCount=0,t._intervalEnd=0,t._pendingCount=0,t._resolveEmpty=h,t._resolveIdle=h,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:p.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(n=null===(r=e.intervalCap)||void 0===r?void 0:r.toString())&&void 0!==n?n:"","` (").concat(a(e.intervalCap),")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(o=null===(i=e.interval)||void 0===i?void 0:i.toString())&&void 0!==o?o:"","` (").concat(a(e.interval),")"));return t._carryoverConcurrencyCount=e.carryoverConcurrencyCount,t._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,t._intervalCap=e.intervalCap,t._interval=e.interval,t._queue=new e.queueClass,t._queueClass=e.queueClass,t.concurrency=e.concurrency,t._timeout=e.timeout,t._throwOnTimeout=!0===e.throwOnTimeout,t._isPaused=!1===e.autoStart,t}return t=w,r=[{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=h,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=h,this.emit("idle"))}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}},{key:"_isIntervalPaused",value:function(){var e=this,t=Date.now();if(void 0===this._intervalId){var r=this._intervalEnd-t;if(!(r<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(function(){e._onResumeInterval()},r)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){var e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){var t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var e=this;this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(function(){e._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}},{key:"_processQueue",value:function(){for(;this._tryToStartAnother(););}},{key:"concurrency",get:function(){return this._concurrency},set:function(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat(a(e),")"));this._concurrency=e,this._processQueue()}},{key:"add",value:(v=o(n().mark(function e(t){var r,i=this,a=arguments;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",new Promise(function(e,a){var s=function(){var s=o(n().mark(function o(){var s;return n().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i._pendingCount++,i._intervalCount++,n.prev=2,s=void 0===i._timeout&&void 0===r.timeout?t():f.default(Promise.resolve(t()),void 0===r.timeout?i._timeout:r.timeout,function(){(void 0===r.throwOnTimeout?i._throwOnTimeout:r.throwOnTimeout)&&a(g)}),n.t0=e,n.next=7,s;case 7:n.t1=n.sent,(0,n.t0)(n.t1),n.next=14;break;case 11:n.prev=11,n.t2=n.catch(2),a(n.t2);case 14:i._next();case 15:case"end":return n.stop()}},o,null,[[2,11]])}));return function(){return s.apply(this,arguments)}}();i._queue.enqueue(s,r),i._tryToStartAnother(),i.emit("add")}));case 2:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)})},{key:"addAll",value:(d=o(n().mark(function e(t,r){var i=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=o(n().mark(function e(t){return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.add(t,r));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)})},{key:"start",value:function(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this._queue=new this._queueClass}},{key:"onEmpty",value:(l=o(n().mark(function e(){var t=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._queue.size){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise(function(e){var r=t._resolveEmpty;t._resolveEmpty=function(){r(),e()}}));case 3:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"onIdle",value:(i=o(n().mark(function e(){var t=this;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._pendingCount||0!==this._queue.size){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise(function(e){var r=t._resolveIdle;t._resolveIdle=function(){r(),e()}}));case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"size",get:function(){return this._queue.size}},{key:"sizeBy",value:function(e){return this._queue.filter(e).length}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}},{key:"timeout",get:function(){return this._timeout},set:function(e){this._timeout=e}}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),w}(d);t.A=v},3988:(e,t,r)=>{var n=r(6889),i=r(9367),o=r(9292);e.exports={formats:o,parse:i,stringify:n}},4021:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;var n=r(4256),i=r(4974),o=r(1787);Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),t.fromStream=function(e,t){return t=t||{},new n.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},4218:e=>{e.exports=Math.floor},4256:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&o.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;var d=r(1090),f=r(1787),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(m,e);var t,r,o,l,d,p,h,g,v=(h=m,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=c(h);if(g){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function m(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(r=v.call(this,t)).streamReader=new f.StreamReader(e),r}return t=m,r=[{key:"getFileInfo",value:(p=a(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fileInfo);case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"readBuffer",value:(d=a(i().mark(function e(t,r){var n,o,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.normalizeOptions(t,r),!((o=n.position-this.position)>0)){e.next=8;break}return e.next=5,this.ignore(o);case 5:return e.abrupt("return",this.readBuffer(t,r));case 8:if(!(o<0)){e.next=10;break}throw new Error("`options.position` must be equal or greater than `tokenizer.position`");case 10:if(0!==n.length){e.next=12;break}return e.abrupt("return",0);case 12:return e.next=14,this.streamReader.read(t,n.offset,n.length);case 14:if(a=e.sent,this.position+=a,r&&r.mayBeLess||!(a<n.length)){e.next=18;break}throw new f.EndOfStreamError;case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}},e,this)})),function(e,t){return d.apply(this,arguments)})},{key:"peekBuffer",value:(l=a(i().mark(function e(t,r){var n,o,a,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.normalizeOptions(t,r),o=0,!n.position){e.next=15;break}if(!((a=n.position-this.position)>0)){e.next=13;break}return s=new Uint8Array(n.length+a),e.next=8,this.peekBuffer(s,{mayBeLess:n.mayBeLess});case 8:return o=e.sent,t.set(s.subarray(a),n.offset),e.abrupt("return",o-a);case 13:if(!(a<0)){e.next=15;break}throw new Error("Cannot peek from a negative offset in a stream");case 15:if(!(n.length>0)){e.next=29;break}return e.prev=16,e.next=19,this.streamReader.peek(t,n.offset,n.length);case 19:o=e.sent,e.next=27;break;case 22:if(e.prev=22,e.t0=e.catch(16),!(r&&r.mayBeLess&&e.t0 instanceof f.EndOfStreamError)){e.next=26;break}return e.abrupt("return",0);case 26:throw e.t0;case 27:if(n.mayBeLess||!(o<n.length)){e.next=29;break}throw new f.EndOfStreamError;case 29:return e.abrupt("return",o);case 30:case"end":return e.stop()}},e,this,[[16,22]])})),function(e,t){return l.apply(this,arguments)})},{key:"ignore",value:(o=a(i().mark(function e(t){var r,n,o,a,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.min(256e3,t),n=new Uint8Array(r),o=0;case 3:if(!(o<t)){e.next=13;break}return a=t-o,e.next=7,this.readBuffer(n,{length:Math.min(r,a)});case 7:if(!((s=e.sent)<0)){e.next=10;break}return e.abrupt("return",s);case 10:o+=s,e.next=3;break;case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),m}(d.AbstractTokenizer);t.ReadStreamTokenizer=p},4282:(e,t,r)=>{e.exports.Validator=r(428);r(1371).ValidatorResult,r(1371).ValidatorResultError,r(1371).ValidationError,r(1371).SchemaError,r(5605),r(5605).S},4379:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===t(Symbol.iterator))return!0;var e={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var i in e[r]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,r);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},4397:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&o.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromStream=t.fromBuffer=t.EndOfStreamError=t.fromFile=void 0;var a=r(6665),s=r(4021),l=r(5158);Object.defineProperty(t,"fromFile",{enumerable:!0,get:function(){return l.fromFile}});var u=r(4021);function c(){var e;return e=i().mark(function e(t,r){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=r||{},!t.path){e.next=7;break}return e.next=4,a.stat(t.path);case 4:n=e.sent,r.path=t.path,r.size=n.size;case 7:return e.abrupt("return",s.fromStream(t,r));case 8:case"end":return e.stop()}},e)}),c=function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})},c.apply(this,arguments)}Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return u.EndOfStreamError}}),Object.defineProperty(t,"fromBuffer",{enumerable:!0,get:function(){return u.fromBuffer}}),t.fromStream=function(e,t){return c.apply(this,arguments)}},4419:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},i(e)}function o(e,t,r){return o=a()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&s(i,r.prototype),i},o.apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=r(9927),c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,r,i,o=(r=u,i=a(),function(){var e,t=l(r);if(i){var o=l(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=o.call(this,e)).name="TimeoutError",t}return t=u,Object.defineProperty(t,"prototype",{writable:!1}),t}(i(Error)),d=function(e,t,r){return new Promise(function(n,i){if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t!==1/0){var o=setTimeout(function(){if("function"!=typeof r){var o="string"==typeof r?r:"Promise timed out after ".concat(t," milliseconds"),a=r instanceof Error?r:new c(o);"function"==typeof e.cancel&&e.cancel(),i(a)}else try{n(r())}catch(e){i(e)}},t);u(e.then(n,i),function(){clearTimeout(o)})}else n(e)})};e.exports=d,e.exports.default=d,e.exports.TimeoutError=c},4428:()=>{},4509:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(9292),o=Object.prototype.hasOwnProperty,a=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},u=1024;e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],s=o.obj[o.prop],l=Object.keys(s),u=0;u<l.length;++u){var c=l[u],d=s[c];"object"===n(d)&&null!==d&&-1===r.indexOf(d)&&(t.push({obj:s,prop:c}),r.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,o,a){if(0===e.length)return e;var l=e;if("symbol"===n(e)?l=Symbol.prototype.toString.call(e):"string"!=typeof e&&(l=String(e)),"iso-8859-1"===r)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var c="",d=0;d<l.length;d+=u){for(var f=l.length>=u?l.slice(d,d+u):l,p=[],h=0;h<f.length;++h){var g=f.charCodeAt(h);45===g||46===g||95===g||126===g||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||a===i.RFC1738&&(40===g||41===g)?p[p.length]=f.charAt(h):g<128?p[p.length]=s[g]:g<2048?p[p.length]=s[192|g>>6]+s[128|63&g]:g<55296||g>=57344?p[p.length]=s[224|g>>12]+s[128|g>>6&63]+s[128|63&g]:(h+=1,g=65536+((1023&g)<<10|1023&f.charCodeAt(h)),p[p.length]=s[240|g>>18]+s[128|g>>12&63]+s[128|g>>6&63]+s[128|63&g])}c+=p.join("")}return c},isBuffer:function(e){return!(!e||"object"!==n(e)||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!==n(r)&&"function"!=typeof r){if(a(t))t.push(r);else{if(!t||"object"!==n(t))return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==n(t))return[t].concat(r);var s=t;return a(t)&&!a(r)&&(s=l(t,i)),a(t)&&a(r)?(r.forEach(function(r,a){if(o.call(t,a)){var s=t[a];s&&"object"===n(s)&&r&&"object"===n(r)?t[a]=e(s,r,i):t.push(r)}else t[a]=r}),t):Object.keys(r).reduce(function(t,n){var a=r[n];return o.call(t,n)?t[n]=e(t[n],a,i):t[n]=a,t},s)}}},4542:(e,t)=>{var r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};t.buildOptions=function(e){return Object.assign({},r,e)},t.defaultOptions=r},4872:(e,t,r)=>{var n=r(1545).hp;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;var u=r(6773);function c(e){return new DataView(e.buffer,e.byteOffset)}t.UINT8={len:1,get:function(e,t){return c(e).getUint8(t)},put:function(e,t,r){return c(e).setUint8(t,r),t+1}},t.UINT16_LE={len:2,get:function(e,t){return c(e).getUint16(t,!0)},put:function(e,t,r){return c(e).setUint16(t,r,!0),t+2}},t.UINT16_BE={len:2,get:function(e,t){return c(e).getUint16(t)},put:function(e,t,r){return c(e).setUint16(t,r),t+2}},t.UINT24_LE={len:3,get:function(e,t){var r=c(e);return r.getUint8(t)+(r.getUint16(t+1,!0)<<8)},put:function(e,t,r){var n=c(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.UINT24_BE={len:3,get:function(e,t){var r=c(e);return(r.getUint16(t)<<8)+r.getUint8(t+2)},put:function(e,t,r){var n=c(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.UINT32_LE={len:4,get:function(e,t){return c(e).getUint32(t,!0)},put:function(e,t,r){return c(e).setUint32(t,r,!0),t+4}},t.UINT32_BE={len:4,get:function(e,t){return c(e).getUint32(t)},put:function(e,t,r){return c(e).setUint32(t,r),t+4}},t.INT8={len:1,get:function(e,t){return c(e).getInt8(t)},put:function(e,t,r){return c(e).setInt8(t,r),t+1}},t.INT16_BE={len:2,get:function(e,t){return c(e).getInt16(t)},put:function(e,t,r){return c(e).setInt16(t,r),t+2}},t.INT16_LE={len:2,get:function(e,t){return c(e).getInt16(t,!0)},put:function(e,t,r){return c(e).setInt16(t,r,!0),t+2}},t.INT24_LE={len:3,get:function(e,r){var n=t.UINT24_LE.get(e,r);return n>8388607?n-16777216:n},put:function(e,t,r){var n=c(e);return n.setUint8(t,255&r),n.setUint16(t+1,r>>8,!0),t+3}},t.INT24_BE={len:3,get:function(e,r){var n=t.UINT24_BE.get(e,r);return n>8388607?n-16777216:n},put:function(e,t,r){var n=c(e);return n.setUint16(t,r>>8),n.setUint8(t+2,255&r),t+3}},t.INT32_BE={len:4,get:function(e,t){return c(e).getInt32(t)},put:function(e,t,r){return c(e).setInt32(t,r),t+4}},t.INT32_LE={len:4,get:function(e,t){return c(e).getInt32(t,!0)},put:function(e,t,r){return c(e).setInt32(t,r,!0),t+4}},t.UINT64_LE={len:8,get:function(e,t){return c(e).getBigUint64(t,!0)},put:function(e,t,r){return c(e).setBigUint64(t,r,!0),t+8}},t.INT64_LE={len:8,get:function(e,t){return c(e).getBigInt64(t,!0)},put:function(e,t,r){return c(e).setBigInt64(t,r,!0),t+8}},t.UINT64_BE={len:8,get:function(e,t){return c(e).getBigUint64(t)},put:function(e,t,r){return c(e).setBigUint64(t,r),t+8}},t.INT64_BE={len:8,get:function(e,t){return c(e).getBigInt64(t)},put:function(e,t,r){return c(e).setBigInt64(t,r),t+8}},t.Float16_BE={len:2,get:function(e,t){return u.read(e,t,!1,10,this.len)},put:function(e,t,r){return u.write(e,r,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get:function(e,t){return u.read(e,t,!0,10,this.len)},put:function(e,t,r){return u.write(e,r,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get:function(e,t){return c(e).getFloat32(t)},put:function(e,t,r){return c(e).setFloat32(t,r),t+4}},t.Float32_LE={len:4,get:function(e,t){return c(e).getFloat32(t,!0)},put:function(e,t,r){return c(e).setFloat32(t,r,!0),t+4}},t.Float64_BE={len:8,get:function(e,t){return c(e).getFloat64(t)},put:function(e,t,r){return c(e).setFloat64(t,r),t+8}},t.Float64_LE={len:8,get:function(e,t){return c(e).getFloat64(t,!0)},put:function(e,t,r){return c(e).setFloat64(t,r,!0),t+8}},t.Float80_BE={len:10,get:function(e,t){return u.read(e,t,!1,63,this.len)},put:function(e,t,r){return u.write(e,r,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get:function(e,t){return u.read(e,t,!0,63,this.len)},put:function(e,t,r){return u.write(e,r,t,!0,63,this.len),t+this.len}};var d=function(){function e(t){o(this,e),this.len=t}return s(e,[{key:"get",value:function(e,t){}}]),e}();t.IgnoreType=d;var f=function(){function e(t){o(this,e),this.len=t}return s(e,[{key:"get",value:function(e,t){return e.subarray(t,t+this.len)}}]),e}();t.Uint8ArrayType=f;var p=function(){function e(t){o(this,e),this.len=t}return s(e,[{key:"get",value:function(e,t){return n.from(e.subarray(t,t+this.len))}}]),e}();t.BufferType=p;var h=function(){function e(t,r){o(this,e),this.len=t,this.encoding=r}return s(e,[{key:"get",value:function(e,t){return n.from(e).toString(this.encoding,t,t+this.len)}}]),e}();t.StringType=h;var g=function(){function e(t){o(this,e),this.len=t}return s(e,[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.decode(t,r,r+this.len)}}],[{key:"decode",value:function(t,r,n){for(var i="",o=r;o<n;++o)i+=e.codePointToString(e.singleByteDecoder(t[o]));return i}},{key:"inRange",value:function(e,t,r){return t<=e&&e<=r}},{key:"codePointToString",value:function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}},{key:"singleByteDecoder",value:function(t){if(e.inRange(t,0,127))return t;var r=e.windows1252[t-128];if(null===r)throw Error("invaliding encoding");return r}}]),e}();t.AnsiStringType=g,g.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},4940:e=>{e.exports=Math.abs},4974:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&o.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;var d=r(1787),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(v,e);var t,r,o,l,f,p,h,g=(p=v,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=c(p);if(h){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function v(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(r=g.call(this,t)).uint8Array=e,r.fileInfo.size=r.fileInfo.size?r.fileInfo.size:e.length,r}return t=v,r=[{key:"readBuffer",value:(f=a(i().mark(function e(t,r){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!r.position){e.next=4;break}if(!(r.position<this.position)){e.next=3;break}throw new Error("`options.position` must be equal or greater than `tokenizer.position`");case 3:this.position=r.position;case 4:return e.next=6,this.peekBuffer(t,r);case 6:return n=e.sent,this.position+=n,e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(e,t){return f.apply(this,arguments)})},{key:"peekBuffer",value:(l=a(i().mark(function e(t,r){var n,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.normalizeOptions(t,r),o=Math.min(this.uint8Array.length-n.position,n.length),n.mayBeLess||!(o<n.length)){e.next=6;break}throw new d.EndOfStreamError;case 6:return t.set(this.uint8Array.subarray(n.position,n.position+o),n.offset),e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"close",value:(o=a(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),v}(r(1090).AbstractTokenizer);t.BufferTokenizer=f},5049:e=>{var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},5076:(e,t,r)=>{r.d(t,{D6:()=>v,qg:()=>o,xp:()=>g,cN:()=>p,Sc:()=>y.S});var n=r(3186),i=["expires","from","host","if-modified-since","if-unmodified-since","age","authorization","content-length","content-type","etag","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],o=function(e){var t,r,o,a={};return e?(e.split("\n").forEach(function(e){o=e.indexOf(":"),t=(0,n.Bq)(e.substr(0,o)).toLowerCase(),r=(0,n.Bq)(e.substr(o+1)),t&&(a[t]&&i.indexOf(t)>=0||(a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r))}),a):a},a=function(e,t,r,n){void 0===n&&(n=!1);var i=s(t);return e||(e={}),void 0===(e=JSON.parse(JSON.stringify(e)))[t]&&void 0===e[i]?e[i]=r:n&&(delete e[t],e[i]=r),e},s=function(e){return{"content-md5":"Content-MD5",dnt:"DNT",etag:"ETag","last-event-id":"Last-Event-ID",tcn:"TCN",te:"TE","www-authenticate":"WWW-Authenticate","x-dnsprefetch-control":"X-DNSPrefetch-Control"}[e.toLowerCase()]||e.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}).join("-")},l=r(1635),u=r(9414),c=r(7184),d=r(1227),f=r.n(d)()("fs:request:data"),p=function(e){return e=h(e),(0,n.V1)(e.data)||(e.data,0)||(e.data,0)||(0,n.fo)(e.data)||(0,n.qf)(e.data)||(0,n.mw)(e.data)||((0,n.OU)(e.data)?(e.headers=a(e.headers,"content-type","application/x-www-form-urlencoded;charset=utf-8"),e.data=e.data.toString()):(0,n.Gv)(e.data)&&(e.headers=a(e.headers,"content-type","application/json",!0),e.data=JSON.stringify(e.data))),e},h=function(e){return e.filestackHeaders?(e.headers=a(e.headers,"filestack-source",(0,u.getVersion)()),e.headers=a(e.headers,"filestack-trace-id","".concat(Math.floor(Date.now()/1e3),"-").concat((0,u.uniqueId)())),e.headers=a(e.headers,"filestack-trace-span","jssdk-".concat((0,u.uniqueId)())),e):e},g=function(e){return(0,l.sH)(void 0,void 0,void 0,function(){var t,r;return(0,l.YH)(this,function(n){if(!e.headers||!e.headers["content-type"])return[2,Promise.resolve(e)];if(t=e.headers["content-type"],/application\/json/.test(t))try{e.data=JSON.parse(e.data)}catch(t){f("Cannot parse response %O - %O",e.data,e.headers)}else/text\/(plain|html)/.test(t)?e.data:/application\/xml/.test(t)&&(r=e.data,e.data,!0===c.XMLValidator.validate(r)&&(e.data=new c.XMLParser({ignoreDeclaration:!0,ignoreAttributes:!0,trimValues:!0}).parse(r)));return[2,Promise.resolve(e)]})})},v=function(e,t){if(!t)return e;var r=m(t),n=e.indexOf("#");return-1!==n&&(e=e.slice(0,n)),e+(-1===e.indexOf("?")?"?":"&")+r},m=function(e){return Object.keys(e).filter(function(t){return t&&void 0!==e[t]}).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")},y=r(6854)},5118:e=>{e.exports=Function.prototype.call},5158:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&o.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromFile=t.FileTokenizer=void 0;var d=r(1090),f=r(1787),p=r(6665),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(m,e);var t,r,o,l,d,h,g,v=(h=m,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=c(h);if(g){var r=c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function m(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(r=v.call(this,t)).fd=e,r}return t=m,r=[{key:"readBuffer",value:(d=a(i().mark(function e(t,r){var n,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.normalizeOptions(t,r),this.position=n.position,e.next=4,p.read(this.fd,t,n.offset,n.length,n.position);case 4:if(o=e.sent,this.position+=o.bytesRead,!(o.bytesRead<n.length)||r&&r.mayBeLess){e.next=8;break}throw new f.EndOfStreamError;case 8:return e.abrupt("return",o.bytesRead);case 9:case"end":return e.stop()}},e,this)})),function(e,t){return d.apply(this,arguments)})},{key:"peekBuffer",value:(l=a(i().mark(function e(t,r){var n,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.normalizeOptions(t,r),e.next=3,p.read(this.fd,t,n.offset,n.length,n.position);case 3:if(o=e.sent,n.mayBeLess||!(o.bytesRead<n.length)){e.next=6;break}throw new f.EndOfStreamError;case 6:return e.abrupt("return",o.bytesRead);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"close",value:(o=a(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.close(this.fd));case 1:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),m}(d.AbstractTokenizer);function g(){return(g=a(i().mark(function e(t){var r,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.stat(t);case 2:if((r=e.sent).isFile){e.next=5;break}throw new Error("File not a file: ".concat(t));case 5:return e.next=7,p.open(t,"r");case 7:return n=e.sent,e.abrupt("return",new h(n,{path:t,size:r.size}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.FileTokenizer=h,t.fromFile=function(e){return g.apply(this,arguments)}},5417:function(e,t,r){var n;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}e=r.nmd(e),function(o){var a="object"==i(t)&&t&&!t.nodeType&&t,s="object"==i(e)&&e&&!e.nodeType&&e,l="object"==(void 0===r.g?"undefined":i(r.g))&&r.g;l.global!==l&&l.window!==l&&l.self!==l||(o=l);var u,c,d=2147483647,f=36,p=/^xn--/,h=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,y=String.fromCharCode;function b(e){throw new RangeError(v[e])}function w(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function _(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+w((e=e.replace(g,".")).split("."),t).join(".")}function S(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function k(e){return w(e,function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+y(e)}).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;n+=f)e=m(e/35);return m(n+36*e/(e+38))}function x(e){var t,r,n,i,o,a,s,l,u,c,p,h=[],g=e.length,v=0,y=128,w=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&b("not-basic"),h.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=v,a=1,s=f;i>=g&&b("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:f)>=f||l>m((d-v)/a))&&b("overflow"),v+=l*a,!(l<(u=s<=w?1:s>=w+26?26:s-w));s+=f)a>m(d/(c=f-u))&&b("overflow"),a*=c;w=E(v-o,t=h.length+1,0==o),m(v/t)>d-y&&b("overflow"),y+=m(v/t),v%=t,h.splice(v++,0,y)}return k(h)}function C(e){var t,r,n,i,o,a,s,l,u,c,p,h,g,v,w,_=[];for(h=(e=S(e)).length,t=128,r=0,o=72,a=0;a<h;++a)(p=e[a])<128&&_.push(y(p));for(n=i=_.length,i&&_.push("-");n<h;){for(s=d,a=0;a<h;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>m((d-r)/(g=n+1))&&b("overflow"),r+=(s-t)*g,t=s,a=0;a<h;++a)if((p=e[a])<t&&++r>d&&b("overflow"),p==t){for(l=r,u=f;!(l<(c=u<=o?1:u>=o+26?26:u-o));u+=f)w=l-c,v=f-c,_.push(y(P(c+w%v,0))),l=m(w/v);_.push(y(P(l,0))),o=E(r,g,n==i),r=0,++n}++r,++t}return _.join("")}if(u={version:"1.4.1",ucs2:{decode:S,encode:k},decode:x,encode:C,toASCII:function(e){return _(e,function(e){return h.test(e)?"xn--"+C(e):e})},toUnicode:function(e){return _(e,function(e){return p.test(e)?x(e.slice(4).toLowerCase()):e})}},"object"==i(r.amdO)&&r.amdO)void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n);else if(a&&s)if(e.exports==a)s.exports=u;else for(c in u)u.hasOwnProperty(c)&&(a[c]=u[c]);else o.punycode=u}(this)},5465:(e,t,r)=>{var n=r(2703);e.exports=Function.prototype.bind||n},5586:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(1622),o=r(9302),a=r(8950);e.exports=i?function(e){return i(e)}:o?function(e){if(!e||"object"!==n(e)&&"function"!=typeof e)throw new TypeError("getProto: not an object");return o(e)}:a?function(e){return a(e)}:null},5605:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(1837),o=r(1371);function a(e,t){this.id=e,this.ref=t}e.exports.S=function(e,t){function r(e,t){if(t&&"object"==n(t))if(t.$ref){var a=i.resolve(e,t.$ref);c[a]=c[a]?c[a]+1:0}else{var d=t.$id||t.id,f=d?i.resolve(e,d):e;if(f){if(f.indexOf("#")<0&&(f+="#"),u[f]){if(!o.deepCompareStrict(u[f],t))throw new Error("Schema <"+f+"> already exists with different definition");return u[f]}u[f]=t,"#"==f[f.length-1]&&(u[f.substring(0,f.length-1)]=t)}s(f+"/items",Array.isArray(t.items)?t.items:[t.items]),s(f+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),r(f+"/additionalItems",t.additionalItems),l(f+"/properties",t.properties),r(f+"/additionalProperties",t.additionalProperties),l(f+"/definitions",t.definitions),l(f+"/patternProperties",t.patternProperties),l(f+"/dependencies",t.dependencies),s(f+"/disallow",t.disallow),s(f+"/allOf",t.allOf),s(f+"/anyOf",t.anyOf),s(f+"/oneOf",t.oneOf),r(f+"/not",t.not)}}function s(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)r(e+"/"+n,t[n])}function l(e,t){if(t&&"object"==n(t))for(var i in t)r(e+"/"+i,t[i])}var u={},c={};return r(e,t),new a(u,c)}},5759:e=>{e.exports=Object.getOwnPropertyDescriptor},5768:(e,t)=>{t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],l=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,l)),c=0,d=l>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===l&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===l&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},5934:(e,t,r)=>{var n;r.d(t,{j:()=>n}),function(e){e.GET="GET",e.DELETE="DELETE",e.HEAD="HEAD",e.PURGE="PURGE",e.OPTIONS="OPTIONS",e.POST="POST",e.PUT="PUT",e.PATH="PATH"}(n||(n={}))},6076:e=>{e.exports=ReferenceError},6114:e=>{e.exports=Math.pow},6234:(e,t,r)=>{var n=r(1371),i=n.ValidatorResult,o=n.SchemaError,a={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},s=a.validators={};function l(e,t,r,n,i){var o=t.throwError,a=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,i,t,r);return t.throwError=o,t.throwAll=a,!s.valid&&n instanceof Function&&n(s),s.valid}function u(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function c(e,t,r,n,i,o){if(this.types.object(e)&&(!t.properties||void 0===t.properties[i]))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var a=t.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,i,a,r,n);var s=this.validateSchema(e[i],a,r,n.makeChild(a,i));s.instance!==o.instance[i]&&(o.instance[i]=s.instance),o.importErrors(s)}}s.type=function(e,t,r,n){if(void 0===e)return null;var o=new i(e,t,r,n),a=Array.isArray(t.type)?t.type:[t.type];if(!a.some(this.testType.bind(this,e,t,r,n))){var s=a.map(function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}});o.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return o},s.anyOf=function(e,t,r,n){if(void 0===e)return null;var a=new i(e,t,r,n),s=new i(e,t,r,n);if(!Array.isArray(t.anyOf))throw new o("anyOf must be an array");if(!t.anyOf.some(l.bind(this,e,r,n,function(e){s.importErrors(e)}))){var u=t.anyOf.map(function(e,t){var r=e.$id||e.id;return r?"<"+r+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});r.nestedErrors&&a.importErrors(s),a.addError({name:"anyOf",argument:u,message:"is not any of "+u.join(",")})}return a},s.allOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new o("allOf must be an array");var a=new i(e,t,r,n),s=this;return t.allOf.forEach(function(t,i){var o=s.validateSchema(e,t,r,n);if(!o.valid){var l=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+i+"]";a.addError({name:"allOf",argument:{id:l,length:o.errors.length,valid:o},message:"does not match allOf schema "+l+" with "+o.errors.length+" error[s]:"}),a.importErrors(o)}}),a},s.oneOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new o("oneOf must be an array");var a=new i(e,t,r,n),s=new i(e,t,r,n),u=t.oneOf.filter(l.bind(this,e,r,n,function(e){s.importErrors(e)})).length,c=t.oneOf.map(function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});return 1!==u&&(r.nestedErrors&&a.importErrors(s),a.addError({name:"oneOf",argument:c,message:"is not exactly one from "+c.join(",")})),a},s.if=function(e,t,r,o){if(void 0===e)return null;if(!n.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var a,s=l.call(this,e,r,o,null,t.if),u=new i(e,t,r,o);if(s){if(void 0===t.then)return;if(!n.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(e,t.then,r,o.makeChild(t.then)),u.importErrors(a)}else{if(void 0===t.else)return;if(!n.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(e,t.else,r,o.makeChild(t.else)),u.importErrors(a)}return u},s.propertyNames=function(e,t,r,a){if(this.types.object(e)){var s=new i(e,t,r,a),l=void 0!==t.propertyNames?t.propertyNames:{};if(!n.isSchema(l))throw new o('Expected "propertyNames" to be a schema (object or boolean)');for(var c in e)if(void 0!==u(e,c)){var d=this.validateSchema(c,l,r,a.makeChild(l));s.importErrors(d)}return s}},s.properties=function(e,t,r,n){if(this.types.object(e)){var a=new i(e,t,r,n),s=t.properties||{};for(var l in s){var c=s[l];if(void 0!==c){if(null===c)throw new o('Unexpected null, expected schema in "properties"');"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,l,c,r,n);var d=u(e,l),f=this.validateSchema(d,c,r,n.makeChild(c,l));f.instance!==a.instance[l]&&(a.instance[l]=f.instance),a.importErrors(f)}}return a}},s.patternProperties=function(e,t,r,n){if(this.types.object(e)){var a=new i(e,t,r,n),s=t.patternProperties||{};for(var l in e){var u=!0;for(var d in s){var f=s[d];if(void 0!==f){if(null===f)throw new o('Unexpected null, expected schema in "patternProperties"');try{var p=new RegExp(d,"u")}catch(e){p=new RegExp(d)}if(p.test(l)){u=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,l,f,r,n);var h=this.validateSchema(e[l],f,r,n.makeChild(f,l));h.instance!==a.instance[l]&&(a.instance[l]=h.instance),a.importErrors(h)}}}u&&c.call(this,e,t,r,n,l,a)}return a}},s.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var o=new i(e,t,r,n);for(var a in e)c.call(this,e,t,r,n,a,o);return o}},s.minProperties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n);return Object.keys(e).length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}},s.maxProperties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n);return Object.keys(e).length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}},s.items=function(e,t,r,n){var o=this;if(this.types.array(e)&&void 0!==t.items){var a=new i(e,t,r,n);return e.every(function(e,i){if(Array.isArray(t.items))var s=void 0===t.items[i]?t.additionalItems:t.items[i];else s=t.items;if(void 0===s)return!0;if(!1===s)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var l=o.validateSchema(e,s,r,n.makeChild(s,i));return l.instance!==a.instance[i]&&(a.instance[i]=l.instance),a.importErrors(l),!0}),a}},s.contains=function(e,t,r,o){var a=this;if(this.types.array(e)&&void 0!==t.contains){if(!n.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var s=new i(e,t,r,o);return!1===e.some(function(e,n){return 0===a.validateSchema(e,t.contains,r,o.makeChild(t.contains,n)).errors.length})&&s.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),s}},s.minimum=function(e,t,r,n){if(this.types.number(e)){var o=new i(e,t,r,n);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),o}},s.maximum=function(e,t,r,n){if(this.types.number(e)){var o=new i(e,t,r,n);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),o}},s.exclusiveMinimum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var o=new i(e,t,r,n);return e>t.exclusiveMinimum||o.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),o}},s.exclusiveMaximum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var o=new i(e,t,r,n);return e<t.exclusiveMaximum||o.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),o}};var d=function(e,t,r,a,s,l){if(this.types.number(e)){var u=t[s];if(0==u)throw new o(s+" cannot be zero");var c=new i(e,t,r,a),d=n.getDecimalPlaces(e),f=n.getDecimalPlaces(u),p=Math.max(d,f),h=Math.pow(10,p);return Math.round(e*h)%Math.round(u*h)!=0&&c.addError({name:s,argument:u,message:l+JSON.stringify(u)}),c}};function f(e,t,r){var i,o=r.length;for(i=t+1;i<o;i++)if(n.deepCompareStrict(e,r[i]))return!1;return!0}s.multipleOf=function(e,t,r,n){return d.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(e,t,r,n){return d.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(e,t,r,n){var o=new i(e,t,r,n);return void 0===e&&!0===t.required?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(t){void 0===u(e,t)&&o.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),o},s.pattern=function(e,t,r,n){if(this.types.string(e)){var o=new i(e,t,r,n),a=t.pattern;try{var s=new RegExp(a,"u")}catch(e){s=new RegExp(a)}return e.match(s)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),o}},s.format=function(e,t,r,o){if(void 0!==e){var a=new i(e,t,r,o);return a.disableFormat||n.isFormat(e,t.format,this)||a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a}},s.minLength=function(e,t,r,n){if(this.types.string(e)){var o=new i(e,t,r,n),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}},s.maxLength=function(e,t,r,n){if(this.types.string(e)){var o=new i(e,t,r,n),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}},s.minItems=function(e,t,r,n){if(this.types.array(e)){var o=new i(e,t,r,n);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}},s.maxItems=function(e,t,r,n){if(this.types.array(e)){var o=new i(e,t,r,n);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}},s.uniqueItems=function(e,t,r,n){if(!0===t.uniqueItems&&this.types.array(e)){var o=new i(e,t,r,n);return e.every(f)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},s.dependencies=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n);for(var a in t.dependencies)if(void 0!==e[a]){var s=t.dependencies[a],l=n.makeChild(s,a);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach(function(t){void 0===e[t]&&o.addError({name:"dependencies",argument:l.propertyPath,message:"property "+t+" not found, required by "+l.propertyPath})});else{var u=this.validateSchema(e,s,r,l);o.instance!==u.instance&&(o.instance=u.instance),u&&u.errors.length&&(o.addError({name:"dependencies",argument:l.propertyPath,message:"does not meet dependency required by "+l.propertyPath}),o.importErrors(u))}}return o}},s.enum=function(e,t,r,a){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new o("enum expects an array",t);var s=new i(e,t,r,a);return t.enum.some(n.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s},s.const=function(e,t,r,o){if(void 0===e)return null;var a=new i(e,t,r,o);return n.deepCompareStrict(t.const,e)||a.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),a},s.not=s.disallow=function(e,t,r,n){var o=this;if(void 0===e)return null;var a=new i(e,t,r,n),s=t.not||t.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach(function(i){if(o.testType(e,t,r,n,i)){var s=i&&(i.$id||i.id)||i;a.addError({name:"not",argument:s,message:"is of prohibited type "+s})}}),a):null},e.exports=a},6273:(e,t)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){var t="function"==typeof Map?new Map:void 0;return n=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return i(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},n(e)}function i(e,t,r){return i=o()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i},i.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(c,e);var n,i,l,u=(i=c,l=o(),function(){var e,t=s(i);if(l){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),u.call(this,t.defaultMessages)}return n=c,Object.defineProperty(n,"prototype",{writable:!1}),n}(n(Error));t.EndOfStreamError=l},6274:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},6402:(e,t,r)=>{var n=r(1953),i=r(8657),o=r(2629),a=r(3221),s=r(3441)||a||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=s()),e.set(t,r)}};return t}},6665:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new D(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",g="suspendedYield",v="executing",m="completed",y={};function b(){}function w(){}function _(){}var S={};d(S,l,function(){return this});var k=Object.getPrototypeOf,P=k&&k(k(L([])));P&&P!==r&&o.call(P,l)&&(S=P);var E=_.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function r(i,a,s,l){var u=p(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,l)},function(e){r("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return r("throw",e,s,l)})}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:g,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=_,a(E,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(C.prototype),d(C.prototype,u,function(){return this}),t.AsyncIterator=C,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new C(f(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),d(E,c,"Generator"),d(E,l,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.readFile=t.writeFileSync=t.writeFile=t.read=t.open=t.close=t.stat=t.createReadStream=t.pathExists=void 0;var s=r(4428);function l(){return(l=a(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){s.stat(t,function(t,n){t?r(t):e(n)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=a(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){s.close(t,function(t){t?r(t):e()})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function c(){return(c=a(i().mark(function e(t,r){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){s.open(t,r,function(t,r){t?n(t):e(r)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(){return(d=a(i().mark(function e(t,r,n,o,a){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,i){s.read(t,r,n,o,a,function(t,r,n){t?i(t):e({bytesRead:r,buffer:n})})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=a(i().mark(function e(t,r){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){s.writeFile(t,r,function(t){t?n(t):e()})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=a(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){s.readFile(t,function(t,n){t?r(t):e(n)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.pathExists=s.existsSync,t.createReadStream=s.createReadStream,t.stat=function(e){return l.apply(this,arguments)},t.close=function(e){return u.apply(this,arguments)},t.open=function(e,t){return c.apply(this,arguments)},t.read=function(e,t,r,n,i){return d.apply(this,arguments)},t.writeFile=function(e,t){return f.apply(this,arguments)},t.writeFileSync=function(e,t){s.writeFileSync(e,t)},t.readFile=function(e){return p.apply(this,arguments)}},6681:e=>{e.exports=Number.isNaN||function(e){return e!=e}},6773:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=u}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+p]=255&a,p+=h,a/=256,u-=8);e[r+p-h]|=128*g}},6854:(e,t,r)=>{r.d(t,{S:()=>a});var n=r(9653),i=r(1227),o=r.n(i)()("fs:request:shouldRetry"),a=function(e){switch(o("Checking error for retry. Code: %n, type: %s",e.response?e.response.status:"Malformed response",e.code),e.code){case n.E.NETWORK:case n.E.SERVER:case n.E.TIMEOUT:return!0;case n.E.ABORTED:return!1}return!!e.response&&500<=e.response.status&&e.response.status<=599}},6889:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(6402),o=r(4509),a=r(9292),s=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=Array.prototype.push,d=function(e,t){c.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,p=a.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},g={},v=function e(t,r,a,s,l,c,f,p,v,m,y,b,w,_,S,k,P,E){for(var x=t,C=E,O=0,j=!1;void 0!==(C=C.get(g))&&!j;){var A=C.get(t);if(O+=1,void 0!==A){if(A===O)throw new RangeError("Cyclic object value");j=!0}void 0===C.get(g)&&(O=0)}if("function"==typeof m?x=m(r,x):x instanceof Date?x=w(x):"comma"===a&&u(x)&&(x=o.maybeMap(x,function(e){return e instanceof Date?w(e):e})),null===x){if(c)return v&&!k?v(r,h.encoder,P,"key",_):r;x=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"===n(e)||"bigint"==typeof e}(x)||o.isBuffer(x))return v?[S(k?r:v(r,h.encoder,P,"key",_))+"="+S(v(x,h.encoder,P,"value",_))]:[S(r)+"="+S(String(x))];var T,D=[];if(void 0===x)return D;if("comma"===a&&u(x))k&&v&&(x=o.maybeMap(x,v)),T=[{value:x.length>0?x.join(",")||null:void 0}];else if(u(m))T=m;else{var L=Object.keys(x);T=y?L.sort(y):L}var I=p?String(r).replace(/\./g,"%2E"):String(r),M=s&&u(x)&&1===x.length?I+"[]":I;if(l&&u(x)&&0===x.length)return M+"[]";for(var R=0;R<T.length;++R){var F=T[R],B="object"===n(F)&&F&&void 0!==F.value?F.value:x[F];if(!f||null!==B){var N=b&&p?String(F).replace(/\./g,"%2E"):String(F),V=u(x)?"function"==typeof a?a(M,N):M:M+(b?"."+N:"["+N+"]");E.set(t,O);var q=i();q.set(g,E),d(D,e(B,V,a,s,l,c,f,p,"comma"===a&&k&&u(x)?null:v,m,y,b,w,_,S,k,P,q))}}return D};e.exports=function(e,t){var r,o=e,c=function(e){if(!e)return h;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if(void 0!==e.format){if(!s.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n,i=a.formatters[r],o=h.filter;if(("function"==typeof e.filter||u(e.filter))&&(o=e.filter),n=e.arrayFormat in l?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=void 0===e.allowDots?!0===e.encodeDotInKeys||h.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:c,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:n,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):u(c.filter)&&(r=c.filter);var f=[];if("object"!==n(o)||null===o)return"";var p=l[c.arrayFormat],g="comma"===p&&c.commaRoundTrip;r||(r=Object.keys(o)),c.sort&&r.sort(c.sort);for(var m=i(),y=0;y<r.length;++y){var b=r[y],w=o[b];c.skipNulls&&null===w||d(f,v(w,b,p,g,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var _=f.join(c.delimiter),S=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),_.length>0?S+_:""}},7047:e=>{e.exports=URIError},7052:e=>{e.exports=Function.prototype.apply},7184:(e,t,r)=>{var n=r(7896),i=r(7797),o=r(9574);e.exports={XMLParser:i,XMLValidator:n,XMLBuilder:o}},7548:e=>{e.exports=Math.round},7797:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:String(t)}var a=r(4542).buildOptions,s=r(1734),l=r(2031).prettify,u=r(7896),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.externalEntities={},this.options=a(t)}var t,r;return t=e,(r=[{key:"parse",value:function(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});var r=u.validate(e,t);if(!0!==r)throw Error("".concat(r.err.msg,":").concat(r.err.line,":").concat(r.err.col))}var n=new s(this.options);n.addExternalEntities(this.externalEntities);var i=n.parseXml(e);return this.options.preserveOrder||void 0===i?i:l(i,this.options)}},{key:"addEntity",value:function(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=c},7896:(e,t,r)=>{var n=r(3496),i={allowBooleanAttributes:!1,unpairedTags:[]};function o(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function a(e,t){for(var r=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var n=e.substr(r,t-r);if(t>5&&"xml"===n)return h("InvalidXml","XML declaration allowed only at the start of the document.",v(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&0==--r)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},i,t);var r,l=[],u=!1,d=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var g=0;g<e.length;g++)if("<"===e[g]&&"?"===e[g+1]){if((g=a(e,g+=2)).err)return g}else{if("<"!==e[g]){if(o(e[g]))continue;return h("InvalidChar","char '"+e[g]+"' is not expected.",v(e,g))}var m=g;if("!"===e[++g]){g=s(e,g);continue}var y=!1;"/"===e[g]&&(y=!0,g++);for(var b="";g<e.length&&">"!==e[g]&&" "!==e[g]&&"\t"!==e[g]&&"\n"!==e[g]&&"\r"!==e[g];g++)b+=e[g];if("/"===(b=b.trim())[b.length-1]&&(b=b.substring(0,b.length-1),g--),r=b,!n.isName(r))return h("InvalidTag",0===b.trim().length?"Invalid space after '<'.":"Tag '"+b+"' is an invalid name.",v(e,g));var w=c(e,g);if(!1===w)return h("InvalidAttr","Attributes for '"+b+"' have open quote.",v(e,g));var _=w.value;if(g=w.index,"/"===_[_.length-1]){var S=g-_.length,k=f(_=_.substring(0,_.length-1),t);if(!0!==k)return h(k.err.code,k.err.msg,v(e,S+k.err.line));u=!0}else if(y){if(!w.tagClosed)return h("InvalidTag","Closing tag '"+b+"' doesn't have proper closing.",v(e,g));if(_.trim().length>0)return h("InvalidTag","Closing tag '"+b+"' can't have attributes or invalid starting.",v(e,m));if(0===l.length)return h("InvalidTag","Closing tag '"+b+"' has not been opened.",v(e,m));var P=l.pop();if(b!==P.tagName){var E=v(e,P.tagStartPos);return h("InvalidTag","Expected closing tag '"+P.tagName+"' (opened in line "+E.line+", col "+E.col+") instead of closing tag '"+b+"'.",v(e,m))}0==l.length&&(d=!0)}else{var x=f(_,t);if(!0!==x)return h(x.err.code,x.err.msg,v(e,g-_.length+x.err.line));if(!0===d)return h("InvalidXml","Multiple possible root nodes found.",v(e,g));-1!==t.unpairedTags.indexOf(b)||l.push({tagName:b,tagStartPos:m}),u=!0}for(g++;g<e.length;g++)if("<"===e[g]){if("!"===e[g+1]){g=s(e,++g);continue}if("?"!==e[g+1])break;if((g=a(e,++g)).err)return g}else if("&"===e[g]){var C=p(e,g);if(-1==C)return h("InvalidChar","char '&' is not expected.",v(e,g));g=C}else if(!0===d&&!o(e[g]))return h("InvalidXml","Extra text at the end",v(e,g));"<"===e[g]&&g--}return u?1==l.length?h("InvalidTag","Unclosed tag '"+l[0].tagName+"'.",v(e,l[0].tagStartPos)):!(l.length>0)||h("InvalidXml","Invalid '"+JSON.stringify(l.map(function(e){return e.tagName}),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):h("InvalidXml","Start tag expected.",1)};var l='"',u="'";function c(e,t){for(var r="",n="",i=!1;t<e.length;t++){if(e[t]===l||e[t]===u)""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}var d=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function f(e,t){for(var r=n.getAllMatches(e,d),i={},o=0;o<r.length;o++){if(0===r[o][1].length)return h("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",m(r[o]));if(void 0!==r[o][3]&&void 0===r[o][4])return h("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",m(r[o]));if(void 0===r[o][3]&&!t.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",m(r[o]));var a=r[o][2];if(!g(a))return h("InvalidAttr","Attribute '"+a+"' is an invalid name.",m(r[o]));if(i.hasOwnProperty(a))return h("InvalidAttr","Attribute '"+a+"' is repeated.",m(r[o]));i[a]=1}return!0}function p(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return-1}(e,++t);for(var r=0;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(";"===e[t])break;return-1}return t}function h(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function g(e){return n.isName(e)}function v(e,t){var r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function m(e){return e.startIndex+e[1].length}},7994:e=>{function t(e,a,s,l){for(var u="",c=!1,d=0;d<e.length;d++){var f=e[d],p=r(f);if(void 0!==p){var h;if(h=0===s.length?p:"".concat(s,".").concat(p),p!==a.textNodeName)if(p!==a.cdataPropName)if(p!==a.commentPropName)if("?"!==p[0]){var g=l;""!==g&&(g+=a.indentBy);var v=n(f[":@"],a),m=l+"<".concat(p).concat(v),y=t(f[p],a,h,g);-1!==a.unpairedTags.indexOf(p)?a.suppressUnpairedNode?u+=m+">":u+=m+"/>":y&&0!==y.length||!a.suppressEmptyNode?y&&y.endsWith(">")?u+=m+">".concat(y).concat(l,"</").concat(p,">"):(u+=m+">",y&&""!==l&&(y.includes("/>")||y.includes("</"))?u+=l+a.indentBy+y+l:u+=y,u+="</".concat(p,">")):u+=m+"/>",c=!0}else{var b=n(f[":@"],a),w="?xml"===p?"":l,_=f[p][0][a.textNodeName];_=0!==_.length?" "+_:"",u+=w+"<".concat(p).concat(_).concat(b,"?>"),c=!0}else u+=l+"\x3c!--".concat(f[p][0][a.textNodeName],"--\x3e"),c=!0;else c&&(u+=l),u+="<![CDATA[".concat(f[p][0][a.textNodeName],"]]>"),c=!1;else{var S=f[p];i(h,a)||(S=o(S=a.tagValueProcessor(p,S),a)),c&&(u+=l),u+=S,c=!1}}}return u}function r(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r];if(e.hasOwnProperty(n)&&":@"!==n)return n}}function n(e,t){var r="";if(e&&!t.ignoreAttributes)for(var n in e)if(e.hasOwnProperty(n)){var i=t.attributeValueProcessor(n,e[n]);!0===(i=o(i,t))&&t.suppressBooleanAttributes?r+=" ".concat(n.substr(t.attributeNamePrefix.length)):r+=" ".concat(n.substr(t.attributeNamePrefix.length),'="').concat(i,'"')}return r}function i(e,t){var r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(var n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(var r=0;r<t.entities.length;r++){var n=t.entities[r];e=e.replace(n.regex,n.val)}return e}e.exports=function(e,r){var n="";return r.format&&r.indentBy.length>0&&(n="\n"),t(e,r,"",n)}},8299:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i,o=r(9142),a=r(157),s=r(15),l=r(2104),u=r(6076),c=r(1226),d=r(1953),f=r(7047),p=r(4940),h=r(4218),g=r(9406),v=r(8624),m=r(6114),y=r(7548),b=r(9063),w=Function,_=function(e){try{return w('"use strict"; return ('+e+").constructor;")()}catch(e){}},S=r(3581),k=r(5049),P=function(){throw new d},E=S?function(){try{return P}catch(e){try{return S(arguments,"callee").get}catch(e){return P}}}():P,x=r(377)(),C=r(5586),O=r(9302),j=r(1622),A=r(7052),T=r(5118),D={},L="undefined"!=typeof Uint8Array&&C?C(Uint8Array):i,I={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":x&&C?C([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?i:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":D,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x&&C?C(C([][Symbol.iterator]())):i,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&x&&C?C((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":l,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&x&&C?C((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x&&C?C(""[Symbol.iterator]()):i,"%Symbol%":x?Symbol:i,"%SyntaxError%":c,"%ThrowTypeError%":E,"%TypedArray%":L,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":A,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":O,"%Math.abs%":p,"%Math.floor%":h,"%Math.max%":g,"%Math.min%":v,"%Math.pow%":m,"%Math.round%":y,"%Math.sign%":b,"%Reflect.getPrototypeOf%":j};if(C)try{null.error}catch(e){var M=C(C(e));I["%Error.prototype%"]=M}var R=function e(t){var r;if("%AsyncFunction%"===t)r=_("async function () {}");else if("%GeneratorFunction%"===t)r=_("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=_("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&C&&(r=C(i.prototype))}return I[t]=r,r},F={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=r(5465),N=r(863),V=B.call(T,Array.prototype.concat),q=B.call(A,Array.prototype.splice),W=B.call(T,String.prototype.replace),U=B.call(T,String.prototype.slice),z=B.call(T,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,$=function(e,t){var r,n=e;if(N(F,n)&&(n="%"+(r=F[n])[0]+"%"),N(I,n)){var i=I[n];if(i===D&&(i=R(n)),void 0===i&&!t)throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new d('"allowMissing" argument must be a boolean');if(null===z(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=U(e,0,1),r=U(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return W(e,G,function(e,t,r,i){n[n.length]=r?W(i,H,"$1"):t||e}),n}(e),n=r.length>0?r[0]:"",i=$("%"+n+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(n=l[0],q(r,V([0,1],l)));for(var u=1,f=!0;u<r.length;u+=1){var p=r[u],h=U(p,0,1),g=U(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===g||"'"===g||"`"===g)&&h!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&f||(s=!0),N(I,o="%"+(n+="."+p)+"%"))a=I[o];else if(null!=a){if(!(p in a)){if(!t)throw new d("base intrinsic for "+e+" exists, but the property is not available.");return}if(S&&u+1>=r.length){var v=S(a,p);a=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:a[p]}else f=N(a,p),a=a[p];f&&!s&&(I[o]=a)}}return a}},8624:e=>{e.exports=Math.min},8630:(e,t,r)=>{function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){function t(e){var r,n,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),l=a-(r||a);o.diff=l,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e}),t.formatArgs.call(o,n),(o.log||t.log).apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=i,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(n!==t.namespaces&&(n=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function i(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(n(t.names.map(o)),n(t.skips.map(o).map(function(e){return"-"+e}))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(9527),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(function(r){t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},8657:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=i&&o&&"function"==typeof o.get?o.get:null,s=i&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&u&&"function"==typeof u.get?u.get:null,d=l&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,v=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,b=String.prototype.slice,w=String.prototype.replace,_=String.prototype.toUpperCase,S=String.prototype.toLowerCase,k=RegExp.prototype.test,P=Array.prototype.concat,E=Array.prototype.join,x=Array.prototype.slice,C=Math.floor,O="function"==typeof BigInt?BigInt.prototype.valueOf:null,j=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?Symbol.prototype.toString:null,T="function"==typeof Symbol&&"object"===n(Symbol.iterator),D="function"==typeof Symbol&&Symbol.toStringTag&&(n(Symbol.toStringTag),1)?Symbol.toStringTag:null,L=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||k.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-C(-e):C(e);if(n!==e){var i=String(n),o=b.call(t,i.length+1);return w.call(i,r,"$&_")+"."+w.call(w.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(t,r,"$&_")}var R=r(2634),F=R.custom,B=H(F)?F:null,N={__proto__:null,double:'"',single:"'"},V={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function q(e,t,r){var n=r.quoteStyle||t,i=N[n];return i+e+i}function W(e){return w.call(String(e),/"/g,"&quot;")}function U(e){return!D||!("object"===n(e)&&(D in e||void 0!==e[D]))}function z(e){return"[object Array]"===Z(e)&&U(e)}function G(e){return"[object RegExp]"===Z(e)&&U(e)}function H(e){if(T)return e&&"object"===n(e)&&e instanceof Symbol;if("symbol"===n(e))return!0;if(!e||"object"!==n(e)||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}e.exports=function e(t,i,o,l){var u=i||{};if(K(u,"quoteStyle")&&!K(N,u.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(K(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=!K(u,"customInspect")||u.customInspect;if("boolean"!=typeof v&&"symbol"!==v)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(K(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(K(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Y(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var k=String(t);return _?M(t,k):k}if("bigint"==typeof t){var C=String(t)+"n";return _?M(t,C):C}var j=void 0===u.depth?5:u.depth;if(void 0===o&&(o=0),o>=j&&j>0&&"object"===n(t))return z(t)?"[Array]":"[Object]";var F,V=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=E.call(Array(e.indent+1)," ")}return{base:r,prev:E.call(Array(t+1),r)}}(u,o);if(void 0===l)l=[];else if(Q(l,t)>=0)return"[Circular]";function $(t,r,n){if(r&&(l=x.call(l)).push(r),n){var i={depth:u.depth};return K(u,"quoteStyle")&&(i.quoteStyle=u.quoteStyle),e(t,i,o+1,l)}return e(t,u,o+1,l)}if("function"==typeof t&&!G(t)){var X=function(e){if(e.name)return e.name;var t=y.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ie=ne(t,$);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(ie.length>0?" { "+E.call(ie,", ")+" }":"")}if(H(t)){var oe=T?w.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!==n(t)||T?oe:J(oe)}if((F=t)&&"object"===n(F)&&("undefined"!=typeof HTMLElement&&F instanceof HTMLElement||"string"==typeof F.nodeName&&"function"==typeof F.getAttribute)){for(var ae="<"+S.call(String(t.nodeName)),se=t.attributes||[],le=0;le<se.length;le++)ae+=" "+se[le].name+"="+q(W(se[le].value),"double",u);return ae+=">",t.childNodes&&t.childNodes.length&&(ae+="..."),ae+"</"+S.call(String(t.nodeName))+">"}if(z(t)){if(0===t.length)return"[]";var ue=ne(t,$);return V&&!function(e){for(var t=0;t<e.length;t++)if(Q(e[t],"\n")>=0)return!1;return!0}(ue)?"["+re(ue,V)+"]":"[ "+E.call(ue,", ")+" ]"}if(function(e){return"[object Error]"===Z(e)&&U(e)}(t)){var ce=ne(t,$);return"cause"in Error.prototype||!("cause"in t)||L.call(t,"cause")?0===ce.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(ce,", ")+" }":"{ ["+String(t)+"] "+E.call(P.call("[cause]: "+$(t.cause),ce),", ")+" }"}if("object"===n(t)&&v){if(B&&"function"==typeof t[B]&&R)return R(t,{depth:j-o});if("symbol"!==v&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==n(e))return!1;try{a.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var de=[];return s&&s.call(t,function(e,r){de.push($(r,t,!0)+" => "+$(e,t))}),te("Map",a.call(t),de,V)}if(function(e){if(!c||!e||"object"!==n(e))return!1;try{c.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var fe=[];return d&&d.call(t,function(e){fe.push($(e,t))}),te("Set",c.call(t),fe,V)}if(function(e){if(!f||!e||"object"!==n(e))return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return ee("WeakMap");if(function(e){if(!p||!e||"object"!==n(e))return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return ee("WeakSet");if(function(e){if(!h||!e||"object"!==n(e))return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return ee("WeakRef");if(function(e){return"[object Number]"===Z(e)&&U(e)}(t))return J($(Number(t)));if(function(e){if(!e||"object"!==n(e)||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}(t))return J($(O.call(t)));if(function(e){return"[object Boolean]"===Z(e)&&U(e)}(t))return J(g.call(t));if(function(e){return"[object String]"===Z(e)&&U(e)}(t))return J($(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===Z(e)&&U(e)}(t)&&!G(t)){var pe=ne(t,$),he=I?I(t)===Object.prototype:t instanceof Object||t.constructor===Object,ge=t instanceof Object?"":"null prototype",ve=!he&&D&&Object(t)===t&&D in t?b.call(Z(t),8,-1):ge?"Object":"",me=(he||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ve||ge?"["+E.call(P.call([],ve||[],ge||[]),": ")+"] ":"");return 0===pe.length?me+"{}":V?me+"{"+re(pe,V)+"}":me+"{ "+E.call(pe,", ")+" }"}return String(t)};var $=Object.prototype.hasOwnProperty||function(e){return e in this};function K(e,t){return $.call(e,t)}function Z(e){return v.call(e)}function Q(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Y(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Y(b.call(e,0,t.maxStringLength),t)+n}var i=V[t.quoteStyle||"single"];return i.lastIndex=0,q(w.call(w.call(e,i,"\\$1"),/[\x00-\x1f]/g,X),"single",t)}function X(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function J(e){return"Object("+e+")"}function ee(e){return e+" { ? }"}function te(e,t,r,n){return e+" ("+t+") {"+(n?re(r,n):E.call(r,", "))+"}"}function re(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+E.call(e,","+r)+"\n"+t.prev}function ne(e,t){var r=z(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=K(e,i)?t(e[i],e):""}var o,a="function"==typeof j?j(e):[];if(T){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)K(e,l)&&(r&&String(Number(l))===l&&l<e.length||T&&o["$"+l]instanceof Symbol||(k.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof j)for(var u=0;u<a.length;u++)L.call(e,a[u])&&n.push("["+t(a[u])+"]: "+t(e[a[u]],e));return n}},8796:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){for(var n=0,i=e.length;i>0;){var o=i/2|0,a=n+o;r(e[a],t)<=0?(n=++a,i-=o+1):i=o}return n}},8950:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i,o=r(9472),a=r(3581);try{i=[].__proto__===Array.prototype}catch(e){if(!e||"object"!==n(e)||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!i&&a&&a(Object.prototype,"__proto__"),l=Object,u=l.getPrototypeOf;e.exports=s&&"function"==typeof s.get?o([s.get]):"function"==typeof u&&function(e){return u(null==e?e:l(e))}},9063:(e,t,r)=>{var n=r(6681);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},9142:e=>{e.exports=Object},9292:e=>{var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},9302:(e,t,r)=>{var n=r(9142);e.exports=n.getPrototypeOf||null},9326:(e,t,r)=>{function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=r(3496);function a(e,t){for(var r="";t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(-1!==(r=r.trim()).indexOf(" "))throw new Error("External entites are not supported");for(var n=e[t++],i="";t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function s(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function l(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function u(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function c(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function d(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function f(e){if(o.isName(e))return e;throw new Error("Invalid entity name ".concat(e))}e.exports=function(e,t){var r={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");t+=9;for(var i=1,o=!1,p=!1;t<e.length;t++)if("<"!==e[t]||p)if(">"===e[t]){if(p?"-"===e[t-1]&&"-"===e[t-2]&&(p=!1,i--):i--,0===i)break}else"["===e[t]?o=!0:e[t];else{if(o&&l(e,t)){var h=n(a(e,(t+=7)+1),3);entityName=h[0],val=h[1],t=h[2],-1===val.indexOf("&")&&(r[f(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val})}else if(o&&u(e,t))t+=8;else if(o&&c(e,t))t+=8;else if(o&&d(e,t))t+=9;else{if(!s)throw new Error("Invalid DOCTYPE");p=!0}i++}if(0!==i)throw new Error("Unclosed DOCTYPE");return{entities:r,i:t}}},9367:(e,t,r)=>{var n=r(4509),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},u=function(e,t,r,o){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,u=r.depth>0&&/(\[[^[\]]*])/.exec(a),c=u?a.slice(0,u.index):a,d=[];if(c){if(!r.plainObjects&&i.call(Object.prototype,c)&&!r.allowPrototypes)return;d.push(c)}for(var f=0;r.depth>0&&null!==(u=s.exec(a))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(u[1])}if(u){if(!0===r.strictDepth)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+a.slice(u.index)+"]")}return function(e,t,r,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");o=Array.isArray(t)&&t[a]?t[a].length:0}for(var s=i?t:l(t,r,o),u=e.length-1;u>=0;--u){var c,d=e[u];if("[]"===d&&r.parseArrays)c=r.allowEmptyArrays&&(""===s||r.strictNullHandling&&null===s)?[]:n.combine([],s);else{c=r.plainObjects?{__proto__:null}:{};var f="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,p=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,h=parseInt(p,10);r.parseArrays||""!==p?!isNaN(h)&&d!==p&&String(h)===p&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(c=[])[h]=s:"__proto__"!==p&&(c[p]=s):c={0:s}}s=c}return s}(d,t,r,o)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?a.charset:e.charset,r=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var c="string"==typeof e?function(e,t){var r={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,t.throwOnLimitExceeded?c+1:c);if(t.throwOnLimitExceeded&&d.length>c)throw new RangeError("Parameter limit exceeded. Only "+c+" parameter"+(1===c?"":"s")+" allowed.");var f,p=-1,h=t.charset;if(t.charsetSentinel)for(f=0;f<d.length;++f)0===d[f].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[f]?h="utf-8":"utf8=%26%2310003%3B"===d[f]&&(h="iso-8859-1"),p=f,f=d.length);for(f=0;f<d.length;++f)if(f!==p){var g,v,m=d[f],y=m.indexOf("]="),b=-1===y?m.indexOf("="):y+1;-1===b?(g=t.decoder(m,a.decoder,h,"key"),v=t.strictNullHandling?null:""):(g=t.decoder(m.slice(0,b),a.decoder,h,"key"),v=n.maybeMap(l(m.slice(b+1),t,o(r[g])?r[g].length:0),function(e){return t.decoder(e,a.decoder,h,"value")})),v&&t.interpretNumericEntities&&"iso-8859-1"===h&&(v=s(String(v))),m.indexOf("[]=")>-1&&(v=o(v)?[v]:v);var w=i.call(r,g);w&&"combine"===t.duplicates?r[g]=n.combine(r[g],v):w&&"last"!==t.duplicates||(r[g]=v)}return r}(e,r):e,d=r.plainObjects?{__proto__:null}:{},f=Object.keys(c),p=0;p<f.length;++p){var h=f[p],g=u(h,c[h],r,"string"==typeof e);d=n.merge(d,g,r)}return!0===r.allowSparse?d:n.compact(d)}},9406:e=>{e.exports=Math.max},9414:(e,t,r)=>{r.r(t),r.d(t,{b64:()=>c,cleanUpCallbacks:()=>k,extensionToMime:()=>w,filterObject:()=>S,getMimetype:()=>b,getVersion:()=>d,isFacebook:()=>p,isMobile:()=>f,md5:()=>u,removeEmpty:()=>v,resolveCdnUrl:()=>h,resolveHost:()=>g,sanitizeName:()=>_,uniqueId:()=>y,uniqueTime:()=>m});var n,i=r(1635),o={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","tdms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","msp","buffer","psdata","indt","hpd","mxd","indd","vsm","hpt"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"application/font-ttf":"ttf","application/vnd.ms-fontobject":"eot","application/font-otf":"otf","text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard","vcr"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["keynote","key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.key":["key"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.ms-visio.drawing.main+xml":["vsdx"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/vnd.avi":["avi"],"video/x-msvideo":["avi"],"video/avi":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"],"application/x-msi":"msi","application/x-ms":"ms","application/vnd.geo+json":"geojson","application/vnd.debian.binary-package":"deb","application/font-woff":"woff","application/font-woff2":"woff2","application/x-font-ttf":["ttc","ttf"],"font/opentype":"otf","application/x-bb-appworld":"bbaw","application/x-cd-image":"iso","application/x-opera-extension":"oex","application/x-ms-dos-executable":"exe","text/vnd.rim.location.xloc":"xloc","application/x-desktop":"desktop","application/x-typescript":"ts","application/x-java-archive":"jar","application/x-sharedlib":"so","image/avif":"avif"},a=r(1424),s=r(2593),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i,u=function(e){return btoa(s.ArrayBuffer.hash(e,!0))},c=function(e,t){void 0===t&&(t=!1);var r=btoa(e);return t?r.replace(/\//g,"_").replace(/\+/g,"-"):r},d=function(){return"JS-3.46.3"},f=function(){return navigator&&navigator.userAgent&&l.test(navigator.userAgent)},p=function(){return navigator&&navigator.userAgent&&/\[FB.*;/i.test(navigator.userAgent)},h=function(e,t){var r=e.urls.cdnUrl;if(t&&(0===t.indexOf("src:")||0===t.indexOf("http"))){if(!e.apikey)throw new Error("Api key is required when storage alias is provided");return"".concat(r,"/").concat(e.apikey)}return r},g=function(e,t){if(!t)return e;var r=/filestackapi.com|filestackcontent.com/i;return Object.keys(e).forEach(function(n){e[n]=e[n].replace(r,t)}),e},v=function(e){var t=(0,i.Cl)({},e);return Object.keys(t).forEach(function(e){return!t[e]&&"boolean"!=typeof t[e]&&delete t[e]}),t},m=function(){var e=Date.now();return n=e===n?e+1:e},y=function(e){return void 0===e&&(e=10),new Array(e).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)[Math.random()<.5?"toString":"toUpperCase"]()})},b=function(e,t){return(0,i.sH)(void 0,void 0,void 0,function(){var r,n,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,a.fromBuffer)(e)];case 1:return r=i.sent(),[3,3];case 2:return n=i.sent(),console.warn("An exception occurred while processing the buffer:",n.message),[3,3];case 3:if(o=["text/plain","application/octet-stream","application/x-ms","application/x-msi","application/zip","audio/x-m4a"],r&&-1===o.indexOf(r.mime))return[2,r.mime];if(t&&t.indexOf(".")>-1&&(s=w(t)))return[2,s];try{if(function(e){if(!e)return!1;for(var t=0,r=e.length;t<r;)if(e[t]<=127)t++;else{if(e[t]>=194&&e[t]<=223){if(e[t+1]>>6==2){t+=2;continue}return!1}if((224===e[t]&&e[t+1]>=160&&e[t+1]<=191||237===e[t]&&e[t+1]>=128&&e[t+1]<=159)&&e[t+2]>>6==2)t+=3;else if((e[t]>=225&&e[t]<=236||e[t]>=238&&e[t]<=239)&&e[t+1]>>6==2&&e[t+2]>>6==2)t+=3;else{if(!(240===e[t]&&e[t+1]>=144&&e[t+1]<=191||e[t]>=241&&e[t]<=243&&e[t+1]>>6==2||244===e[t]&&e[t+1]>=128&&e[t+1]<=143)||e[t+2]>>6!=2||e[t+3]>>6!=2)return!1;t+=4}}return!0}(e))return[2,"text/plain"]}catch(e){console.warn("Additional mimetype checks (text/plain) are currently not supported for browsers")}return r?[2,r.mime]:[2,"application/octet-stream"]}})})},w=function(e){if(e&&0!==e.length){if(2===e.split("/").length)return e;e.indexOf(".")>-1&&(e=e.split(".").pop()),e=e.toLocaleLowerCase();for(var t=Object.keys(o),r=t.length,n=0;n<r;n++)if(o[t[n]].indexOf(e)>-1)return t[n]}},_=function(e,t){if(void 0===t&&(t=!0),"boolean"==typeof t&&!t)return e;var r,n="boolean"!=typeof t&&t.replacement?t.replacement:"-",i="boolean"!=typeof t&&t.exclude?t.exclude:["\\","{","}","|","%","`",'"',"'","~","[","]","#","|","^","<",">"];if(!e||0===e.length)return"undefined";var o=e.split(".");return o.length>1&&(r=o.pop()),"".concat(o.join(".").split("").map(function(e){return i.indexOf(e)>-1?n:e}).join("")).concat(r?"."+r:"")},S=function(e,t){return t&&0!==t.length?0===Object.keys(e).length?e:Object.keys(e).filter(function(e){return t.indexOf(e)>-1}).reduce(function(t,r){var n;return(0,i.Cl)((0,i.Cl)({},t),((n={})[r]=e[r],n))},{}):e},k=function e(t){return t&&0!==Object.keys(t).length?(Object.keys(t).forEach(function(r){"function"==typeof t[r]&&(t[r]=void 0),t[r]===Object(t[r])&&(t[r]=e(t[r]))}),t):t}},9472:(e,t,r)=>{var n=r(5465),i=r(1953),o=r(5118),a=r(1978);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(n,o,e)}},9527:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=1e3,n=60*r,i=60*n,o=24*i,a=7*o;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,l){l=l||{};var u,c,d=t(e);if("string"===d&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===d&&isFinite(e))return l.long?(u=e,(c=Math.abs(u))>=o?s(u,c,o,"day"):c>=i?s(u,c,i,"hour"):c>=n?s(u,c,n,"minute"):c>=r?s(u,c,r,"second"):u+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9574:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(7994),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function a(e){this.options=Object.assign({},o,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=u),this.processTextOrObjNode=s,this.options.format?(this.indentate=l,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function s(e,t,r){var n=this.j2x(e,r+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}function l(e){return this.options.indentBy.repeat(e)}function u(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}a.prototype.build=function(e){return this.options.preserveOrder?i(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={},r=this.options.arrayNodeName,o=e,a=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r),(r="symbol"==n(a)?a:String(a))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e=t),this.j2x(e,0).val);var t,r,o,a},a.prototype.j2x=function(e,t){var r="",i="";for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(void 0===e[o])this.isAttribute(o)&&(i+="");else if(null===e[o])this.isAttribute(o)?i+="":"?"===o[0]?i+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)i+=this.buildTextValNode(e[o],o,"",t);else if("object"!==n(e[o])){var a=this.isAttribute(o);if(a)r+=this.buildAttrPairStr(a,""+e[o]);else if(o===this.options.textNodeName){var s=this.options.tagValueProcessor(o,""+e[o]);i+=this.replaceEntitiesValue(s)}else i+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){for(var l=e[o].length,u="",c="",d=0;d<l;d++){var f=e[o][d];if(void 0===f);else if(null===f)"?"===o[0]?i+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"===n(f))if(this.options.oneListGroup){var p=this.j2x(f,t+1);u+=p.val,this.options.attributesGroupName&&f.hasOwnProperty(this.options.attributesGroupName)&&(c+=p.attrStr)}else u+=this.processTextOrObjNode(f,o,t);else if(this.options.oneListGroup){var h=this.options.tagValueProcessor(o,f);u+=h=this.replaceEntitiesValue(h)}else u+=this.buildTextValNode(f,o,"",t)}this.options.oneListGroup&&(u=this.buildObjectNode(u,o,c,t)),i+=u}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName)for(var g=Object.keys(e[o]),v=g.length,m=0;m<v;m++)r+=this.buildAttrPairStr(g[m],""+e[o][g[m]]);else i+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:i}},a.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},a.prototype.buildObjectNode=function(e,t,r,n){if(""===e)return"?"===t[0]?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;var i="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",i=""),!r&&""!==r||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(n)+"\x3c!--".concat(e,"--\x3e")+this.newLine:this.indentate(n)+"<"+t+r+o+this.tagEndChar+e+this.indentate(n)+i:this.indentate(n)+"<"+t+r+o+">"+e+i},a.prototype.closeTag=function(e){var t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":"></".concat(e),t},a.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+"<![CDATA[".concat(e,"]]>")+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+"\x3c!--".concat(e,"--\x3e")+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;var i=this.options.tagValueProcessor(t,e);return""===(i=this.replaceEntitiesValue(i))?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar},a.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(var t=0;t<this.options.entities.length;t++){var r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},e.exports=a},9653:(e,t,r)=>{r.d(t,{E:()=>n,d:()=>o});var n,i=r(1635);!function(e){e.ABORTED="ABORTED",e.NETWORK="NETWORK",e.TIMEOUT="TIMEDOUT",e.SERVER="SERVER",e.REQUEST="REQUEST",e.OTHER="OTHER",e.REDIRECT="REDIRECT"}(n||(n={}));var o=function(e){function t(t,r,n,i){var o,a,s,l=this.constructor,u=e.call(this,t)||this;return u.config=r,u.response=n,u.code=i,o=u,a=l.prototype,(s=Object.setPrototypeOf)?s(o,a):o.__proto__=a,u}return(0,i.C6)(t,e),t}(Error)},9927:e=>{e.exports=function(e,t){return t=t||function(){},e.then(function(e){return new Promise(function(e){e(t())}).then(function(){return e})},function(e){return new Promise(function(e){e(t())}).then(function(){throw e})})}}},__webpack_module_cache__={};function __nested_webpack_require_375992__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__nested_webpack_require_375992__),r.loaded=!0,r.exports}__nested_webpack_require_375992__.amdO={},__nested_webpack_require_375992__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_375992__.d(t,{a:t}),t},__nested_webpack_require_375992__.d=(e,t)=>{for(var r in t)__nested_webpack_require_375992__.o(t,r)&&!__nested_webpack_require_375992__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__nested_webpack_require_375992__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_375992__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_375992__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__nested_webpack_require_375992__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __nested_webpack_exports__={};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}__nested_webpack_require_375992__.d(__nested_webpack_exports__,{W3:()=>Align,Ew:()=>AudioTypes,PK:()=>BlurMode,Kj:()=>Client,Ay:()=>ColorspaceType,Rl:()=>CropfacesType,HD:()=>EAlignFacesOptions,FK:()=>EAlignOptions,lX:()=>EAudioTypes,m5:()=>EBlurMode,Bj:()=>EColorspaceType,uK:()=>ECropfacesType,Nx:()=>EFitOptions,Us:()=>EImageWatermarkPosition,uZ:()=>ENoiseType,X5:()=>EShapeType,wb:()=>ESmartCropMode,zf:()=>EStyleType,QS:()=>EUrlscreenshotAgent,ar:()=>EUrlscreenshotMode,pg:()=>EUrlscreenshotOrientation,Pd:()=>EVideoAccess,Yq:()=>EVideoAccessMode,zb:()=>EVideoLocations,sz:()=>EVideoTypes,WT:()=>EnhancePreset,XM:()=>Filelink,rv:()=>Filestack,p_:()=>FilestackError,tm:()=>FilestackErrorType,_7:()=>FitOptions,hs:()=>FsCancelToken,jC:()=>types.j,bK:()=>FsRequest,d1:()=>error.d,EK:()=>error.E,z:()=>ImageWatermarkPosition,Hc:()=>Locations,VA:()=>NoiseType,kX:()=>PickerDisplayMode,pv:()=>PrefetchEvents,IO:()=>ShapeType,HQ:()=>SmartCropMode,s4:()=>StyleType,QV:()=>TransformSchema,Dy:()=>URLScreenshotAgent,rR:()=>URLScreenshotMode,IB:()=>URLScreenshotOrientation,yp:()=>VideoAccess,Lt:()=>VideoAccessMode,Nu:()=>VideoTypes,Ly:()=>utils.b64,SC:()=>utils.cleanUpCallbacks,Nr:()=>utils.extensionToMime,kJ:()=>utils.filterObject,vm:()=>utils.getMimetype,RK:()=>getSecurity,HF:()=>utils.getVersion,Ts:()=>init,rB:()=>utils.isFacebook,Fr:()=>utils.isMobile,Fx:()=>utils.md5,ef:()=>utils.removeEmpty,T0:()=>utils.resolveCdnUrl,p0:()=>utils.resolveHost,rh:()=>utils.sanitizeName,pd:()=>transform,NF:()=>utils.uniqueId,tp:()=>utils.uniqueTime,qB:()=>validateWebhookSignature,rE:()=>version});var FilestackLoader=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r.r(t),r.d(t,"loadModules",function(){return l}),r.d(t,"loadModule",function(){return u}),r.d(t,"registerModule",function(){return c}),r.d(t,"loadCss",function(){return d}),r.d(t,"FILESTACK_MODULES",function(){return n});var n,i={},o=function(){var e,t=(e="undefined"==typeof window?i:window).filestackInternals;return t||(t={modules:{}},e.filestackInternals=t),t.modules||(t.modules={}),t}(),a=o&&o.modules,s=function(e,t,r){e.detachEvent?e.detachEvent("onreadystatechange",t):e.removeEventListener(r,t,!1)},l=function(e){return Promise.all(e.map(function(e){var t=e.id,r=e.url;return u(t,r)})).then(function(t){var r={};return t.forEach(function(t,n){var i=e[n];r[i.id]=t}),r})},u=function(e,t){if("undefined"==typeof window)return Promise.reject(new Error("Load module is working only on browser env"));if(!e)throw new Error("Module id is required");var r=a[e="fs-loader-"+e];return r||(a[e]={},r=a[e]),r.instance?Promise.resolve(r.instance):r.promise?r.promise:r.promise=new Promise(function(r,n){var i=function t(i){if("load"===i.type||/^(complete|loaded)$/.test((i.currentTarget||i.srcElement).readyState)){var o=i.currentTarget||i.srcElement;s(o,t,"load"),s(o,n,"error"),setTimeout(function(){return r(a[e]?a[e].instance:void 0)},10)}},o=document.createElement("script");o.id=e,!o.attachEvent||o.attachEvent.toString&&o.attachEvent.toString().indexOf("[native code")<0?(o.addEventListener("load",i,!1),o.addEventListener("onerror",n,!1)):o.attachEvent("onreadystatechange",i),o.setAttribute("crossorigin","anonymous"),o.setAttribute("charset","utf-8"),o.setAttribute("async","true"),o.src=t,document.body.appendChild(o)})},c=function(e,t,r){if("undefined"!=typeof window){if(!e)throw new Error("Module id is required");if(!a)throw new Error("Loader is not initialized");a[e="fs-loader-"+e]&&(a[e]={instance:t,metadata:r})}},d=function(e){return null!==document.querySelector('link[href="'.concat(e,'"]'))?Promise.resolve():new Promise(function(t){var r=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.href=e,n.addEventListener("load",function e(){t(),n.removeEventListener("load",e)}),r.appendChild(n)})};!function(e){e.FILESTACK_SDK="filestack-sdk",e.TRANSFORMS_UI="transforms-ui",e.PICKER="picker"}(n||(n={}))}]),_FilestackLoader$loadModules=FilestackLoader.loadModules,_FilestackLoader$loadModule=FilestackLoader.loadModule,_FilestackLoader$registerModule=FilestackLoader.registerModule,_FilestackLoader$loadCss=FilestackLoader.loadCss,_FilestackLoader$FILESTACK_MODULES=FilestackLoader.FILESTACK_MODULES,getSecurity=function(e,t){throw new Error("getSecurity is only supported in nodejs")},validateWebhookSignature=function(e,t,r){throw new Error("validateWebhookSignature is only supported in nodejs")},tslib_es6=__nested_webpack_require_375992__(1635),eventemitter3=__nested_webpack_require_375992__(6274);const node_modules_eventemitter3=eventemitter3;var SDK_VERSION="8.55.0",GLOBAL_OBJ=globalThis;function worldwide_getGlobalSingleton(e,t,r){var n=r||GLOBAL_OBJ,i=n.__SENTRY__=n.__SENTRY__||{},o=i[SDK_VERSION]=i[SDK_VERSION]||{};return o[e]||(o[e]=t())}function carrier_getMainCarrier(){return carrier_getSentryCarrier(GLOBAL_OBJ),GLOBAL_OBJ}function carrier_getSentryCarrier(e){var t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||SDK_VERSION,t[SDK_VERSION]=t[SDK_VERSION]||{}}var ONE_SECOND_IN_MS=1e3;function dateTimestampInSeconds(){return Date.now()/ONE_SECOND_IN_MS}function createUnixTimestampInSecondsFunc(){var e=GLOBAL_OBJ.performance;if(!e||!e.now)return dateTimestampInSeconds;var t=Date.now()-e.now(),r=null==e.timeOrigin?t:e.timeOrigin;return function(){return(r+e.now())/ONE_SECOND_IN_MS}}var time_timestampInSeconds=createUnixTimestampInSecondsFunc(),_browserPerformanceTimeOriginMode,browserPerformanceTimeOrigin=function(){var e=GLOBAL_OBJ.performance;if(e&&e.now){var t=36e5,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,o=i<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+r-n):t;return o||s<t?i<=s?(_browserPerformanceTimeOriginMode="timeOrigin",e.timeOrigin):(_browserPerformanceTimeOriginMode="navigationStart",a):(_browserPerformanceTimeOriginMode="dateNow",n)}_browserPerformanceTimeOriginMode="none"}();function misc_typeof(e){return misc_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},misc_typeof(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==misc_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!=misc_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=misc_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function misc_uuid4(){var e=GLOBAL_OBJ,t=e.crypto||e.msCrypto,r=function(){return 16*Math.random()};try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=function(){var e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,function(e){return(e^(15&r())>>e/4).toString(16)})}function getFirstException(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function getEventDescription(e){var t=e.message,r=e.event_id;if(t)return t;var n=getFirstException(e);return n?n.type&&n.value?"".concat(n.type,": ").concat(n.value):n.type||n.value||r||"<unknown>":r||"<unknown>"}function addExceptionTypeValue(e,t,r){var n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=r||"Error")}function addExceptionMechanism(e,t){var r=getFirstException(e);if(r){var n=r.mechanism;if(r.mechanism=_objectSpread(_objectSpread(_objectSpread({},{type:"generic",handled:!0}),n),t),t&&"data"in t){var i=_objectSpread(_objectSpread({},n&&n.data),t.data);r.mechanism.data=i}}}var SEMVER_REGEXP=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function _parseInt(e){return parseInt(e||"",10)}function parseSemver(e){var t=e.match(SEMVER_REGEXP)||[],r=_parseInt(t[1]),n=_parseInt(t[2]),i=_parseInt(t[3]);return{buildmetadata:t[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(i)?void 0:i,prerelease:t[4]}}function addContextToFrame(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(void 0!==t.lineno){var n=e.length,i=Math.max(Math.min(n-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-r),i).map(function(e){return snipLine(e,0)});var o=Math.min(n-1,i);t.context_line=snipLine(e[o],t.colno||0),t.post_context=e.slice(Math.min(i+1,n),i+1+r).map(function(e){return snipLine(e,0)})}}function checkOrSetAlreadyCaught(e){if(isAlreadyCaptured(e))return!0;try{addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch(e){}return!1}function isAlreadyCaptured(e){try{return e.__sentry_captured__}catch(e){}}function arrayify(e){return Array.isArray(e)?e:[e]}function makeSession(e){var t=timestampInSeconds(),r={sid:uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return sessionToJSON(r)}};return e&&updateSession(r,e),r}function updateSession(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||time_timestampInSeconds(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:misc_uuid4()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function closeSession(e,t){var r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),updateSession(e,r)}function sessionToJSON(e){return dropUndefinedKeys({sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function is_typeof(e){return is_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is_typeof(e)}var objectToString=Object.prototype.toString;function is_isError(e){switch(objectToString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return is_isInstanceOf(e,Error)}}function isBuiltin(e,t){return objectToString.call(e)==="[object ".concat(t,"]")}function isErrorEvent(e){return isBuiltin(e,"ErrorEvent")}function isDOMError(e){return isBuiltin(e,"DOMError")}function isDOMException(e){return isBuiltin(e,"DOMException")}function isString(e){return isBuiltin(e,"String")}function isParameterizedString(e){return"object"===is_typeof(e)&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function is_isPrimitive(e){return null===e||isParameterizedString(e)||"object"!==is_typeof(e)&&"function"!=typeof e}function is_isPlainObject(e){return isBuiltin(e,"Object")}function is_isEvent(e){return"undefined"!=typeof Event&&is_isInstanceOf(e,Event)}function is_isElement(e){return"undefined"!=typeof Element&&is_isInstanceOf(e,Element)}function isRegExp(e){return isBuiltin(e,"RegExp")}function isThenable(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function isSyntheticEvent(e){return is_isPlainObject(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function is_isInstanceOf(e,t){try{return e instanceof t}catch(e){return!1}}function isVueViewModel(e){return!("object"!==is_typeof(e)||null===e||!e.__isVue&&!e._isVue)}var debug_build_DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,PREFIX="Sentry Logger ",CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"],originalConsoleMethods={};function consoleSandbox(e){if(!("console"in GLOBAL_OBJ))return e();var t=GLOBAL_OBJ.console,r={},n=Object.keys(originalConsoleMethods);n.forEach(function(e){var n=originalConsoleMethods[e];r[e]=t[e],t[e]=n});try{return e()}finally{n.forEach(function(e){t[e]=r[e]})}}function makeLogger(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1},isEnabled:function(){return e}};return debug_build_DEBUG_BUILD?CONSOLE_LEVELS.forEach(function(r){t[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e&&consoleSandbox(function(){var e;(e=GLOBAL_OBJ.console)[r].apply(e,["".concat(PREFIX,"[").concat(r,"]:")].concat(n))})}}):CONSOLE_LEVELS.forEach(function(e){t[e]=function(){}}),t}var logger_logger=worldwide_getGlobalSingleton("logger",makeLogger);function generatePropagationContext(){return{traceId:generateTraceId(),spanId:generateSpanId()}}function generateTraceId(){return misc_uuid4()}function generateSpanId(){return misc_uuid4().substring(16)}function merge_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function merge_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?merge_ownKeys(Object(r),!0).forEach(function(t){merge_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):merge_ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function merge_defineProperty(e,t,r){return(t=merge_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function merge_toPropertyKey(e){var t=merge_toPrimitive(e,"string");return"symbol"==merge_typeof(t)?t:String(t)}function merge_toPrimitive(e,t){if("object"!=merge_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=merge_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function merge_typeof(e){return merge_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},merge_typeof(e)}function merge(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!==merge_typeof(t)||r<=0)return t;if(e&&t&&0===Object.keys(t).length)return e;var n=merge_objectSpread({},e);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=merge(n[i],t[i],r-1));return n}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function object_typeof(e){return object_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},object_typeof(e)}function object_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function object_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?object_ownKeys(Object(r),!0).forEach(function(t){object_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):object_ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function object_defineProperty(e,t,r){return(t=object_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function object_toPropertyKey(e){var t=object_toPrimitive(e,"string");return"symbol"==object_typeof(t)?t:String(t)}function object_toPrimitive(e,t){if("object"!=object_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=object_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function fill(e,t,r){if(t in e){var n=e[t],i=r(n);"function"==typeof i&&markFunctionWrapped(i,n);try{e[t]=i}catch(r){DEBUG_BUILD&&logger.log('Failed to replace method "'.concat(t,'" in object'),e)}}}function object_addNonEnumerableProperty(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){debug_build_DEBUG_BUILD&&logger_logger.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function markFunctionWrapped(e,t){try{var r=t.prototype||{};e.prototype=t.prototype=r,object_addNonEnumerableProperty(e,"__sentry_original__",t)}catch(e){}}function getOriginalFunction(e){return e.__sentry_original__}function urlEncode(e){return Object.entries(e).map(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n))}).join("&")}function convertToPlainObject(e){if(isError(e))return object_objectSpread({message:e.message,name:e.name,stack:e.stack},getOwnProperties(e));if(isEvent(e)){var t=object_objectSpread({type:e.type,target:serializeEventTarget(e.target),currentTarget:serializeEventTarget(e.currentTarget)},getOwnProperties(e));return"undefined"!=typeof CustomEvent&&isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function serializeEventTarget(e){try{return isElement(e)?htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function getOwnProperties(e){if("object"===object_typeof(e)&&null!==e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function extractExceptionKeysForMessage(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,r=Object.keys(convertToPlainObject(e));r.sort();var n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return truncate(n,t);for(var i=r.length;i>0;i--){var o=r.slice(0,i).join(", ");if(!(o.length>t))return i===r.length?o:truncate(o,t)}return""}function object_dropUndefinedKeys(e){return _dropUndefinedKeys(e,new Map)}function _dropUndefinedKeys(e,t){if(isPojo(e)){var r=t.get(e);if(void 0!==r)return r;var n={};t.set(e,n);var i,o=_createForOfIteratorHelper(Object.getOwnPropertyNames(e));try{for(o.s();!(i=o.n()).done;){var a=i.value;void 0!==e[a]&&(n[a]=_dropUndefinedKeys(e[a],t))}}catch(e){o.e(e)}finally{o.f()}return n}if(Array.isArray(e)){var s=t.get(e);if(void 0!==s)return s;var l=[];return t.set(e,l),e.forEach(function(e){l.push(_dropUndefinedKeys(e,t))}),l}return e}function isPojo(e){if(!isPlainObject(e))return!1;try{var t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}function objectify(e){var t;switch(!0){case null==e:t=new String(e);break;case"symbol"===object_typeof(e)||"bigint"==typeof e:t=Object(e);break;case isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t}var SCOPE_SPAN_FIELD="_sentrySpan";function _setSpanForScope(e,t){t?object_addNonEnumerableProperty(e,SCOPE_SPAN_FIELD,t):delete e[SCOPE_SPAN_FIELD]}function _getSpanForScope(e){return e[SCOPE_SPAN_FIELD]}function scope_typeof(e){return scope_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},scope_typeof(e)}function scope_slicedToArray(e,t){return scope_arrayWithHoles(e)||scope_iterableToArrayLimit(e,t)||scope_unsupportedIterableToArray(e,t)||scope_nonIterableRest()}function scope_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function scope_iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function scope_arrayWithHoles(e){if(Array.isArray(e))return e}function scope_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function scope_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?scope_ownKeys(Object(r),!0).forEach(function(t){scope_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):scope_ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function scope_defineProperty(e,t,r){return(t=scope_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||scope_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function scope_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return scope_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?scope_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return scope_arrayLikeToArray(e)}function scope_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,scope_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function scope_toPropertyKey(e){var t=scope_toPrimitive(e,"string");return"symbol"==scope_typeof(t)?t:String(t)}function scope_toPrimitive(e,t){if("object"!=scope_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=scope_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var DEFAULT_MAX_BREADCRUMBS=100,ScopeClass=function(){function e(){_classCallCheck(this,e),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:generateTraceId(),spanId:generateSpanId()}}return _createClass(e,[{key:"clone",value:function(){var t=new e;return t._breadcrumbs=_toConsumableArray(this._breadcrumbs),t._tags=scope_objectSpread({},this._tags),t._extra=scope_objectSpread({},this._extra),t._contexts=scope_objectSpread({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:_toConsumableArray(this._contexts.flags.values)}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=_toConsumableArray(this._eventProcessors),t._requestSession=this._requestSession,t._attachments=_toConsumableArray(this._attachments),t._sdkProcessingMetadata=scope_objectSpread({},this._sdkProcessingMetadata),t._propagationContext=scope_objectSpread({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,_setSpanForScope(t,_getSpanForScope(this)),t}},{key:"setClient",value:function(e){this._client=e}},{key:"setLastEventId",value:function(e){this._lastEventId=e}},{key:"getClient",value:function(){return this._client}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"getRequestSession",value:function(){return this._requestSession}},{key:"setRequestSession",value:function(e){return this._requestSession=e,this}},{key:"setTags",value:function(e){return this._tags=scope_objectSpread(scope_objectSpread({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,t){return this._tags=scope_objectSpread(scope_objectSpread({},this._tags),{},scope_defineProperty({},e,t)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(e){return this._extra=scope_objectSpread(scope_objectSpread({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,t){return this._extra=scope_objectSpread(scope_objectSpread({},this._extra),{},scope_defineProperty({},e,t)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(e){if(!e)return this;var t="function"==typeof e?e(this):e,r=scope_slicedToArray(t instanceof scope_Scope?[t.getScopeData(),t.getRequestSession()]:is_isPlainObject(t)?[e,e.requestSession]:[],2),n=r[0],i=r[1],o=n||{},a=o.tags,s=o.extra,l=o.user,u=o.contexts,c=o.level,d=o.fingerprint,f=void 0===d?[]:d,p=o.propagationContext;return this._tags=scope_objectSpread(scope_objectSpread({},this._tags),a),this._extra=scope_objectSpread(scope_objectSpread({},this._extra),s),this._contexts=scope_objectSpread(scope_objectSpread({},this._contexts),u),l&&Object.keys(l).length&&(this._user=l),c&&(this._level=c),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),i&&(this._requestSession=i),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,_setSpanForScope(this,void 0),this._attachments=[],this.setPropagationContext({traceId:generateTraceId()}),this._notifyScopeListeners(),this}},{key:"addBreadcrumb",value:function(e,t){var r="number"==typeof t?t:DEFAULT_MAX_BREADCRUMBS;if(r<=0)return this;var n=scope_objectSpread({timestamp:dateTimestampInSeconds()},e);return this._breadcrumbs.push(n),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"getScopeData",value:function(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_getSpanForScope(this)}}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=merge(this._sdkProcessingMetadata,e,2),this}},{key:"setPropagationContext",value:function(e){return this._propagationContext=scope_objectSpread({spanId:generateSpanId()},e),this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"captureException",value:function(e,t){var r=t&&t.event_id?t.event_id:misc_uuid4();if(!this._client)return logger_logger.warn("No client configured on scope - will not capture exception!"),r;var n=new Error("Sentry syntheticException");return this._client.captureException(e,scope_objectSpread(scope_objectSpread({originalException:e,syntheticException:n},t),{},{event_id:r}),this),r}},{key:"captureMessage",value:function(e,t,r){var n=r&&r.event_id?r.event_id:misc_uuid4();if(!this._client)return logger_logger.warn("No client configured on scope - will not capture message!"),n;var i=new Error(e);return this._client.captureMessage(e,t,scope_objectSpread(scope_objectSpread({originalException:e,syntheticException:i},r),{},{event_id:n}),this),n}},{key:"captureEvent",value:function(e,t){var r=t&&t.event_id?t.event_id:misc_uuid4();return this._client?(this._client.captureEvent(e,scope_objectSpread(scope_objectSpread({},t),{},{event_id:r}),this),r):(logger_logger.warn("No client configured on scope - will not capture event!"),r)}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)}}]),e}(),scope_Scope=ScopeClass;function getDefaultCurrentScope(){return worldwide_getGlobalSingleton("defaultCurrentScope",function(){return new scope_Scope})}function getDefaultIsolationScope(){return worldwide_getGlobalSingleton("defaultIsolationScope",function(){return new scope_Scope})}function stackStrategy_typeof(e){return stackStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},stackStrategy_typeof(e)}function stackStrategy_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function stackStrategy_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,stackStrategy_toPropertyKey(n.key),n)}}function stackStrategy_createClass(e,t,r){return t&&stackStrategy_defineProperties(e.prototype,t),r&&stackStrategy_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function stackStrategy_toPropertyKey(e){var t=stackStrategy_toPrimitive(e,"string");return"symbol"==stackStrategy_typeof(t)?t:String(t)}function stackStrategy_toPrimitive(e,t){if("object"!=stackStrategy_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=stackStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var AsyncContextStack=function(){function e(t,r){var n,i;stackStrategy_classCallCheck(this,e),n=t||new scope_Scope,i=r||new scope_Scope,this._stack=[{scope:n}],this._isolationScope=i}return stackStrategy_createClass(e,[{key:"withScope",value:function(e){var t,r=this,n=this._pushScope();try{t=e(n)}catch(e){throw this._popScope(),e}return isThenable(t)?t.then(function(e){return r._popScope(),e},function(e){throw r._popScope(),e}):(this._popScope(),t)}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getIsolationScope",value:function(){return this._isolationScope}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"_pushScope",value:function(){var e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}},{key:"_popScope",value:function(){return!(this._stack.length<=1||!this._stack.pop())}}]),e}();function getAsyncContextStack(){var e=carrier_getSentryCarrier(carrier_getMainCarrier());return e.stack=e.stack||new AsyncContextStack(getDefaultCurrentScope(),getDefaultIsolationScope())}function withScope(e){return getAsyncContextStack().withScope(e)}function withSetScope(e,t){var r=getAsyncContextStack();return r.withScope(function(){return r.getStackTop().scope=e,t(e)})}function withIsolationScope(e){return getAsyncContextStack().withScope(function(){return e(getAsyncContextStack().getIsolationScope())})}function getStackAsyncContextStrategy(){return{withIsolationScope,withScope,withSetScope,withSetIsolationScope:function(e,t){return withIsolationScope(t)},getCurrentScope:function(){return getAsyncContextStack().getScope()},getIsolationScope:function(){return getAsyncContextStack().getIsolationScope()}}}function setAsyncContextStrategy(e){var t=getMainCarrier();getSentryCarrier(t).acs=e}function asyncContext_getAsyncContextStrategy(e){var t=carrier_getSentryCarrier(e);return t.acs?t.acs:getStackAsyncContextStrategy()}function getCurrentScope(){return asyncContext_getAsyncContextStrategy(carrier_getMainCarrier()).getCurrentScope()}function getIsolationScope(){return asyncContext_getAsyncContextStrategy(carrier_getMainCarrier()).getIsolationScope()}function getGlobalScope(){return getGlobalSingleton("globalScope",function(){return new Scope})}function currentScopes_withScope(){for(var e=asyncContext_getAsyncContextStrategy(carrier_getMainCarrier()),t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(2===r.length){var i=r[0],o=r[1];return i?e.withSetScope(i,o):e.withScope(o)}return e.withScope(r[0])}function currentScopes_withIsolationScope(){for(var e=getMainCarrier(),t=getAsyncContextStrategy(e),r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if(2===n.length){var o=n[0],a=n[1];return o?t.withSetIsolationScope(o,a):t.withIsolationScope(a)}return t.withIsolationScope(n[0])}function getClient(){return getCurrentScope().getClient()}function getTraceContextFromScope(e){var t=e.getPropagationContext(),r=t.traceId,n=t.spanId,i=t.parentSpanId;return dropUndefinedKeys({trace_id:r,span_id:n,parent_span_id:i})}function breadcrumbs_typeof(e){return breadcrumbs_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},breadcrumbs_typeof(e)}function breadcrumbs_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function breadcrumbs_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?breadcrumbs_ownKeys(Object(r),!0).forEach(function(t){breadcrumbs_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):breadcrumbs_ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function breadcrumbs_defineProperty(e,t,r){return(t=breadcrumbs_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function breadcrumbs_toPropertyKey(e){var t=breadcrumbs_toPrimitive(e,"string");return"symbol"==breadcrumbs_typeof(t)?t:String(t)}function breadcrumbs_toPrimitive(e,t){if("object"!=breadcrumbs_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=breadcrumbs_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var DEFAULT_BREADCRUMBS=100;function addBreadcrumb(e,t){var r=getClient(),n=getIsolationScope();if(r){var i=r.getOptions(),o=i.beforeBreadcrumb,a=void 0===o?null:o,s=i.maxBreadcrumbs,l=void 0===s?DEFAULT_BREADCRUMBS:s;if(!(l<=0)){var u=breadcrumbs_objectSpread({timestamp:dateTimestampInSeconds()},e),c=a?consoleSandbox(function(){return a(u,t)}):u;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,l))}}}var PICKER_VERSION="1.36.10",config={urls:{processUrl:"https://process.filestackapi.com",fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",cdnUrl:"https://cdn.filestackcontent.com",pickerUrl:"https://static.filestackapi.com/picker/".concat(PICKER_VERSION,"/picker.js")}},FilestackErrorType;!function(e){e.VALIDATION="validation",e.REQUEST="request",e.ABORTED="aborted",e.OTHER="other"}(FilestackErrorType||(FilestackErrorType={}));var FilestackError=function(e){function t(r,n,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.details=n,o.type=i,o}return(0,tslib_es6.C6)(t,e),t}(Error),TransformSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Transformations",description:"Filestack transformations parameters",type:"object",additionalProperties:!1,properties:{flip:{type:"boolean",additionalProperties:!1},auto_image:{type:"boolean",additionalProperties:!1},no_metadata:{type:"boolean",additionalProperties:!1},compress:{additionalProperties:!1,oneOf:[{type:"boolean"},{type:"object",properties:{metadata:{type:"boolean",default:!1}}}]},flop:{type:"boolean",additionalProperties:!1},enhance:{default:!0,oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{preset:{type:"string",enum:["auto","vivid","beautify","beautify_plus","fix_dark","fix_noise","fix_tint","outdoor","fireworks"]}}}]},redeye:{type:"boolean",additionalProperties:!1},monochrome:{type:"boolean",additionalProperties:!1},negative:{type:"boolean",additionalProperties:!1},tags:{type:"boolean",additionalProperties:!1},sfw:{type:"boolean",additionalProperties:!1},imagesize:{type:"boolean",additionalProperties:!1},smart_crop:{width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",default:"auto",enum:["face","auto"]}},animate:{type:"object",properties:{delay:{type:"integer",minimum:0,maximum:1e4,default:1e3},loop:{type:"integer",minimum:0,maximum:1e3,default:0},width:{type:"integer",minimum:1,maximum:1800},height:{type:"integer",minimum:1,maximum:1800},fit:{type:"string",default:"clip",enum:["clip","scale","crop"]},background:{$ref:"colorDef",default:"transparent"},align:{$ref:"positionDef",default:"center"}}},metadata:{type:"object",params:{type:"array",items:{type:"string",enum:["filename","mimetype","size","width","height","writeable","path","container","cloud","exif","source_url","md5","sha256","sha1","sha512"]},minItems:0,uniqueItems:!0,additionalItems:!1},additionalProperties:!1},resize:{type:"object",properties:{width:{type:"number",minimum:0,maximum:1e4},height:{type:"number",minimum:0,maximum:1e4},fit:{type:"string",enum:["clip","crop","scale","max"],default:"clip"},align:{$ref:"positionDef",default:"center"}},additionalProperties:!1,anyOf:[{required:["width"]},{required:["height"]}]},crop:{type:"object",properties:{dim:{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:1,maximum:1e5},{type:"integer",minimum:1,maximum:1e5}]}},required:["dim"]},rotate:{type:"object",properties:{deg:{oneOf:[{type:"string",enum:["exif"]},{type:"number",minimum:0,maximum:359}]},exif:{type:"boolean"},background:{$ref:"colorDef",default:"FFFFFFFF"}},additionalProperties:!1},detect_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},export:{type:"boolean"},color:{$ref:"colorDef",default:"000000FF"}},additionalProperties:!1}]},crop_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{default:1,$ref:"facesDef"},width:{type:"number",minimum:1,maximum:1e4},height:{type:"number",minimum:1,maximum:1e4},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",enum:["crop","thumb","fill"],default:"thumb"}},additionalProperties:!1}]},pixelate_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"integer",minimum:2,maximum:100,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},blur_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"number",minimum:0,maximum:10,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},rounded_corners:{oneOf:[{type:"boolean"},{type:"object",properties:{radius:{oneOf:[{type:"integer",minimum:1,maximum:1e4},{type:"string",enum:["max"]}]},blur:{type:"number",minimum:0,maximum:20,default:.3},background:{$ref:"colorDef"}},additionalProperties:!1}]},vignette:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:100,default:20},blurmode:{type:"string",enum:["gaussian","linear"],default:"gaussian"},background:{$ref:"colorDef"}},additionalProperties:!1}]},polaroid:{oneOf:[{type:"boolean"},{type:"object",properties:{rotate:{type:"integer",minimum:0,maximum:359},color:{$ref:"colorDef",default:"snow"},background:{$ref:"colorDef"}},additionalProperties:!1}]},torn_edges:{oneOf:[{type:"boolean"},{type:"object",properties:{spread:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:1,maximum:1e4,default:1},{type:"integer",minimum:1,maximum:1e4,default:10}]},background:{$ref:"colorDef"}},additionalProperties:!1}]},shadow:{oneOf:[{type:"boolean"},{type:"object",properties:{blur:{type:"number",minimum:0,maximum:20,default:100},opacity:{type:"integer",minimum:0,maximum:100,default:60},vector:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:-1e3,maximum:1e3,default:4},{type:"integer",minimum:-1e3,maximum:1e3,default:4}]},color:{$ref:"colorDef"},background:{$ref:"colorDef"}},additionalProperties:!1}]},circle:{oneOf:[{type:"boolean"},{type:"object",properties:{background:{$ref:"colorDef"}},additionalProperties:!1}]},border:{oneOf:[{type:"boolean"},{type:"object",properties:{color:{$ref:"colorDef"},background:{$ref:"colorDef"},width:{type:"integer",minimum:0,maximum:1e3}},additionalProperties:!1}]},sharpen:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blur:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blackwhite:{oneOf:[{type:"boolean"},{type:"object",properties:{threshold:{type:"integer",minimum:0,maximum:100,default:50}},additionalProperties:!1}]},sepia:{oneOf:[{type:"boolean"},{type:"object",properties:{tone:{type:"integer",minimum:0,maximum:100,default:80}},additionalProperties:!1}]},pixelate:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},oil_paint:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},modulate:{oneOf:[{type:"boolean"},{type:"object",properties:{brightness:{type:"integer",minimum:0,maximum:1e4,default:100},saturation:{type:"integer",minimum:0,maximum:1e4,default:100},hue:{type:"integer",minimum:0,maximum:359,default:0}},additionalProperties:!1}]},ascii:{oneOf:[{type:"boolean"},{type:"object",properties:{foreground:{$ref:"colorDef",default:"000000FF"},background:{$ref:"colorDef",default:"FFFFFFFF"},colored:{type:"boolean",default:!1},size:{type:"integer",minimum:10,maximum:100,default:100},reverse:{type:"boolean",default:!1}},additionalProperties:!1}]},collage:{type:"object",properties:{files:{type:"array",minItems:1,items:[{type:"string"}]},margin:{type:"integer",minimum:1,maximum:100,default:10},width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},color:{$ref:"colorDef",default:"FFFFFFFF"},fit:{type:"string",enum:["auto","crop"]},autorotate:{type:"boolean",default:!1}},required:["width","height","files"],additionalProperties:!1},urlscreenshot:{oneOf:[{type:"boolean"},{type:"object",properties:{agent:{type:"string",enum:["desktop","mobile"],default:"desktop"},width:{type:"integer",minimum:1,maximum:1920,default:1024},height:{type:"integer",minimum:1,maximum:8e3,default:768},mode:{type:"string",enum:["all","window"],default:"all"},delay:{type:"integer",minimum:0,maximum:2e4,default:1e3},orientation:{type:"string",enum:["portrait","landscape"],default:"portrait"},device:{type:"string",default:""}},additionalProperties:!1}]},upscale:{oneOf:[{type:"boolean"},{type:"object",properties:{noise:{type:"string",enum:["none","low","medium","high"],default:"none"},upscale:{type:"boolean",default:!0},style:{type:"string",enum:["artwork","photo"],default:"photo"}},additionalProperties:!1}]},output:{type:"object",additionalProperties:!1,properties:{format:{type:"string",enum:["doc","docx","html","jpg","odp","ods","odt","pjpg","pdf","png","ppt","pptx","svg","txt","webp","xls","xlsx"]},page:{type:"integer",minimum:1,maximum:99999},density:{type:"integer",minimum:1,maximum:500},compress:{type:"boolean"},quality:{oneOf:[{type:"string",enum:["input"]},{type:"integer",minimum:1,maximum:100,default:95}]},secure:{type:"boolean",default:!1},docinfo:{type:"boolean",default:!1},strip:{type:"boolean",default:!1},colorspace:{type:"string",enum:["rgb","cmyk","input"],default:"rgb"},background:{$ref:"colorDef"},pageformat:{type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageorientation:{type:"string",enum:["landscape","portrait"]}}},pjpg:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{quality:{type:"integer",minimum:0,maximum:100},metadata:{type:"boolean",default:!1}}}]},quality:{type:"object",additionalProperties:!1,properties:{value:{type:"integer",minimum:1,maximum:100}}},cache:{oneOf:[{type:"boolean"},{type:"object",properties:{expiry:{type:"integer"}}}]},video_convert:{type:"object",additionalProperties:!1,properties:{width:{type:"integer",minimum:1,maximum:4096},height:{type:"integer",minimum:1,maximum:4096},preset:{type:"string"},force:{type:"boolean"},title:{type:"string"},extname:{type:"string"},upscale:{type:"boolean"},aspect_mode:{type:"string",enum:["letterbox","pad","crop","preserve","constrain"],default:"letterbox"},audio_sample_rate:{type:"integer",minimum:1,maximum:99999},two_pass:{type:"boolean"},video_bitrate:{type:"integer",minimum:1,maximum:5e3},fps:{type:"integer",minimum:1,maximum:300},keyframe_interval:{type:"integer",minimum:250,maximum:250},audio_bitrate:{type:"integer",minimum:1,maximum:999},audio_codec:{type:"string"},audio_channels:{type:"integer",minimum:1,maximum:12},clip_length:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},clip_offset:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},watermark_url:{type:"string"},watermark_top:{type:"integer",minimum:0,maximum:9999},watermark_right:{type:"integer",minimum:0,maximum:9999},watermark_bottom:{type:"integer",minimum:0,maximum:9999},watermark_left:{type:"integer",minimum:0,maximum:9999},frame_count:{type:"integer",minimum:1,maximum:1,default:1},filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},access:{type:"string",enum:["public","private"],default:"public"}}},store:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"}}}]},watermark:{type:"object",properties:{file:{type:"string"},size:{type:"number",minimum:0,maximum:500},position:{$ref:"positionDef"}},required:["file"],additionalProperties:!1},partial_blur:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:0,maximum:20},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},partial_pixelate:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:2,maximum:100},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},security:{type:"object",additionalProperties:!1,properties:{policy:{type:"string"},signature:{type:"string"}},required:["policy","signature"]},pdfinfo:{oneOf:[{type:"boolean"},{type:"object",properties:{colorinfo:{type:"boolean"}}}]},pdfconvert:{type:"object",additionalProperties:!1,properties:{pageorientation:{type:"string",enum:["portrait","landscape"]},pageformat:{$ref:"pageFormatDef"},pages:{$ref:"pageRangeDef"}},anyOf:[{required:["pageorientation"]},{required:["pageformat"]},{required:["pages"]}]},fallback:{type:"object",additionalProperties:!1,properties:{handle:{type:"string"},cache:{type:"integer",minimum:1,maximum:31536e3}},required:["handle"]},zip:{type:"string"},minify_css:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},level:{type:"number",enum:[1,2]}}},minify_js:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},use_babel_polyfill:{type:"boolean"},keep_fn_name:{type:"boolean"},keep_class_name:{type:"boolean"},mangle:{type:"boolean"},merge_vars:{type:"boolean"},remove_console:{type:"boolean"},remove_undefined:{type:"boolean"},targets:{type:"string"}}}}},lib=__nested_webpack_require_375992__(4282),DefinitionsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack",description:"Filestack common definitions",type:"object",additionalProperties:!1,definitions:{workflowsDef:{id:"/workflowsDef",type:"array",additionalItems:!1,minItems:1,maxItems:20,items:[{oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{id:{type:"string"}}}]}]},securityCallDef:{id:"/securityCallDef",oneOf:[{additionalProperties:!1,type:"string",enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]},{type:"array",additionalProperties:!1,items:[{minItems:1,maxItems:10,type:"string",additionalProperties:!1,enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]}]}]},regionsDef:{id:"/regionsDef",type:"string"},locationsDef:{id:"/locationsDef",type:"string",enum:["s3","S3","rackspace","gcs","azure","dropbox"]},colorDef:{id:"colorDef",oneOf:[{type:"string",pattern:"^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},{type:"string",enum:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fractal","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray0","gray1","gray2","gray3","gray4","gray5","gray6","gray7","gray8","gray9","gray10","gray11","gray12","gray13","gray14","gray15","gray16","gray17","gray18","gray19","gray20","gray21","gray22","gray23","gray24","gray25","gray26","gray27","gray28","gray29","gray30","gray31","gray32","gray33","gray34","gray35","gray36","gray37","gray38","gray39","gray40","gray41","gray42","gray43","gray44","gray45","gray46","gray47","gray48","gray49","gray50","gray51","gray52","gray53","gray54","gray55","gray56","gray57","gray58","gray59","gray60","gray61","gray62","gray63","gray64","gray65","gray66","gray67","gray68","gray69","gray70","gray71","gray72","gray73","gray74","gray75","gray76","gray77","gray78","gray79","gray80","gray81","gray82","gray83","gray84","gray85","gray86","gray87","gray88","gray89","gray90","gray91","gray92","gray93","gray94","gray95","gray96","gray97","gray98","gray99","gray100","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","none","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent"]}]},pageFormatDef:{id:"/pageFormatDef",type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageRangeDef:{id:"/pageRangeDef",type:"array",uniqueItems:!0,items:[{oneOf:[{type:"integer",minimum:1},{type:"string",pattern:"^(\\d+(?:-\\d+)?)$|^(-\\d+)$|^(\\d+-)$",errorMessage:'Param should be provided in one of the following formats: "1,2,3,5", "1-3", "1-", "-2" '}]}]},facesDef:{id:"/facesDef",oneOf:[{type:"string",enum:["all"]},{type:"integer",minimum:1,maximum:1e3},{type:"array",uniqueItems:!0,items:[{type:"integer",minimum:1,maximum:1e3}]}]},objectsDef:{id:"/objectsDef",type:"array",minItems:1,maxItems:50,items:[{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:1,maximum:1e4},{type:"integer",minimum:1,maximum:1e4}]}]},positionDef:{id:"/positionDef",default:["middle","center"],oneOf:[{type:"string",enum:["top","middle","bottom","left","center","right","faces"]},{type:"array",uniqueItems:!0,additionalItems:!1,minItems:2,maxItems:2,default:["middle","center"],items:[{type:"string",enum:["top","middle","bottom"]},{type:"string",enum:["left","center","right"]}]}]}}},v=new lib.Validator;lib.Validator.prototype.customFormats.callback=function(e){return"function"==typeof e},lib.Validator.prototype.customFormats.HTMLContainer=function(e){return"string"==typeof e||e.toString&&e.toString().indexOf("HTML")>-1};var getValidator=function(e){return function(t){return v.addSchema(DefinitionsSchema),v.validate(t,e)}},utils=__nested_webpack_require_375992__(9414),browser=__nested_webpack_require_375992__(1227),browser_default=__nested_webpack_require_375992__.n(browser);function filelink_typeof(e){return filelink_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},filelink_typeof(e)}var debug=browser_default()("fs:filelink"),Align,FitOptions,BlurMode,ShapeType,NoiseType,StyleType,ColorspaceType,CropfacesType,ImageWatermarkPosition,SmartCropMode,AudioTypes,VideoTypes,URLScreenshotAgent,URLScreenshotMode,URLScreenshotOrientation,Locations,VideoAccess,VideoAccessMode,EnhancePreset;!function(e){e.left="left",e.right="right",e.center="center",e.bottom="bottom",e.top="top",e.faces="faces",e.middle="middle"}(Align||(Align={})),function(e){e.clip="clip",e.crop="crop",e.scale="scale",e.max="max"}(FitOptions||(FitOptions={})),function(e){e.linear="linear",e.gaussian="gaussian"}(BlurMode||(BlurMode={})),function(e){e.oval="oval",e.rect="rect"}(ShapeType||(ShapeType={})),function(e){e.none="none",e.low="low",e.medium="medium",e.high="high"}(NoiseType||(NoiseType={})),function(e){e.artwork="artwork",e.photo="photo"}(StyleType||(StyleType={})),function(e){e.RGB="RGB",e.CMYK="CMYK",e.Input="Input"}(ColorspaceType||(ColorspaceType={})),function(e){e.thumb="thumb",e.crop="crop",e.fill="fill"}(CropfacesType||(CropfacesType={})),function(e){e.top="top",e.middle="middle",e.bottom="bottom",e.left="left",e.center="center",e.right="right"}(ImageWatermarkPosition||(ImageWatermarkPosition={})),function(e){e.face="face",e.auto="auto"}(SmartCropMode||(SmartCropMode={})),function(e){e.libmp3lame="libmp3lame",e.libvorbis="libvorbis",e.libfdk_aac="libfdk_aac",e.dib_ac3="dib_ac3",e.pcm_s16le="pcm_s16le",e.mp2="mp2",e.ac3="ac3",e.eac3="eac3"}(AudioTypes||(AudioTypes={})),function(e){e.h264="h264",e.h264_hi="h264.hi",e.webm="webm",e["webm-hi"]="webm.hi",e.ogg="ogg",e["ogg-hi"]="ogg.hi",e["hls-variant"]="hls.variant",e.mp3="mp3",e.oga="oga",e.m4a="m4a",e.aac="aac",e.hls="hls.variant.audio"}(VideoTypes||(VideoTypes={})),function(e){e.desktop="desktop",e.mobile="mobile"}(URLScreenshotAgent||(URLScreenshotAgent={})),function(e){e.all="all",e.window="window"}(URLScreenshotMode||(URLScreenshotMode={})),function(e){e.portrait="portrait",e.landscape="landscape"}(URLScreenshotOrientation||(URLScreenshotOrientation={})),function(e){e.s3="s3",e.azure="azure",e.gcs="gcs",e.rackspace="rackspace",e.dropbox="dropbox"}(Locations||(Locations={})),function(e){e.private="private",e.public="public"}(VideoAccess||(VideoAccess={})),function(e){e.preserve="preserve",e.constrain="constrain",e.letterbox="letterbox",e.pad="pad",e.crop="crop"}(VideoAccessMode||(VideoAccessMode={})),function(e){e.auto="auto",e.vivid="vivid",e.beautify="beautify",e.beautifyPlus="beautify_plus",e.fixDark="fix_dark",e.fixNoise="fix_noise",e.fixTint="fix_tint",e.outdor="outdoor",e.fireworks="fireworks"}(EnhancePreset||(EnhancePreset={}));var handleRegexp=/^[\w\-]{20}|wf:\/\/[\w\-\/]{106}$/,Filelink=function(){function e(e,t){this.transforms=[],this.b64=!1,this.useValidator=!0,this.arrayToObject=function(e,t,r){return void 0===e&&(e=[]),e.reduce(function(e,n){return e[n[t]]=n[r],e},{})},this.apikey=t,this.setSource(e)}return e.prototype.setBase64=function(e){return this.b64=e,this},e.prototype.setUseValidator=function(e){return this.useValidator=e,this},e.prototype.setCname=function(e){return this.cname=e,this},e.prototype.setCustomDomain=function(e){return this.customDomain=e,this},e.prototype.setSource=function(e){this.source=e;var t=this.isSourceExternal();if(debug("Source ".concat(e," - isExternal? ").concat(t)),t&&!this.apikey)throw new FilestackError("External sources requires apikey to handle transforms");if(!t&&"string"==typeof this.source&&!handleRegexp.test(this.source)&&-1===this.source.indexOf("filestackcontent"))throw new FilestackError("Invalid filestack source provided")},e.prototype.getValidationSchema=function(){return TransformSchema},e.prototype.getTransformations=function(){return this.useValidator&&this.validateTasks(this.transforms),this.transforms},e.prototype.toString=function(){var e=[];e.push(this.getCdnHost()),this.useValidator&&this.validateTasks(this.transforms),this.apikey&&e.push(this.apikey);var t=this.generateTransformString(),r=this.source;return this.b64?(this.transforms.length>0&&(t="b64/".concat((0,utils.b64)(JSON.stringify(this.transforms),!0))),Array.isArray(r)&&(r=this.arrayToString(r)),r="b64://".concat((0,utils.b64)(r,!0))):r=Array.isArray(r)?this.arrayToString(r):this.escapeValue(r),t.length&&e.push(t),e.push(r),e.join("/")},e.prototype.addTask=function(e,t){if(browser_default()("Add task  ".concat(e," with params %O"),t),"cache"!==e&&"boolean"==typeof t){if(!t)return this;t=void 0}else"object"!==filelink_typeof(t)||Object.keys(t).length||(t=void 0);return this.transforms.push({name:e,params:t}),this},e.prototype.getTasks=function(){return this.transforms},e.prototype.reset=function(){return this.transforms=[],this},e.prototype.autoImage=function(){return this.addTask("auto_image",!0)},e.prototype.flip=function(){return this.addTask("flip",!0)},e.prototype.flop=function(){return this.addTask("flop",!0)},e.prototype.imagesize=function(){return this.addTask("imagesize",!0)},e.prototype.noMetadata=function(){return this.addTask("no_metadata",!0)},e.prototype.pjpg=function(e){return this.addTask("pjpg",e)},e.prototype.smartCrop=function(e){return this.addTask("smart_crop",e)},e.prototype.watermark=function(e){return this.addTask("watermark",e)},e.prototype.enhance=function(e){return this.addTask("enhance",e||!0)},e.prototype.redeye=function(){return this.addTask("redeye",!0)},e.prototype.monochrome=function(){return this.addTask("monochrome",!0)},e.prototype.compress=function(e){return this.addTask("compress",e||!0)},e.prototype.negative=function(){return this.addTask("negative",!0)},e.prototype.tags=function(){return this.addTask("tags",!0)},e.prototype.sfw=function(){return this.addTask("sfw",!0)},e.prototype.animate=function(e){return this.addTask("animate",e)},e.prototype.store=function(e){return this.addTask("store",e)},e.prototype.cache=function(e){return this.addTask("cache",e)},e.prototype.resize=function(e){return this.addTask("resize",e)},e.prototype.crop=function(e){return this.addTask("crop",e)},e.prototype.rotate=function(e){return this.addTask("rotate",e)},e.prototype.detectFaces=function(e){return this.addTask("detect_faces",e)},e.prototype.cropFaces=function(e){return this.addTask("crop_faces",e)},e.prototype.pixelateFaces=function(e){return this.addTask("pixelate_faces",e)},e.prototype.blurFaces=function(e){return this.addTask("blur_faces",e)},e.prototype.roundedCorners=function(e){return this.addTask("rounded_corners",e)},e.prototype.polaroid=function(e){return this.addTask("polaroid",e)},e.prototype.vignette=function(e){return this.addTask("vignette",e)},e.prototype.tornEdges=function(e){return this.addTask("torn_edges",e)},e.prototype.shadow=function(e){return this.addTask("shadow",e)},e.prototype.circle=function(e){return this.addTask("circle",e)},e.prototype.border=function(e){return this.addTask("border",e)},e.prototype.sharpen=function(e){return this.addTask("sharpen",e)},e.prototype.blur=function(e){return this.addTask("blur",e)},e.prototype.blackwhite=function(e){return this.addTask("blackwhite",e)},e.prototype.sepia=function(e){return this.addTask("sepia",e)},e.prototype.pixelate=function(e){return this.addTask("pixelate",e)},e.prototype.oilPaint=function(e){return this.addTask("oil_paint",e)},e.prototype.modulate=function(e){return this.addTask("modulate",e)},e.prototype.partialPixelate=function(e){return this.addTask("partial_pixelate",e)},e.prototype.partialBlur=function(e){return this.addTask("partial_blur",e)},e.prototype.collage=function(e){return this.addTask("collage",e)},e.prototype.upscale=function(e){return this.addTask("upscale",e)},e.prototype.ascii=function(e){return this.addTask("ascii",e)},e.prototype.quality=function(e){return this.addTask("quality",e)},e.prototype.security=function(e){return this.addTask("security",e)},e.prototype.output=function(e){return this.addTask("output",e)},e.prototype.videoConvert=function(e){return this.addTask("video_convert",e)},e.prototype.URLScreenshot=function(e){return this.addTask("urlscreenshot",e)},e.prototype.PDFInfo=function(e){return this.addTask("pdfinfo",e)},e.prototype.PDFConvert=function(e){return this.addTask("pdfconvert",e)},e.prototype.fallback=function(e){return this.addTask("fallback",e)},e.prototype.zip=function(){return this.addTask("zip",!0)},e.prototype.minifyCss=function(e){return this.addTask("minify_css",e)},e.prototype.minifyJs=function(e){return this.addTask("minify_js",e)},e.prototype.isSourceExternal=function(){if(!this.source)throw new FilestackError("Source not Set");var e=Array.isArray(this.source)?this.source:[this.source];for(var t in e)if(e.hasOwnProperty(t)&&(0===e[t].indexOf("src:")||0===e[t].indexOf("http")&&-1===e[t].indexOf("filestackcontent")))return!0;return!1},e.prototype.validateTasks=function(t){var r=e.validator(this.arrayToObject(t,"name","params"));if(r.errors.length)throw new FilestackError("Params validation error",r.errors,FilestackErrorType.VALIDATION)},e.prototype.getCdnHost=function(){var e=Object.assign({},config.urls);return this.customDomain&&(e.cdnUrl=this.customDomain),(e=(0,utils.resolveHost)(e,this.cname)).cdnUrl},e.prototype.generateTransformString=function(){var e=this,t=[];return this.transforms.forEach(function(r){t.push(e.optionToString(r.name,r.params))}),t.join("/")},e.prototype.optionToString=function(e,t){var r=this,n=[];return void 0===t?e:"boolean"==typeof t?t||"cache"!==e?e:"cache=false":(Object.keys(t).forEach(function(e){Array.isArray(t[e])?n.push("".concat(e,":").concat(r.arrayToString(t[e]))):n.push("".concat(e,":").concat(r.escapeValue(t[e])))}),"".concat(e,"=").concat(n.join(",")))},e.prototype.escapeValue=function(e){return"string"!=typeof e?e:e.indexOf("/")>-1||e.indexOf(",")>-1?'"'.concat(e,'"'):e},e.prototype.arrayToString=function(e){var t=this,r=e.map(function(e){return Array.isArray(e)?t.arrayToString(e):t.escapeValue(e)});return"[".concat(r,"]")},e.validator=getValidator(TransformSchema),e}(),StoreParamsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Store",description:"Filestack Store Options",type:"object",additionalProperties:!1,properties:{filename:{oneOf:[{type:"string"},{format:"callback"}]},mimetype:{type:["string","null"],maxLength:255},altText:{type:["string","null"],maxLength:125},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"},disableStorageKey:{type:"boolean"},tags:{type:"object",additionalProperties:{type:"string"}},sanitizer:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{exclude:{type:"array",items:[{type:"string"}]},replacement:{type:"string"}}}]}}},SecurityParamsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Security",description:"Filestack Security Options",type:"object",additionalProperties:!1,properties:{expiry:{type:"number"},call:{$ref:"securityCallDef"},handle:{type:"string"},url:{type:"string"},maxSize:{type:"number"},minSize:{type:"number"},path:{type:"string"},container:{type:"string"}}},PreviewParamsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Preview",description:"Filestack Preview Options",type:"object",additionalProperties:!1,properties:{id:{type:"string"},css:{type:"string"}}},UploadParamsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Upload",description:"Filestack Upload Options",type:"object",additionalProperties:!1,properties:{partSize:{type:"integer",minimum:5242880},concurrency:{type:"integer",minimum:1,maximum:20},progressInterval:{type:"integer",minimum:1},retry:{type:"integer",minimum:0,maximum:20},retryFactor:{type:"integer"},retryMaxTime:{type:"integer"},timeout:{type:"integer",minimum:1,maximum:36e5},intelligent:{oneOf:[{type:"boolean"},{type:"string",enum:["fallback"]}]},intelligentChunkSize:{type:"integer"},onProgress:{format:"callback"},onRetry:{format:"callback"},disableIntegrityCheck:{type:"boolean"},tags:{type:"object",maxItems:10,additionalProperties:{type:"string",maxlength:256}}}},PickerParamsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Picker",description:"Filestack Picker Options",type:"object",additionalProperties:!1,properties:{allowManualRetry:{type:"boolean"},accept:{additionalProperties:!1,oneOf:[{type:"string"},{type:"array",minItems:1,items:[{type:"string"}]}]},acceptFn:{format:"callback"},websearch:{type:"object",properties:{predefinedText:{type:"string"}}},fromSources:{type:"array",items:{anyOf:[{type:"string",enum:["local_file_system","url","imagesearch","facebook","instagram","googledrive","picasa","unsplash","dropbox","webcam","video","audio","box","github","gmail","googlephotos","onedrive","onedriveforbusiness","clouddrive","customsource","tint"]},{type:"object"}]}},container:{format:"HTMLContainer"},cleanupImageExif:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{keepOrientation:{type:"boolean"},keepICCandAPP:{type:"boolean"}}}]},displayMode:{type:"string",enum:["inline","overlay","dropPane"]},concurrency:{type:"integer",minimum:1,maximum:20},supportEmail:{type:"string"},customSourceContainer:{type:"string"},customSourcePath:{type:"string"},customSourceName:{type:"string"},disableStorageKey:{type:"boolean"},disableTransformer:{type:"boolean"},disableAltText:{type:"boolean"},disableThumbnails:{type:"boolean"},exposeOriginalFile:{type:"boolean"},globalDropZone:{type:"boolean"},hideModalWhenUploading:{type:"boolean"},imageDim:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMax:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMin:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMinMaxBlock:{type:"boolean",default:!1},lang:{type:"string",enum:["ca","da","de","en","es","fr","he","it","ja","ko","nl","no","pl","pt","sv","ru","vi","zh","tr","ar"]},minFiles:{type:"integer",minimum:1,maximum:1e6},maxFiles:{type:"integer",minimum:1,maximum:1e6},maxSize:{type:"integer",minimum:1},modalSize:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1,maximum:1e6}]},rootId:{type:"string"},startUploadingWhenMaxFilesReached:{type:"boolean"},uploadInBackground:{type:"boolean"},videoResolution:{type:"string"},onCancel:{format:"callback"},onClose:{format:"callback"},onOpen:{format:"callback"},onFileSelected:{format:"callback"},onFileUploadCancel:{format:"callback"},onFileUploadStarted:{format:"callback"},onFileUploadFinished:{format:"callback"},onFileUploadFailed:{format:"callback"},onFileUploadProgress:{format:"callback"},onUploadStarted:{format:"callback"},onUploadDone:{format:"callback"},onFileCropped:{format:"callback"},storeTo:{additionalProperties:!1,type:"object",properties:{filename:{type:"string"},location:{$ref:"locationsDef"},container:{type:"string"},path:{type:"string"},region:{type:"string"},access:{type:"string",enum:["public","private"]},workflows:{$ref:"workflowsDef"}}},viewType:{type:"string",enum:["grid","list"]},transformations:{type:"object",additionalProperties:!1,properties:{config:{type:"object"},circle:{type:"boolean"},rotate:{type:"boolean"},force:{type:"boolean"},crop:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{force:{type:"boolean"},aspectRatio:{type:"number"}}}]}}},customText:{type:"object",patternProperties:{".*":{type:"string"}}},cropFiles:{type:"array",minItems:1},loadCss:{type:"string"},failOverMaxFiles:{type:"boolean"},dropPane:{type:"object",properties:{cropFiles:{type:"array",minItems:1},customText:{type:"string"},disableClick:{type:"boolean"},overlay:{type:"boolean"},showIcon:{type:"boolean"},showProgress:{type:"boolean"},onDragEnter:{format:"callback"},onProgress:{format:"callback"},onDragLeave:{format:"callback"},onDragOver:{format:"callback"},onDrop:{format:"callback"},onSuccess:{format:"callback"},onError:{format:"callback"},onClick:{format:"callback"}}},errorsTimeout:{type:"number",minimum:0},customAuthText:{type:"object",patternProperties:{".*":{additionalProperties:!1,type:"object",required:["top","bottom"],properties:{top:{type:"string"},bottom:{type:"string"}}}}},uploadConfig:{type:"object",additionalProperties:!1,properties:(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},UploadParamsSchema.properties),{tags:{type:"object",additionalProperties:{anyOf:[{type:"string"},{format:"callback"}]}}})},useSentryBreadcrumbs:{type:"boolean"},transformationsUI:{type:"boolean"},pasteMode:{type:"object",additionalProperties:!1,properties:{pasteToFirstInViewPort:{type:"boolean"},pasteToFirstInstance:{type:"boolean"}}},disableDirectoryUpload:{type:"boolean"},miniUploader:{type:"boolean"},multipleFileUpload:{type:"boolean"},googleDriveAppID:{type:"string"}}},MetadataParamsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Metadata",description:"Filestack Metadata Options",type:"object",additionalProperties:!1,properties:{size:{type:"boolean"},mimetype:{type:"boolean"},filename:{type:"boolean"},width:{type:"boolean"},metadata:{type:"boolean"},height:{type:"boolean"},uploaded:{type:"boolean"},writeable:{type:"boolean"},cloud:{type:"boolean"},sourceUrl:{type:"boolean"},md5:{type:"boolean"},sha1:{type:"boolean"},sha224:{type:"boolean"},sha256:{type:"boolean"},sha384:{type:"boolean"},sha512:{type:"boolean"},location:{type:"boolean"},path:{type:"boolean"},container:{type:"boolean"},exif:{type:"boolean"}}},RetrieveParamsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Retrieve",description:"Filestack Retrieve Options",type:"object",additionalProperties:!1,properties:{metadata:{type:"boolean"},head:{type:"boolean"},dl:{type:"boolean"},cache:{type:"boolean"},extension:{type:"string"}}},types=__nested_webpack_require_375992__(5934),shouldRetry=__nested_webpack_require_375992__(6854),dispatch_debug=browser_default()("fs:request:dispatch"),Dispatch=function(){function e(e){this.adapter=e}return e.prototype.request=function(e){var t=this;return e.headers=e.headers||{},dispatch_debug("Dispatching request %O",e),this.adapter.request(e).catch(function(e){return dispatch_debug('Request error "%s": %O',e,e.response),t.retry(e)})},e.prototype.retry=function(e){var t=this,r=e.config;if(!(0,shouldRetry.S)(e))return dispatch_debug("[Retry] Request error is not retriable. Exiting"),Promise.reject(e);if(!r.retry)return dispatch_debug("[Retry] Retry config not found. Exiting"),Promise.reject(e);var n=r.retry,i=r.runtime&&r.runtime.retryCount?r.runtime.retryCount:0;if(n.retry&&n.retry<=i)return dispatch_debug("[Retry] Retry attempts reached %d. Exiting",i),Promise.reject(e);var o=Math.max(Math.min(n.retryMaxTime,1e3*Math.pow(n.retryFactor,i)),1);return r.runtime=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},r.runtime),{retryCount:i+1}),dispatch_debug("[Retry] Retrying request to ".concat(r.url,", count ").concat(i," of ").concat(n.retry," - Delay: ").concat(o)),new Promise(function(e){setTimeout(function(){return e(t.request(r))},o)})},e}(),RequestAdapter=__nested_webpack_require_375992__(3574).U,FsRequest=function(){function e(e){this.defaults=e,this.dispatcher=new Dispatch(new RequestAdapter)}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.dispatch=function(e){return e.method||(e.method=types.j.GET),this.dispatcher.request(Object.assign({},this.defaults,e))},e.dispatch=function(t,r){return e.getInstance().dispatch(Object.assign({},r||{},{url:t}))},e.get=function(t,r){return e.getInstance().dispatch(Object.assign({},r||{},{method:types.j.GET,url:t}))},e.head=function(t,r){return e.getInstance().dispatch(Object.assign({},r||{},{method:types.j.HEAD,url:t}))},e.options=function(t,r){return e.getInstance().dispatch(Object.assign({},r||{},{method:types.j.OPTIONS,url:t}))},e.purge=function(t,r){return e.getInstance().dispatch(Object.assign({},r||{},{method:types.j.PURGE,url:t}))},e.delete=function(t,r){return e.getInstance().dispatch(Object.assign({},r||{},{method:types.j.DELETE,url:t}))},e.post=function(t,r,n){return e.getInstance().dispatch(Object.assign({},n||{},{method:types.j.POST,url:t,data:r}))},e.put=function(t,r,n){return e.getInstance().dispatch(Object.assign({},n||{},{method:types.j.PUT,url:t,data:r}))},e.path=function(t,r,n){return e.getInstance().dispatch(Object.assign({},n||{},{method:types.j.PATH,url:t,data:r}))},e}();const request=null;var error=__nested_webpack_require_375992__(9653),FsCancelToken=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,tslib_es6.C6)(t,e),t.prototype.cancel=function(e){this.emit("cancel",e),this.removeAllListeners()},t}(eventemitter3),remove=function(e,t,r,n){if(!t||"string"!=typeof t)throw new FilestackError("A valid Filestack handle is required for remove");if(!(e.policy&&e.signature||n&&n.policy&&n.signature))throw new FilestackError("Security policy and signature are required for remove");var i=e.urls.fileApiUrl,o="".concat(i,"/").concat(t),a={key:e.apikey,policy:n&&n.policy||e.policy,signature:n&&n.signature||e.signature};return r&&(a.skip_storage=!0),FsRequest.delete(o,{filestackHeaders:!1,params:(0,utils.removeEmpty)(a)})},metadata=function(e,t,r,n){if(!t||"string"!=typeof t)throw new FilestackError("A valid Filestack handle is required for metadata");var i=getValidator(MetadataParamsSchema)(r);if(i.errors.length)throw new FilestackError("Invalid metadata params",i.errors);var o=(0,tslib_es6.Cl)({},r);o.source_url=o.sourceUrl,o.policy=n&&n.policy||e.policy,o.signature=n&&n.signature||e.signature;var a="".concat(e.urls.fileApiUrl,"/").concat(t,"/metadata");return new Promise(function(e,r){FsRequest.get(a,{params:(0,utils.removeEmpty)(o),filestackHeaders:!1}).then(function(r){return e((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},r.data),{handle:t}))}).catch(r)})},download=function(e,t,r){var n=new Filelink(t,e.apikey),i=r&&r.policy||e.policy,o=r&&r.signature||e.signature;return i&&o&&n.security({signature:o,policy:i}),FsRequest.dispatch(n.toString(),{method:types.j.GET,blobResponse:!0})},retrieve=function(e,t,r,n){if(void 0===r&&(r={}),!t||0===t.length||"string"!=typeof t)throw new FilestackError("File handle is required");console.info("Retrieve method is deprecated and it will be removed. Please use metadata or download");var i=getValidator(RetrieveParamsSchema)(r);if(i.errors.length)throw new FilestackError("Invalid retrieve params",i.errors);var o=(0,tslib_es6.Cl)({},r);o.key=e.apikey,o.policy=n&&n.policy||e.policy,o.signature=n&&n.signature||e.signature;var a,s,l=types.j.GET;if(o.head&&(l=types.j.HEAD,delete o.head),o.extension&&o.extension.length&&(a=o.extension,delete o.extension),o.metadata){if(l===types.j.HEAD)throw new FilestackError("Head and metadata options cannot be used together");s=o.metadata,delete o.metadata}var u="".concat(e.urls.fileApiUrl,"/").concat(t)+(a?"+".concat(a):"")+(s?"/metadata":"");return new Promise(function(e,t){FsRequest.dispatch(u,{method:l,filestackHeaders:!1,params:(0,utils.removeEmpty)(o)}).then(function(t){return e(l===types.j.HEAD?t.headers:t.data)}).catch(t)})};function transform_typeof(e){return transform_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},transform_typeof(e)}var toSnakeCase=function e(t){for(var r={},n=Object.keys(t),i=0;i<n.length;i++){var o=n[i].split(/(?=[A-Z])/).join("_").toLowerCase();"object"!==transform_typeof(t[n[i]])||Array.isArray(t[n[i]])?r[o]=t[n[i]]:r[o]=e(t[n[i]])}return r},EAlignOptions,EAlignFacesOptions,EFitOptions,EBlurMode,EShapeType,ENoiseType,EStyleType,EColorspaceType,ECropfacesType,ESmartCropMode,EImageWatermarkPosition,EAudioTypes,EVideoTypes,EUrlscreenshotAgent,EUrlscreenshotMode,EUrlscreenshotOrientation,EVideoLocations,EVideoAccess,EVideoAccessMode;!function(e){e.left="left",e.right="right",e.center="center",e.bottom="bottom",e.top="top"}(EAlignOptions||(EAlignOptions={})),function(e){e.left="left",e.right="right",e.center="center",e.bottom="bottom",e.top="top",e.faces="faces"}(EAlignFacesOptions||(EAlignFacesOptions={})),function(e){e.clip="clip",e.crop="crop",e.scale="scale",e.max="max"}(EFitOptions||(EFitOptions={})),function(e){e.linear="linear",e.gaussian="gaussian"}(EBlurMode||(EBlurMode={})),function(e){e.oval="oval",e.rect="rect"}(EShapeType||(EShapeType={})),function(e){e.none="none",e.low="low",e.medium="medium",e.high="high"}(ENoiseType||(ENoiseType={})),function(e){e.artwork="artwork",e.photo="photo"}(EStyleType||(EStyleType={})),function(e){e.RGB="RGB",e.CMYK="CMYK",e.Input="Input"}(EColorspaceType||(EColorspaceType={})),function(e){e.thumb="thumb",e.crop="crop",e.fill="fill"}(ECropfacesType||(ECropfacesType={})),function(e){e.fit="fit",e.auto="auto"}(ESmartCropMode||(ESmartCropMode={})),function(e){e.top="top",e.middle="middle",e.bottom="bottom",e.left="left",e.center="center",e.right="right"}(EImageWatermarkPosition||(EImageWatermarkPosition={})),function(e){e.libmp3lame="libmp3lame",e.libvorbis="libvorbis",e.libfdk_aac="libfdk_aac",e.dib_ac3="dib_ac3",e.pcm_s16le="pcm_s16le",e.mp2="mp2",e.ac3="ac3",e.eac3="eac3"}(EAudioTypes||(EAudioTypes={})),function(e){e.h264="h264",e.h264_hi="h264.hi",e.webm="webm",e["webm-hi"]="webm.hi",e.ogg="ogg",e["ogg-hi"]="ogg.hi",e["hls-variant"]="hls.variant",e.mp3="mp3",e.oga="oga",e.m4a="m4a",e.aac="aac",e.hls="hls.variant.audio"}(EVideoTypes||(EVideoTypes={})),function(e){e.desktop="desktop",e.mobile="mobile"}(EUrlscreenshotAgent||(EUrlscreenshotAgent={})),function(e){e.all="all",e.window="window"}(EUrlscreenshotMode||(EUrlscreenshotMode={})),function(e){e.portrait="portrait",e.landscape="landscape"}(EUrlscreenshotOrientation||(EUrlscreenshotOrientation={})),function(e){e.s3="s3",e.azure="azure",e.gcs="gcs",e.rackspace="rackspace",e.dropbox="dropbox"}(EVideoLocations||(EVideoLocations={})),function(e){e.private="private",e.public="public"}(EVideoAccess||(EVideoAccess={})),function(e){e.preserve="preserve",e.constrain="constrain",e.letterbox="letterbox",e.pad="pad",e.crop="crop"}(EVideoAccessMode||(EVideoAccessMode={}));var transform=function(e,t,r,n){void 0===r&&(r={}),void 0===n&&(n=!1),r=toSnakeCase(r),e.policy&&e.signature&&(r.security={policy:e.policy,signature:e.signature});var i=new Filelink(t,e.apikey);return i.setCname(e.cname),i.setBase64(n),Object.keys(r).forEach(function(e){("boolean"!=typeof r[e]||r[e]||"cache"===e)&&i.addTask(e,r[e])}),i.toString()};function store_typeof(e){return store_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},store_typeof(e)}var storeURL=function(e){var t=e.session,r=e.url,n=e.storeParams,i=e.token,o=e.security,a=e.uploadTags,s=e.headers,l=e.workflowIds;if(!r||"string"!=typeof r)return Promise.reject(new FilestackError("url is required for storeURL"));var u=getValidator(StoreParamsSchema)(n);if(u.errors.length)return Promise.reject(new FilestackError("Invalid store params",u.errors));t.policy=o&&o.policy||t.policy,t.signature=o&&o.signature||t.signature;var c=new Filelink(r,t.apikey);r&&"object"===store_typeof(n)&&null!==n&&(n.mimetype&&delete n.mimetype,n.altText&&delete n.altText),c.store(n),t.policy&&t.signature&&c.security({policy:t.policy,signature:t.signature});var d={};if(i){var f=new FsCancelToken;i.cancel=f.cancel.bind(f),d.cancelToken=f}var p=[r];return s&&(p=[{source:r,headers:s}]),l&&l.length>0&&c.addTask("store",{workflows:l}),FsRequest.post("".concat(t.urls.processUrl,"/process"),{apikey:t.apikey,sources:p,tasks:c.getTasks(),upload_tags:a},d).then(function(e){if(e.data&&e.data.handle)return e.data.upload_tags&&(e.data.uploadTags=e.data.upload_tags,delete e.data.upload_tags),(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},e.data),{mimetype:e.data.type});throw new FilestackError("Invalid store response ".concat(JSON.stringify(e.data)))})};function file_typeof(e){return file_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},file_typeof(e)}var file_File=function(){function e(e,t){this._file=e,this._sanitizeOptions=t,this._file.name=(0,utils.sanitizeName)(this._file.name,this._sanitizeOptions)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._file.name},set:function(e){this._file.name=(0,utils.sanitizeName)(e,this._sanitizeOptions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filename",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customName",{set:function(e){switch(file_typeof(e)){case"string":this.name=e;break;case"function":if("string"!=typeof e(this))throw new Error("Name function must return a string. Current return type is ".concat(file_typeof(e)));this.name=e(this)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._file.type||"application/octet-stream"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mimetype",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._file.size},enumerable:!1,configurable:!0}),e.prototype.getPartsCount=function(e,t){var r=t?84825604096:63350767616;if(this._file.size>=r){var n=Math.ceil(this._file.size/1e4);return{partsCount:Math.ceil(this._file.size/n),chunkSize:n}}return{partsCount:Math.ceil(this._file.size/e),chunkSize:e}},e.prototype.getPartMetadata=function(e,t){var r=t*e;if(r>this._file.size)throw new Error("Start byte of the part is higher than buffer size");var n=Math.min(r+t,this._file.size);return{partNumber:e,startByte:r,endByte:n,size:n-r}},e.prototype.getPartByMetadata=function(e,t){return void 0===t&&(t=!0),(0,tslib_es6.sH)(this,void 0,void 0,function(){var r;return(0,tslib_es6.YH)(this,function(n){switch(n.label){case 0:return[4,this._file.slice(e.startByte,e.endByte)];case 1:return r=n.sent(),[2,Promise.resolve((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},e),{buffer:r,md5:t?(0,utils.md5)(r):void 0}))]}})})},e.prototype.getChunkByMetadata=function(e,t,r,n){return void 0===n&&(n=!0),(0,tslib_es6.sH)(this,void 0,void 0,function(){var i,o,a;return(0,tslib_es6.YH)(this,function(s){switch(s.label){case 0:return i=e.startByte+t,o=Math.min(i+r,e.endByte),[4,this._file.slice(i,o)];case 1:return a=s.sent(),[2,Promise.resolve((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},e),{buffer:a,md5:n?(0,utils.md5)(a):void 0,size:a.byteLength,startByte:i,endByte:o,offset:t}))]}})})},e.prototype.release=function(){this._file.release&&this._file.release()},e.prototype.toJSON=function(){return{name:this.name,status:this.status,type:this.type,size:this.size,url:this.url,handle:this.handle,uploadTags:this.uploadTags}},e}(),base64Regexp=/data:([a-zA-Z]*\/[a-zA-Z]*);base64,([^\"]*)/i,isFileBlob=function(e){return"[object Blob]"===e.toString()},isFileBrowser=function(e){return e instanceof File},isFileBase=function(e){if("string"!=typeof e)return!1;e.indexOf("base64")>-1&&(e=e.match(base64Regexp).pop());try{return btoa(atob(e))===e}catch(e){return!1}},isFileNamed=function(e){return e&&e.file&&e.name},b64toBlob=function(e,t){void 0===t&&(t=512);var r="";if(e.indexOf("base64")>-1){var n=e.match(base64Regexp);e=n.pop(),r=n[1]}for(var i=atob(e),o=[],a=0;a<i.length;a+=t){for(var s=i.slice(a,a+t),l=new Array(s.length),u=0;u<s.length;u+=1)l[u]=s.charCodeAt(u);o.push(new Uint8Array(l))}return new Blob(o,{type:r})},readFile=function(e){return(0,tslib_es6.sH)(void 0,void 0,void 0,function(){return(0,tslib_es6.YH)(this,function(t){return File&&FileReader&&Blob?[2,Promise.resolve({slice:function(t,r){return readPart(t,r,e)},release:function(){e=null}})]:[2,Promise.reject(new FilestackError("The File APIs are not fully supported by your browser"))]})})},readPart=function(e,t,r){return new Promise(function(n,i){var o=new FileReader,a=r.slice(e,t);o.onload=function(){return n(o.result)},o.onerror=i,o.readAsArrayBuffer(a)})},getFile=function(e,t,r){var n,i;if(isFileNamed(e)&&(n=e.name,e=e.file),isFileBrowser(e))i=e,n=e.name;else if(isFileBase(e))i=b64toBlob(e);else{if(!isFileBlob(e))return Promise.reject(new FilestackError("Unsupported input file type"));i=e}return readFile(i).then(function(e){return(0,tslib_es6.sH)(void 0,void 0,void 0,function(){var o,a;return(0,tslib_es6.YH)(this,function(s){switch(s.label){case 0:return o=i.type,i.type&&0!==i.type.length&&"text/plain"!==i.type?[3,3]:(a=utils.getMimetype,[4,e.slice(0,4100)]);case 1:return[4,a.apply(void 0,[s.sent(),n])];case 2:o=s.sent(),s.label=3;case 3:return[2,new file_File({name:n,size:i.size,type:r||o,slice:e.slice,release:e.release},t)]}})})})},file_tools_base64Regexp=/data:([a-zA-Z]*\/[a-zA-Z+]*);base64,([^\"]*)/i,file_tools_isFileBlob=function(e){return"[object Blob]"===e.toString()},file_tools_isFileNamed=function(e){return e&&e.file&&e.name},dist=__nested_webpack_require_375992__(3772),helpers=__nested_webpack_require_375992__(5076),DEFAULT_PART_SIZE=6291456,MIN_PART_SIZE=5242880,INTELLIGENT_CHUNK_SIZE=8388608,INTELLIGENT_MOBILE_CHUNK_SIZE=1048576,MIN_CHUNK_SIZE=32768,DEFAULT_STORE_LOCATION="s3",abstract_debug=browser_default()("fs:upload:abstract"),UploaderAbstract=function(e){function t(t,r){void 0===r&&(r=3);var n=e.call(this)||this;return n.storeOptions=t,n.concurrency=r,n.partSize=DEFAULT_PART_SIZE,n.intelligentChunkSize=(0,utils.isMobile)()?INTELLIGENT_MOBILE_CHUNK_SIZE:INTELLIGENT_CHUNK_SIZE,n.timeout=3e4,n.uploadMode="default",n.isModeLocked=!1,n.integrityCheck=!0,n.uploadTags=null,n}return(0,tslib_es6.C6)(t,e),t.prototype.setSecurity=function(e){abstract_debug("Set security %O",e),this.security=e},t.prototype.setApikey=function(e){abstract_debug("Set apikey to ".concat(e)),this.apikey=e},t.prototype.setTimeout=function(e){abstract_debug("Set request timeout to ".concat(e)),this.timeout=e},t.prototype.setRetryConfig=function(e){abstract_debug("Set retry config to ".concat(e)),this.retryConfig=e},t.prototype.setUrl=function(e){abstract_debug("Set upload url to ".concat(e)),this.url=e},t.prototype.setUploadTags=function(e){abstract_debug("Set tags to %O",e),this.uploadTags=e},t.prototype.setIntegrityCheck=function(e){this.integrityCheck=e},t.prototype.setUploadMode=function(e,t){void 0===t&&(t=!1),!0!==this.isModeLocked?(this.isModeLocked=t,abstract_debug("Set upload mode to ".concat(e)),this.uploadMode=e):abstract_debug("Cannot switch mode to ".concat(e,". Locked! Probably mode is not supported at this apikey"))},t.prototype.setPartSize=function(e){if("default"===this.uploadMode){if(abstract_debug("Set part size to ".concat(e)),e<MIN_PART_SIZE)throw new FilestackError("Minimum part size is 5MB");this.partSize=e}else abstract_debug("Cannot set part size because upload mode is other than default. ")},t.prototype.getPartSize=function(){return this.partSize},t.prototype.setIntelligentChunkSize=function(e){if(abstract_debug("Set inteligent chunk size to ".concat(e)),e<MIN_CHUNK_SIZE)throw new FilestackError("Minimum intelligent chunk size is ".concat(MIN_CHUNK_SIZE));this.intelligentChunkSize=e},t.prototype.getIntelligentChunkSize=function(){return this.intelligentChunkSize},t.prototype.getUrl=function(){if(!this.url)throw new FilestackError("Upload url not set");return this.url},t}(node_modules_eventemitter3),s3_debug=browser_default()("fs:upload:s3"),COMPLETE_TIMEOUT=1e3,S3Uploader=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.payloads={},n.partsQueue=new dist.A({autoStart:!1,concurrency:n.concurrency}),n.cancelToken=new FsCancelToken,n}return(0,tslib_es6.C6)(t,e),t.prototype.pause=function(){this.partsQueue.pause()},t.prototype.resume=function(){this.partsQueue.isPaused&&this.partsQueue.start()},t.prototype.abort=function(e){this.partsQueue.pause(),this.partsQueue.clear(),this.cancelToken.cancel(e||"Aborted by user")},t.prototype.execute=function(){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var e,t=this;return(0,tslib_es6.YH)(this,function(r){return e=Object.keys(this.payloads).map(function(e){return new Promise(function(r){return(0,tslib_es6.sH)(t,void 0,void 0,function(){var t,n;return(0,tslib_es6.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,this.startRequest(e)];case 1:return i.sent(),[4,this.prepareParts(e)];case 2:return i.sent(),[4,this.startPartsQueue(e)];case 3:return i.sent(),[4,this.completeRequest(e)];case 4:return i.sent(),[3,6];case 5:return t=i.sent(),this.emit("error",t),s3_debug("[".concat(e,"] File upload failed. %O, \nDetails: %O "),t.message,t.details),[3,6];case 6:return(n=this.getPayloadById(e).file).release(),delete this.payloads[e],r(n),[2]}})})})}),[2,Promise.all(e)]})})},t.prototype.addFile=function(e){s3_debug("Add file to queue: \n %o",e);var t="".concat((0,utils.uniqueId)(15),"_").concat((0,utils.uniqueTime)());return e.status="Initialized",this.payloads[t]={file:e,parts:[]},t},t.prototype.getUploadUrl=function(e){var t=this.getDefaultFields(e,["location_url"]).location_url;return 0===t.indexOf("http")?t:"https://".concat(t)},t.prototype.getStoreOptions=function(e){var t=(0,tslib_es6.Cl)({location:DEFAULT_STORE_LOCATION},this.storeOptions);if(this.storeOptions.disableStorageKey){var r=this.getPayloadById(e);t.path&&"/"!==t.path.substr(-1)&&(t.path="".concat(t.path,"/")),t.path="".concat(t.path?t.path:"/").concat(r.file.name),delete t.disableStorageKey}return t},t.prototype.getDefaultFields=function(e,t,r){void 0===r&&(r=!1);var n=this.getPayloadById(e),i=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.security),{apikey:this.apikey,uri:n.uri,location_url:n.location_url,upload_id:n.upload_id,region:n.region,alt:n.file.alt});return("intelligent"===this.uploadMode||"fallback"===this.uploadMode&&r)&&(i.fii=!0),(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},(0,utils.filterObject)(i,t)),{store:this.getStoreOptions(e)})},t.prototype.getDefaultHeaders=function(e){var t={},r=this.getPayloadById(e);return r.location_region&&(t["Filestack-Upload-Region"]=r.location_region),t},t.prototype.getPayloadById=function(e){return this.payloads[e]},t.prototype.prepareParts=function(e){var t=this.getPayloadById(e).file,r=!1;["intelligent","fallback"].indexOf(this.uploadMode)>-1&&(this.partSize=INTELLIGENT_CHUNK_SIZE,r=!0);for(var n=t.getPartsCount(this.partSize,r),i=n.partsCount,o=n.chunkSize,a=[],s=0;s<i;s++)a[s]=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},t.getPartMetadata(s,o)),{offset:0});return this.payloads[e].parts=a,Promise.resolve()},t.prototype.startRequest=function(e){var t=this,r=this.getPayloadById(e);return 0===r.file.size?(this.setPayloadStatus(e,"Failed"),Promise.reject(new FilestackError('Invalid file "'.concat(r.file.name,'" size - 0'),{},FilestackErrorType.VALIDATION))):(s3_debug("[".concat(e,"] Make start request")),FsRequest.post("".concat(this.getUrl(),"/multipart/start"),(0,tslib_es6.Cl)({filename:r.file.name,mimetype:r.file.type,size:r.file.size},this.getDefaultFields(e,["apikey","policy","signature","fii"],!0)),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(e),retry:this.retryConfig}).then(function(r){var n=r.data;return n&&n.location_url&&n.region&&n.upload_id&&n.uri?(s3_debug("[".concat(e,"] Assign payload data: \n%O\n"),n),t.updatePayload(e,n),["intelligent","fallback"].indexOf(t.uploadMode)>-1&&(!n.upload_type||"intelligent_ingestion"!==n.upload_type)&&(s3_debug("[".concat(e,"] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change")),t.setUploadMode("default",!0)),n):(s3_debug("[".concat(e,"] Incorrect start response: \n%O\n"),n),t.setPayloadStatus(e,"Failed"),Promise.reject(new FilestackError("Incorrect start response",n,FilestackErrorType.REQUEST)))}).catch(function(r){return s3_debug("[".concat(e,"] Start request error %O"),r),t.setPayloadStatus(e,"Failed"),t.rejectUpload("Cannot upload file. Start request failed",r)}))},t.prototype.startPartsQueue=function(e){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var t,r,n,i=this;return(0,tslib_es6.YH)(this,function(o){return t=this.getPayloadById(e),r=t.parts,n=r.length,s3_debug("[".concat(e,"] Create uploading queue from file. parts count - %d"),n),[2,new Promise(function(t,n){return(0,tslib_es6.sH)(i,void 0,void 0,function(){var i,o=this;return(0,tslib_es6.YH)(this,function(a){switch(a.label){case 0:return r.forEach(function(t){return o.partsQueue.add(function(){return o.startPart(e,t.partNumber)}).catch(function(t){return o.setPayloadStatus(e,"Failed"),s3_debug("[".concat(e,"] Failed to upload part %s"),t.message),o.partsQueue.pause(),o.partsQueue.clear(),n(t)})}),s3_debug("[".concat(e,"] All tasks for %s enqueued. Start processing main upload queue"),e),this.emit("start"),this.partsQueue.start(),i=t,[4,this.partsQueue.onIdle()];case 1:return i.apply(void 0,[a.sent()]),[2]}})})})]})})},t.prototype.startPart=function(e,t){return s3_debug("[".concat(e,"] Start processing part ").concat(t," with mode ").concat(this.uploadMode)),this.getPayloadById(e).file.status="Progress",("intelligent"!==this.uploadMode?this.uploadRegular:this.uploadIntelligent).apply(this,[e,t])},t.prototype.getS3PartMetadata=function(e,t,r){var n=this,i=this.getUploadUrl(e);s3_debug("[".concat(e,"] Get data for part ").concat(t.partNumber,", url ").concat(i,", Md5: ").concat(t.md5,", Size: ").concat(t.size));var o=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.getDefaultFields(e,["apikey","uri","region","signature","policy","upload_id","fii"])),{part:t.partNumber+1,size:t.size,offset:r});return this.integrityCheck&&t.md5&&(o.md5=t.md5),FsRequest.post("".concat(i,"/multipart/upload"),o,{headers:this.getDefaultHeaders(e),cancelToken:this.cancelToken,timeout:this.timeout,retry:this.retryConfig}).catch(function(t){return n.setPayloadStatus(e,"Failed"),n.rejectUpload("Cannot get part metadata",t)})},t.prototype.uploadRegular=function(e,t){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var r,n,i,o,a,s,l=this;return(0,tslib_es6.YH)(this,function(u){switch(u.label){case 0:return r=this.getPayloadById(e),n=r.parts[t],[4,r.file.getPartByMetadata(n,this.integrityCheck)];case 1:return i=u.sent(),[4,this.getS3PartMetadata(e,i)];case 2:return o=u.sent(),a=o.data,s=o.headers,s3_debug("[".concat(e,"] Received part ").concat(t," info body: \n%O\n headers: \n%O\n"),a,s),[2,FsRequest.put(a.url,i.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:a.headers,filestackHeaders:!1,onProgress:function(r){return l.onProgressUpdate(e,t,r.loaded)},retry:this.retryConfig&&"fallback"!==this.uploadMode?this.retryConfig:void 0}).then(function(r){if(!r.headers.etag)throw i=null,new FilestackError("Cannot upload file, check S3 bucket settings","Etag header is not exposed in CORS settings",FilestackErrorType.REQUEST);return l.setPartETag(e,t,r.headers.etag),s3_debug("[".concat(e,"] S3 Upload response headers for ").concat(t,": \n%O\n"),r.headers),l.onProgressUpdate(e,t,i.size),i=null,r}).catch(function(r){var n=r&&r.response?r.response:null;if(n&&403===n.status&&n.data&&n.data.Error&&n.data.Error.code){var o=n.data.Error.code;return Array.isArray(o)&&(o=o.pop()),"RequestTimeTooSkewed"===o?l.startPart(e,t):Promise.reject(new FilestackError("Cannot upload file",n.data.Error,FilestackErrorType.REQUEST))}return i=null,r instanceof FilestackError?Promise.reject(r):(l.onProgressUpdate(e,t,0),"fallback"===l.uploadMode&&!l.isModeLocked||"intelligent"===l.uploadMode?(s3_debug("[".concat(e,"] Regular upload failed. Switching to intelligent ingestion mode")),l.setUploadMode("intelligent"),l.startPart(e,t)):l.rejectUpload("Cannot upload file part",r))})]}})})},t.prototype.uploadIntelligent=function(e,t){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var r=this;return(0,tslib_es6.YH)(this,function(n){return[2,this.uploadNextChunk(e,t).then(function(){return r.commitPart(e,t)})]})})},t.prototype.uploadNextChunk=function(e,t,r){return void 0===r&&(r=this.intelligentChunkSize),(0,tslib_es6.sH)(this,void 0,void 0,function(){var n,i,o,a,s=this;return(0,tslib_es6.YH)(this,function(l){switch(l.label){case 0:return n=this.getPayloadById(e),i=n.parts[t],r=i.size-i.offset,[4,n.file.getChunkByMetadata(i,i.offset,r,this.integrityCheck)];case 1:return o=l.sent(),s3_debug("[".concat(e,"] PartNum: ").concat(t,", PartSize: ").concat(i.size,", StartByte: ").concat(i.startByte,", Offset: ").concat(i.offset,", ChunkSize: ").concat(o.size,",\n       Left: ").concat(i.size-i.offset-o.size)),[4,this.getS3PartMetadata(e,o,i.offset).catch(function(n){return s3_debug("[".concat(e,"] Getting chunk data for ii failed %O, Chunk size: ").concat(r,", offset ").concat(i.offset,", part ").concat(t),n),Promise.reject(n)})];case 2:return a=l.sent().data,[2,FsRequest.put(a.url,o.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:a.headers,filestackHeaders:!1,onProgress:function(r){return i?s.onProgressUpdate(e,t,i.offset+r.loaded):null}}).then(function(n){s.onProgressUpdate(e,t,i.offset+o.size);var a=Math.min(i.offset+r,i.size);return s3_debug("[".concat(e,"] S3 Chunk uploaded! offset: ").concat(i.offset,", part ").concat(t,"! response headers for ").concat(t,": \n%O\n"),n.headers),s.setPartData(e,t,"offset",a),a===i.size?Promise.resolve(n):(i=null,o=null,s.uploadNextChunk(e,t,r))}).catch(function(n){var a=n&&n.response?n.response:null;if(a&&403===a.status&&a.data&&a.data.Error&&a.data.Error.code){var l=a.data.Error.code;return Array.isArray(l)&&(l=l.pop()),"RequestTimeTooSkewed"===l?s.startPart(e,t):Promise.reject(new FilestackError("Cannot upload file",a.data.Error,FilestackErrorType.REQUEST))}s.onProgressUpdate(e,t,i.offset);var u=Math.ceil(r/2);return u<MIN_CHUNK_SIZE?(s3_debug("[".concat(e,"] Minimal chunk size limit. Upload file failed!")),Promise.reject(new FilestackError("Min chunk size reached",n.data,FilestackErrorType.REQUEST))):(0,helpers.Sc)(n)?(s3_debug("[".concat(e,"] Request network error. Retry with new chunk size: ").concat(u)),s.uploadNextChunk(e,t,u)):(i=null,o=null,s.rejectUpload("Cannot upload file part (FII)",n))})]}})})},t.prototype.commitPart=function(e,t){var r=this,n=this.getPayloadById(e),i=n.parts[t];return FsRequest.post("".concat(this.getUploadUrl(e),"/multipart/commit"),(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.getDefaultFields(e,["apikey","region","upload_id","policy","signature","uri"])),{size:n.file.size,part:i.partNumber+1}),{cancelToken:this.cancelToken,timeout:this.timeout,headers:this.getDefaultHeaders(e),retry:this.retryConfig}).then(function(t){return s3_debug("[".concat(e,"] Commit Part number ").concat(i.partNumber,". Response: %O"),t.data),t}).catch(function(e){return r.rejectUpload("Cannot commit file part metadata",e)})},t.prototype.completeRequest=function(e){var t=this,r=this.getPayloadById(e),n=[];s3_debug("[".concat(e,"] Run complete request"));for(var i=r.parts,o=i.length,a=0;a<o;a++)i[a].etag&&n.push({part_number:a+1,etag:i[a].etag});return s3_debug("[".concat(e,"] Etags %O"),n),FsRequest.post("".concat(this.getUploadUrl(e),"/multipart/complete"),(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.getDefaultFields(e,["apikey","policy","signature","uri","region","upload_id","fii","alt"],!0)),{filename:r.file.name,mimetype:r.file.type,size:r.file.size,upload_tags:this.uploadTags&&Object.keys(this.uploadTags).length?this.uploadTags:void 0,parts:n.length?n:void 0}),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(e),retry:this.retryConfig}).then(function(r){if(202===r.status)return new Promise(function(r,n){setTimeout(function(){return t.completeRequest(e).then(r).catch(n)},COMPLETE_TIMEOUT)});var n=t.getPayloadById(e).file;return n.handle=r.data.handle,n.url=r.data.url,n.container=r.data.container,n.key=r.data.key,n.uploadTags=r.data.upload_tags,n.workflows=r.data.workflows,n.status=r.data.status,n}).catch(function(r){return t.setPayloadStatus(e,"Failed"),t.rejectUpload("Cannot complete file",r)})},t.prototype.onProgressUpdate=function(e,t,r){this.setPartData(e,t,"progress",r),this.emitProgress()},t.prototype.emitProgress=function(){var e=0,t=0,r={};for(var n in this.payloads){var i=this.payloads[n];if("Failed"!==i.file.status){var o=i.parts.map(function(e){return e.progress||0}).reduce(function(e,t){return e+t},0);t+=o,r[n]={totalBytes:o,totalPercent:Math.round(100*o/i.file.size)||0},e+=i.file.size}}var a={totalBytes:t||0,totalPercent:Math.round(100*t/e)||0,files:r};s3_debug("Upload progress %O",a),this.emit("progress",a)},t.prototype.updatePayload=function(e,t){this.payloads[e]=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.payloads[e]),t)},t.prototype.setPartETag=function(e,t,r){s3_debug("[".concat(e,"] Set ").concat(r," etag for part ").concat(t)),this.getPayloadById(e).parts[t].etag=r},t.prototype.setPartData=function(e,t,r,n){s3_debug("[".concat(e,"] Set ").concat(r," = ").concat(n," for part ").concat(t));var i=this.getPayloadById(e);i?i.parts[t][r]=n:s3_debug("[".concat(e,"] Cannot set ").concat(r," = ").concat(n," for part ").concat(t))},t.prototype.setPayloadStatus=function(e,t){s3_debug("[".concat(e,"] Set payload status to ").concat(t)),this.payloads[e]&&(this.payloads[e].file.status=t)},t.prototype.parseError=function(e){return e.response?{code:e.response.status,data:e.response.data,headers:e.response.headers}:{}},t.prototype.rejectUpload=function(e,t){return t instanceof error.d&&t.code===error.E.ABORTED?Promise.reject(new FilestackError(e,{reason:t.message},FilestackErrorType.ABORTED)):Promise.reject(new FilestackError(e,this.parseError(t),FilestackErrorType.REQUEST))},t}(UploaderAbstract),DEFAULT_PROGRESS_INTERVAL=1e3,normalizeProgress=function(e,t){return e.totalBytes=Math.max(e.totalBytes,t.totalBytes),e.totalPercent=Math.max(e.totalPercent,t.totalPercent),e},Upload=function(e){function t(t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=e.call(this)||this;n.options=t,n.storeOptions=r,n.lastProgress={totalBytes:0,totalPercent:0},n.storeOptions=Object.assign({},r);var i=getValidator(UploadParamsSchema)(t);if(i.errors.length)throw new FilestackError("Invalid upload params",i.errors,FilestackErrorType.VALIDATION);var o=getValidator(StoreParamsSchema)(r);if(o.errors.length)throw new FilestackError("Invalid store upload params",o.errors,FilestackErrorType.VALIDATION);return r.filename&&(n.overrideFileName=r.filename,delete n.storeOptions.filename),n.storeOptions.sanitizer&&(n.sanitizerOptions=n.storeOptions.sanitizer,delete n.storeOptions.sanitizer),r.altText&&(n.altText=r.altText,delete n.storeOptions.altText),r.mimetype&&(n.mimetype=r.mimetype,delete n.storeOptions.mimetype),n.uploader=new S3Uploader(n.storeOptions,t.concurrency),n.uploader.setRetryConfig({retry:t.retry||10,onRetry:t.onRetry,retryFactor:t.retryFactor||2,retryMaxTime:t.retryMaxTime||15e3}),n.uploader.setTimeout(t.timeout||12e4),t.partSize&&n.uploader.setPartSize(t.partSize),t.intelligentChunkSize&&n.uploader.setIntelligentChunkSize(t.intelligentChunkSize),t.disableIntegrityCheck&&n.uploader.setIntegrityCheck(!1),t.intelligent&&n.uploader.setUploadMode("fallback"===t.intelligent?"fallback":"intelligent"),n.uploader.setUploadTags(t.tags),n.uploader.on("start",function(){return n.emit("start")}),n.uploader.on("error",function(e){return n.emit("error",e)}),n.uploader.on("progress",n.handleProgress.bind(n)),n}return(0,tslib_es6.C6)(t,e),t.prototype.setSession=function(e){this.uploader.setApikey(e.apikey),e.policy&&e.signature&&this.uploader.setSecurity({policy:e.policy,signature:e.signature}),this.uploader.setUrl(e.urls.uploadApiUrl)},t.prototype.setToken=function(e){var t=this;if(!e||e!==Object(e))throw new Error("Incorrect upload token. Must be instance of object");return e.pause=function(){return t.uploader.pause()},e.resume=function(){return t.uploader.resume()},e.cancel=function(){return t.uploader.abort()},e},t.prototype.setSecurity=function(e){this.uploader.setSecurity(e)},t.prototype.setUploadTags=function(e){this.uploader.setUploadTags(e)},t.prototype.upload=function(e){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var t,r;return(0,tslib_es6.YH)(this,function(n){switch(n.label){case 0:return[4,getFile(e,this.sanitizerOptions,this.mimetype)];case 1:return(t=n.sent()).customName=this.overrideFileName,this.altText&&(t.alt=this.altText),this.uploader.addFile(t),this.startProgressInterval(),[4,this.uploader.execute()];case 2:return r=n.sent().shift(),this.stopProgressInterval(),this.uploader.removeAllListeners(),"Failed"===r.status?[2,Promise.reject(r)]:[2,Promise.resolve(r)]}})})},t.prototype.multiupload=function(e){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var t,r,n,i,o,a,s;return(0,tslib_es6.YH)(this,function(l){switch(l.label){case 0:for(n in r=[],t=e)r.push(n);i=0,l.label=1;case 1:return i<r.length?(n=r[i])in t?(o=n,e.hasOwnProperty(o)?[4,getFile(e[o],this.sanitizerOptions,this.mimetype)]:[3,3]):[3,3]:[3,4];case 2:(a=l.sent()).customName=this.overrideFileName,this.altText&&(a.alt=this.altText),this.uploader.addFile(a),l.label=3;case 3:return i++,[3,1];case 4:return this.startProgressInterval(),[4,this.uploader.execute()];case 5:return s=l.sent(),this.stopProgressInterval(),this.uploader.removeAllListeners(),[2,Promise.resolve(s)]}})})},t.prototype.startProgressInterval=function(){var e=this;"function"==typeof this.options.onProgress&&(this.progressIntervalHandler=setInterval(function(){e.options.onProgress(e.lastProgress)},this.options.progressInterval||DEFAULT_PROGRESS_INTERVAL),this.options.onProgress(this.lastProgress))},t.prototype.stopProgressInterval=function(){clearInterval(this.progressIntervalHandler)},t.prototype.handleProgress=function(e){if(e=normalizeProgress(e,this.lastProgress),this.lastProgress.files)for(var t in e.files)this.lastProgress.files[t]&&(e.files[t]=normalizeProgress(e.files[t],this.lastProgress.files[t]));this.lastProgress=e},t}(eventemitter3),getUrl=function(e,t,r,n){var i=(0,tslib_es6.Cl)({},r),o=n&&n.policy||e.policy,a=n&&n.signature||e.signature,s=a&&o,l=[e.urls.cdnUrl],u=i.css&&encodeURIComponent('"'.concat(i.css,'"')),c=u?"preview=css:".concat(u):"preview";return-1!==t.indexOf("src:")?l.push("".concat(e.apikey,"/").concat(c)):l.push(c),s&&l.push("security=policy:".concat(o,",signature:").concat(a)),l.push(t),l.join("/")},preview=function(e,t,r){if(!t||"string"!=typeof t)throw new Error("A valid Filestack handle or storage alias is required for preview");var n=getValidator(PreviewParamsSchema)(r);if(n.errors.length)throw new FilestackError("Invalid preview params",n.errors,FilestackErrorType.VALIDATION);var i=(0,utils.removeEmpty)(r||{}),o=getUrl(e,t,i);if(i&&i.id){var a=i.id,s=document.createElement("iframe"),l=document.getElementById(a);if(s.src=o,s.width="100%",s.height="100%",!l)throw new Error('DOM Element with id "'.concat(a,'" not found.'));return l.appendChild(s)}return window.open(o,t)},store_browser_debug=browser_default()("fs:storage"),Store=function(){function e(){this.availableTypes=[],void 0!==window.localStorage&&(this.availableTypes.push(STORE_TYPE.LOCAL),store_browser_debug("Local storage exists")),void 0!==window.sessionStorage&&(this.availableTypes.push(STORE_TYPE.SESSION),store_browser_debug("Session storage exists")),store_browser_debug("availableTypes - %O",this.availableTypes)}return e.prototype.hasAccess=function(e){return store_browser_debug("Checking access to storage for %s. Available types: %O",e,this.availableTypes),e?this.availableTypes.indexOf(e)>-1:!!this.availableTypes.length},e.prototype.getItem=function(e,t){var r=this.getStore(t);if(store_browser_debug("getItem %s from %O",e,r),r)return r.getItem(e)},e.prototype.setItem=function(e,t,r){var n=this.getStore(r);if(store_browser_debug("setItem %s to %O",e,n),n)return n.setItem(e,t)},e.prototype.removeItem=function(e,t){var r=this.getStore(t);if(store_browser_debug("removeItem %s from %O",e,r),r)return r.removeItem(e)},e.prototype.getStore=function(e){if(store_browser_debug("get store with pref type - %s",e),this.hasAccess(e))switch(e){case STORE_TYPE.LOCAL:return window.localStorage;case STORE_TYPE.SESSION:return window.sessionStorage;default:return window[this.availableTypes[0]]}else store_browser_debug("User dont have access to any storage")},e}(),STORE_TYPE;!function(e){e.SESSION="sessionStorage",e.LOCAL="localStorage"}(STORE_TYPE||(STORE_TYPE={}));var PICKER_KEY="__fs_picker_token",CALLBACK_URL_KEY="fs-tab",CloudClient=function(){function e(e,t){this.cache=!1,this.session=e,this.storeAdapter=new Store,this.cloudApiUrl=e.urls.cloudApiUrl,t&&t.sessionCache&&(this.cache=t.sessionCache)}return Object.defineProperty(e.prototype,"token",{get:function(){if(this.cache){var e=this.storeAdapter.getItem(PICKER_KEY,STORE_TYPE.LOCAL);if(e)return e}return this.isInAppBrowser?this.storeAdapter.getItem(PICKER_KEY,STORE_TYPE.SESSION):this._token},set:function(e){this.cache&&this.storeAdapter.setItem(PICKER_KEY,e,STORE_TYPE.LOCAL),this.isInAppBrowser&&this.storeAdapter.setItem(PICKER_KEY,e,STORE_TYPE.SESSION),this._token=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInAppBrowser",{get:function(){return!!(this.session&&this.session.prefetch&&this.session.prefetch.settings&&this.session.prefetch.settings.inapp_browser)&&this.session.prefetch.settings.inapp_browser},enumerable:!1,configurable:!0}),e.prototype.list=function(e,t,r){var n=this,i={apikey:this.session.apikey,clouds:e,flow:"web",token:this.token};r&&(Array.isArray(r)||(r=[r]),r.includes("application/x-subrip")&&!r.includes("application/octet-stream")&&r.push("application/octet-stream"),i.accept=r),this.isInAppBrowser&&(i.appurl=this.currentAppUrl()),this.session.policy&&this.session.signature&&(i.policy=this.session.policy,i.signature=this.session.signature);var o={};if(t){var a=new FsCancelToken;t.cancel=a.cancel.bind(a),o.cancelToken=a}return FsRequest.post("".concat(this.cloudApiUrl,"/folder/list"),i,o).then(function(e){return e.data&&e.data.token&&(n.token=e.data.token),e.data})},e.prototype.store=function(e,t,r,n,i,o,a){var s,l=this;void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o=null),void 0===r.location&&(r.location="s3");var u={apikey:this.session.apikey,token:this.token,flow:"web",upload_tags:o||void 0,clouds:(s={},s[e]={path:t,picker_session_id:a,store:(0,utils.removeEmpty)(r)},s)};"customsource"===e&&n.customSourcePath&&(u.clouds.customsource.customSourcePath=n.customSourcePath),"customsource"===e&&n.customSourceContainer&&(u.clouds.customsource.customSourceContainer=n.customSourceContainer),this.session.policy&&this.session.signature&&(u.policy=this.session.policy,u.signature=this.session.signature);var c={};if(i){var d=new FsCancelToken;i.cancel=d.cancel.bind(d),c.cancelToken=d}return FsRequest.post("".concat(this.cloudApiUrl,"/store/"),u,c).then(function(t){return t.data&&t.data.token&&(l.token=t.data.token),t.data&&t.data[e]?t.data[e]:t.data})},e.prototype.logout=function(e){var t,r={apikey:this.session.apikey,flow:"web",token:this.token};return e?r.clouds=((t={})[e]={},t):(this.cache&&this.storeAdapter.removeItem(PICKER_KEY,STORE_TYPE.LOCAL),this.isInAppBrowser&&this.storeAdapter.removeItem(PICKER_KEY,STORE_TYPE.SESSION)),FsRequest.post("".concat(this.cloudApiUrl,"/auth/logout"),r).then(function(t){return t.data&&t.data[e]?t.data[e]:t.data})},e.prototype.metadata=function(e,t){var r={apikey:this.session.apikey,url:e,headers:t};return this.session.policy&&this.session.signature&&(r.policy=this.session.policy,r.signature=this.session.signature),FsRequest.post("".concat(this.cloudApiUrl,"/metadata"),r).then(function(e){return e.data})},e.prototype.tokInit=function(e){if("video"!==e&&"audio"!==e)throw new FilestackError("Type must be one of video or audio.");return FsRequest.post("".concat(this.cloudApiUrl,"/recording/").concat(e,"/init")).then(function(e){return e.data})},e.prototype.tokStart=function(e,t,r){if("video"!==e&&"audio"!==e)throw new FilestackError("Type must be one of video or audio.");var n={apikey:t,session_id:r};return FsRequest.post("".concat(this.cloudApiUrl,"/recording/").concat(e,"/start"),n).then(function(e){return e.data})},e.prototype.tokStop=function(e,t,r,n){if("video"!==e&&"audio"!==e)throw new FilestackError("Type must be one of video or audio.");var i={apikey:t,session_id:r,archive_id:n};return FsRequest.post("".concat(this.cloudApiUrl,"/recording/").concat(e,"/stop"),i).then(function(e){return e.data})},e.prototype.currentAppUrl=function(){if(window.URLSearchParams){var e=new URLSearchParams(window.location.search);return e.set(CALLBACK_URL_KEY,"init"),"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(e.toString())}},e}(),lodash_clonedeep=__nested_webpack_require_375992__(395),lodash_clonedeep_default=__nested_webpack_require_375992__.n(lodash_clonedeep),PrefetchEvents;!function(e){e.PICKER="picker",e.TRANSFORM_UI="transform_ui"}(PrefetchEvents||(PrefetchEvents={}));var Prefetch=function(){function e(e){this.session=e instanceof Client?e.session:e}return e.prototype.getConfig=function(e){var t=e.pickerOptions,r=e.settings,n=e.permissions,i=e.events;return(0,tslib_es6.sH)(this,void 0,void 0,function(){var e,o,a=this;return(0,tslib_es6.YH)(this,function(s){return e={apikey:this.session.apikey},this.session.policy&&this.session.signature&&(e.security={policy:this.session.policy,signature:this.session.signature}),r=r?(r=r.concat(["inapp_browser"])).filter(function(e,t){return r.indexOf(e)===t}):["inapp_browser"],t&&Object.keys(t).length&&(o=(0,utils.cleanUpCallbacks)(lodash_clonedeep_default()((0,tslib_es6.Cl)({},t)))),e=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},e),{permissions:n,settings:r,picker_config:o,events:i}),this.session.prefetch=null,[2,FsRequest.post("".concat(this.session.urls.uploadApiUrl,"/prefetch"),e).then(function(e){if(200!==e.status)throw new FilestackError("There is a problem with prefetch request");var r=e.data;return r.updated_config?(r.pickerOptions=a.reassignCallbacks(t,r.updated_config||{}),delete r.updated_config):r.pickerOptions=t,a.session.prefetch=r,r})]})})},e.prototype.reassignCallbacks=function(e,t){if(!e||0===Object.keys(e).length)return e;for(var r in e)"function"==typeof e[r]&&(t[r]=e[r]),e[r]===Object(e[r])&&(t[r]=this.reassignCallbacks(e[r],t[r]));return t},e}(),RotateDirection,PickerDisplayMode;!function(e){e.cw="CW",e.ccw="CCW"}(RotateDirection||(RotateDirection={})),function(e){e.inline="inline",e.overlay="overlay",e.dropPane="dropPane"}(PickerDisplayMode||(PickerDisplayMode={}));var PickerLoader=function(){function e(e,t){var r=getValidator(PickerParamsSchema)(t);r.errors.length&&(r.errors.forEach(function(e){if(!e.path.includes("fromSources"))throw new FilestackError("Invalid picker params",r.errors,FilestackErrorType.VALIDATION);console.warn('Warning: Invalid source "'.concat(e.instance,'" found and removed!')),t.fromSources=t.fromSources.filter(function(t){return t!==e.instance})}),t.fromSources.length||delete t.fromSources),this._initialized=this.loadModule(e,t)}return e.prototype.open=function(){return(0,tslib_es6.sH)(this,void 0,void 0,function(){return(0,tslib_es6.YH)(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().open()];case 2:return e.sent(),[2]}})})},e.prototype.crop=function(e){return(0,tslib_es6.sH)(this,void 0,void 0,function(){return(0,tslib_es6.YH)(this,function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return[4,t.sent().crop(e)];case 2:return t.sent(),[2]}})})},e.prototype.close=function(){return(0,tslib_es6.sH)(this,void 0,void 0,function(){return(0,tslib_es6.YH)(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().close()];case 2:return e.sent(),[2]}})})},e.prototype.cancel=function(){return(0,tslib_es6.sH)(this,void 0,void 0,function(){return(0,tslib_es6.YH)(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().cancel()];case 2:return e.sent(),[2]}})})},e.prototype.loadModule=function(e,t){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var r;return(0,tslib_es6.YH)(this,function(n){switch(n.label){case 0:return r=e.session.urls.pickerUrl,[4,_FilestackLoader$loadModule(_FilestackLoader$FILESTACK_MODULES.PICKER,r)];case 1:return[2,new(n.sent())(e,t)]}})})},e}(),picker=function(e,t){return new PickerLoader(e,t)};addBreadcrumb({category:"sdk",message:"filestack-js-sdk scope"});var Client=function(e){function t(t,r){var n=e.call(this)||this;if(n.options=r,n.forwardErrors=!0,r&&r.forwardErrors&&(n.forwardErrors=r.forwardErrors),!t||"string"!=typeof t||0===t.length)throw new Error("An apikey is required to initialize the Filestack client");var i=config.urls;if(n.session={apikey:t,urls:i},r){var o=r.cname,a=r.security;n.setSecurity(a),n.setCname(o)}return n.prefetchInstance=new Prefetch(n.session),n.cloud=new CloudClient(n.session,r),n}return(0,tslib_es6.C6)(t,e),Object.defineProperty(t.prototype,"utils",{get:function(){return utils},enumerable:!1,configurable:!0}),t.prototype.prefetch=function(e){return this.prefetchInstance.getConfig(e)},t.prototype.setSecurity=function(e){if(e&&(!e.policy||!e.signature))throw new FilestackError("Both policy and signature are required for client security");e&&e.policy&&e.signature&&(this.session.policy=e.policy,this.session.signature=e.signature)},t.prototype.setCname=function(e){e&&0!==e.length&&(this.session.cname=e,this.session.urls=utils.resolveHost(this.session.urls,e))},t.prototype.logout=function(e){return this.cloud.logout(e)},t.prototype.metadata=function(e,t,r){return metadata(this.session,e,t,r)},t.prototype.picker=function(e){return picker(this,e)},t.prototype.preview=function(e,t){return preview(this.session,e,t)},t.prototype.remove=function(e,t){return remove(this.session,e,!1,t)},t.prototype.removeMetadata=function(e,t){return remove(this.session,e,!0,t)},t.prototype.storeURL=function(e,t,r,n,i,o,a){return storeURL({session:this.session,url:e,storeParams:t,token:r,security:n,uploadTags:i,headers:o,workflowIds:a})},t.prototype.retrieve=function(e,t,r){return retrieve(this.session,e,t,r)},t.prototype.download=function(e,t){return download(this.session,e,t)},t.prototype.transform=function(e,t,r){return void 0===r&&(r=!1),transform(this.session,e,t,r)},t.prototype.upload=function(e,t,r,n,i){var o=this,a=new Upload(t,r);return a.setSession(this.session),n&&a.setToken(n),i&&a.setSecurity(i),a.on("start",function(){return o.emit("upload.start")}),a.on("error",function(e){o.forwardErrors&&currentScopes_withScope(function(n){n.setTag("filestack-apikey",o.session.apikey),n.setTag("filestack-version",utils.getVersion()),n.setExtra("filestack-options",o.options),n.setExtras({uploadOptions:t,storeOptions:r,details:e.details}),e.message="FS-".concat(e.message),n.captureException(e)}),o.emit("upload.error",e)}),a.upload(e)},t.prototype.multiupload=function(e,t,r,n,i){var o=this,a=new Upload(t,r);return a.setSession(this.session),n&&a.setToken(n),i&&a.setSecurity(i),a.on("start",function(){return o.emit("upload.start")}),a.on("error",function(e){currentScopes_withScope(function(n){n.setTag("filestack-apikey",o.session.apikey),n.setTag("filestack-version",utils.getVersion()),n.setExtra("filestack-options",o.options),n.setExtras(e.details),n.setExtras({uploadOptions:t,storeOptions:r}),n.captureException(e)}),o.emit("upload.error",e)}),a.multiupload(e)},t}(eventemitter3),Filestack=function(e,t){return new Client(e,t)},init=Filestack,version="3.46.3";_FilestackLoader$registerModule(_FilestackLoader$FILESTACK_MODULES.FILESTACK_SDK,Filestack,{version:"3.46.3"});var __webpack_exports__Align=__nested_webpack_exports__.W3,__webpack_exports__AudioTypes=__nested_webpack_exports__.Ew,__webpack_exports__BlurMode=__nested_webpack_exports__.PK,__webpack_exports__Client=__nested_webpack_exports__.Kj,__webpack_exports__ColorspaceType=__nested_webpack_exports__.Ay,__webpack_exports__CropfacesType=__nested_webpack_exports__.Rl,__webpack_exports__EAlignFacesOptions=__nested_webpack_exports__.HD,__webpack_exports__EAlignOptions=__nested_webpack_exports__.FK,__webpack_exports__EAudioTypes=__nested_webpack_exports__.lX,__webpack_exports__EBlurMode=__nested_webpack_exports__.m5,__webpack_exports__EColorspaceType=__nested_webpack_exports__.Bj,__webpack_exports__ECropfacesType=__nested_webpack_exports__.uK,__webpack_exports__EFitOptions=__nested_webpack_exports__.Nx,__webpack_exports__EImageWatermarkPosition=__nested_webpack_exports__.Us,__webpack_exports__ENoiseType=__nested_webpack_exports__.uZ,__webpack_exports__EShapeType=__nested_webpack_exports__.X5,__webpack_exports__ESmartCropMode=__nested_webpack_exports__.wb,__webpack_exports__EStyleType=__nested_webpack_exports__.zf,__webpack_exports__EUrlscreenshotAgent=__nested_webpack_exports__.QS,__webpack_exports__EUrlscreenshotMode=__nested_webpack_exports__.ar,__webpack_exports__EUrlscreenshotOrientation=__nested_webpack_exports__.pg,__webpack_exports__EVideoAccess=__nested_webpack_exports__.Pd,__webpack_exports__EVideoAccessMode=__nested_webpack_exports__.Yq,__webpack_exports__EVideoLocations=__nested_webpack_exports__.zb,__webpack_exports__EVideoTypes=__nested_webpack_exports__.sz,__webpack_exports__EnhancePreset=__nested_webpack_exports__.WT,__webpack_exports__Filelink=__nested_webpack_exports__.XM,__webpack_exports__Filestack=__nested_webpack_exports__.rv,__webpack_exports__FilestackError=__nested_webpack_exports__.p_,__webpack_exports__FilestackErrorType=__nested_webpack_exports__.tm,__webpack_exports__FitOptions=__nested_webpack_exports__._7,__webpack_exports__FsCancelToken=__nested_webpack_exports__.hs,__webpack_exports__FsHttpMethod=__nested_webpack_exports__.jC,__webpack_exports__FsRequest=__nested_webpack_exports__.bK,__webpack_exports__FsRequestError=__nested_webpack_exports__.d1,__webpack_exports__FsRequestErrorCode=__nested_webpack_exports__.EK,__webpack_exports__ImageWatermarkPosition=__nested_webpack_exports__.z,__webpack_exports__Locations=__nested_webpack_exports__.Hc,__webpack_exports__NoiseType=__nested_webpack_exports__.VA,__webpack_exports__PickerDisplayMode=__nested_webpack_exports__.kX,__webpack_exports__PrefetchEvents=__nested_webpack_exports__.pv,__webpack_exports__ShapeType=__nested_webpack_exports__.IO,__webpack_exports__SmartCropMode=__nested_webpack_exports__.HQ,__webpack_exports__StyleType=__nested_webpack_exports__.s4,__webpack_exports__TransformSchema=__nested_webpack_exports__.QV,__webpack_exports__URLScreenshotAgent=__nested_webpack_exports__.Dy,__webpack_exports__URLScreenshotMode=__nested_webpack_exports__.rR,__webpack_exports__URLScreenshotOrientation=__nested_webpack_exports__.IB,__webpack_exports__VideoAccess=__nested_webpack_exports__.yp,__webpack_exports__VideoAccessMode=__nested_webpack_exports__.Lt,__webpack_exports__VideoTypes=__nested_webpack_exports__.Nu,__webpack_exports__b64=__nested_webpack_exports__.Ly,__webpack_exports__cleanUpCallbacks=__nested_webpack_exports__.SC,__webpack_exports__extensionToMime=__nested_webpack_exports__.Nr,__webpack_exports__filterObject=__nested_webpack_exports__.kJ,__webpack_exports__getMimetype=__nested_webpack_exports__.vm,__webpack_exports__getSecurity=__nested_webpack_exports__.RK,__webpack_exports__getVersion=__nested_webpack_exports__.HF,__webpack_exports__init=__nested_webpack_exports__.Ts,__webpack_exports__isFacebook=__nested_webpack_exports__.rB,__webpack_exports__isMobile=__nested_webpack_exports__.Fr,__webpack_exports__md5=__nested_webpack_exports__.Fx,__webpack_exports__removeEmpty=__nested_webpack_exports__.ef,__webpack_exports__resolveCdnUrl=__nested_webpack_exports__.T0,__webpack_exports__resolveHost=__nested_webpack_exports__.p0,__webpack_exports__sanitizeName=__nested_webpack_exports__.rh,__webpack_exports__transform=__nested_webpack_exports__.pd,__webpack_exports__uniqueId=__nested_webpack_exports__.NF,__webpack_exports__uniqueTime=__nested_webpack_exports__.tp,__webpack_exports__validateWebhookSignature=__nested_webpack_exports__.qB,__webpack_exports__version=__nested_webpack_exports__.rE},71605(e,t,r){"use strict";var n=r(76272);var i={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var o={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var a={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var s={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var l={};l[n.ForwardRef]=a;l[n.Memo]=s;function u(e){if(n.isMemo(e))return s;return l[e["$$typeof"]]||i}var c=Object.defineProperty;var d=Object.getOwnPropertyNames;var f=Object.getOwnPropertySymbols;var p=Object.getOwnPropertyDescriptor;var h=Object.getPrototypeOf;var g=Object.prototype;function v(e,t,r){if("string"!==typeof t){if(g){var n=h(t);n&&n!==g&&v(e,n,r)}var i=d(t);f&&(i=i.concat(f(t)));var a=u(e);var s=u(t);for(var l=0;l<i.length;++l){var m=i[l];if(!o[m]&&!(r&&r[m])&&!(s&&s[m])&&!(a&&a[m])){var y=p(t,m);try{c(e,m,y)}catch(e){}}}}return e}e.exports=v},88260(e,t,r){"use strict";var n=r(70013),i=r(86203);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t);u(e+"Capture",t)}function u(e,t){s[e]=t;for(e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(e){if(d.call(h,e))return!0;if(d.call(p,e))return!1;if(f.test(e))return h[e]=!0;p[e]=!0;return!1}function v(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(n)return!1;if(null!==r)return!r.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function m(e,t,r,n){if(null===t||"undefined"===typeof t||v(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function y(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t;this.attributeName=n;this.attributeNamespace=i;this.mustUseProperty=r;this.propertyName=e;this.type=t;this.sanitizeURL=o;this.removeEmptyString=a}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new y(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];b[t]=new y(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new y(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){b[e]=new y(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){b[e]=new y(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){b[e]=new y(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){b[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w,_);b[t]=new y(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w,_);b[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w,_);b[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){b[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)});b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){b[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,t,r,n){var i=b.hasOwnProperty(t)?b[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(m(t,r,i,n)&&(r=null),n||null===i?g(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var F=Symbol.iterator;function B(e){if(null===e||"object"!==typeof e)return null;e=F&&e[F]||e["@@iterator"];return"function"===typeof e?e:null}var N=Object.assign,V;function q(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function U(e,t){if(!e||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"===typeof t.stack){for(var i=t.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,s--,0>s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName));return l}}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?q(e):""}function z(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1),e;case 11:return e=U(e.type.render,!1),e;case 1:return e=U(e.type,!0),e;default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case O:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;e=e.displayName;e||(e=t.displayName||t.name||"",e=""!==e?"ForwardRef("+e+")":"ForwardRef");return e;case I:return t=e.displayName||null,null!==t?t:G(e.type)||"Memo";case M:t=e._payload;e=e._init;try{return G(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){var t=K(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e;o.call(this,e)}});Object.defineProperty(e,t,{enumerable:r.enumerable});return{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null;delete e[t]}}}}function Q(e){e._valueTracker||(e._valueTracker=Z(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue();var n="";e&&(n=K(e)?e.checked?"true":"false":e.value);e=n;return e!==r&&(t.setValue(e),!0)}function X(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=$(null!=t.value?t.value:r);e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){t=t.checked;null!=t&&S(e,"checked",t,!1)}function re(e,t){te(e,t);var r=$(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n){e.removeAttribute("value");return}t.hasOwnProperty("value")?ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue));null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue;r||t===e.value||(e.value=t);e.defaultValue=t}r=e.name;""!==r&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==r&&(e.name=r)}function ie(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oe=Array.isArray;function ae(e,t,r,n){e=e.options;if(t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{r=""+$(r);t=null;for(i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0;n&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var r=t.value;if(null==r){r=t.children;t=t.defaultValue;if(null!=r){if(null!=t)throw Error(o(92));if(oe(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}null==t&&(t="");r=t}e._wrapperState={initialValue:$(r)}}function ue(e,t){var r=$(t.value),n=$(t.defaultValue);null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r));null!=n&&(e.defaultValue=""+n)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,he=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{pe=pe||document.createElement("div");pe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ge(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=t;return}}e.textContent=t}var ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];Object.keys(ve).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1);ve[t]=ve[e]})});function ye(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function be(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=ye(r,t[r],n);"float"===r&&(r="cssFloat");n?e.setProperty(r,i):e[r]=i}}var we=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Pe(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Ce=null;function Oe(e){if(e=qi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Ui(t),Ee(e.stateNode,e.type,t))}}function je(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Ce;Ce=xe=null;Oe(e);if(t)for(e=0;e<t.length;e++)Oe(t[e])}}function Te(e,t){return e(t)}function De(){}var Le=!1;function Ie(e,t,r){if(Le)return e(t,r);Le=!0;try{return Te(e,t,r)}finally{(Le=!1,null!==xe||null!==Ce)&&(De(),Ae())}}function Me(e,t){var r=e.stateNode;if(null===r)return null;var n=Ui(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Re=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Re=!0}});window.addEventListener("test",Fe,Fe);window.removeEventListener("test",Fe,Fe)}catch(e){Re=!1}function Be(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}var Ne=!1,Ve=null,qe=!1,We=null,Ue={onError:function(e){Ne=!0;Ve=e}};function ze(e,t,r,n,i,o,a,s,l){Ne=!1;Ve=null;Be.apply(Ue,arguments)}function Ge(e,t,r,n,i,a,s,l,u){ze.apply(this,arguments);if(Ne){if(!Ne)throw Error(o(198));var c=Ve;Ne=!1;Ve=null;qe||(qe=!0,We=c)}}function He(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(4098&t.flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function $e(e){if(13===e.tag){var t=e.memoizedState;null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState));if(null!==t)return t.dehydrated}return null}function Ke(e){if(He(e)!==e)throw Error(o(188))}function Ze(e){var t=e.alternate;if(!t){t=He(e);if(null===t)throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){n=i.return;if(null!==n){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ke(i),e;if(a===n)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0;r=i;n=a;break}if(l===n){s=!0;n=i;r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0;r=a;n=i;break}if(l===n){s=!0;n=a;r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}function Qe(e){e=Ze(e);return null!==e?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,et=i.unstable_shouldYield,tt=i.unstable_requestPaint,rt=i.unstable_now,nt=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,at=i.unstable_NormalPriority,st=i.unstable_LowPriority,lt=i.unstable_IdlePriority,ut=null,ct=null;function dt(e){if(ct&&"function"===typeof ct.onCommitFiberRoot)try{ct.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(e){}}var ft=Math.clz32?Math.clz32:gt,pt=Math.log,ht=Math.LN2;function gt(e){e>>>=0;return 0===e?32:31-(pt(e)/ht|0)|0}var vt=64,mt=4194304;function yt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&r;if(0!==a){var s=a&~i;0!==s?n=yt(s):(o&=a,0!==o&&(n=yt(o)))}else a=r&~i,0!==a?n=yt(a):0!==o&&(n=yt(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&(i=n&-n,o=t&-t,i>=o||16===i&&0!==(4194240&o)))return t;0!==(4&n)&&(n|=16&r);t=e.entangledLanes;if(0!==t)for(e=e.entanglements,t&=n;0<t;)r=31-ft(t),i=1<<r,n|=e[r],t&=~i;return n}function wt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _t(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ft(o),s=1<<a,l=i[a];-1===l?0!==(s&r)&&0===(s&n)||(i[a]=wt(s,t)):l<=t&&(e.expiredLanes|=s);o&=~s}}function St(e){e=-1073741825&e.pendingLanes;return 0!==e?e:1073741824&e?1073741824:0}function kt(){var e=vt;vt<<=1;0===(4194240&vt)&&(vt=64);return e}function Pt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Et(e,t,r){e.pendingLanes|=t;536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0);e=e.eventTimes;t=31-ft(t);e[t]=r}function xt(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t;e.suspendedLanes=0;e.pingedLanes=0;e.expiredLanes&=t;e.mutableReadLanes&=t;e.entangledLanes&=t;t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ft(r),o=1<<i;t[i]=0;n[i]=-1;e[i]=-1;r&=~o}}function Ct(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ft(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t);r&=~i}}var Ot=0;function jt(e){e&=-e;return 1<e?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Tt,Dt,Lt,It,Mt=!1,Rt=[],Ft=null,Bt=null,Nt=null,Vt=new Map,qt=new Map,Wt=[],Ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qt.delete(t.pointerId)}}function Gt(e,t,r,n,i,o){if(null===e||e.nativeEvent!==o)return e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(t=qi(t),null!==t&&Tt(t)),e;e.eventSystemFlags|=n;t=e.targetContainers;null!==i&&-1===t.indexOf(i)&&t.push(i);return e}function Ht(e,t,r,n,i){switch(t){case"focusin":return Ft=Gt(Ft,e,t,r,n,i),!0;case"dragenter":return Bt=Gt(Bt,e,t,r,n,i),!0;case"mouseover":return Nt=Gt(Nt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;Vt.set(o,Gt(Vt.get(o)||null,e,t,r,n,i));return!0;case"gotpointercapture":return o=i.pointerId,qt.set(o,Gt(qt.get(o)||null,e,t,r,n,i)),!0}return!1}function $t(e){var t=Vi(e.target);if(null!==t){var r=He(t);if(null!==r)if(t=r.tag,13===t){if(t=$e(r),null!==t){e.blockedOn=t;It(e.priority,function(){Dt(r)});return}}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=or(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return t=qi(r),null!==t&&Tt(t),e.blockedOn=r,!1;r=e.nativeEvent;var n=new r.constructor(r.type,r);ke=n;r.target.dispatchEvent(n);ke=null;t.shift()}return!0}function Zt(e,t,r){Kt(e)&&r.delete(t)}function Qt(){Mt=!1;null!==Ft&&Kt(Ft)&&(Ft=null);null!==Bt&&Kt(Bt)&&(Bt=null);null!==Nt&&Kt(Nt)&&(Nt=null);Vt.forEach(Zt);qt.forEach(Zt)}function Yt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qt)))}function Xt(e){function t(t){return Yt(t,e)}if(0<Rt.length){Yt(Rt[0],e);for(var r=1;r<Rt.length;r++){var n=Rt[r];n.blockedOn===e&&(n.blockedOn=null)}}null!==Ft&&Yt(Ft,e);null!==Bt&&Yt(Bt,e);null!==Nt&&Yt(Nt,e);Vt.forEach(t);qt.forEach(t);for(r=0;r<Wt.length;r++)n=Wt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wt.length&&(r=Wt[0],null===r.blockedOn);)$t(r),null===r.blockedOn&&Wt.shift()}var Jt=k.ReactCurrentBatchConfig,er=!0;function tr(e,t,r,n){var i=Ot,o=Jt.transition;Jt.transition=null;try{Ot=1,nr(e,t,r,n)}finally{Ot=i,Jt.transition=o}}function rr(e,t,r,n){var i=Ot,o=Jt.transition;Jt.transition=null;try{Ot=4,nr(e,t,r,n)}finally{Ot=i,Jt.transition=o}}function nr(e,t,r,n){if(er){var i=or(e,t,r,n);if(null===i)fi(e,t,n,ir,r),zt(e,n);else if(Ht(i,e,t,r,n))n.stopPropagation();else if(zt(e,n),4&t&&-1<Ut.indexOf(e)){for(;null!==i;){var o=qi(i);null!==o&&At(o);o=or(e,t,r,n);null===o&&fi(e,t,n,ir,r);if(o===i)break;i=o}null!==i&&n.stopPropagation()}else fi(e,t,n,null,r)}}var ir=null;function or(e,t,r,n){ir=null;e=Pe(n);e=Vi(e);if(null!==e)if(t=He(e),null===t)e=null;else if(r=t.tag,13===r){e=$e(t);if(null!==e)return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);ir=e;return null}function ar(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nt()){case it:return 1;case ot:return 4;case at:case st:return 16;case lt:return 536870912;default:return 16}default:return 16}}var sr=null,lr=null,ur=null;function cr(){if(ur)return ur;var e,t=lr,r=t.length,n,i="value"in sr?sr.value:sr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return ur=i.slice(e,1<n?1-n:void 0)}function dr(e){var t=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t;10===e&&(e=13);return 32<=e||13===e?e:0}function fr(){return!0}function pr(){return!1}function hr(e){function t(t,r,n,i,o){this._reactName=t;this._targetInst=n;this.type=r;this.nativeEvent=i;this.target=o;this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?fr:pr;this.isPropagationStopped=pr;return this}N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr});return t}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=hr(gr),mr=N({},gr,{view:0,detail:0}),yr=hr(mr),br,wr,_r,Sr=N({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){if("movementX"in e)return e.movementX;e!==_r&&(_r&&"mousemove"===e.type?(br=e.screenX-_r.screenX,wr=e.screenY-_r.screenY):wr=br=0,_r=e);return br},movementY:function(e){return"movementY"in e?e.movementY:wr}}),kr=hr(Sr),Pr=N({},Sr,{dataTransfer:0}),Er=hr(Pr),xr=N({},mr,{relatedTarget:0}),Cr=hr(xr),Or=N({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=hr(Or),Ar=N({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tr=hr(Ar),Dr=N({},gr,{data:0}),Lr=hr(Dr),Ir={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rr[e])&&!!t[e]}function Br(){return Fr}var Nr=N({},mr,{key:function(e){if(e.key){var t=Ir[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=dr(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Mr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(e){return"keypress"===e.type?dr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Vr=hr(Nr),qr=N({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wr=hr(qr),Ur=N({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),zr=hr(Ur),Gr=N({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hr=hr(Gr),$r=N({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kr=hr($r),Zr=[9,13,27,32],Qr=c&&"CompositionEvent"in window,Yr=null;c&&"documentMode"in document&&(Yr=document.documentMode);var Xr=c&&"TextEvent"in window&&!Yr,Jr=c&&(!Qr||Yr&&8<Yr&&11>=Yr),en=String.fromCharCode(32),tn=!1;function rn(e,t){switch(e){case"keyup":return-1!==Zr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nn(e){e=e.detail;return"object"===typeof e&&"data"in e?e.data:null}var on=!1;function an(e,t){switch(e){case"compositionend":return nn(t);case"keypress":if(32!==t.which)return null;tn=!0;return en;case"textInput":return e=t.data,e===en&&tn?null:e;default:return null}}function sn(e,t){if(on)return"compositionend"===e||!Qr&&rn(e,t)?(e=cr(),ur=lr=sr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jr&&"ko"!==t.locale?null:t.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ln[e.type]:"textarea"===t}function cn(e,t,r,n){je(n);t=hi(t,"onChange");0<t.length&&(r=new vr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dn=null,fn=null;function pn(e){ai(e,0)}function hn(e){var t=Wi(e);if(Y(t))return e}function gn(e,t){if("change"===e)return t}var vn=!1;if(c){var mn;if(c){var yn="oninput"in document;if(!yn){var bn=document.createElement("div");bn.setAttribute("oninput","return;");yn="function"===typeof bn.oninput}mn=yn}else mn=!1;vn=mn&&(!document.documentMode||9<document.documentMode)}function wn(){dn&&(dn.detachEvent("onpropertychange",_n),fn=dn=null)}function _n(e){if("value"===e.propertyName&&hn(fn)){var t=[];cn(t,fn,e,Pe(e));Ie(pn,t)}}function Sn(e,t,r){"focusin"===e?(wn(),dn=t,fn=r,dn.attachEvent("onpropertychange",_n)):"focusout"===e&&wn()}function kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return hn(fn)}function Pn(e,t){if("click"===e)return hn(t)}function En(e,t){if("input"===e||"change"===e)return hn(t)}function xn(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Cn="function"===typeof Object.is?Object.is:xn;function On(e,t){if(Cn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!d.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function An(e,t){var r=jn(e);e=0;for(var n;r;){if(3===r.nodeType){n=e+r.textContent.length;if(e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jn(r)}}function Tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Dn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;e=t.contentWindow;t=X(e.document)}return t}function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function In(e){var t=Dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tn(r.ownerDocument.documentElement,r)){if(null!==n&&Ln(r))if(t=n.start,e=n.end,void 0===e&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i);!e.extend&&o>n&&(i=n,n=o,o=i);i=An(r,o);var a=An(r,n);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}t=[];for(e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});"function"===typeof r.focus&&r.focus();for(r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mn=c&&"documentMode"in document&&11>=document.documentMode,Rn=null,Fn=null,Bn=null,Nn=!1;function Vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Nn||null==Rn||Rn!==X(n)||(n=Rn,"selectionStart"in n&&Ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bn&&On(Bn,n)||(Bn=n,n=hi(Fn,"onSelect"),0<n.length&&(t=new vr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Rn)))}function qn(e,t){var r={};r[e.toLowerCase()]=t.toLowerCase();r["Webkit"+e]="webkit"+t;r["Moz"+e]="moz"+t;return r}var Wn={animationend:qn("Animation","AnimationEnd"),animationiteration:qn("Animation","AnimationIteration"),animationstart:qn("Animation","AnimationStart"),transitionend:qn("Transition","TransitionEnd")},Un={},zn={};c&&(zn=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Gn(e){if(Un[e])return Un[e];if(!Wn[e])return e;var t=Wn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zn)return Un[e]=t[r];return e}var Hn=Gn("animationend"),$n=Gn("animationiteration"),Kn=Gn("animationstart"),Zn=Gn("transitionend"),Qn=new Map,Yn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){Qn.set(e,t);l(t,[e])}for(var Jn=0;Jn<Yn.length;Jn++){var ei=Yn[Jn],ti=ei.toLowerCase(),ri=ei[0].toUpperCase()+ei.slice(1);Xn(ti,"on"+ri)}Xn(Hn,"onAnimationEnd");Xn($n,"onAnimationIteration");Xn(Kn,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Zn,"onTransitionEnd");u("onMouseEnter",["mouseout","mouseover"]);u("onMouseLeave",["mouseout","mouseover"]);u("onPointerEnter",["pointerout","pointerover"]);u("onPointerLeave",["pointerout","pointerover"]);l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));l("onBeforeInput",["compositionend","keypress","textInput","paste"]);l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ii=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function oi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r;Ge(n,t,void 0,e);e.currentTarget=null}function ai(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;s=s.listener;if(l!==o&&i.isPropagationStopped())break e;oi(i,s,u);o=l}else for(a=0;a<n.length;a++){s=n[a];l=s.instance;u=s.currentTarget;s=s.listener;if(l!==o&&i.isPropagationStopped())break e;oi(i,s,u);o=l}}}if(qe)throw e=We,qe=!1,We=null,e}function si(e,t){var r=t[Fi];void 0===r&&(r=t[Fi]=new Set);var n=e+"__bubble";r.has(n)||(di(t,e,2,!1),r.add(n))}function li(e,t,r){var n=0;t&&(n|=4);di(r,e,n,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[ui]){e[ui]=!0;a.forEach(function(t){"selectionchange"!==t&&(ii.has(t)||li(t,!1,e),li(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ui]||(t[ui]=!0,li("selectionchange",!1,t))}}function di(e,t,r,n){switch(ar(t)){case 1:var i=tr;break;case 4:i=rr;break;default:i=nr}r=i.bind(null,t,r,e);i=void 0;!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0);n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function fi(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&(l=a.stateNode.containerInfo,l===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){a=Vi(s);if(null===a)return;l=a.tag;if(5===l||6===l){n=o=a;continue e}s=s.parentNode}}n=n.return}Ie(function(){var n=o,i=Pe(r),a=[];e:{var s=Qn.get(e);if(void 0!==s){var l=vr,u=e;switch(e){case"keypress":if(0===dr(r))break e;case"keydown":case"keyup":l=Vr;break;case"focusin":u="focus";l=Cr;break;case"focusout":u="blur";l=Cr;break;case"beforeblur":case"afterblur":l=Cr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Er;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=zr;break;case Hn:case $n:case Kn:l=jr;break;case Zn:l=Hr;break;case"scroll":l=yr;break;case"wheel":l=Kr;break;case"copy":case"cut":case"paste":l=Tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Wr}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p=n,h;null!==p;){h=p;var g=h.stateNode;5===h.tag&&null!==g&&(h=g,null!==f&&(g=Me(p,f),null!=g&&c.push(pi(p,g,h))));if(d)break;p=p.return}0<c.length&&(s=new l(s,u,null,r,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){e:{s="mouseover"===e||"pointerover"===e;l="mouseout"===e||"pointerout"===e;if(s&&r!==ke&&(u=r.relatedTarget||r.fromElement)&&(Vi(u)||u[Ri]))break e;if(l||s){s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window;l?(u=r.relatedTarget||r.toElement,l=n,u=u?Vi(u):null,null!==u&&(d=He(u),u!==d||5!==u.tag&&6!==u.tag))&&(u=null):(l=null,u=n);if(l!==u){c=kr;g="onMouseLeave";f="onMouseEnter";p="mouse";"pointerout"!==e&&"pointerover"!==e||(c=Wr,g="onPointerLeave",f="onPointerEnter",p="pointer");d=null==l?s:Wi(l);h=null==u?s:Wi(u);s=new c(g,p+"leave",l,r,i);s.target=d;s.relatedTarget=h;g=null;Vi(i)===n&&(c=new c(f,p+"enter",u,r,i),c.target=h,c.relatedTarget=d,g=c);d=g;if(l&&u)t:{c=l;f=u;p=0;for(h=c;h;h=gi(h))p++;h=0;for(g=f;g;g=gi(g))h++;for(;0<p-h;)c=gi(c),p--;for(;0<h-p;)f=gi(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=gi(c);f=gi(f)}c=null}else c=null;null!==l&&vi(a,s,l,c,!1);null!==u&&null!==d&&vi(a,d,u,c,!0)}}}e:{s=n?Wi(n):window;l=s.nodeName&&s.nodeName.toLowerCase();if("select"===l||"input"===l&&"file"===s.type)var v=gn;else if(un(s))if(vn)v=En;else{v=kn;var m=Sn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=Pn);if(v&&(v=v(e,n))){cn(a,v,r,i);break e}m&&m(e,s,n);"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)}m=n?Wi(n):window;switch(e){case"focusin":(un(m)||"true"===m.contentEditable)&&(Rn=m,Fn=n,Bn=null);break;case"focusout":Bn=Fn=Rn=null;break;case"mousedown":Nn=!0;break;case"contextmenu":case"mouseup":case"dragend":Nn=!1;Vn(a,r,i);break;case"selectionchange":if(Mn)break;case"keydown":case"keyup":Vn(a,r,i)}var y;if(Qr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else on?rn(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Jr&&"ko"!==r.locale&&(on||"onCompositionStart"!==b?"onCompositionEnd"===b&&on&&(y=cr()):(sr=i,lr="value"in sr?sr.value:sr.textContent,on=!0)),m=hi(n,b),0<m.length&&(b=new Lr(b,e,null,r,i),a.push({event:b,listeners:m}),y?b.data=y:(y=nn(r),null!==y&&(b.data=y))));(y=Xr?an(e,r):sn(e,r))&&(n=hi(n,"onBeforeInput"),0<n.length&&(i=new Lr("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=y))}ai(a,t)})}function pi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hi(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=Me(e,r),null!=o&&n.unshift(pi(e,o,i)),o=Me(e,t),null!=o&&n.push(pi(e,o,i)));e=e.return}return n}function gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function vi(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,i?(l=Me(r,o),null!=l&&a.unshift(pi(r,l,s))):i||(l=Me(r,o),null!=l&&a.push(pi(r,l,s))));r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var mi=/\r\n?/g,yi=/\u0000|\uFFFD/g;function bi(e){return("string"===typeof e?e:""+e).replace(mi,"\n").replace(yi,"")}function wi(e,t,r){t=bi(t);if(bi(e)!==t&&r)throw Error(o(425))}function _i(){}var Si=null,ki=null;function Pi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ei="function"===typeof setTimeout?setTimeout:void 0,xi="function"===typeof clearTimeout?clearTimeout:void 0,Ci="function"===typeof Promise?Promise:void 0,Oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ci?function(e){return Ci.resolve(null).then(e).catch(ji)}:Ei;function ji(e){setTimeout(function(){throw e})}function Ai(e,t){var r=t,n=0;do{var i=r.nextSibling;e.removeChild(r);if(i&&8===i.nodeType)if(r=i.data,"/$"===r){if(0===n){e.removeChild(i);Xt(t);return}n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Xt(t)}function Ti(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){t=e.data;if("$"===t||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Li=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Li,Mi="__reactProps$"+Li,Ri="__reactContainer$"+Li,Fi="__reactEvents$"+Li,Bi="__reactListeners$"+Li,Ni="__reactHandles$"+Li;function Vi(e){var t=e[Ii];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ri]||r[Ii]){r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(e=Di(e);null!==e;){if(r=e[Ii])return r;e=Di(e)}return t}e=r;r=e.parentNode}return null}function qi(e){e=e[Ii]||e[Ri];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ui(e){return e[Mi]||null}var zi=[],Gi=-1;function Hi(e){return{current:e}}function $i(e){0>Gi||(e.current=zi[Gi],zi[Gi]=null,Gi--)}function Ki(e,t){Gi++;zi[Gi]=e.current;e.current=t}var Zi={},Qi=Hi(Zi),Yi=Hi(!1),Xi=Zi;function Ji(e,t){var r=e.type.contextTypes;if(!r)return Zi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i);return i}function eo(e){e=e.childContextTypes;return null!==e&&void 0!==e}function to(){$i(Yi);$i(Qi)}function ro(e,t,r){if(Qi.current!==Zi)throw Error(o(168));Ki(Qi,t);Ki(Yi,r)}function no(e,t,r){var n=e.stateNode;t=t.childContextTypes;if("function"!==typeof n.getChildContext)return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return N({},r,n)}function io(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zi;Xi=Qi.current;Ki(Qi,e);Ki(Yi,Yi.current);return!0}function oo(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=no(e,t,Xi),n.__reactInternalMemoizedMergedChildContext=e,$i(Yi),$i(Qi),Ki(Qi,e)):$i(Yi);Ki(Yi,r)}var ao=null,so=!1,lo=!1;function uo(e){null===ao?ao=[e]:ao.push(e)}function co(e){so=!0;uo(e)}function fo(){if(!lo&&null!==ao){lo=!0;var e=0,t=Ot;try{var r=ao;for(Ot=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}ao=null;so=!1}catch(t){throw null!==ao&&(ao=ao.slice(e+1)),Xe(it,fo),t}finally{Ot=t,lo=!1}}return null}var po=[],ho=0,go=null,vo=0,mo=[],yo=0,bo=null,wo=1,_o="";function So(e,t){po[ho++]=vo;po[ho++]=go;go=e;vo=t}function ko(e,t,r){mo[yo++]=wo;mo[yo++]=_o;mo[yo++]=bo;bo=e;var n=wo;e=_o;var i=32-ft(n)-1;n&=~(1<<i);r+=1;var o=32-ft(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32);n>>=a;i-=a;wo=1<<32-ft(t)+i|r<<i|n;_o=o+e}else wo=1<<o|r<<i|n,_o=e}function Po(e){null!==e.return&&(So(e,1),ko(e,1,0))}function Eo(e){for(;e===go;)go=po[--ho],po[ho]=null,vo=po[--ho],po[ho]=null;for(;e===bo;)bo=mo[--yo],mo[yo]=null,_o=mo[--yo],mo[yo]=null,wo=mo[--yo],mo[yo]=null}var xo=null,Co=null,Oo=!1,jo=null;function Ao(e,t){var r=ac(5,null,null,0);r.elementType="DELETED";r.stateNode=t;r.return=e;t=e.deletions;null===t?(e.deletions=[r],e.flags|=16):t.push(r)}function To(e,t){switch(e.tag){case 5:var r=e.type;t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t;return null!==t&&(e.stateNode=t,xo=e,Co=Ti(t.firstChild),!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,xo=e,Co=null,!0);case 13:return t=8!==t.nodeType?null:t,null!==t&&(r=null!==bo?{id:wo,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ac(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xo=e,Co=null,!0);default:return!1}}function Do(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Lo(e){if(Oo){var t=Co;if(t){var r=t;if(!To(e,t)){if(Do(e))throw Error(o(418));t=Ti(r.nextSibling);var n=xo;t&&To(e,t)?Ao(n,r):(e.flags=-4097&e.flags|2,Oo=!1,xo=e)}}else{if(Do(e))throw Error(o(418));e.flags=-4097&e.flags|2;Oo=!1;xo=e}}}function Io(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xo=e}function Mo(e){if(e!==xo)return!1;if(!Oo)return Io(e),Oo=!0,!1;var t;(t=3!==e.tag)&&!(t=5!==e.tag)&&(t=e.type,t="head"!==t&&"body"!==t&&!Pi(e.type,e.memoizedProps));if(t&&(t=Co)){if(Do(e))throw Ro(),Error(o(418));for(;t;)Ao(e,t),t=Ti(t.nextSibling)}Io(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(o(317));e:{e=e.nextSibling;for(t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Co=Ti(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Co=null}}else Co=xo?Ti(e.stateNode.nextSibling):null;return!0}function Ro(){for(var e=Co;e;)e=Ti(e.nextSibling)}function Fo(){Co=xo=null;Oo=!1}function Bo(e){null===jo?jo=[e]:jo.push(e)}var No=k.ReactCurrentBatchConfig;function Vo(e,t){if(e&&e.defaultProps){t=N({},t);e=e.defaultProps;for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t}return t}var qo=Hi(null),Wo=null,Uo=null,zo=null;function Go(){zo=Uo=Wo=null}function Ho(e){var t=qo.current;$i(qo);e._currentValue=t}function $o(e,t,r){for(;null!==e;){var n=e.alternate;(e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t);if(e===r)break;e=e.return}}function Ko(e,t){Wo=e;zo=Uo=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Us=!0),e.firstContext=null)}function Zo(e){var t=e._currentValue;if(zo!==e)if(e={context:e,memoizedValue:t,next:null},null===Uo){if(null===Wo)throw Error(o(308));Uo=e;Wo.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Qo=null;function Yo(e){null===Qo?Qo=[e]:Qo.push(e)}function Xo(e,t,r,n){var i=t.interleaved;null===i?(r.next=r,Yo(t)):(r.next=i.next,i.next=r);t.interleaved=r;return Jo(e,n)}function Jo(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);r=e;for(e=e.return;null!==e;)e.childLanes|=t,r=e.alternate,null!==r&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var ea=!1;function ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue;t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ia(e,t,r){var n=e.updateQueue;if(null===n)return null;n=n.shared;if(0!==(2&eu)){var i=n.pending;null===i?t.next=t:(t.next=i.next,i.next=t);n.pending=t;return Jo(e,r)}i=n.interleaved;null===i?(t.next=t,Yo(n)):(t.next=i.next,i.next=t);n.interleaved=t;return Jo(e,r)}function oa(e,t,r){t=t.updateQueue;if(null!==t&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;n&=e.pendingLanes;r|=n;t.lanes=r;Ct(e,r)}}function aa(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&(n=n.updateQueue,r===n)){var i=null,o=null;r=r.firstBaseUpdate;if(null!==r){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a;r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects};e.updateQueue=r;return}e=r.lastBaseUpdate;null===e?r.firstBaseUpdate=t:e.next=t;r.lastBaseUpdate=t}function sa(e,t,r,n){var i=e.updateQueue;ea=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null;null===a?o=u:a.next=u;a=l;var c=e.alternate;null!==c&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;a=0;c=u=l=null;s=o;do{var f=s.lane,p=s.eventTime;if((n&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,g=s;f=t;p=r;switch(g.tag){case 1:h=g.payload;if("function"===typeof h){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:h=g.payload;f="function"===typeof h?h.call(p,d,f):h;if(null===f||void 0===f)break e;d=N({},d,f);break e;case 2:ea=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,f=i.effects,null===f?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,a|=f;s=s.next;if(null===s){if(s=i.shared.pending,null===s)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);null===c&&(l=d);i.baseState=l;i.firstBaseUpdate=u;i.lastBaseUpdate=c;t=i.shared.interleaved;if(null!==t){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);lu|=a;e.lanes=a;e.memoizedState=d}}function la(e,t,r){e=t.effects;t.effects=null;if(null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){n.callback=null;n=r;if("function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var ua=(new n.Component).refs;function ca(e,t,r,n){t=e.memoizedState;r=r(n,t);r=null===r||void 0===r?t:N({},t,r);e.memoizedState=r;0===e.lanes&&(e.updateQueue.baseState=r)}var da={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xu(),i=Cu(e),o=na(n,i);o.payload=t;void 0!==r&&null!==r&&(o.callback=r);t=ia(e,o,i);null!==t&&(Ou(t,e,i,n),oa(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xu(),i=Cu(e),o=na(n,i);o.tag=1;o.payload=t;void 0!==r&&null!==r&&(o.callback=r);t=ia(e,o,i);null!==t&&(Ou(t,e,i,n),oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xu(),n=Cu(e),i=na(r,n);i.tag=2;void 0!==t&&null!==t&&(i.callback=t);t=ia(e,i,n);null!==t&&(Ou(t,e,n,r),oa(t,e,n))}};function fa(e,t,r,n,i,o,a){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!On(r,n)||!On(i,o))}function pa(e,t,r){var n=!1,i=Zi;var o=t.contextType;"object"===typeof o&&null!==o?o=Zo(o):(i=eo(t)?Xi:Qi.current,n=t.contextTypes,o=(n=null!==n&&void 0!==n)?Ji(e,i):Zi);t=new t(r,o);e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null;t.updater=da;e.stateNode=t;t._reactInternals=e;n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o);return t}function ha(e,t,r,n){e=t.state;"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n);"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n);t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function ga(e,t,r,n){var i=e.stateNode;i.props=r;i.state=e.memoizedState;i.refs=ua;ta(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Zo(o):(o=eo(t)?Xi:Qi.current,i.context=Ji(e,o));i.state=e.memoizedState;o=t.getDerivedStateFromProps;"function"===typeof o&&(ca(e,t,o,r),i.state=e.memoizedState);"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&da.enqueueReplaceState(i,i.state,null),sa(e,r,i,n),i.state=e.memoizedState);"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function va(e,t,r){e=r.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;if(r){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=n,a=""+e;if(null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a)return t.ref;t=function(e){var t=i.refs;t===ua&&(t=i.refs={});null===e?delete t[a]:t[a]=e};t._stringRef=a;return t}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function ma(e,t){e=Object.prototype.toString.call(t);throw Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){var t=e._init;return t(e._payload)}function ba(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){e=uc(e,t);e.index=0;e.sibling=null;return e}function a(t,r,n){t.index=n;if(!e)return t.flags|=1048576,r;n=t.alternate;if(null!==n)return n=n.index,n<r?(t.flags|=2,r):n;t.flags|=2;return r}function s(t){e&&null===t.alternate&&(t.flags|=2);return t}function l(e,t,r,n){if(null===t||6!==t.tag)return t=pc(r,e.mode,n),t.return=e,t;t=i(t,r);t.return=e;return t}function u(e,t,r,n){var o=r.type;if(o===x)return d(e,t,r.props.children,n,r.key);if(null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&ya(o)===t.type))return n=i(t,r.props),n.ref=va(e,t,r),n.return=e,n;n=cc(r.type,r.key,r.props,null,e.mode,n);n.ref=va(e,t,r);n.return=e;return n}function c(e,t,r,n){if(null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation)return t=hc(r,e.mode,n),t.return=e,t;t=i(t,r.children||[]);t.return=e;return t}function d(e,t,r,n,o){if(null===t||7!==t.tag)return t=dc(r,e.mode,n,o),t.return=e,t;t=i(t,r);t.return=e;return t}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return t=pc(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case P:return r=cc(t.type,t.key,t.props,null,e.mode,r),r.ref=va(e,null,t),r.return=e,r;case E:return t=hc(t,e.mode,r),t.return=e,t;case M:var n=t._init;return f(e,n(t._payload),r)}if(oe(t)||B(t))return t=dc(t,e.mode,r,null),t.return=e,t;ma(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case P:return r.key===i?u(e,t,r,n):null;case E:return r.key===i?c(e,t,r,n):null;case M:return i=r._init,p(e,t,i(r._payload),n)}if(oe(r)||B(r))return null!==i?null:d(e,t,r,n,null);ma(e,r)}return null}function h(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return e=e.get(r)||null,l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case P:return e=e.get(null===n.key?r:n.key)||null,u(t,e,n,i);case E:return e=e.get(null===n.key?r:n.key)||null,c(t,e,n,i);case M:var o=n._init;return h(e,t,r,o(n._payload),i)}if(oe(n)||B(n))return e=e.get(r)||null,d(t,e,n,i,null);ma(t,n)}return null}function g(i,o,s,l){for(var u=null,c=null,d=o,g=o=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=p(i,d,s[g],l);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d);o=a(m,o,g);null===c?u=m:c.sibling=m;c=m;d=v}if(g===s.length)return r(i,d),Oo&&So(i,g),u;if(null===d){for(;g<s.length;g++)d=f(i,s[g],l),null!==d&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);Oo&&So(i,g);return u}for(d=n(i,d);g<s.length;g++)v=h(d,i,g,s[g],l),null!==v&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v);e&&d.forEach(function(e){return t(i,e)});Oo&&So(i,g);return u}function v(i,s,l,u){var c=B(l);if("function"!==typeof c)throw Error(o(150));l=c.call(l);if(null==l)throw Error(o(151));for(var d=c=null,g=s,v=s=0,m=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=p(i,g,y.value,u);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g);s=a(b,s,v);null===d?c=b:d.sibling=b;d=b;g=m}if(y.done)return r(i,g),Oo&&So(i,v),c;if(null===g){for(;!y.done;v++,y=l.next())y=f(i,y.value,u),null!==y&&(s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);Oo&&So(i,v);return c}for(g=n(i,g);!y.done;v++,y=l.next())y=h(g,i,v,y.value,u),null!==y&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);e&&g.forEach(function(e){return t(i,e)});Oo&&So(i,v);return c}function m(e,n,o,a){"object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children);if("object"===typeof o&&null!==o){switch(o.$$typeof){case P:e:{for(var l=o.key,u=n;null!==u;){if(u.key===l){l=o.type;if(l===x){if(7===u.tag){r(e,u.sibling);n=i(u,o.props.children);n.return=e;e=n;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===M&&ya(l)===u.type){r(e,u.sibling);n=i(u,o.props);n.ref=va(e,u,o);n.return=e;e=n;break e}r(e,u);break}t(e,u);u=u.sibling}o.type===x?(n=dc(o.props.children,e.mode,a,o.key),n.return=e,e=n):(a=cc(o.type,o.key,o.props,null,e.mode,a),a.ref=va(e,n,o),a.return=e,e=a)}return s(e);case E:e:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling);n=i(n,o.children||[]);n.return=e;e=n;break e}r(e,n);break}t(e,n);n=n.sibling}n=hc(o,e.mode,a);n.return=e;e=n}return s(e);case M:return u=o._init,m(e,n,u(o._payload),a)}if(oe(o))return g(e,n,o,a);if(B(o))return v(e,n,o,a);ma(e,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,o),n.return=e,e=n):(r(e,n),n=pc(o,e.mode,a),n.return=e,e=n),s(e)):r(e,n)}return m}var wa=ba(!0),_a=ba(!1),Sa={},ka=Hi(Sa),Pa=Hi(Sa),Ea=Hi(Sa);function xa(e){if(e===Sa)throw Error(o(174));return e}function Ca(e,t){Ki(Ea,t);Ki(Pa,e);Ki(ka,Sa);e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fe(t,e)}$i(ka);Ki(ka,t)}function Oa(){$i(ka);$i(Pa);$i(Ea)}function ja(e){xa(Ea.current);var t=xa(ka.current);var r=fe(t,e.type);t!==r&&(Ki(Pa,e),Ki(ka,r))}function Aa(e){Pa.current===e&&($i(ka),$i(Pa))}var Ta=Hi(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t;t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}return null}var La=[];function Ia(){for(var e=0;e<La.length;e++)La[e]._workInProgressVersionPrimary=null;La.length=0}var Ma=k.ReactCurrentDispatcher,Ra=k.ReactCurrentBatchConfig,Fa=0,Ba=null,Na=null,Va=null,qa=!1,Wa=!1,Ua=0,za=0;function Ga(){throw Error(o(321))}function Ha(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cn(e[r],t[r]))return!1;return!0}function $a(e,t,r,n,i,a){Fa=a;Ba=t;t.memoizedState=null;t.updateQueue=null;t.lanes=0;Ma.current=null===e||null===e.memoizedState?As:Ts;e=r(n,i);if(Wa){a=0;do{Wa=!1;Ua=0;if(25<=a)throw Error(o(301));a+=1;Va=Na=null;t.updateQueue=null;Ma.current=Ds;e=r(n,i)}while(Wa)}Ma.current=js;t=null!==Na&&null!==Na.next;Fa=0;Va=Na=Ba=null;qa=!1;if(t)throw Error(o(300));return e}function Ka(){var e=0!==Ua;Ua=0;return e}function Za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Va?Ba.memoizedState=Va=e:Va=Va.next=e;return Va}function Qa(){if(null===Na){var e=Ba.alternate;e=null!==e?e.memoizedState:null}else e=Na.next;var t=null===Va?Ba.memoizedState:Va.next;if(null!==t)Va=t,Na=e;else{if(null===e)throw Error(o(310));Na=e;e={memoizedState:Na.memoizedState,baseState:Na.baseState,baseQueue:Na.baseQueue,queue:Na.queue,next:null};null===Va?Ba.memoizedState=Va=e:Va=Va.next=e}return Va}function Ya(e,t){return"function"===typeof t?t(e):t}function Xa(e){var t=Qa(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=Na,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next;a.next=s}n.baseQueue=i=a;r.pending=null}if(null!==i){a=i.next;n=n.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((Fa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=n):u=u.next=f;Ba.lanes|=d;lu|=d}c=c.next}while(null!==c&&c!==a);null===u?s=n:u.next=l;Cn(n,t.memoizedState)||(Us=!0);t.memoizedState=n;t.baseState=s;t.baseQueue=u;r.lastRenderedState=n}e=r.interleaved;if(null!==e){i=e;do{a=i.lane,Ba.lanes|=a,lu|=a,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ja(e){var t=Qa(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Cn(a,t.memoizedState)||(Us=!0);t.memoizedState=a;null===t.baseQueue&&(t.baseState=a);r.lastRenderedState=a}return[a,n]}function es(){}function ts(e,t){var r=Ba,n=Qa(),i=t(),a=!Cn(n.memoizedState,i);a&&(n.memoizedState=i,Us=!0);n=n.queue;ps(is.bind(null,r,n,e),[e]);if(n.getSnapshot!==t||a||null!==Va&&1&Va.memoizedState.tag){r.flags|=2048;ls(9,ns.bind(null,r,n,i,t),void 0,null);if(null===tu)throw Error(o(349));0!==(30&Fa)||rs(r,t,i)}return i}function rs(e,t,r){e.flags|=16384;e={getSnapshot:t,value:r};t=Ba.updateQueue;null===t?(t={lastEffect:null,stores:null},Ba.updateQueue=t,t.stores=[e]):(r=t.stores,null===r?t.stores=[e]:r.push(e))}function ns(e,t,r,n){t.value=r;t.getSnapshot=n;os(t)&&as(e)}function is(e,t,r){return r(function(){os(t)&&as(e)})}function os(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cn(e,r)}catch(e){return!0}}function as(e){var t=Jo(e,1);null!==t&&Ou(t,e,1,-1)}function ss(e){var t=Za();"function"===typeof e&&(e=e());t.memoizedState=t.baseState=e;e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e};t.queue=e;e=e.dispatch=Es.bind(null,Ba,e);return[t.memoizedState,e]}function ls(e,t,r,n){e={tag:e,create:t,destroy:r,deps:n,next:null};t=Ba.updateQueue;null===t?(t={lastEffect:null,stores:null},Ba.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,null===r?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e));return e}function us(){return Qa().memoizedState}function cs(e,t,r,n){var i=Za();Ba.flags|=e;i.memoizedState=ls(1|t,r,void 0,void 0===n?null:n)}function ds(e,t,r,n){var i=Qa();n=void 0===n?null:n;var o=void 0;if(null!==Na){var a=Na.memoizedState;o=a.destroy;if(null!==n&&Ha(n,a.deps)){i.memoizedState=ls(t,r,o,n);return}}Ba.flags|=e;i.memoizedState=ls(1|t,r,o,n)}function fs(e,t){return cs(8390656,8,e,t)}function ps(e,t){return ds(2048,8,e,t)}function hs(e,t){return ds(4,2,e,t)}function gs(e,t){return ds(4,4,e,t)}function vs(e,t){if("function"===typeof t)return e=e(),t(e),function(){t(null)};if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ms(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return ds(4,4,vs.bind(null,t,e),r)}function ys(){}function bs(e,t){var r=Qa();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&Ha(t,n[1]))return n[0];r.memoizedState=[e,t];return e}function ws(e,t){var r=Qa();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&Ha(t,n[1]))return n[0];e=e();r.memoizedState=[e,t];return e}function _s(e,t,r){if(0===(21&Fa))return e.baseState&&(e.baseState=!1,Us=!0),e.memoizedState=r;Cn(r,t)||(r=kt(),Ba.lanes|=r,lu|=r,e.baseState=!0);return t}function Ss(e,t){var r=Ot;Ot=0!==r&&4>r?r:4;e(!0);var n=Ra.transition;Ra.transition={};try{e(!1),t()}finally{Ot=r,Ra.transition=n}}function ks(){return Qa().memoizedState}function Ps(e,t,r){var n=Cu(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xs(e))Cs(t,r);else if(r=Xo(e,t,r,n),null!==r){var i=xu();Ou(r,e,n,i);Os(r,t,n)}}function Es(e,t,r){var n=Cu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xs(e))Cs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&(o=t.lastRenderedReducer,null!==o))try{var a=t.lastRenderedState,s=o(a,r);i.hasEagerState=!0;i.eagerState=s;if(Cn(s,a)){var l=t.interleaved;null===l?(i.next=i,Yo(t)):(i.next=l.next,l.next=i);t.interleaved=i;return}}catch(e){}r=Xo(e,t,i,n);null!==r&&(i=xu(),Ou(r,e,n,i),Os(r,t,n))}}function xs(e){var t=e.alternate;return e===Ba||null!==t&&t===Ba}function Cs(e,t){Wa=qa=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t);e.pending=t}function Os(e,t,r){if(0!==(4194240&r)){var n=t.lanes;n&=e.pendingLanes;r|=n;t.lanes=r;Ct(e,r)}}var js={readContext:Zo,useCallback:Ga,useContext:Ga,useEffect:Ga,useImperativeHandle:Ga,useInsertionEffect:Ga,useLayoutEffect:Ga,useMemo:Ga,useReducer:Ga,useRef:Ga,useState:Ga,useDebugValue:Ga,useDeferredValue:Ga,useTransition:Ga,useMutableSource:Ga,useSyncExternalStore:Ga,useId:Ga,unstable_isNewReconciler:!1},As={readContext:Zo,useCallback:function(e,t){Za().memoizedState=[e,void 0===t?null:t];return e},useContext:Zo,useEffect:fs,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return cs(4194308,4,vs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return cs(4,2,e,t)},useMemo:function(e,t){var r=Za();t=void 0===t?null:t;e=e();r.memoizedState=[e,t];return e},useReducer:function(e,t,r){var n=Za();t=void 0!==r?r(t):t;n.memoizedState=n.baseState=t;e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t};n.queue=e;e=e.dispatch=Ps.bind(null,Ba,e);return[n.memoizedState,e]},useRef:function(e){var t=Za();e={current:e};return t.memoizedState=e},useState:ss,useDebugValue:ys,useDeferredValue:function(e){return Za().memoizedState=e},useTransition:function(){var e=ss(!1),t=e[0];e=Ss.bind(null,e[1]);Za().memoizedState=e;return[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ba,i=Za();if(Oo){if(void 0===r)throw Error(o(407));r=r()}else{r=t();if(null===tu)throw Error(o(349));0!==(30&Fa)||rs(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};i.queue=a;fs(is.bind(null,n,a,e),[e]);n.flags|=2048;ls(9,ns.bind(null,n,a,r,t),void 0,null);return r},useId:function(){var e=Za(),t=tu.identifierPrefix;if(Oo){var r=_o;var n=wo;r=(n&~(1<<32-ft(n)-1)).toString(32)+r;t=":"+t+"R"+r;r=Ua++;0<r&&(t+="H"+r.toString(32));t+=":"}else r=za++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ts={readContext:Zo,useCallback:bs,useContext:Zo,useEffect:ps,useImperativeHandle:ms,useInsertionEffect:hs,useLayoutEffect:gs,useMemo:ws,useReducer:Xa,useRef:us,useState:function(){return Xa(Ya)},useDebugValue:ys,useDeferredValue:function(e){var t=Qa();return _s(t,Na.memoizedState,e)},useTransition:function(){var e=Xa(Ya)[0],t=Qa().memoizedState;return[e,t]},useMutableSource:es,useSyncExternalStore:ts,useId:ks,unstable_isNewReconciler:!1},Ds={readContext:Zo,useCallback:bs,useContext:Zo,useEffect:ps,useImperativeHandle:ms,useInsertionEffect:hs,useLayoutEffect:gs,useMemo:ws,useReducer:Ja,useRef:us,useState:function(){return Ja(Ya)},useDebugValue:ys,useDeferredValue:function(e){var t=Qa();return null===Na?t.memoizedState=e:_s(t,Na.memoizedState,e)},useTransition:function(){var e=Ja(Ya)[0],t=Qa().memoizedState;return[e,t]},useMutableSource:es,useSyncExternalStore:ts,useId:ks,unstable_isNewReconciler:!1};function Ls(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var i=r}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function Is(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function Ms(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Rs="function"===typeof WeakMap?WeakMap:Map;function Fs(e,t,r){r=na(-1,r);r.tag=3;r.payload={element:null};var n=t.value;r.callback=function(){vu||(vu=!0,mu=n);Ms(e,t)};return r}function Bs(e,t,r){r=na(-1,r);r.tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)};r.callback=function(){Ms(e,t)}}var o=e.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){Ms(e,t);"function"!==typeof n&&(null===yu?yu=new Set([this]):yu.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})});return r}function Ns(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new Rs;var i=new Set;n.set(t,i)}else i=n.get(t),void 0===i&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Ju.bind(null,e,t,r),t.then(e,e))}function Vs(e){do{var t;(t=13===e.tag)&&(t=e.memoizedState,t=null===t||null!==t.dehydrated);if(t)return e;e=e.return}while(null!==e);return null}function qs(e,t,r,n,i){if(0===(1&e.mode))return e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:(t=na(-1,1),t.tag=2,ia(r,t,1))),r.lanes|=1),e;e.flags|=65536;e.lanes=i;return e}var Ws=k.ReactCurrentOwner,Us=!1;function zs(e,t,r,n){t.child=null===e?_a(t,null,r,n):wa(t,e.child,r,n)}function Gs(e,t,r,n,i){r=r.render;var o=t.ref;Ko(t,i);n=$a(e,t,r,n,o,i);r=Ka();if(null!==e&&!Us)return t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dl(e,t,i);Oo&&r&&Po(t);t.flags|=1;zs(e,t,n,i);return t.child}function Hs(e,t,r,n,i){if(null===e){var o=r.type;if("function"===typeof o&&!sc(o)&&void 0===o.defaultProps&&null===r.compare&&void 0===r.defaultProps)return t.tag=15,t.type=o,$s(e,t,o,n,i);e=cc(r.type,null,n,t,t.mode,i);e.ref=t.ref;e.return=t;return t.child=e}o=e.child;if(0===(e.lanes&i)){var a=o.memoizedProps;r=r.compare;r=null!==r?r:On;if(r(a,n)&&e.ref===t.ref)return dl(e,t,i)}t.flags|=1;e=uc(o,n);e.ref=t.ref;e.return=t;return t.child=e}function $s(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(On(o,n)&&e.ref===t.ref){if(Us=!1,t.pendingProps=n=o,0===(e.lanes&i))return t.lanes=e.lanes,dl(e,t,i);0!==(131072&e.flags)&&(Us=!0)}}return Qs(e,t,r,n,i)}function Ks(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ki(ou,iu),iu|=r;else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ki(ou,iu),iu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null};n=null!==o?o.baseLanes:r;Ki(ou,iu);iu|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ki(ou,iu),iu|=n;zs(e,t,i,r);return t.child}function Zs(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qs(e,t,r,n,i){var o=eo(r)?Xi:Qi.current;o=Ji(t,o);Ko(t,i);r=$a(e,t,r,n,o,i);n=Ka();if(null!==e&&!Us)return t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dl(e,t,i);Oo&&n&&Po(t);t.flags|=1;zs(e,t,r,i);return t.child}function Ys(e,t,r,n,i){if(eo(r)){var o=!0;io(t)}else o=!1;Ko(t,i);if(null===t.stateNode)cl(e,t),pa(t,r,n),ga(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"===typeof u&&null!==u?u=Zo(u):(u=eo(r)?Xi:Qi.current,u=Ji(t,u));var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&ha(t,a,n,u);ea=!1;var f=t.memoizedState;a.state=f;sa(t,n,a,i);l=t.memoizedState;s!==n||f!==l||Yi.current||ea?("function"===typeof c&&(ca(t,r,c,n),l=t.memoizedState),(s=ea||fa(t,r,s,n,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode;ra(e,t);s=t.memoizedProps;u=t.type===t.elementType?s:Vo(t.type,s);a.props=u;d=t.pendingProps;f=a.context;l=r.contextType;"object"===typeof l&&null!==l?l=Zo(l):(l=eo(r)?Xi:Qi.current,l=Ji(t,l));var p=r.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&ha(t,a,n,l);ea=!1;f=t.memoizedState;a.state=f;sa(t,n,a,i);var h=t.memoizedState;s!==d||f!==h||Yi.current||ea?("function"===typeof p&&(ca(t,r,p,n),h=t.memoizedState),(u=ea||fa(t,r,u,n,f,h,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Xs(e,t,r,n,o,i)}function Xs(e,t,r,n,i,o){Zs(e,t);var a=0!==(128&t.flags);if(!n&&!a)return i&&oo(t,r,!1),dl(e,t,o);n=t.stateNode;Ws.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();t.flags|=1;null!==e&&a?(t.child=wa(t,e.child,null,o),t.child=wa(t,null,s,o)):zs(e,t,s,o);t.memoizedState=n.state;i&&oo(t,r,!0);return t.child}function Js(e){var t=e.stateNode;t.pendingContext?ro(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ro(e,t.context,!1);Ca(e,t.containerInfo)}function el(e,t,r,n,i){Fo();Bo(i);t.flags|=256;zs(e,t,r,n);return t.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function nl(e,t,r){var n=t.pendingProps,i=Ta.current,o=!1,a=0!==(128&t.flags),s;(s=a)||(s=(null===e||null!==e.memoizedState)&&0!==(2&i));s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1);Ki(Ta,1&i);if(null===e){Lo(t);e=t.memoizedState;if(null!==e&&(e=e.dehydrated,null!==e))return 0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null;a=n.children;e=n.fallback;return o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=fc(a,n,0,null),e=dc(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rl(r),t.memoizedState=tl,e):il(t,a)}i=e.memoizedState;if(null!==i&&(s=i.dehydrated,null!==s))return al(e,t,a,n,s,i,r);if(o){o=n.fallback;a=t.mode;i=e.child;s=i.sibling;var l={mode:"hidden",children:n.children};0===(1&a)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=uc(i,l),n.subtreeFlags=14680064&i.subtreeFlags);null!==s?o=uc(s,o):(o=dc(o,a,r,null),o.flags|=2);o.return=t;n.return=t;n.sibling=o;t.child=n;n=o;o=t.child;a=e.child.memoizedState;a=null===a?rl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions};o.memoizedState=a;o.childLanes=e.childLanes&~r;t.memoizedState=tl;return n}o=e.child;e=o.sibling;n=uc(o,{mode:"visible",children:n.children});0===(1&t.mode)&&(n.lanes=r);n.return=t;n.sibling=null;null!==e&&(r=t.deletions,null===r?(t.deletions=[e],t.flags|=16):r.push(e));t.child=n;t.memoizedState=null;return n}function il(e,t){t=fc({mode:"visible",children:t},e.mode,0,null);t.return=e;return e.child=t}function ol(e,t,r,n){null!==n&&Bo(n);wa(t,e.child,null,r);e=il(t,t.pendingProps.children);e.flags|=2;t.memoizedState=null;return e}function al(e,t,r,n,i,a,s){if(r){if(256&t.flags)return t.flags&=-257,n=Is(Error(o(422))),ol(e,t,s,n);if(null!==t.memoizedState)return t.child=e.child,t.flags|=128,null;a=n.fallback;i=t.mode;n=fc({mode:"visible",children:n.children},i,0,null);a=dc(a,i,s,null);a.flags|=2;n.return=t;a.return=t;n.sibling=a;t.child=n;0!==(1&t.mode)&&wa(t,e.child,null,s);t.child.memoizedState=rl(s);t.memoizedState=tl;return a}if(0===(1&t.mode))return ol(e,t,s,null);if("$!"===i.data){n=i.nextSibling&&i.nextSibling.dataset;if(n)var l=n.dgst;n=l;a=Error(o(419));n=Is(a,n,void 0);return ol(e,t,s,n)}l=0!==(s&e.childLanes);if(Us||l){n=tu;if(null!==n){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=0!==(i&(n.suspendedLanes|s))?0:i;0!==i&&i!==a.retryLane&&(a.retryLane=i,Jo(e,i),Ou(n,e,i,-1))}Wu();n=Is(Error(o(421)));return ol(e,t,s,n)}if("$?"===i.data)return t.flags|=128,t.child=e.child,t=tc.bind(null,e),i._reactRetry=t,null;e=a.treeContext;Co=Ti(i.nextSibling);xo=t;Oo=!0;jo=null;null!==e&&(mo[yo++]=wo,mo[yo++]=_o,mo[yo++]=bo,wo=e.id,_o=e.overflow,bo=t);t=il(t,n.children);t.flags|=4096;return t}function sl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t);$o(e.return,t,r)}function ll(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function ul(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;zs(e,t,n.children,r);n=Ta.current;if(0!==(2&n))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sl(e,r,t);else if(19===e.tag)sl(e,r,t);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return;e=e.sibling}n&=1}Ki(Ta,n);if(0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":r=t.child;for(i=null;null!==r;)e=r.alternate,null!==e&&null===Da(e)&&(i=r),r=r.sibling;r=i;null===r?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null);ll(t,!1,i,r,o);break;case"backwards":r=null;i=t.child;for(t.child=null;null!==i;){e=i.alternate;if(null!==e&&null===Da(e)){t.child=i;break}e=i.sibling;i.sibling=r;r=i;i=e}ll(t,!0,r,null,o);break;case"together":ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dl(e,t,r){null!==e&&(t.dependencies=e.dependencies);lu|=t.lanes;if(0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){e=t.child;r=uc(e,e.pendingProps);t.child=r;for(r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=uc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fl(e,t,r){switch(t.tag){case 3:Js(t);Fo();break;case 5:ja(t);break;case 1:eo(t.type)&&io(t);break;case 4:Ca(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ki(qo,n._currentValue);n._currentValue=i;break;case 13:n=t.memoizedState;if(null!==n){if(null!==n.dehydrated)return Ki(Ta,1&Ta.current),t.flags|=128,null;if(0!==(r&t.child.childLanes))return nl(e,t,r);Ki(Ta,1&Ta.current);e=dl(e,t,r);return null!==e?e.sibling:null}Ki(Ta,1&Ta.current);break;case 19:n=0!==(r&t.childLanes);if(0!==(128&e.flags)){if(n)return ul(e,t,r);t.flags|=128}i=t.memoizedState;null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null);Ki(Ta,Ta.current);if(n)break;return null;case 22:case 23:return t.lanes=0,Ks(e,t,r)}return dl(e,t,r)}var pl,hl,gl,vl;pl=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return;r=r.sibling}};hl=function(){};gl=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode;xa(ka.current);var o=null;switch(r){case"input":i=J(e,i);n=J(e,n);o=[];break;case"select":i=N({},i,{value:void 0});n=N({},n,{value:void 0});o=[];break;case"textarea":i=se(e,i);n=se(e,n);o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=_i)}_e(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var u=n[c];l=null!=i?i[c]:void 0;if(n.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(c,r)),r=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&si("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};vl=function(e,t,r,n){r!==n&&(t.flags|=4)};function ml(e,t){if(!Oo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;e.subtreeFlags|=n;e.childLanes=r;return t}function bl(e,t,r){var n=t.pendingProps;Eo(t);switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yl(t),null;case 1:return eo(t.type)&&to(),yl(t),null;case 3:n=t.stateNode;Oa();$i(Yi);$i(Qi);Ia();n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null);null!==e&&null!==e.child||(Mo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==jo&&(Du(jo),jo=null)));hl(e,t);yl(t);return null;case 5:Aa(t);var i=xa(Ea.current);r=t.type;if(null!==e&&null!=t.stateNode)gl(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));yl(t);return null}e=xa(ka.current);if(Mo(t)){n=t.stateNode;r=t.type;var a=t.memoizedProps;n[Ii]=t;n[Mi]=a;e=0!==(1&t.mode);switch(r){case"dialog":si("cancel",n);si("close",n);break;case"iframe":case"object":case"embed":si("load",n);break;case"video":case"audio":for(i=0;i<ni.length;i++)si(ni[i],n);break;case"source":si("error",n);break;case"img":case"image":case"link":si("error",n);si("load",n);break;case"details":si("toggle",n);break;case"input":ee(n,a);si("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple};si("invalid",n);break;case"textarea":le(n,a),si("invalid",n)}_e(r,a);i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?n.textContent!==u&&(!0!==a.suppressHydrationWarning&&wi(n.textContent,u,e),i=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&wi(n.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&si("scroll",n)}switch(r){case"input":Q(n);ne(n,a,!0);break;case"textarea":Q(n);ce(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=_i)}n=i;t.updateQueue=n;null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument;"http://www.w3.org/1999/xhtml"===e&&(e=de(r));"http://www.w3.org/1999/xhtml"===e?"script"===r?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r);e[Ii]=t;e[Mi]=n;pl(e,t,!1,!1);t.stateNode=e;e:{l=Se(r,n);switch(r){case"dialog":si("cancel",e);si("close",e);i=n;break;case"iframe":case"object":case"embed":si("load",e);i=n;break;case"video":case"audio":for(i=0;i<ni.length;i++)si(ni[i],e);i=n;break;case"source":si("error",e);i=n;break;case"img":case"image":case"link":si("error",e);si("load",e);i=n;break;case"details":si("toggle",e);i=n;break;case"input":ee(e,n);i=J(e,n);si("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple};i=N({},n,{value:void 0});si("invalid",e);break;case"textarea":le(e,n);i=se(e,n);si("invalid",e);break;default:i=n}_e(r,i);u=i;for(a in u)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?be(e,c):"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,null!=c&&he(e,c)):"children"===a?"string"===typeof c?("textarea"!==r||""!==c)&&ge(e,c):"number"===typeof c&&ge(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&si("scroll",e):null!=c&&S(e,a,c,l))}switch(r){case"input":Q(e);ne(e,n,!1);break;case"textarea":Q(e);ce(e);break;case"option":null!=n.value&&e.setAttribute("value",""+$(n.value));break;case"select":e.multiple=!!n.multiple;a=n.value;null!=a?ae(e,!!n.multiple,a,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=_i)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}yl(t);return null;case 6:if(e&&null!=t.stateNode)vl(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=xa(Ea.current);xa(ka.current);if(Mo(t)){n=t.stateNode;r=t.memoizedProps;n[Ii]=t;if((a=n.nodeValue!==r)&&(e=xo,null!==e))switch(e.tag){case 3:wi(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&wi(n.nodeValue,r,0!==(1&e.mode))}a&&(t.flags|=4)}else n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n),n[Ii]=t,t.stateNode=n}yl(t);return null;case 13:$i(Ta);n=t.memoizedState;if(null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Oo&&null!==Co&&0!==(1&t.mode)&&0===(128&t.flags))Ro(),Fo(),t.flags|=98560,a=!1;else if(a=Mo(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(o(318));a=t.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(o(317));a[Ii]=t}else Fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;yl(t);a=!1}else null!==jo&&(Du(jo),jo=null),a=!0;if(!a)return 65536&t.flags?t:null}if(0!==(128&t.flags))return t.lanes=r,t;n=null!==n;n!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ta.current)?0===au&&(au=3):Wu()));null!==t.updateQueue&&(t.flags|=4);yl(t);return null;case 4:return Oa(),hl(e,t),null===e&&ci(t.stateNode.containerInfo),yl(t),null;case 10:return Ho(t.type._context),yl(t),null;case 17:return eo(t.type)&&to(),yl(t),null;case 19:$i(Ta);a=t.memoizedState;if(null===a)return yl(t),null;n=0!==(128&t.flags);l=a.rendering;if(null===l)if(n)ml(a,!1);else{if(0!==au||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){l=Da(e);if(null!==l){t.flags|=128;ml(a,!1);n=l.updateQueue;null!==n&&(t.updateQueue=n,t.flags|=4);t.subtreeFlags=0;n=r;for(r=t.child;null!==r;)a=r,e=n,a.flags&=14680066,l=a.alternate,null===l?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;Ki(Ta,1&Ta.current|2);return t.child}e=e.sibling}null!==a.tail&&rt()>hu&&(t.flags|=128,n=!0,ml(a,!1),t.lanes=4194304)}else{if(!n)if(e=Da(l),null!==e){if(t.flags|=128,n=!0,r=e.updateQueue,null!==r&&(t.updateQueue=r,t.flags|=4),ml(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Oo)return yl(t),null}else 2*rt()-a.renderingStartTime>hu&&1073741824!==r&&(t.flags|=128,n=!0,ml(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,null!==r?r.sibling=l:t.child=l,a.last=l)}if(null!==a.tail)return t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=rt(),t.sibling=null,r=Ta.current,Ki(Ta,n?1&r|2:1&r),t;yl(t);return null;case 22:case 23:return Bu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&iu)&&(yl(t),6&t.subtreeFlags&&(t.flags|=8192)):yl(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function wl(e,t){Eo(t);switch(t.tag){case 1:return eo(t.type)&&to(),e=t.flags,65536&e?(t.flags=-65537&e|128,t):null;case 3:return Oa(),$i(Yi),$i(Qi),Ia(),e=t.flags,0!==(65536&e)&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Aa(t),null;case 13:$i(Ta);e=t.memoizedState;if(null!==e&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Fo()}e=t.flags;return 65536&e?(t.flags=-65537&e|128,t):null;case 19:return $i(Ta),null;case 4:return Oa(),null;case 10:return Ho(t.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var _l=!1,Sl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Pl=null;function El(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(r){Xu(e,t,r)}else r.current=null}function xl(e,t,r){try{r()}catch(r){Xu(e,t,r)}}var Cl=!1;function Ol(e,t){Si=er;e=Dn();if(Ln(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(e){r=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;;){f!==r||0!==i&&3!==f.nodeType||(l=s+i);f!==a||0!==n&&3!==f.nodeType||(u=s+n);3===f.nodeType&&(s+=f.nodeValue.length);if(null===(h=f.firstChild))break;p=f;f=h}for(;;){if(f===e)break t;p===r&&++c===i&&(l=s);p===a&&++d===n&&(u=s);if(null!==(h=f.nextSibling))break;f=p;p=f.parentNode}f=h}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;ki={focusedElem:e,selectionRange:r};er=!1;for(Pl=t;null!==Pl;)if(t=Pl,e=t.child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Pl=e;else for(;null!==Pl;){t=Pl;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(e){Xu(t,t.return,e)}e=t.sibling;if(null!==e){e.return=t.return;Pl=e;break}Pl=t.return}g=Cl;Cl=!1;return g}function jl(e,t,r){var n=t.updateQueue;n=null!==n?n.lastEffect:null;if(null!==n){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0;void 0!==o&&xl(t,r,o)}i=i.next}while(i!==n)}}function Al(e,t){t=t.updateQueue;t=null!==t?t.lastEffect:null;if(null!==t){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tl(e){var t=e.ref;if(null!==t){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}"function"===typeof t?t(e):t.current=e}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t));e.child=null;e.deletions=null;e.sibling=null;5===e.tag&&(t=e.stateNode,null!==t&&(delete t[Ii],delete t[Mi],delete t[Fi],delete t[Bi],delete t[Ni]));e.stateNode=null;e.return=null;e.dependencies=null;e.memoizedProps=null;e.memoizedState=null;e.pendingProps=null;e.stateNode=null;e.updateQueue=null}function Ll(e){return 5===e.tag||3===e.tag||4===e.tag}function Il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ll(e.return))return null;e=e.return}e.sibling.return=e.return;for(e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ml(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==t.onclick||(t.onclick=_i));else if(4!==n&&(e=e.child,null!==e))for(Ml(e,t,r),e=e.sibling;null!==e;)Ml(e,t,r),e=e.sibling}function Rl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(e=e.child,null!==e))for(Rl(e,t,r),e=e.sibling;null!==e;)Rl(e,t,r),e=e.sibling}var Fl=null,Bl=!1;function Nl(e,t,r){for(r=r.child;null!==r;)Vl(e,t,r),r=r.sibling}function Vl(e,t,r){if(ct&&"function"===typeof ct.onCommitFiberUnmount)try{ct.onCommitFiberUnmount(ut,r)}catch(e){}switch(r.tag){case 5:Sl||El(r,t);case 6:var n=Fl,i=Bl;Fl=null;Nl(e,t,r);Fl=n;Bl=i;null!==Fl&&(Bl?(e=Fl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):Fl.removeChild(r.stateNode));break;case 18:null!==Fl&&(Bl?(e=Fl,r=r.stateNode,8===e.nodeType?Ai(e.parentNode,r):1===e.nodeType&&Ai(e,r),Xt(e)):Ai(Fl,r.stateNode));break;case 4:n=Fl;i=Bl;Fl=r.stateNode.containerInfo;Bl=!0;Nl(e,t,r);Fl=n;Bl=i;break;case 0:case 11:case 14:case 15:if(!Sl&&(n=r.updateQueue,null!==n&&(n=n.lastEffect,null!==n))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag;void 0!==a&&(0!==(2&o)||0!==(4&o))&&xl(r,t,a);i=i.next}while(i!==n)}Nl(e,t,r);break;case 1:if(!Sl&&(El(r,t),n=r.stateNode,"function"===typeof n.componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){Xu(r,t,e)}Nl(e,t,r);break;case 21:Nl(e,t,r);break;case 22:1&r.mode?(Sl=(n=Sl)||null!==r.memoizedState,Nl(e,t,r),Sl=n):Nl(e,t,r);break;default:Nl(e,t,r)}}function ql(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new kl);t.forEach(function(t){var n=rc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function Wl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:Fl=l.stateNode;Bl=!1;break e;case 3:Fl=l.stateNode.containerInfo;Bl=!0;break e;case 4:Fl=l.stateNode.containerInfo;Bl=!0;break e}l=l.return}if(null===Fl)throw Error(o(160));Vl(a,s,i);Fl=null;Bl=!1;var u=i.alternate;null!==u&&(u.return=null);i.return=null}catch(e){Xu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ul(t,e),t=t.sibling}function Ul(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wl(t,e);zl(e);if(4&n){try{jl(3,e,e.return),Al(3,e)}catch(t){Xu(e,e.return,t)}try{jl(5,e,e.return)}catch(t){Xu(e,e.return,t)}}break;case 1:Wl(t,e);zl(e);512&n&&null!==r&&El(r,r.return);break;case 5:Wl(t,e);zl(e);512&n&&null!==r&&El(r,r.return);if(32&e.flags){var i=e.stateNode;try{ge(i,"")}catch(t){Xu(e,e.return,t)}}if(4&n&&(i=e.stateNode,null!=i)){var a=e.memoizedProps,s=null!==r?r.memoizedProps:a,l=e.type,u=e.updateQueue;e.updateQueue=null;if(null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&te(i,a);Se(l,s);var c=Se(l,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?be(i,f):"dangerouslySetInnerHTML"===d?he(i,f):"children"===d?ge(i,f):S(i,d,f,c)}switch(l){case"input":re(i,a);break;case"textarea":ue(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ae(i,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ae(i,!!a.multiple,a.defaultValue,!0):ae(i,!!a.multiple,a.multiple?[]:"",!1))}i[Mi]=a}catch(t){Xu(e,e.return,t)}}break;case 6:Wl(t,e);zl(e);if(4&n){if(null===e.stateNode)throw Error(o(162));i=e.stateNode;a=e.memoizedProps;try{i.nodeValue=a}catch(t){Xu(e,e.return,t)}}break;case 3:Wl(t,e);zl(e);if(4&n&&null!==r&&r.memoizedState.isDehydrated)try{Xt(t.containerInfo)}catch(t){Xu(e,e.return,t)}break;case 4:Wl(t,e);zl(e);break;case 13:Wl(t,e);zl(e);i=e.child;8192&i.flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(pu=rt()));4&n&&ql(e);break;case 22:d=null!==r&&null!==r.memoizedState;1&e.mode?(Sl=(c=Sl)||d,Wl(t,e),Sl=c):Wl(t,e);zl(e);if(8192&n){c=null!==e.memoizedState;if((e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Pl=e,d=e.child;null!==d;){for(f=Pl=d;null!==Pl;){p=Pl;h=p.child;switch(p.tag){case 0:case 11:case 14:case 15:jl(4,p,p.return);break;case 1:El(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){n=p;r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Xu(n,r,e)}}break;case 5:El(p,p.return);break;case 22:if(null!==p.memoizedState){Kl(f);continue}}null!==h?(h.return=p,Pl=h):Kl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?(a=i.style,"function"===typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,u=f.memoizedProps.style,s=void 0!==u&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ye("display",s))}catch(t){Xu(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){Xu(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f;f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null);f=f.return}d===f&&(d=null);f.sibling.return=f.return;f=f.sibling}}break;case 19:Wl(t,e);zl(e);4&n&&ql(e);break;case 21:break;default:Wl(t,e),zl(e)}}function zl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(Ll(r)){var n=r;break e}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(ge(i,""),n.flags&=-33);var a=Il(e);Rl(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Il(e);Ml(e,l,s);break;default:throw Error(o(161))}}catch(t){Xu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e,t,r){Pl=e;Hl(e,t,r)}function Hl(e,t,r){for(var n=0!==(1&e.mode);null!==Pl;){var i=Pl,o=i.child;if(22===i.tag&&n){var a=null!==i.memoizedState||_l;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Sl;s=_l;var u=Sl;_l=a;if((Sl=l)&&!u)for(Pl=i;null!==Pl;)a=Pl,l=a.child,22===a.tag&&null!==a.memoizedState?Zl(i):null!==l?(l.return=a,Pl=l):Zl(i);for(;null!==o;)Pl=o,Hl(o,t,r),o=o.sibling;Pl=i;_l=s;Sl=u}$l(e,t,r)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Pl=o):$l(e,t,r)}}function $l(e){for(;null!==Pl;){var t=Pl;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Sl||Al(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Sl)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Vo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&la(t,a,n);break;case 3:var s=t.updateQueue;if(null!==s){r=null;if(null!==t.child)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}la(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Xt(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Sl||512&t.flags&&Tl(t)}catch(e){Xu(t,t.return,e)}}if(t===e){Pl=null;break}r=t.sibling;if(null!==r){r.return=t.return;Pl=r;break}Pl=t.return}}function Kl(e){for(;null!==Pl;){var t=Pl;if(t===e){Pl=null;break}var r=t.sibling;if(null!==r){r.return=t.return;Pl=r;break}Pl=t.return}}function Zl(e){for(;null!==Pl;){var t=Pl;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Al(4,t)}catch(e){Xu(t,r,e)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(e){Xu(t,i,e)}}var o=t.return;try{Tl(t)}catch(e){Xu(t,o,e)}break;case 5:var a=t.return;try{Tl(t)}catch(e){Xu(t,a,e)}}}catch(e){Xu(t,t.return,e)}if(t===e){Pl=null;break}var s=t.sibling;if(null!==s){s.return=t.return;Pl=s;break}Pl=t.return}}var Ql=Math.ceil,Yl=k.ReactCurrentDispatcher,Xl=k.ReactCurrentOwner,Jl=k.ReactCurrentBatchConfig,eu=0,tu=null,ru=null,nu=0,iu=0,ou=Hi(0),au=0,su=null,lu=0,uu=0,cu=0,du=null,fu=null,pu=0,hu=Infinity,gu=null,vu=!1,mu=null,yu=null,bu=!1,wu=null,_u=0,Su=0,ku=null,Pu=-1,Eu=0;function xu(){return 0!==(6&eu)?rt():-1!==Pu?Pu:Pu=rt()}function Cu(e){if(0===(1&e.mode))return 1;if(0!==(2&eu)&&0!==nu)return nu&-nu;if(null!==No.transition)return 0===Eu&&(Eu=kt()),Eu;e=Ot;if(0!==e)return e;e=window.event;e=void 0===e?16:ar(e.type);return e}function Ou(e,t,r,n){if(50<Su)throw Su=0,ku=null,Error(o(185));Et(e,r,n);0!==(2&eu)&&e===tu||(e===tu&&(0===(2&eu)&&(uu|=r),4===au&&Iu(e,nu)),ju(e,n),1===r&&0===eu&&0===(1&t.mode)&&(hu=rt()+500,so&&fo()))}function ju(e,t){var r=e.callbackNode;_t(e,t);var n=bt(e,e===tu?nu:0);if(0===n)null!==r&&Je(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){null!=r&&Je(r);if(1===t)0===e.tag?co(Mu.bind(null,e)):uo(Mu.bind(null,e)),Oi(function(){0===(6&eu)&&fo()}),r=null;else{switch(jt(n)){case 1:r=it;break;case 4:r=ot;break;case 16:r=at;break;case 536870912:r=lt;break;default:r=at}r=ic(r,Au.bind(null,e))}e.callbackPriority=t;e.callbackNode=r}}function Au(e,t){Pu=-1;Eu=0;if(0!==(6&eu))throw Error(o(327));var r=e.callbackNode;if(Qu()&&e.callbackNode!==r)return null;var n=bt(e,e===tu?nu:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=Uu(e,n);else{t=n;var i=eu;eu|=2;var a=qu();tu===e&&nu===t||(gu=null,hu=rt()+500,Nu(e,t));do{try{Gu();break}catch(t){Vu(e,t)}}while(1);Go();Yl.current=a;eu=i;null!==ru?t=0:(tu=null,nu=0,t=au)}if(0!==t){2===t&&(i=St(e),0!==i&&(n=i,t=Tu(e,i)));if(1===t)throw r=su,Nu(e,0),Iu(e,n),ju(e,rt()),r;if(6===t)Iu(e,n);else{i=e.current.alternate;if(0===(30&n)&&!Lu(i)&&(t=Uu(e,n),2===t&&(a=St(e),0!==a&&(n=a,t=Tu(e,a))),1===t))throw r=su,Nu(e,0),Iu(e,n),ju(e,rt()),r;e.finishedWork=i;e.finishedLanes=n;switch(t){case 0:case 1:throw Error(o(345));case 2:Ku(e,fu,gu);break;case 3:Iu(e,n);if((130023424&n)===n&&(t=pu+500-rt(),10<t)){if(0!==bt(e,0))break;i=e.suspendedLanes;if((i&n)!==n){xu();e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ei(Ku.bind(null,e,fu,gu),t);break}Ku(e,fu,gu);break;case 4:Iu(e,n);if((4194240&n)===n)break;t=e.eventTimes;for(i=-1;0<n;){var s=31-ft(n);a=1<<s;s=t[s];s>i&&(i=s);n&=~a}n=i;n=rt()-n;n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ql(n/1960))-n;if(10<n){e.timeoutHandle=Ei(Ku.bind(null,e,fu,gu),n);break}Ku(e,fu,gu);break;case 5:Ku(e,fu,gu);break;default:throw Error(o(329))}}}ju(e,rt());return e.callbackNode===r?Au.bind(null,e):null}function Tu(e,t){var r=du;e.current.memoizedState.isDehydrated&&(Nu(e,t).flags|=256);e=Uu(e,t);2!==e&&(t=fu,fu=r,null!==t&&Du(t));return e}function Du(e){null===fu?fu=e:fu.push.apply(fu,e)}function Lu(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&(r=r.stores,null!==r))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Cn(o(),i))return!1}catch(e){return!1}}}r=t.child;if(16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return;t=t.sibling}}return!0}function Iu(e,t){t&=~cu;t&=~uu;e.suspendedLanes|=t;e.pingedLanes&=~t;for(e=e.expirationTimes;0<t;){var r=31-ft(t),n=1<<r;e[r]=-1;t&=~n}}function Mu(e){if(0!==(6&eu))throw Error(o(327));Qu();var t=bt(e,0);if(0===(1&t))return ju(e,rt()),null;var r=Uu(e,t);if(0!==e.tag&&2===r){var n=St(e);0!==n&&(t=n,r=Tu(e,n))}if(1===r)throw r=su,Nu(e,0),Iu(e,t),ju(e,rt()),r;if(6===r)throw Error(o(345));e.finishedWork=e.current.alternate;e.finishedLanes=t;Ku(e,fu,gu);ju(e,rt());return null}function Ru(e,t){var r=eu;eu|=1;try{return e(t)}finally{eu=r,0===eu&&(hu=rt()+500,so&&fo())}}function Fu(e){null!==wu&&0===wu.tag&&0===(6&eu)&&Qu();var t=eu;eu|=1;var r=Jl.transition,n=Ot;try{if(Jl.transition=null,Ot=1,e)return e()}finally{Ot=n,Jl.transition=r,eu=t,0===(6&eu)&&fo()}}function Bu(){iu=ou.current;$i(ou)}function Nu(e,t){e.finishedWork=null;e.finishedLanes=0;var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,xi(r));if(null!==ru)for(r=ru.return;null!==r;){var n=r;Eo(n);switch(n.tag){case 1:n=n.type.childContextTypes;null!==n&&void 0!==n&&to();break;case 3:Oa();$i(Yi);$i(Qi);Ia();break;case 5:Aa(n);break;case 4:Oa();break;case 13:$i(Ta);break;case 19:$i(Ta);break;case 10:Ho(n.type._context);break;case 22:case 23:Bu()}r=r.return}tu=e;ru=e=uc(e.current,null);nu=iu=t;au=0;su=null;cu=uu=lu=0;fu=du=null;if(null!==Qo){for(t=0;t<Qo.length;t++)if(r=Qo[t],n=r.interleaved,null!==n){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var a=o.next;o.next=i;n.next=a}r.pending=n}Qo=null}return e}function Vu(e,t){do{var r=ru;try{Go();Ma.current=js;if(qa){for(var n=Ba.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null);n=n.next}qa=!1}Fa=0;Va=Na=Ba=null;Wa=!1;Ua=0;Xl.current=null;if(null===r||null===r.return){au=1;su=t;ru=null;break}e:{var a=e,s=r.return,l=r,u=t;t=nu;l.flags|=32768;if(null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Vs(s);if(null!==h){h.flags&=-257;qs(h,s,l,a,t);1&h.mode&&Ns(a,c,t);t=h;u=c;var g=t.updateQueue;if(null===g){var v=new Set;v.add(u);t.updateQueue=v}else g.add(u);break e}if(0===(1&t)){Ns(a,c,t);Wu();break e}u=Error(o(426))}else if(Oo&&1&l.mode){var m=Vs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256);qs(m,s,l,a,t);Bo(Ls(u,l));break e}}a=u=Ls(u,l);4!==au&&(au=2);null===du?du=[a]:du.push(a);a=s;do{switch(a.tag){case 3:a.flags|=65536;t&=-t;a.lanes|=t;var y=Fs(a,u,t);aa(a,y);break e;case 1:l=u;var b=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===yu||!yu.has(w)))){a.flags|=65536;t&=-t;a.lanes|=t;var _=Bs(a,l,t);aa(a,_);break e}}a=a.return}while(null!==a)}$u(r)}catch(e){t=e;ru===r&&null!==r&&(ru=r=r.return);continue}break}while(1)}function qu(){var e=Yl.current;Yl.current=js;return null===e?js:e}function Wu(){0!==au&&3!==au&&2!==au||(au=4);null===tu||0===(268435455&lu)&&0===(268435455&uu)||Iu(tu,nu)}function Uu(e,t){var r=eu;eu|=2;var n=qu();tu===e&&nu===t||(gu=null,Nu(e,t));do{try{zu();break}catch(t){Vu(e,t)}}while(1);Go();eu=r;Yl.current=n;if(null!==ru)throw Error(o(261));tu=null;nu=0;return au}function zu(){for(;null!==ru;)Hu(ru)}function Gu(){for(;null!==ru&&!et();)Hu(ru)}function Hu(e){var t=nc(e.alternate,e,iu);e.memoizedProps=e.pendingProps;null===t?$u(e):ru=t;Xl.current=null}function $u(e){var t=e;do{var r=t.alternate;e=t.return;if(0===(32768&t.flags)){if(r=bl(r,t,iu),null!==r){ru=r;return}}else{r=wl(r,t);if(null!==r){r.flags&=32767;ru=r;return}if(null===e){au=6;ru=null;return}e.flags|=32768,e.subtreeFlags=0,e.deletions=null}t=t.sibling;if(null!==t){ru=t;return}ru=t=e}while(null!==t);0===au&&(au=5)}function Ku(e,t,r){var n=Ot,i=Jl.transition;try{Jl.transition=null,Ot=1,Zu(e,t,r,n)}finally{Jl.transition=i,Ot=n}return null}function Zu(e,t,r,n){do{Qu()}while(null!==wu);if(0!==(6&eu))throw Error(o(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;e.finishedWork=null;e.finishedLanes=0;if(r===e.current)throw Error(o(177));e.callbackNode=null;e.callbackPriority=0;var a=r.lanes|r.childLanes;xt(e,a);e===tu&&(ru=tu=null,nu=0);0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||bu||(bu=!0,ic(at,function(){Qu();return null}));a=0!==(15990&r.flags);if(0!==(15990&r.subtreeFlags)||a){a=Jl.transition;Jl.transition=null;var s=Ot;Ot=1;var l=eu;eu|=4;Xl.current=null;Ol(e,r);Ul(r,e);In(ki);er=!!Si;ki=Si=null;e.current=r;Gl(r,e,i);tt();eu=l;Ot=s;Jl.transition=a}else e.current=r;bu&&(bu=!1,wu=e,_u=i);a=e.pendingLanes;0===a&&(yu=null);dt(r.stateNode,n);ju(e,rt());if(null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vu)throw vu=!1,e=mu,mu=null,e;0!==(1&_u)&&0!==e.tag&&Qu();a=e.pendingLanes;0!==(1&a)?e===ku?Su++:(Su=0,ku=e):Su=0;fo();return null}function Qu(){if(null!==wu){var e=jt(_u),t=Jl.transition,r=Ot;try{Jl.transition=null;Ot=16>e?16:e;if(null===wu)var n=!1;else{e=wu;wu=null;_u=0;if(0!==(6&eu))throw Error(o(331));var i=eu;eu|=4;for(Pl=e.current;null!==Pl;){var a=Pl,s=a.child;if(0!==(16&Pl.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Pl=c;null!==Pl;){var d=Pl;switch(d.tag){case 0:case 11:case 15:jl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Pl=f;else for(;null!==Pl;){d=Pl;var p=d.sibling,h=d.return;Dl(d);if(d===c){Pl=null;break}if(null!==p){p.return=h;Pl=p;break}Pl=h}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null;v=m}while(null!==v)}}Pl=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Pl=s;else e:for(;null!==Pl;){a=Pl;if(0!==(2048&a.flags))switch(a.tag){case 0:case 11:case 15:jl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return;Pl=y;break e}Pl=a.return}}var b=e.current;for(Pl=b;null!==Pl;){s=Pl;var w=s.child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Pl=w;else e:for(s=b;null!==Pl;){l=Pl;if(0!==(2048&l.flags))try{switch(l.tag){case 0:case 11:case 15:Al(9,l)}}catch(e){Xu(l,l.return,e)}if(l===s){Pl=null;break e}var _=l.sibling;if(null!==_){_.return=l.return;Pl=_;break e}Pl=l.return}}eu=i;fo();if(ct&&"function"===typeof ct.onPostCommitFiberRoot)try{ct.onPostCommitFiberRoot(ut,e)}catch(e){}n=!0}return n}finally{Ot=r,Jl.transition=t}}return!1}function Yu(e,t,r){t=Ls(r,t);t=Fs(e,t,1);e=ia(e,t,1);t=xu();null!==e&&(Et(e,1,t),ju(e,t))}function Xu(e,t,r){if(3===e.tag)Yu(e,e,r);else for(;null!==t;){if(3===t.tag){Yu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===yu||!yu.has(n))){e=Ls(r,e);e=Bs(t,e,1);t=ia(t,e,1);e=xu();null!==t&&(Et(t,1,e),ju(t,e));break}}t=t.return}}function Ju(e,t,r){var n=e.pingCache;null!==n&&n.delete(t);t=xu();e.pingedLanes|=e.suspendedLanes&r;tu===e&&(nu&r)===r&&(4===au||3===au&&(130023424&nu)===nu&&500>rt()-pu?Nu(e,0):cu|=r);ju(e,t)}function ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=mt,mt<<=1,0===(130023424&mt)&&(mt=4194304)));var r=xu();e=Jo(e,t);null!==e&&(Et(e,t,r),ju(e,r))}function tc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane);ec(e,r)}function rc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode;var i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t);ec(e,r)}var nc;nc=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Yi.current)Us=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Us=!1,fl(e,t,r);Us=0!==(131072&e.flags)}else Us=!1,Oo&&0!==(1048576&t.flags)&&ko(t,vo,t.index);t.lanes=0;switch(t.tag){case 2:var n=t.type;cl(e,t);e=t.pendingProps;var i=Ji(t,Qi.current);Ko(t,r);i=$a(null,t,n,e,i,r);var a=Ka();t.flags|=1;"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,eo(n)?(a=!0,io(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ta(t),i.updater=da,t.stateNode=i,i._reactInternals=t,ga(t,n,e,r),t=Xs(null,t,n,!0,a,r)):(t.tag=0,Oo&&a&&Po(t),zs(null,t,i,r),t=t.child);return t;case 16:n=t.elementType;e:{cl(e,t);e=t.pendingProps;i=n._init;n=i(n._payload);t.type=n;i=t.tag=lc(n);e=Vo(n,e);switch(i){case 0:t=Qs(null,t,n,e,r);break e;case 1:t=Ys(null,t,n,e,r);break e;case 11:t=Gs(null,t,n,e,r);break e;case 14:t=Hs(null,t,n,Vo(n.type,e),r);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vo(n,i),Qs(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vo(n,i),Ys(e,t,n,i,r);case 3:e:{Js(t);if(null===e)throw Error(o(387));n=t.pendingProps;a=t.memoizedState;i=a.element;ra(e,t);sa(t,n,null,r);var s=t.memoizedState;n=s.element;if(a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){i=Ls(Error(o(423)),t);t=el(e,t,n,r,i);break e}if(n!==i){i=Ls(Error(o(424)),t);t=el(e,t,n,r,i);break e}for(Co=Ti(t.stateNode.containerInfo.firstChild),xo=t,Oo=!0,jo=null,r=_a(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{Fo();if(n===i){t=dl(e,t,r);break e}zs(e,t,n,r)}t=t.child}return t;case 5:return ja(t),null===e&&Lo(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Pi(n,i)?s=null:null!==a&&Pi(n,a)&&(t.flags|=32),Zs(e,t),zs(e,t,s,r),t.child;case 6:return null===e&&Lo(t),null;case 13:return nl(e,t,r);case 4:return Ca(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=wa(t,null,n,r):zs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vo(n,i),Gs(e,t,n,i,r);case 7:return zs(e,t,t.pendingProps,r),t.child;case 8:return zs(e,t,t.pendingProps.children,r),t.child;case 12:return zs(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context;i=t.pendingProps;a=t.memoizedProps;s=i.value;Ki(qo,n._currentValue);n._currentValue=s;if(null!==a)if(Cn(a.value,s)){if(a.children===i.children&&!Yi.current){t=dl(e,t,r);break e}}else for(a=t.child,null!==a&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===a.tag){u=na(-1,r&-r);u.tag=2;var c=a.updateQueue;if(null!==c){c=c.shared;var d=c.pending;null===d?u.next=u:(u.next=d.next,d.next=u);c.pending=u}}a.lanes|=r;u=a.alternate;null!==u&&(u.lanes|=r);$o(a.return,r,t);l.lanes|=r;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){s=a.return;if(null===s)throw Error(o(341));s.lanes|=r;l=s.alternate;null!==l&&(l.lanes|=r);$o(s,r,t);s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}a=s.sibling;if(null!==a){a.return=s.return;s=a;break}s=s.return}a=s}zs(e,t,i.children,r);t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ko(t,r),i=Zo(i),n=n(i),t.flags|=1,zs(e,t,n,r),t.child;case 14:return n=t.type,i=Vo(n,t.pendingProps),i=Vo(n.type,i),Hs(e,t,n,i,r);case 15:return $s(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vo(n,i),cl(e,t),t.tag=1,eo(n)?(e=!0,io(t)):e=!1,Ko(t,r),pa(t,n,i),ga(t,n,i,r),Xs(null,t,n,!0,e,r);case 19:return ul(e,t,r);case 22:return Ks(e,t,r)}throw Error(o(156,t.tag))};function ic(e,t){return Xe(e,t)}function oc(e,t,r,n){this.tag=e;this.key=r;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=t;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=n;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function ac(e,t,r,n){return new oc(e,t,r,n)}function sc(e){e=e.prototype;return!(!e||!e.isReactComponent)}function lc(e){if("function"===typeof e)return sc(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===T)return 11;if(e===I)return 14}return 2}function uc(e,t){var r=e.alternate;null===r?(r=ac(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null);r.flags=14680064&e.flags;r.childLanes=e.childLanes;r.lanes=e.lanes;r.child=e.child;r.memoizedProps=e.memoizedProps;r.memoizedState=e.memoizedState;r.updateQueue=e.updateQueue;t=e.dependencies;r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext};r.sibling=e.sibling;r.index=e.index;r.ref=e.ref;return r}function cc(e,t,r,n,i,a){var s=2;n=e;if("function"===typeof e)sc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return dc(r.children,i,a,t);case C:s=8;i|=8;break;case O:return e=ac(12,r,t,2|i),e.elementType=O,e.lanes=a,e;case D:return e=ac(13,r,t,i),e.elementType=D,e.lanes=a,e;case L:return e=ac(19,r,t,i),e.elementType=L,e.lanes=a,e;case R:return fc(r,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case A:s=9;break e;case T:s=11;break e;case I:s=14;break e;case M:s=16;n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}t=ac(s,r,t,i);t.elementType=e;t.type=n;t.lanes=a;return t}function dc(e,t,r,n){e=ac(7,e,n,t);e.lanes=r;return e}function fc(e,t,r,n){e=ac(22,e,n,t);e.elementType=R;e.lanes=r;e.stateNode={isHidden:!1};return e}function pc(e,t,r){e=ac(6,e,null,t);e.lanes=r;return e}function hc(e,t,r){t=ac(4,null!==e.children?e.children:[],e.key,t);t.lanes=r;t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return t}function gc(e,t,r,n,i){this.tag=t;this.containerInfo=e;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=Pt(0);this.expirationTimes=Pt(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Pt(0);this.identifierPrefix=n;this.onRecoverableError=i;this.mutableSourceEagerHydrationData=null}function vc(e,t,r,n,i,o,a,s,l){e=new gc(e,t,r,s,l);1===t?(t=1,!0===o&&(t|=8)):t=0;o=ac(3,null,null,t);e.current=o;o.stateNode=e;o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null};ta(o);return e}function mc(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function yc(e){if(!e)return Zi;e=e._reactInternals;e:{if(He(e)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(eo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var r=e.type;if(eo(r))return no(e,r,t)}return t}function bc(e,t,r,n,i,o,a,s,l){e=vc(r,n,!0,e,i,o,a,s,l);e.context=yc(null);r=e.current;n=xu();i=Cu(r);o=na(n,i);o.callback=void 0!==t&&null!==t?t:null;ia(r,o,i);e.current.lanes=i;Et(e,i,n);ju(e,n);return e}function wc(e,t,r,n){var i=t.current,o=xu(),a=Cu(i);r=yc(r);null===t.context?t.context=r:t.pendingContext=r;t=na(o,a);t.payload={element:e};n=void 0===n?null:n;null!==n&&(t.callback=n);e=ia(i,t,a);null!==e&&(Ou(e,i,a,o),oa(e,i,a));return a}function _c(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){e=e.memoizedState;if(null!==e&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function kc(e,t){Sc(e,t);(e=e.alternate)&&Sc(e,t)}function Pc(){return null}var Ec="function"===typeof reportError?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}Cc.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));wc(e,t,null,null)};Cc.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Fu(function(){wc(null,e,null,null)});t[Ri]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wt.length&&0!==t&&t<Wt[r].priority;r++);Wt.splice(r,0,e);0===r&&$t(e)}};function Oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ac(){}function Tc(e,t,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var e=_c(a);o.call(e)}}var a=bc(t,n,e,0,null,!1,!1,"",Ac);e._reactRootContainer=a;e[Ri]=a.current;ci(8===e.nodeType?e.parentNode:e);Fu();return a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var s=n;n=function(){var e=_c(l);s.call(e)}}var l=vc(e,0,!1,null,null,!1,!1,"",Ac);e._reactRootContainer=l;e[Ri]=l.current;ci(8===e.nodeType?e.parentNode:e);Fu(function(){wc(t,l,r,n)});return l}function Dc(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=_c(a);s.call(e)}}wc(t,a,e,i)}else a=Tc(r,t,e,i,n);return _c(a)}At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yt(t.pendingLanes);0!==r&&(Ct(t,1|r),ju(t,rt()),0===(6&eu)&&(hu=rt()+500,fo()))}break;case 13:Fu(function(){var t=Jo(e,1);if(null!==t){var r=xu();Ou(t,e,1,r)}}),kc(e,1)}};Tt=function(e){if(13===e.tag){var t=Jo(e,134217728);if(null!==t){var r=xu();Ou(t,e,134217728,r)}kc(e,134217728)}};Dt=function(e){if(13===e.tag){var t=Cu(e),r=Jo(e,t);if(null!==r){var n=xu();Ou(r,e,t,n)}kc(e,t)}};Lt=function(){return Ot};It=function(e,t){var r=Ot;try{return Ot=e,t()}finally{Ot=r}};Ee=function(e,t,r){switch(t){case"input":re(e,r);t=r.name;if("radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]');for(t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ui(n);if(!i)throw Error(o(90));Y(n);re(n,i)}}}break;case"textarea":ue(e,r);break;case"select":t=r.value,null!=t&&ae(e,!!r.multiple,t,!1)}};Te=Ru;De=Fu;var Lc={usingClientEntryPoint:!1,Events:[qi,Wi,Ui,je,Ae,Ru]},Ic={findFiberByHostInstance:Vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"};var Mc={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){e=Qe(e);return null===e?null:e.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||Pc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{ut=Rc.inject(Mc),ct=Rc}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lc;t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Oc(t))throw Error(o(200));return mc(e,t,null,r)};t.createRoot=function(e,t){if(!Oc(e))throw Error(o(299));var r=!1,n="",i=Ec;null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError));t=vc(e,1,!1,null,null,r,!1,n,i);e[Ri]=t.current;ci(8===e.nodeType?e.parentNode:e);return new xc(t)};t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));e=Object.keys(e).join(",");throw Error(o(268,e))}e=Qe(t);e=null===e?null:e.stateNode;return e};t.flushSync=function(e){return Fu(e)};t.hydrate=function(e,t,r){if(!jc(t))throw Error(o(200));return Dc(null,e,t,!0,r)};t.hydrateRoot=function(e,t,r){if(!Oc(e))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,a="",s=Ec;null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError));t=bc(t,null,e,1,null!=r?r:null,i,!1,a,s);e[Ri]=t.current;ci(e);if(n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Cc(t)};t.render=function(e,t,r){if(!jc(t))throw Error(o(200));return Dc(null,e,t,!1,r)};t.unmountComponentAtNode=function(e){if(!jc(e))throw Error(o(40));return!!e._reactRootContainer&&(Fu(function(){Dc(null,null,e,!1,function(){e._reactRootContainer=null;e[Ri]=null})}),!0)};t.unstable_batchedUpdates=Ru;t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jc(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Dc(e,t,r,!1,n)};t.version="18.2.0-next-9e3b772b8-20220608"},6965(e,t,r){"use strict";var n=r(41900);true;t.createRoot=n.createRoot;t.hydrateRoot=n.hydrateRoot;var i},41900(e,t,r){"use strict";function n(){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__||"function"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)return;false;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}true;n();e.exports=r(88260)},23436(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type,e){case c:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof,e){case u:case f:case v:case g:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=c;t.ConcurrentMode=d;t.ContextConsumer=u;t.ContextProvider=l;t.Element=n;t.ForwardRef=f;t.Fragment=o;t.Lazy=v;t.Memo=g;t.Portal=i;t.Profiler=s;t.StrictMode=a;t.Suspense=p;t.isAsyncMode=function(e){return S(e)||_(e)===c};t.isConcurrentMode=S;t.isContextConsumer=function(e){return _(e)===u};t.isContextProvider=function(e){return _(e)===l};t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n};t.isForwardRef=function(e){return _(e)===f};t.isFragment=function(e){return _(e)===o};t.isLazy=function(e){return _(e)===v};t.isMemo=function(e){return _(e)===g};t.isPortal=function(e){return _(e)===i};t.isProfiler=function(e){return _(e)===s};t.isStrictMode=function(e){return _(e)===a};t.isSuspense=function(e){return _(e)===p};t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)};t.typeOf=_},76272(e,t,r){"use strict";true;e.exports=r(23436)},46900(e,t,r){"use strict";r.r(t);r.d(t,{Provider:()=>ce,ReactReduxContext:()=>h,batch:()=>o.unstable_batchedUpdates,connect:()=>le,createDispatchHook:()=>pe,createSelectorHook:()=>S,createStoreHook:()=>de,shallowEqual:()=>K,useDispatch:()=>he,useSelector:()=>k,useStore:()=>fe});var n=r(20343);var i=r(52325);var o=r(41900);function a(e){e()}let s=a;const l=e=>s=e;const u=()=>s;var c=r(70013);const d=Symbol.for("react-redux-context");const f="undefined"!==typeof globalThis?globalThis:{};function p(){var e;if(!c.createContext)return{};const t=null!=(e=f[d])?e:f[d]=new Map;let r=t.get(c.createContext);if(!r){r=c.createContext(null);false;t.set(c.createContext,r)}return r}const h=p();const g=null;function v(e=h){return function t(){const r=(0,c.useContext)(e);false;return r}}const m=v();const y=()=>{throw new Error("uSES not initialized!")};let b=y;const w=e=>{b=e};const _=(e,t)=>e===t;function S(e=h){const t=e===h?m:v(e);return function e(r,n={}){const{equalityFn:i=_,stabilityCheck:o,noopCheck:a}="function"===typeof n?{equalityFn:n}:n;false;const{store:s,subscription:l,getServerState:u,stabilityCheck:d,noopCheck:f}=t();const p=(0,c.useRef)(true);const h=(0,c.useCallback)({[r.name](e){const t=r(e);false;return t}}[r.name],[r,d,o]);const g=b(l.addNestedSub,s.getState,u||s.getState,h,i);(0,c.useDebugValue)(g);return g}}const k=S();function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(null,arguments)}function E(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}var x=r(71605);var C=r.n(x);var O=r(39368);const j=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function A(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let s=false;let l;let u;let c;let d;let f;function p(i,o){l=i;u=o;c=e(l,u);d=t(n,u);f=r(c,d,u);s=true;return f}function h(){c=e(l,u);t.dependsOnOwnProps&&(d=t(n,u));f=r(c,d,u);return f}function g(){e.dependsOnOwnProps&&(c=e(l,u));t.dependsOnOwnProps&&(d=t(n,u));f=r(c,d,u);return f}function v(){const t=e(l,u);const n=!a(t,c);c=t;n&&(f=r(c,d,u));return f}function m(e,t){const r=!o(t,u);const n=!i(e,l,t,u);l=e;u=t;if(r&&n)return h();if(r)return g();if(n)return v();return f}return function e(t,r){return s?m(t,r):p(t,r)}}function T(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=t,o=E(t,j);const a=r(e,o);const s=n(e,o);const l=i(e,o);false;return A(a,s,l,e,o)}function D(e,t){const r={};for(const n in e){const i=e[n];"function"===typeof i&&(r[n]=(...e)=>t(i(...e)))}return r}function L(e){return function t(r){const n=e(r);function i(){return n}i.dependsOnOwnProps=false;return i}}function I(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function t(r,{displayName:n}){const i=function e(t,r){return i.dependsOnOwnProps?i.mapToProps(t,r):i.mapToProps(t,void 0)};i.dependsOnOwnProps=true;i.mapToProps=function t(r,n){i.mapToProps=e;i.dependsOnOwnProps=I(e);let o=i(r,n);if("function"===typeof o){i.mapToProps=o;i.dependsOnOwnProps=I(o);o=i(r,n)}false;return o};return i}}function R(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function F(e){return e&&"object"===typeof e?L(t=>D(e,t)):e?"function"===typeof e?M(e,"mapDispatchToProps"):R(e,"mapDispatchToProps"):L(e=>({dispatch:e}))}function B(e){return e?"function"===typeof e?M(e,"mapStateToProps"):R(e,"mapStateToProps"):L(()=>({}))}function N(e,t,r){return P({},r,e,t)}function V(e){return function t(r,{displayName:n,areMergedPropsEqual:i}){let o=false;let a;return function t(r,n,s){const l=e(r,n,s);if(o)i(l,a)||(a=l);else{o=true;a=l;false}return a}}}function q(e){return e?"function"===typeof e?V(e):R(e,"mergeProps"):()=>N}function W(){const e=u();let t=null;let r=null;return{clear(){t=null;r=null},notify(){e(()=>{let e=t;while(e){e.callback();e=e.next}})},get(){let e=[];let r=t;while(r){e.push(r);r=r.next}return e},subscribe(e){let n=true;let i=r={callback:e,next:null,prev:r};i.prev?i.prev.next=i:t=i;return function e(){if(!n||null===t)return;n=false;i.next?i.next.prev=i.prev:r=i.prev;i.prev?i.prev.next=i.next:t=i.next}}}}const U={notify(){},get:()=>[]};function z(e,t){let r;let n=U;let i=0;let o=false;function a(e){c();const t=n.subscribe(e);let r=false;return()=>{if(!r){r=true;t();d()}}}function s(){n.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return o}function c(){i++;if(!r){r=t?t.addNestedSub(l):e.subscribe(l);n=W()}}function d(){i--;if(r&&0===i){r();r=void 0;n.clear();n=U}}function f(){if(!o){o=true;c()}}function p(){if(o){o=false;d()}}const h={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return h}const G=!!("undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement);const H=G?c.useLayoutEffect:c.useEffect;function $(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function K(e,t){if($(e,t))return true;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return false;const r=Object.keys(e);const n=Object.keys(t);if(r.length!==n.length)return false;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!$(e[r[n]],t[r[n]]))return false;return true}const Z=["reactReduxForwardedRef"];let Q=y;const Y=e=>{Q=e};const X=null;const J=[null,null];const ee=e=>{try{return JSON.stringify(e)}catch(t){return String(e)}};function te(e,t,r){H(()=>e(...t),r)}function re(e,t,r,n,i,o){e.current=n;r.current=false;if(i.current){i.current=null;o()}}function ne(e,t,r,n,i,o,a,s,l,u,c){if(!e)return()=>{};let d=false;let f=null;const p=()=>{if(d||!s.current)return;const e=t.getState();let r,p;try{r=n(e,i.current)}catch(e){p=e;f=e}p||(f=null);if(r===o.current)a.current||u();else{o.current=r;l.current=r;a.current=true;c()}};r.onStateChange=p;r.trySubscribe();p();const h=()=>{d=true;r.tryUnsubscribe();r.onStateChange=null;if(f)throw f};return h}const ie=()=>X;function oe(e,t){return e===t}let ae=false;function se(e,t,r,{pure:n,areStatesEqual:i=oe,areOwnPropsEqual:o=K,areStatePropsEqual:a=K,areMergedPropsEqual:s=K,forwardRef:l=false,context:u=h}={}){false;const d=u;const f=B(e);const p=F(t);const g=q(r);const v=Boolean(e);const m=e=>{false;const t=e.displayName||e.name||"Component";const r=`Connect(${t})`;const n={shouldHandleStateChanges:v,displayName:r,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:s};function u(t){const[r,i,o]=c.useMemo(()=>{const{reactReduxForwardedRef:e}=t,r=E(t,Z);return[t.context,e,r]},[t]);const a=c.useMemo(()=>r&&r.Consumer&&(0,O.isContextConsumer)(c.createElement(r.Consumer,null))?r:d,[r,d]);const s=c.useContext(a);const l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch);const u=Boolean(s)&&Boolean(s.store);false;const f=l?t.store:s.store;const p=u?s.getServerState:f.getState;const h=c.useMemo(()=>T(f.dispatch,n),[f]);const[g,m]=c.useMemo(()=>{if(!v)return J;const e=z(f,l?void 0:s.subscription);const t=e.notifyNestedSubs.bind(e);return[e,t]},[f,l,s]);const y=c.useMemo(()=>{if(l)return s;return P({},s,{subscription:g})},[l,s,g]);const b=c.useRef();const w=c.useRef(o);const _=c.useRef();const S=c.useRef(false);const k=c.useRef(false);const x=c.useRef(false);const C=c.useRef();H(()=>{x.current=true;return()=>{x.current=false}},[]);const j=c.useMemo(()=>{const e=()=>{if(_.current&&o===w.current)return _.current;return h(f.getState(),o)};return e},[f,o]);const A=c.useMemo(()=>{const e=e=>{if(!g)return()=>{};return ne(v,f,g,h,w,b,S,x,_,m,e)};return e},[g]);te(re,[w,b,S,o,_,m]);let D;try{D=Q(A,j,p?()=>h(p(),o):j)}catch(e){C.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${C.current.stack}\n\n`);throw e}H(()=>{C.current=void 0;_.current=void 0;b.current=D});const L=c.useMemo(()=>c.createElement(e,P({},D,{ref:i})),[i,e,D]);const I=c.useMemo(()=>{if(v)return c.createElement(a.Provider,{value:y},L);return L},[a,L,y]);return I}const h=c.memo(u);const m=h;m.WrappedComponent=e;m.displayName=u.displayName=r;if(l){const t=c.forwardRef(function e(t,r){return c.createElement(m,P({},t,{reactReduxForwardedRef:r}))});const n=t;n.displayName=r;n.WrappedComponent=e;return C()(n,e)}return C()(m,e)};return m}const le=se;function ue({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const a=c.useMemo(()=>{const t=z(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[e,n,i,o]);const s=c.useMemo(()=>e.getState(),[e]);H(()=>{const{subscription:t}=a;t.onStateChange=t.notifyNestedSubs;t.trySubscribe();s!==e.getState()&&t.notifyNestedSubs();return()=>{t.tryUnsubscribe();t.onStateChange=void 0}},[a,s]);const l=t||h;return c.createElement(l.Provider,{value:a},r)}const ce=ue;function de(e=h){const t=e===h?m:v(e);return function e(){const{store:r}=t();return r}}const fe=de();function pe(e=h){const t=e===h?fe:de(e);return function e(){const r=t();return r.dispatch}}const he=pe();w(i.useSyncExternalStoreWithSelector);Y(n.useSyncExternalStore);l(o.unstable_batchedUpdates)},83492(e,t){"use strict";var r;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),m;m=Symbol.for("react.module.reference");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type,e){case o:case s:case a:case f:case p:return e;default:switch(e=e&&e.$$typeof,e){case c:case u:case d:case g:case h:case l:return e;default:return t}}case i:return t}}}r=u;r=l;r=n;r=d;r=o;r=g;r=h;r=i;r=s;r=a;r=f;r=p;r=function(){return!1};r=function(){return!1};t.isContextConsumer=function(e){return y(e)===u};r=function(e){return y(e)===l};r=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n};r=function(e){return y(e)===d};r=function(e){return y(e)===o};r=function(e){return y(e)===g};r=function(e){return y(e)===h};r=function(e){return y(e)===i};r=function(e){return y(e)===s};r=function(e){return y(e)===a};r=function(e){return y(e)===f};r=function(e){return y(e)===p};r=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===a||e===f||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===m||void 0!==e.getModuleId)};r=y},39368(e,t,r){"use strict";true;e.exports=r(83492)},7900(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function h(e){if(null===e||"object"!==typeof e)return null;e=p&&e[p]||e["@@iterator"];return"function"===typeof e?e:null}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,r){this.props=e;this.context=t;this.refs=m;this.updater=r||g}y.prototype.isReactComponent={};y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b(){}b.prototype=y.prototype;function w(e,t,r){this.props=e;this.context=t;this.refs=m;this.updater=r||g}var _=w.prototype=new b;_.constructor=w;v(_,y.prototype);_.isPureReactComponent=!0;var S=Array.isArray,k=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:P.current}}function C(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}function j(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?j(""+e.key):t.toString(36)}function D(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return l=e,a=a(l),e=""===o?"."+T(l,0):o,S(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),D(a,t,i,"",function(e){return e})):null!=a&&(O(a)&&(a=C(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;l=0;o=""===o?".":o+":";if(S(e))for(var u=0;u<e.length;u++){s=e[u];var c=o+T(s,u);l+=D(s,t,i,c,a)}else if(c=h(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)s=s.value,c=o+T(s,u++),l+=D(s,t,i,c,a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,r){if(null==e)return e;var n=[],i=0;D(e,n,"","",function(e){return t.call(r,e,i++)});return n}function I(e){if(-1===e._status){var t=e._result;t=t();t.then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)});-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},R={transition:null},F={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:R,ReactCurrentOwner:P};t.Children={map:L,forEach:function(e,t,r){L(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;L(e,function(){t++});return t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Component=y;t.Fragment=i;t.Profiler=a;t.PureComponent=w;t.StrictMode=o;t.Suspense=c;t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F;t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(a=t.ref,s=P.current);void 0!==t.key&&(o=""+t.key);if(e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}};t.createContext=function(e){e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};e.Provider={$$typeof:s,_context:e};return e.Consumer=e};t.createElement=x;t.createFactory=function(e){var t=x.bind(null,e);t.type=e;return t};t.createRef=function(){return{current:null}};t.forwardRef=function(e){return{$$typeof:u,render:e}};t.isValidElement=O;t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}};t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}};t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}};t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};t.useCallback=function(e,t){return M.current.useCallback(e,t)};t.useContext=function(e){return M.current.useContext(e)};t.useDebugValue=function(){};t.useDeferredValue=function(e){return M.current.useDeferredValue(e)};t.useEffect=function(e,t){return M.current.useEffect(e,t)};t.useId=function(){return M.current.useId()};t.useImperativeHandle=function(e,t,r){return M.current.useImperativeHandle(e,t,r)};t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)};t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)};t.useMemo=function(e,t){return M.current.useMemo(e,t)};t.useReducer=function(e,t,r){return M.current.useReducer(e,t,r)};t.useRef=function(e){return M.current.useRef(e)};t.useState=function(e){return M.current.useState(e)};t.useSyncExternalStore=function(e,t,r){return M.current.useSyncExternalStore(e,t,r)};t.useTransition=function(){return M.current.useTransition()};t.version="18.2.0"},70013(e,t,r){"use strict";true;e.exports=r(7900)},94841(e){var t=function(e){"use strict";var t=Object.prototype;var r=t.hasOwnProperty;var n=Object.defineProperty||function(e,t,r){e[t]=r.value};var i;var o="function"===typeof Symbol?Symbol:{};var a=o.iterator||"@@iterator";var s=o.asyncIterator||"@@asyncIterator";var l=o.toStringTag||"@@toStringTag";function u(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true});return e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var o=t&&t.prototype instanceof m?t:m;var a=Object.create(o.prototype);var s=new A(i||[]);n(a,"_invoke",{value:x(e,r,s)});return a}e.wrap=c;function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var f="suspendedStart";var p="suspendedYield";var h="executing";var g="completed";var v={};function m(){}function y(){}function b(){}var w={};u(w,a,function(){return this});var _=Object.getPrototypeOf;var S=_&&_(_(T([])));S&&S!==t&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);y.prototype=b;n(k,"constructor",{value:b,configurable:true});n(b,"constructor",{value:y,configurable:true});y.displayName=u(b,l,"GeneratorFunction");function P(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))};e.mark=function(e){if(Object.setPrototypeOf)Object.setPrototypeOf(e,b);else{e.__proto__=b;u(e,l,"GeneratorFunction")}e.prototype=Object.create(k);return e};e.awrap=function(e){return{__await:e}};function E(e,t){function i(n,o,a,s){var l=d(e[n],e,o);if("throw"!==l.type){var u=l.arg;var c=u.value;if(c&&"object"===typeof c&&r.call(c,"__await"))return t.resolve(c.__await).then(function(e){i("next",e,a,s)},function(e){i("throw",e,a,s)});return t.resolve(c).then(function(e){u.value=e;a(u)},function(e){return i("throw",e,a,s)})}s(l.arg)}var o;function a(e,r){function n(){return new t(function(t,n){i(e,r,t,n)})}return o=o?o.then(n,n):n()}n(this,"_invoke",{value:a})}P(E.prototype);u(E.prototype,s,function(){return this});e.AsyncIterator=E;e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new E(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})};function x(e,t,r){var n=f;return function i(o,a){if(n===h)throw new Error("Generator is already running");if(n===g){if("throw"===o)throw a;return D()}r.method=o;r.arg=a;while(true){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f){n=g;throw r.arg}r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=d(e,t,r);if("normal"===u.type){n=r.done?g:p;if(u.arg===v)continue;return{value:u.arg,done:r.done}}if("throw"===u.type){n=g;r.method="throw";r.arg=u.arg}}}}function C(e,t){var r=t.method;var n=e.iterator[r];if(n===i){t.delegate=null;if("throw"===r&&e.iterator["return"]){t.method="return";t.arg=i;C(e,t);if("throw"===t.method)return v}if("return"!==r){t.method="throw";t.arg=new TypeError("The iterator does not provide a '"+r+"' method")}return v}var o=d(n,e.iterator,t.arg);if("throw"===o.type){t.method="throw";t.arg=o.arg;t.delegate=null;return v}var a=o.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return v}if(!a.done)return a;t[e.resultName]=a.value;t.next=e.nextLoc;if("return"!==t.method){t.method="next";t.arg=i}t.delegate=null;return v}P(k);u(k,l,"Generator");u(k,a,function(){return this});u(k,"toString",function(){return"[object Generator]"});function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]);if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(O,this);this.reset(true)}e.keys=function(e){var t=Object(e);var r=[];for(var n in t)r.push(n);r.reverse();return function e(){while(r.length){var n=r.pop();if(n in t){e.value=n;e.done=false;return e}}e.done=true;return e}};function T(e){if(null!=e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){while(++n<e.length)if(r.call(e,n)){t.value=e[n];t.done=false;return t}t.value=i;t.done=true;return t};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}e.values=T;function D(){return{value:i,done:true}}A.prototype={constructor:A,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=i;this.done=false;this.delegate=null;this.method="next";this.arg=i;this.tryEntries.forEach(j);if(!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){s.type="throw";s.arg=e;t.next=r;if(n){t.method="next";t.arg=i}return!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];var s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc");var u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,true);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,true)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};a.type=e;a.arg=t;if(o){this.method="next";this.next=o.finallyLoc;return v}return this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;if("break"===e.type||"continue"===e.type)this.next=e.arg;else if("return"===e.type){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else"normal"===e.type&&t&&(this.next=t);return v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);j(r);return v}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:T(e),resultName:t,nextLoc:r};"next"===this.method&&(this.arg=i);return v}};return e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},80804(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<o(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var s=2*(n+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,r))u<i&&0>o(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[s]=r,n=s);else{if(!(u<i&&0>o(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,p=3,h=!1,g=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(e){for(var t=n(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function _(e){v=!1;w(e);if(!g)if(null!==n(u))g=!0,L(S);else{var t=n(c);null!==t&&I(_,t.startTime-e)}}function S(e,r){g=!1;v&&(v=!1,y(E),E=-1);h=!0;var o=p;try{w(r);for(f=n(u);null!==f&&(!(f.expirationTime>r)||e&&!O());){var a=f.callback;if("function"===typeof a){f.callback=null;p=f.priorityLevel;var s=a(f.expirationTime<=r);r=t.unstable_now();"function"===typeof s?f.callback=s:f===n(u)&&i(u);w(r)}else i(u);f=n(u)}if(null!==f)var l=!0;else{var d=n(c);null!==d&&I(_,d.startTime-r);l=!1}return l}finally{f=null,p=o,h=!1}}var k=!1,P=null,E=-1,x=5,C=-1;function O(){return!(t.unstable_now()-C<x)}function j(){if(null!==P){var e=t.unstable_now();C=e;var r=!0;try{r=P(!0,e)}finally{r?A():(k=!1,P=null)}}else k=!1}var A;if("function"===typeof b)A=function(){b(j)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,D=T.port2;T.port1.onmessage=j;A=function(){D.postMessage(null)}}else A=function(){m(j,0)};function L(e){P=e;k||(k=!0,A())}function I(e,r){E=m(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5;t.unstable_ImmediatePriority=1;t.unstable_LowPriority=4;t.unstable_NormalPriority=3;t.unstable_Profiling=null;t.unstable_UserBlockingPriority=2;t.unstable_cancelCallback=function(e){e.callback=null};t.unstable_continueExecution=function(){g||h||(g=!0,L(S))};t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};t.unstable_getCurrentPriorityLevel=function(){return p};t.unstable_getFirstCallbackNode=function(){return n(u)};t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}};t.unstable_pauseExecution=function(){};t.unstable_requestPaint=function(){};t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}};t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();"object"===typeof o&&null!==o?(o=o.delay,o="number"===typeof o&&0<o?a+o:a):o=a;switch(e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}s=o+s;e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s,sortIndex:-1};o>a?(e.sortIndex=o,r(c,e),null===n(u)&&e===n(c)&&(v?(y(E),E=-1):v=!0,I(_,o-a))):(e.sortIndex=s,r(u,e),g||h||(g=!0,L(S)));return e};t.unstable_shouldYield=O;t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},86203(e,t,r){"use strict";true;e.exports=r(80804)},94663(e,t,r){"use strict";r.r(t);r.d(t,{MultiDrag:()=>Ut,Sortable:()=>rt,Swap:()=>Tt,default:()=>$t});function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),true).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(e)}function a(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var r={};var n=Object.keys(e);var i,o;for(o=0;o<n.length;o++){i=n[o];if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function u(e,t){if(null==e)return{};var r=l(e,t);var n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){n=o[i];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function c(e){return d(e)||f(e)||p(e)||g()}function d(e){if(Array.isArray(e))return h(e)}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v="1.15.0";function m(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var y=m(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i);var b=m(/Edge/i);var w=m(/firefox/i);var _=m(/safari/i)&&!m(/chrome/i)&&!m(/android/i);var S=m(/iP(ad|od|hone)/i);var k=m(/chrome/i)&&m(/android/i);var P={capture:false,passive:false};function E(e,t,r){e.addEventListener(t,r,!y&&P)}function x(e,t,r){e.removeEventListener(t,r,!y&&P)}function C(e,t){if(!t)return;">"===t[0]&&(t=t.substring(1));if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return false}return false}function O(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function j(e,t,r,n){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&C(e,t):C(e,t))||n&&e===r)return e;if(e===r)break}while(e=O(e))}return null}var A=/\s+/g;function T(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(A," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(A," ")}}function D(e,t,r){var n=e&&e.style;if(n){if(void 0===r){document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle);return void 0===t?r:r[t]}t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t);n[t]=r+("string"===typeof r?"":"px")}}function L(e,t){var r="";if("string"===typeof e)r=e;else do{var n=D(e,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function I(e,t,r){if(e){var n=e.getElementsByTagName(t),i=0,o=n.length;if(r)for(;i<o;i++)r(n[i],i);return n}return[]}function M(){var e=document.scrollingElement;return e||document.documentElement}function R(e,t,r,n,i){if(!e.getBoundingClientRect&&e!==window)return;var o,a,s,l,u,c,d;if(e!==window&&e.parentNode&&e!==M()){o=e.getBoundingClientRect();a=o.top;s=o.left;l=o.bottom;u=o.right;c=o.height;d=o.width}else{a=0;s=0;l=window.innerHeight;u=window.innerWidth;c=window.innerHeight;d=window.innerWidth}if((t||r)&&e!==window){i=i||e.parentNode;if(!y)do{if(i&&i.getBoundingClientRect&&("none"!==D(i,"transform")||r&&"static"!==D(i,"position"))){var f=i.getBoundingClientRect();a-=f.top+parseInt(D(i,"border-top-width"));s-=f.left+parseInt(D(i,"border-left-width"));l=a+o.height;u=s+o.width;break}}while(i=i.parentNode)}if(n&&e!==window){var p=L(i||e),h=p&&p.a,g=p&&p.d;if(p){a/=g;s/=h;d/=h;c/=g;l=a+c;u=s+d}}return{top:a,left:s,bottom:l,right:u,width:d,height:c}}function F(e,t,r){var n=U(e,true),i=R(e)[t];while(n){var o=R(n)[r],a=void 0;a="top"===r||"left"===r?i>=o:i<=o;if(!a)return n;if(n===M())break;n=U(n,false)}return false}function B(e,t,r,n){var i=0,o=0,a=e.children;while(o<a.length){if("none"!==a[o].style.display&&a[o]!==rt.ghost&&(n||a[o]!==rt.dragged)&&j(a[o],r.draggable,e,false)){if(i===t)return a[o];i++}o++}return null}function N(e,t){var r=e.lastElementChild;while(r&&(r===rt.ghost||"none"===D(r,"display")||t&&!C(r,t)))r=r.previousElementSibling;return r||null}function V(e,t){var r=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===rt.clone||t&&!C(e,t)||r++;return r}function q(e){var t=0,r=0,n=M();if(e)do{var i=L(e),o=i.a,a=i.d;t+=e.scrollLeft*o;r+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,r]}function W(e,t){for(var r in e){if(!e.hasOwnProperty(r))continue;for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r)}return-1}function U(e,t){if(!e||!e.getBoundingClientRect)return M();var r=e;var n=false;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=D(r);if(r.clientWidth<r.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!r.getBoundingClientRect||r===document.body)return M();if(n||t)return r;n=true}}}while(r=r.parentNode);return M()}function z(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function G(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var H;function $(e,t){return function(){if(!H){var r=arguments,n=this;1===r.length?e.call(n,r[0]):e.apply(n,r);H=setTimeout(function(){H=void 0},t)}}}function K(){clearTimeout(H);H=void 0}function Z(e,t,r){e.scrollLeft+=t;e.scrollTop+=r}function Q(e){var t=window.Polymer;var r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(true):r?r(e).clone(true)[0]:e.cloneNode(true)}function Y(e,t){D(e,"position","absolute");D(e,"top",t.top);D(e,"left",t.left);D(e,"width",t.width);D(e,"height",t.height)}function X(e){D(e,"position","");D(e,"top","");D(e,"left","");D(e,"width","");D(e,"height","")}var J="Sortable"+(new Date).getTime();function ee(){var e=[],t;return{captureAnimationState:function t(){e=[];if(!this.options.animation)return;var r=[].slice.call(this.el.children);r.forEach(function(t){if("none"===D(t,"display")||t===rt.ghost)return;e.push({target:t,rect:R(t)});var r=i({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=L(t,true);if(n){r.top-=n.f;r.left-=n.e}}t.fromRect=r})},addAnimationState:function t(r){e.push(r)},removeAnimationState:function t(r){e.splice(W(e,{target:r}),1)},animateAll:function r(n){var i=this;if(!this.options.animation){clearTimeout(t);"function"===typeof n&&n();return}var o=false,a=0;e.forEach(function(e){var t=0,r=e.target,n=r.fromRect,s=R(r),l=r.prevFromRect,u=r.prevToRect,c=e.rect,d=L(r,true);if(d){s.top-=d.f;s.left-=d.e}r.toRect=s;r.thisAnimationDuration&&G(l,s)&&!G(n,s)&&(c.top-s.top)/(c.left-s.left)===(n.top-s.top)/(n.left-s.left)&&(t=re(c,l,u,i.options));if(!G(s,n)){r.prevFromRect=n;r.prevToRect=s;t||(t=i.options.animation);i.animate(r,c,s,t)}if(t){o=true;a=Math.max(a,t);clearTimeout(r.animationResetTimer);r.animationResetTimer=setTimeout(function(){r.animationTime=0;r.prevFromRect=null;r.fromRect=null;r.prevToRect=null;r.thisAnimationDuration=null},t);r.thisAnimationDuration=t}});clearTimeout(t);o?t=setTimeout(function(){"function"===typeof n&&n()},a):"function"===typeof n&&n();e=[]},animate:function e(t,r,n,i){if(i){D(t,"transition","");D(t,"transform","");var o=L(this.el),a=o&&o.a,s=o&&o.d,l=(r.left-n.left)/(a||1),u=(r.top-n.top)/(s||1);t.animatingX=!!l;t.animatingY=!!u;D(t,"transform","translate3d("+l+"px,"+u+"px,0)");this.forRepaintDummy=te(t);D(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:""));D(t,"transform","translate3d(0,0,0)");"number"===typeof t.animated&&clearTimeout(t.animated);t.animated=setTimeout(function(){D(t,"transition","");D(t,"transform","");t.animated=false;t.animatingX=false;t.animatingY=false},i)}}}}function te(e){return e.offsetWidth}function re(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}var ne=[];var ie={initializeByDefault:true};var oe={mount:function e(t){for(var r in ie)ie.hasOwnProperty(r)&&!(r in t)&&(t[r]=ie[r]);ne.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")});ne.push(t)},pluginEvent:function e(t,r,n){var o=this;this.eventCanceled=false;n.cancel=function(){o.eventCanceled=true};var a=t+"Global";ne.forEach(function(e){if(!r[e.pluginName])return;r[e.pluginName][a]&&r[e.pluginName][a](i({sortable:r},n));r.options[e.pluginName]&&r[e.pluginName][t]&&r[e.pluginName][t](i({sortable:r},n))})},initializePlugins:function e(t,r,n,i){ne.forEach(function(e){var i=e.pluginName;if(!t.options[i]&&!e.initializeByDefault)return;var o=new e(t,r,t.options);o.sortable=t;o.options=t.options;t[i]=o;s(n,o.defaults)});for(var o in t.options){if(!t.options.hasOwnProperty(o))continue;var a=this.modifyOption(t,o,t.options[o]);"undefined"!==typeof a&&(t.options[o]=a)}},getEventProperties:function e(t,r){var n={};ne.forEach(function(e){if("function"!==typeof e.eventProperties)return;s(n,e.eventProperties.call(r[e.pluginName],t))});return n},modifyOption:function e(t,r,n){var i;ne.forEach(function(e){if(!t[e.pluginName])return;e.optionListeners&&"function"===typeof e.optionListeners[r]&&(i=e.optionListeners[r].call(t[e.pluginName],n))});return i}};function ae(e){var t=e.sortable,r=e.rootEl,n=e.name,o=e.targetEl,a=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,g=e.extraEventProperties;t=t||r&&r[J];if(!t)return;var v,m=t.options,w="on"+n.charAt(0).toUpperCase()+n.substr(1);if(!window.CustomEvent||y||b){v=document.createEvent("Event");v.initEvent(n,true,true)}else v=new CustomEvent(n,{bubbles:true,cancelable:true});v.to=s||r;v.from=l||r;v.item=o||r;v.clone=a;v.oldIndex=u;v.newIndex=c;v.oldDraggableIndex=d;v.newDraggableIndex=f;v.originalEvent=p;v.pullMode=h?h.lastPutMode:void 0;var _=i(i({},g),oe.getEventProperties(n,t));for(var S in _)v[S]=_[S];r&&r.dispatchEvent(v);m[w]&&m[w].call(t,v)}var se=["evt"];var le=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,a=u(n,se);oe.pluginEvent.bind(rt)(t,r,i({dragEl:ce,parentEl:de,ghostEl:fe,rootEl:pe,nextEl:he,lastDownEl:ge,cloneEl:ve,cloneHidden:me,dragStarted:Le,putSortable:ke,activeSortable:rt.active,originalEvent:o,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:_e,hideGhostForTarget:Xe,unhideGhostForTarget:Je,cloneNowHidden:function e(){me=true},cloneNowShown:function e(){me=false},dispatchSortableEvent:function e(t){ue({sortable:r,name:t,originalEvent:o})}},a))};function ue(e){ae(i({putSortable:ke,cloneEl:ve,targetEl:ce,rootEl:pe,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:_e},e))}var ce,de,fe,pe,he,ge,ve,me,ye,be,we,_e,Se,ke,Pe=false,Ee=false,xe=[],Ce,Oe,je,Ae,Te,De,Le,Ie,Me,Re=false,Fe=false,Be,Ne,Ve=[],qe=false,We=[];var Ue="undefined"!==typeof document,ze=S,Ge=b||y?"cssFloat":"float",He=Ue&&!k&&!S&&"draggable"in document.createElement("div"),$e=function(){if(!Ue)return;if(y)return false;var e=document.createElement("x");e.style.cssText="pointer-events:auto";return"auto"===e.style.pointerEvents}(),Ke=function e(t,r){var n=D(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=B(t,0,r),a=B(t,1,r),s=o&&D(o),l=a&&D(a),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+R(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+R(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s["float"]&&"none"!==s["float"]){var d="left"===s["float"]?"left":"right";return!a||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return o&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||u>=i&&"none"===n[Ge]||a&&"none"===n[Ge]&&u+c>i)?"vertical":"horizontal"},Ze=function e(t,r,n){var i=n?t.left:t.top,o=n?t.right:t.bottom,a=n?t.width:t.height,s=n?r.left:r.top,l=n?r.right:r.bottom,u=n?r.width:r.height;return i===s||o===l||i+a/2===s+u/2},Qe=function e(t,r){var n;xe.some(function(e){var i=e[J].options.emptyInsertThreshold;if(!i||N(e))return;var o=R(e),a=t>=o.left-i&&t<=o.right+i,s=r>=o.top-i&&r<=o.bottom+i;if(a&&s)return n=e});return n},Ye=function e(t){function r(e,t){return function(n,i,o,a){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==e&&(t||s))return true;if(null==e||false===e)return false;if(t&&"clone"===e)return e;if("function"===typeof e)return r(e(n,i,o,a),t)(n,i,o,a);var l=(t?n:i).options.group.name;return true===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={};var i=t.group;i&&"object"==o(i)||(i={name:i});n.name=i.name;n.checkPull=r(i.pull,true);n.checkPut=r(i.put);n.revertClone=i.revertClone;t.group=n},Xe=function e(){!$e&&fe&&D(fe,"display","none")},Je=function e(){!$e&&fe&&D(fe,"display","")};Ue&&!k&&document.addEventListener("click",function(e){if(Ee){e.preventDefault();e.stopPropagation&&e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();Ee=false;return false}},true);var et=function e(t){if(ce){t=t.touches?t.touches[0]:t;var r=Qe(t.clientX,t.clientY);if(r){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=r;n.preventDefault=void 0;n.stopPropagation=void 0;r[J]._onDragOver(n)}}};var tt=function e(t){ce&&ce.parentNode[J]._isOutsideThisEl(t.target)};function rt(e,t){if(!(e&&e.nodeType&&1===e.nodeType))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e;this.options=t=s({},t);e[J]=this;var r={group:null,sort:true,disabled:false,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:false,invertedSwapThreshold:null,removeCloneOnHide:true,direction:function t(){return Ke(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,easing:null,setData:function e(t,r){t.setData("Text",r.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:false,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:false,fallbackClass:"sortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:false!==rt.supportPointer&&"PointerEvent"in window&&!_,emptyInsertThreshold:5};oe.initializePlugins(this,e,r);for(var n in r)!(n in t)&&(t[n]=r[n]);Ye(t);for(var i in this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&He;this.nativeDraggable&&(this.options.touchStartThreshold=1);if(t.supportPointer)E(e,"pointerdown",this._onTapStart);else{E(e,"mousedown",this._onTapStart);E(e,"touchstart",this._onTapStart)}if(this.nativeDraggable){E(e,"dragover",this);E(e,"dragenter",this)}xe.push(this.el);t.store&&t.store.get&&this.sort(t.store.get(this)||[]);s(this,ee())}rt.prototype={constructor:rt,_isOutsideThisEl:function e(t){this.el.contains(t)||t===this.el||(Ie=null)},_getDirection:function e(t,r){return"function"===typeof this.options.direction?this.options.direction.call(this,t,r,ce):this.options.direction},_onTapStart:function e(t){if(!t.cancelable)return;var r=this,n=this.el,i=this.options,o=i.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=i.filter;ft(n);if(ce)return;if(/mousedown|pointerdown/.test(a)&&0!==t.button||i.disabled)return;if(u.isContentEditable)return;if(!this.nativeDraggable&&_&&l&&"SELECT"===l.tagName.toUpperCase())return;l=j(l,i.draggable,n,false);if(l&&l.animated)return;if(ge===l)return;ye=V(l);we=V(l,i.draggable);if("function"===typeof c){if(c.call(this,t,l,this)){ue({sortable:r,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n});le("filter",r,{evt:t});o&&t.cancelable&&t.preventDefault();return}}else if(c){c=c.split(",").some(function(e){e=j(u,e.trim(),n,false);if(e){ue({sortable:r,rootEl:e,name:"filter",targetEl:l,fromEl:n,toEl:n});le("filter",r,{evt:t});return true}});if(c){o&&t.cancelable&&t.preventDefault();return}}if(i.handle&&!j(u,i.handle,n,false))return;this._prepareDragStart(t,s,l)},_prepareDragStart:function e(t,r,n){var i=this,o=i.el,a=i.options,s=o.ownerDocument,l;if(n&&!ce&&n.parentNode===o){var u=R(n);pe=o;ce=n;de=ce.parentNode;he=ce.nextSibling;ge=n;Se=a.group;rt.dragged=ce;Ce={target:ce,clientX:(r||t).clientX,clientY:(r||t).clientY};Te=Ce.clientX-u.left;De=Ce.clientY-u.top;this._lastX=(r||t).clientX;this._lastY=(r||t).clientY;ce.style["will-change"]="all";l=function e(){le("delayEnded",i,{evt:t});if(rt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents();!w&&i.nativeDraggable&&(ce.draggable=true);i._triggerDragStart(t,r);ue({sortable:i,name:"choose",originalEvent:t});T(ce,a.chosenClass,true)};a.ignore.split(",").forEach(function(e){I(ce,e.trim(),ot)});E(s,"dragover",et);E(s,"mousemove",et);E(s,"touchmove",et);E(s,"mouseup",i._onDrop);E(s,"touchend",i._onDrop);E(s,"touchcancel",i._onDrop);if(w&&this.nativeDraggable){this.options.touchStartThreshold=4;ce.draggable=true}le("delayStart",this,{evt:t});if(!a.delay||a.delayOnTouchOnly&&!r||this.nativeDraggable&&(b||y))l();else{if(rt.eventCanceled){this._onDrop();return}E(s,"mouseup",i._disableDelayedDrag);E(s,"touchend",i._disableDelayedDrag);E(s,"touchcancel",i._disableDelayedDrag);E(s,"mousemove",i._delayedDragTouchMoveHandler);E(s,"touchmove",i._delayedDragTouchMoveHandler);a.supportPointer&&E(s,"pointermove",i._delayedDragTouchMoveHandler);i._dragStartTimer=setTimeout(l,a.delay)}}},_delayedDragTouchMoveHandler:function e(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function e(){ce&&ot(ce);clearTimeout(this._dragStartTimer);this._disableDelayedDragEvents()},_disableDelayedDragEvents:function e(){var t=this.el.ownerDocument;x(t,"mouseup",this._disableDelayedDrag);x(t,"touchend",this._disableDelayedDrag);x(t,"touchcancel",this._disableDelayedDrag);x(t,"mousemove",this._delayedDragTouchMoveHandler);x(t,"touchmove",this._delayedDragTouchMoveHandler);x(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function e(t,r){r=r||"touch"==t.pointerType&&t;if(!this.nativeDraggable||r)this.options.supportPointer?E(document,"pointermove",this._onTouchMove):E(document,r?"touchmove":"mousemove",this._onTouchMove);else{E(ce,"dragend",this);E(pe,"dragstart",this._onDragStart)}try{document.selection?pt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function e(t,r){Pe=false;if(pe&&ce){le("dragStarted",this,{evt:r});this.nativeDraggable&&E(document,"dragover",tt);var n=this.options;!t&&T(ce,n.dragClass,false);T(ce,n.ghostClass,true);rt.active=this;t&&this._appendGhost();ue({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function e(){if(Oe){this._lastX=Oe.clientX;this._lastY=Oe.clientY;Xe();var t=document.elementFromPoint(Oe.clientX,Oe.clientY);var r=t;while(t&&t.shadowRoot){t=t.shadowRoot.elementFromPoint(Oe.clientX,Oe.clientY);if(t===r)break;r=t}ce.parentNode[J]._isOutsideThisEl(t);if(r)do{if(r[J]){var n=void 0;n=r[J]._onDragOver({clientX:Oe.clientX,clientY:Oe.clientY,target:t,rootEl:r});if(n&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);Je()}},_onTouchMove:function e(t){if(Ce){var r=this.options,n=r.fallbackTolerance,i=r.fallbackOffset,o=t.touches?t.touches[0]:t,a=fe&&L(fe,true),s=fe&&a&&a.a,l=fe&&a&&a.d,u=ze&&Ne&&q(Ne),c=(o.clientX-Ce.clientX+i.x)/(s||1)+(u?u[0]-Ve[0]:0)/(s||1),d=(o.clientY-Ce.clientY+i.y)/(l||1)+(u?u[1]-Ve[1]:0)/(l||1);if(!rt.active&&!Pe){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,true)}if(fe){if(a){a.e+=c-(je||0);a.f+=d-(Ae||0)}else a={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");D(fe,"webkitTransform",f);D(fe,"mozTransform",f);D(fe,"msTransform",f);D(fe,"transform",f);je=c;Ae=d;Oe=o}t.cancelable&&t.preventDefault()}},_appendGhost:function e(){if(!fe){var t=this.options.fallbackOnBody?document.body:pe,r=R(ce,true,ze,true,t),n=this.options;if(ze){Ne=t;while("static"===D(Ne,"position")&&"none"===D(Ne,"transform")&&Ne!==document)Ne=Ne.parentNode;if(Ne!==document.body&&Ne!==document.documentElement){Ne===document&&(Ne=M());r.top+=Ne.scrollTop;r.left+=Ne.scrollLeft}else Ne=M();Ve=q(Ne)}fe=ce.cloneNode(true);T(fe,n.ghostClass,false);T(fe,n.fallbackClass,true);T(fe,n.dragClass,true);D(fe,"transition","");D(fe,"transform","");D(fe,"box-sizing","border-box");D(fe,"margin",0);D(fe,"top",r.top);D(fe,"left",r.left);D(fe,"width",r.width);D(fe,"height",r.height);D(fe,"opacity","0.8");D(fe,"position",ze?"absolute":"fixed");D(fe,"zIndex","100000");D(fe,"pointerEvents","none");rt.ghost=fe;t.appendChild(fe);D(fe,"transform-origin",Te/parseInt(fe.style.width)*100+"% "+De/parseInt(fe.style.height)*100+"%")}},_onDragStart:function e(t,r){var n=this;var i=t.dataTransfer;var o=n.options;le("dragStart",this,{evt:t});if(rt.eventCanceled){this._onDrop();return}le("setupClone",this);if(!rt.eventCanceled){ve=Q(ce);ve.removeAttribute("id");ve.draggable=false;ve.style["will-change"]="";this._hideClone();T(ve,this.options.chosenClass,false);rt.clone=ve}n.cloneId=pt(function(){le("clone",n);if(rt.eventCanceled)return;n.options.removeCloneOnHide||pe.insertBefore(ve,ce);n._hideClone();ue({sortable:n,name:"clone"})});!r&&T(ce,o.dragClass,true);if(r){Ee=true;n._loopId=setInterval(n._emulateDragOver,50)}else{x(document,"mouseup",n._onDrop);x(document,"touchend",n._onDrop);x(document,"touchcancel",n._onDrop);if(i){i.effectAllowed="move";o.setData&&o.setData.call(n,i,ce)}E(document,"drop",n);D(ce,"transform","translateZ(0)")}Pe=true;n._dragStartId=pt(n._dragStarted.bind(n,r,t));E(document,"selectstart",n);Le=true;_&&D(document.body,"user-select","none")},_onDragOver:function e(t){var r=this.el,n=t.target,o,a,s,l=this.options,u=l.group,c=rt.active,d=Se===u,f=l.sort,p=ke||c,h,g=this,v=false;if(qe)return;function m(e,l){le(e,g,i({evt:t,isOwner:d,axis:h?"vertical":"horizontal",revert:s,dragRect:o,targetRect:a,canSort:f,fromSortable:p,target:n,completed:b,onMove:function e(n,i){return it(pe,r,ce,o,n,R(n),t,i)},changed:w},l))}function y(){m("dragOverAnimationCapture");g.captureAnimationState();g!==p&&p.captureAnimationState()}function b(e){m("dragOverCompleted",{insertion:e});if(e){d?c._hideClone():c._showClone(g);if(g!==p){T(ce,ke?ke.options.ghostClass:c.options.ghostClass,false);T(ce,l.ghostClass,true)}ke!==g&&g!==rt.active?ke=g:g===rt.active&&ke&&(ke=null);p===g&&(g._ignoreWhileAnimating=n);g.animateAll(function(){m("dragOverAnimationComplete");g._ignoreWhileAnimating=null});if(g!==p){p.animateAll();p._ignoreWhileAnimating=null}}(n===ce&&!ce.animated||n===r&&!n.animated)&&(Ie=null);if(!l.dragoverBubble&&!t.rootEl&&n!==document){ce.parentNode[J]._isOutsideThisEl(t.target);!e&&et(t)}!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation();return v=true}function w(){be=V(ce);_e=V(ce,l.draggable);ue({sortable:g,name:"change",toEl:r,newIndex:be,newDraggableIndex:_e,originalEvent:t})}void 0!==t.preventDefault&&t.cancelable&&t.preventDefault();n=j(n,l.draggable,r,true);m("dragOver");if(rt.eventCanceled)return v;if(ce.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||g._ignoreWhileAnimating===n)return b(false);Ee=false;if(c&&!l.disabled&&(d?f||(s=de!==pe):ke===this||(this.lastPutMode=Se.checkPull(this,c,ce,t))&&u.checkPut(this,c,ce,t))){h="vertical"===this._getDirection(t,n);o=R(ce);m("dragOverValid");if(rt.eventCanceled)return v;if(s){de=pe;y();this._hideClone();m("revert");rt.eventCanceled||(he?pe.insertBefore(ce,he):pe.appendChild(ce));return b(true)}var _=N(r,l.draggable);if(!_||lt(t,h,this)&&!_.animated){if(_===ce)return b(false);_&&r===t.target&&(n=_);n&&(a=R(n));if(false!==it(pe,r,ce,o,n,a,t,!!n)){y();_&&_.nextSibling?r.insertBefore(ce,_.nextSibling):r.appendChild(ce);de=r;w();return b(true)}}else if(_&&st(t,h,this)){var S=B(r,0,l,true);if(S===ce)return b(false);n=S;a=R(n);if(false!==it(pe,r,ce,o,n,a,t,false)){y();r.insertBefore(ce,S);de=r;w();return b(true)}}else if(n.parentNode===r){a=R(n);var k=0,P,E=ce.parentNode!==r,x=!Ze(ce.animated&&ce.toRect||o,n.animated&&n.toRect||a,h),C=h?"top":"left",O=F(n,"top","top")||F(ce,"top","top"),A=O?O.scrollTop:void 0;if(Ie!==n){P=a[C];Re=false;Fe=!x&&l.invertSwap||E}k=ut(t,n,a,h,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Fe,Ie===n);var L;if(0!==k){var I=V(ce);do{I-=k;L=de.children[I]}while(L&&("none"===D(L,"display")||L===fe))}if(0===k||L===n)return b(false);Ie=n;Me=k;var M=n.nextElementSibling,q=false;q=1===k;var W=it(pe,r,ce,o,n,a,t,q);if(false!==W){1!==W&&-1!==W||(q=1===W);qe=true;setTimeout(at,30);y();q&&!M?r.appendChild(ce):n.parentNode.insertBefore(ce,q?M:n);O&&Z(O,0,A-O.scrollTop);de=ce.parentNode;void 0===P||Fe||(Be=Math.abs(P-R(n)[C]));w();return b(true)}}if(r.contains(ce))return b(false)}return false},_ignoreWhileAnimating:null,_offMoveEvents:function e(){x(document,"mousemove",this._onTouchMove);x(document,"touchmove",this._onTouchMove);x(document,"pointermove",this._onTouchMove);x(document,"dragover",et);x(document,"mousemove",et);x(document,"touchmove",et)},_offUpEvents:function e(){var t=this.el.ownerDocument;x(t,"mouseup",this._onDrop);x(t,"touchend",this._onDrop);x(t,"pointerup",this._onDrop);x(t,"touchcancel",this._onDrop);x(document,"selectstart",this)},_onDrop:function e(t){var r=this.el,n=this.options;be=V(ce);_e=V(ce,n.draggable);le("drop",this,{evt:t});de=ce&&ce.parentNode;be=V(ce);_e=V(ce,n.draggable);if(rt.eventCanceled){this._nulling();return}Pe=false;Fe=false;Re=false;clearInterval(this._loopId);clearTimeout(this._dragStartTimer);ht(this.cloneId);ht(this._dragStartId);if(this.nativeDraggable){x(document,"drop",this);x(r,"dragstart",this._onDragStart)}this._offMoveEvents();this._offUpEvents();_&&D(document.body,"user-select","");D(ce,"transform","");if(t){if(Le){t.cancelable&&t.preventDefault();!n.dropBubble&&t.stopPropagation()}fe&&fe.parentNode&&fe.parentNode.removeChild(fe);(pe===de||ke&&"clone"!==ke.lastPutMode)&&ve&&ve.parentNode&&ve.parentNode.removeChild(ve);if(ce){this.nativeDraggable&&x(ce,"dragend",this);ot(ce);ce.style["will-change"]="";Le&&!Pe&&T(ce,ke?ke.options.ghostClass:this.options.ghostClass,false);T(ce,this.options.chosenClass,false);ue({sortable:this,name:"unchoose",toEl:de,newIndex:null,newDraggableIndex:null,originalEvent:t});if(pe!==de){if(be>=0){ue({rootEl:de,name:"add",toEl:de,fromEl:pe,originalEvent:t});ue({sortable:this,name:"remove",toEl:de,originalEvent:t});ue({rootEl:de,name:"sort",toEl:de,fromEl:pe,originalEvent:t});ue({sortable:this,name:"sort",toEl:de,originalEvent:t})}ke&&ke.save()}else if(be!==ye&&be>=0){ue({sortable:this,name:"update",toEl:de,originalEvent:t});ue({sortable:this,name:"sort",toEl:de,originalEvent:t})}if(rt.active){if(null==be||-1===be){be=ye;_e=we}ue({sortable:this,name:"end",toEl:de,originalEvent:t});this.save()}}}this._nulling()},_nulling:function e(){le("nulling",this);pe=ce=de=fe=he=ve=ge=me=Ce=Oe=Le=be=_e=ye=we=Ie=Me=ke=Se=rt.dragged=rt.ghost=rt.clone=rt.active=null;We.forEach(function(e){e.checked=true});We.length=je=Ae=0},handleEvent:function e(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":if(ce){this._onDragOver(t);nt(t)}break;case"selectstart":t.preventDefault();break}},toArray:function e(){var t=[],r,n=this.el.children,i=0,o=n.length,a=this.options;for(;i<o;i++){r=n[i];j(r,a.draggable,this.el,false)&&t.push(r.getAttribute(a.dataIdAttr)||dt(r))}return t},sort:function e(t,r){var n={},i=this.el;this.toArray().forEach(function(e,t){var r=i.children[t];j(r,this.options.draggable,i,false)&&(n[e]=r)},this);r&&this.captureAnimationState();t.forEach(function(e){if(n[e]){i.removeChild(n[e]);i.appendChild(n[e])}});r&&this.animateAll()},save:function e(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function e(t,r){return j(t,r||this.options.draggable,this.el,false)},option:function e(t,r){var n=this.options;if(void 0===r)return n[t];var i=oe.modifyOption(this,t,r);n[t]="undefined"!==typeof i?i:r;"group"===t&&Ye(n)},destroy:function e(){le("destroy",this);var t=this.el;t[J]=null;x(t,"mousedown",this._onTapStart);x(t,"touchstart",this._onTapStart);x(t,"pointerdown",this._onTapStart);if(this.nativeDraggable){x(t,"dragover",this);x(t,"dragenter",this)}Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")});this._onDrop();this._disableDelayedDragEvents();xe.splice(xe.indexOf(this.el),1);this.el=t=null},_hideClone:function e(){if(!me){le("hideClone",this);if(rt.eventCanceled)return;D(ve,"display","none");this.options.removeCloneOnHide&&ve.parentNode&&ve.parentNode.removeChild(ve);me=true}},_showClone:function e(t){if("clone"!==t.lastPutMode){this._hideClone();return}if(me){le("showClone",this);if(rt.eventCanceled)return;ce.parentNode!=pe||this.options.group.revertClone?he?pe.insertBefore(ve,he):pe.appendChild(ve):pe.insertBefore(ve,ce);this.options.group.revertClone&&this.animate(ce,ve);D(ve,"display","");me=false}}};function nt(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}function it(e,t,r,n,i,o,a,s){var l,u=e[J],c=u.options.onMove,d;if(!window.CustomEvent||y||b){l=document.createEvent("Event");l.initEvent("move",true,true)}else l=new CustomEvent("move",{bubbles:true,cancelable:true});l.to=t;l.from=e;l.dragged=r;l.draggedRect=n;l.related=i||t;l.relatedRect=o||R(t);l.willInsertAfter=s;l.originalEvent=a;e.dispatchEvent(l);c&&(d=c.call(u,l,a));return d}function ot(e){e.draggable=false}function at(){qe=false}function st(e,t,r){var n=R(B(r.el,0,r.options,true));var i=10;return t?e.clientX<n.left-i||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-i||e.clientY<n.bottom&&e.clientX<n.left}function lt(e,t,r){var n=R(N(r.el,r.options.draggable));var i=10;return t?e.clientX>n.right+i||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+i}function ut(e,t,r,n,i,o,a,s){var l=n?e.clientY:e.clientX,u=n?r.height:r.width,c=n?r.top:r.left,d=n?r.bottom:r.right,f=false;if(!a)if(s&&Be<u*i){!Re&&(1===Me?l>c+u*o/2:l<d-u*o/2)&&(Re=true);if(Re)f=true;else if(1===Me?l<c+Be:l>d-Be)return-Me}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return ct(t);f=f||a;if(f&&(l<c+u*o/2||l>d-u*o/2))return l>c+u/2?1:-1;return 0}function ct(e){return V(ce)<V(e)?1:-1}function dt(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;while(r--)n+=t.charCodeAt(r);return n.toString(36)}function ft(e){We.length=0;var t=e.getElementsByTagName("input");var r=t.length;while(r--){var n=t[r];n.checked&&We.push(n)}}function pt(e){return setTimeout(e,0)}function ht(e){return clearTimeout(e)}Ue&&E(document,"touchmove",function(e){(rt.active||Pe)&&e.cancelable&&e.preventDefault()});rt.utils={on:E,off:x,css:D,find:I,is:function e(t,r){return!!j(t,r,t,false)},extend:z,throttle:$,closest:j,toggleClass:T,clone:Q,index:V,nextTick:pt,cancelNextTick:ht,detectDirection:Ke,getChild:B};rt.get=function(e){return e[J]};rt.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]);t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(rt.utils=i(i({},rt.utils),e.utils));oe.mount(e)})};rt.create=function(e,t){return new rt(e,t)};rt.version=v;var gt=[],vt,mt,yt=false,bt,wt,_t,St;function kt(){function e(){this.defaults={scroll:true,forceAutoScrollFallback:false,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:true};for(var e in this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}e.prototype={dragStarted:function e(t){var r=t.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):r.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function e(t){var r=t.originalEvent;this.options.dragOverBubble||r.rootEl||this._handleAutoScroll(r)},drop:function e(){if(this.sortable.nativeDraggable)x(document,"dragover",this._handleAutoScroll);else{x(document,"pointermove",this._handleFallbackAutoScroll);x(document,"touchmove",this._handleFallbackAutoScroll);x(document,"mousemove",this._handleFallbackAutoScroll)}Et();Pt();K()},nulling:function e(){_t=mt=vt=yt=St=bt=wt=null;gt.length=0},_handleFallbackAutoScroll:function e(t){this._handleAutoScroll(t,true)},_handleAutoScroll:function e(t,r){var n=this;var i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(i,o);_t=t;if(r||this.options.forceAutoScrollFallback||b||y||_){xt(t,this.options,a,r);var s=U(a,true);if(yt&&(!St||i!==bt||o!==wt)){St&&Et();St=setInterval(function(){var e=U(document.elementFromPoint(i,o),true);if(e!==s){s=e;Pt()}xt(t,n.options,e,r)},10);bt=i;wt=o}}else{if(!this.options.bubbleScroll||U(a,true)===M()){Pt();return}xt(t,this.options,U(a,false),false)}}};return s(e,{pluginName:"scroll",initializeByDefault:true})}function Pt(){gt.forEach(function(e){clearInterval(e.pid)});gt=[]}function Et(){clearInterval(St)}var xt=$(function(e,t,r,n){if(!t.scroll)return;var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,l=M();var u=false,c;if(mt!==r){mt=r;Pt();vt=t.scroll;c=t.scrollFn;true===vt&&(vt=U(r,true))}var d=0;var f=vt;do{var p=f,h=R(p),g=h.top,v=h.bottom,m=h.left,y=h.right,b=h.width,w=h.height,_=void 0,S=void 0,k=p.scrollWidth,P=p.scrollHeight,E=D(p),x=p.scrollLeft,C=p.scrollTop;if(p===l){_=b<k&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX);S=w<P&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)}else{_=b<k&&("auto"===E.overflowX||"scroll"===E.overflowX);S=w<P&&("auto"===E.overflowY||"scroll"===E.overflowY)}var O=_&&(Math.abs(y-i)<=a&&x+b<k)-(Math.abs(m-i)<=a&&!!x);var j=S&&(Math.abs(v-o)<=a&&C+w<P)-(Math.abs(g-o)<=a&&!!C);if(!gt[d])for(var A=0;A<=d;A++)gt[A]||(gt[A]={});if(gt[d].vx!=O||gt[d].vy!=j||gt[d].el!==p){gt[d].el=p;gt[d].vx=O;gt[d].vy=j;clearInterval(gt[d].pid);if(0!=O||0!=j){u=true;gt[d].pid=setInterval(function(){n&&0===this.layer&&rt.active._onTouchMove(_t);var t=gt[this.layer].vy?gt[this.layer].vy*s:0;var r=gt[this.layer].vx?gt[this.layer].vx*s:0;if("function"===typeof c&&"continue"!==c.call(rt.dragged.parentNode[J],r,t,e,_t,gt[this.layer].el))return;Z(gt[this.layer].el,r,t)}.bind({layer:d}),24)}}d++}while(t.bubbleScroll&&f!==l&&(f=U(f,false)));yt=u},30);var Ct=function e(t){var r=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!r)return;var u=n||o;s();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r;var d=document.elementFromPoint(c.clientX,c.clientY);l();if(u&&!u.el.contains(d)){a("spill");this.onSpill({dragEl:i,putSortable:n})}};function Ot(){}Ot.prototype={startIndex:null,dragStart:function e(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function e(t){var r=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState();n&&n.captureAnimationState();var i=B(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(r,i):this.sortable.el.appendChild(r);this.sortable.animateAll();n&&n.animateAll()},drop:Ct};s(Ot,{pluginName:"revertOnSpill"});function jt(){}jt.prototype={onSpill:function e(t){var r=t.dragEl,n=t.putSortable;var i=n||this.sortable;i.captureAnimationState();r.parentNode&&r.parentNode.removeChild(r);i.animateAll()},drop:Ct};s(jt,{pluginName:"removeOnSpill"});var At;function Tt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}e.prototype={dragStart:function e(t){var r=t.dragEl;At=r},dragOverValid:function e(t){var r=t.completed,n=t.target,i=t.onMove,o=t.activeSortable,a=t.changed,s=t.cancel;if(!o.options.swap)return;var l=this.sortable.el,u=this.options;if(n&&n!==l){var c=At;if(false!==i(n)){T(n,u.swapClass,true);At=n}else At=null;c&&c!==At&&T(c,u.swapClass,false)}a();r(true);s()},drop:function e(t){var r=t.activeSortable,n=t.putSortable,i=t.dragEl;var o=n||this.sortable;var a=this.options;At&&T(At,a.swapClass,false);if(At&&(a.swap||n&&n.options.swap)&&i!==At){o.captureAnimationState();o!==r&&r.captureAnimationState();Dt(i,At);o.animateAll();o!==r&&r.animateAll()}},nulling:function e(){At=null}};return s(e,{pluginName:"swap",eventProperties:function e(){return{swapItem:At}}})}function Dt(e,t){var r=e.parentNode,n=t.parentNode,i,o;if(!r||!n||r.isEqualNode(t)||n.isEqualNode(e))return;i=V(e);o=V(t);r.isEqualNode(n)&&i<o&&o++;r.insertBefore(t,r.children[i]);n.insertBefore(e,n.children[o])}var Lt=[],It=[],Mt,Rt,Ft=false,Bt=false,Nt=false,Vt,qt,Wt;function Ut(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));if(!e.options.avoidImplicitDeselect)if(e.options.supportPointer)E(document,"pointerup",this._deselectMultiDrag);else{E(document,"mouseup",this._deselectMultiDrag);E(document,"touchend",this._deselectMultiDrag)}E(document,"keydown",this._checkKeyDown);E(document,"keyup",this._checkKeyUp);this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:false,setData:function t(r,n){var i="";Lt.length&&Rt===e?Lt.forEach(function(e,t){i+=(t?", ":"")+e.textContent}):i=n.textContent;r.setData("Text",i)}}}e.prototype={multiDragKeyDown:false,isMultiDrag:false,delayStartGlobal:function e(t){var r=t.dragEl;Vt=r},delayEnded:function e(){this.isMultiDrag=~Lt.indexOf(Vt)},setupClone:function e(t){var r=t.sortable,n=t.cancel;if(!this.isMultiDrag)return;for(var i=0;i<Lt.length;i++){It.push(Q(Lt[i]));It[i].sortableIndex=Lt[i].sortableIndex;It[i].draggable=false;It[i].style["will-change"]="";T(It[i],this.options.selectedClass,false);Lt[i]===Vt&&T(It[i],this.options.chosenClass,false)}r._hideClone();n()},clone:function e(t){var r=t.sortable,n=t.rootEl,i=t.dispatchSortableEvent,o=t.cancel;if(!this.isMultiDrag)return;if(!this.options.removeCloneOnHide&&Lt.length&&Rt===r){Gt(true,n);i("clone");o()}},showClone:function e(t){var r=t.cloneNowShown,n=t.rootEl,i=t.cancel;if(!this.isMultiDrag)return;Gt(false,n);It.forEach(function(e){D(e,"display","")});r();Wt=false;i()},hideClone:function e(t){var r=this;var n=t.sortable,i=t.cloneNowHidden,o=t.cancel;if(!this.isMultiDrag)return;It.forEach(function(e){D(e,"display","none");r.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)});i();Wt=true;o()},dragStartGlobal:function e(t){var r=t.sortable;!this.isMultiDrag&&Rt&&Rt.multiDrag._deselectMultiDrag();Lt.forEach(function(e){e.sortableIndex=V(e)});Lt=Lt.sort(function(e,t){return e.sortableIndex-t.sortableIndex});Nt=true},dragStarted:function e(t){var r=this;var n=t.sortable;if(!this.isMultiDrag)return;if(this.options.sort){n.captureAnimationState();if(this.options.animation){Lt.forEach(function(e){if(e===Vt)return;D(e,"position","absolute")});var i=R(Vt,false,true,true);Lt.forEach(function(e){if(e===Vt)return;Y(e,i)});Bt=true;Ft=true}}n.animateAll(function(){Bt=false;Ft=false;r.options.animation&&Lt.forEach(function(e){X(e)});r.options.sort&&Ht()})},dragOver:function e(t){var r=t.target,n=t.completed,i=t.cancel;if(Bt&&~Lt.indexOf(r)){n(false);i()}},revert:function e(t){var r=t.fromSortable,n=t.rootEl,i=t.sortable,o=t.dragRect;if(Lt.length>1){Lt.forEach(function(e){i.addAnimationState({target:e,rect:Bt?R(e):o});X(e);e.fromRect=o;r.removeAnimationState(e)});Bt=false;zt(!this.options.removeCloneOnHide,n)}},dragOverCompleted:function e(t){var r=t.sortable,n=t.isOwner,i=t.insertion,o=t.activeSortable,a=t.parentEl,s=t.putSortable;var l=this.options;if(i){n&&o._hideClone();Ft=false;if(l.animation&&Lt.length>1&&(Bt||!n&&!o.options.sort&&!s)){var u=R(Vt,false,true,true);Lt.forEach(function(e){if(e===Vt)return;Y(e,u);a.appendChild(e)});Bt=true}if(!n){Bt||Ht();if(Lt.length>1){var c=Wt;o._showClone(r);o.options.animation&&!Wt&&c&&It.forEach(function(e){o.addAnimationState({target:e,rect:qt});e.fromRect=qt;e.thisAnimationDuration=null})}else o._showClone(r)}}},dragOverAnimationCapture:function e(t){var r=t.dragRect,n=t.isOwner,i=t.activeSortable;Lt.forEach(function(e){e.thisAnimationDuration=null});if(i.options.animation&&!n&&i.multiDrag.isMultiDrag){qt=s({},r);var o=L(Vt,true);qt.top-=o.f;qt.left-=o.e}},dragOverAnimationComplete:function e(){if(Bt){Bt=false;Ht()}},drop:function e(t){var r=t.originalEvent,n=t.rootEl,i=t.parentEl,o=t.sortable,a=t.dispatchSortableEvent,s=t.oldIndex,l=t.putSortable;var u=l||this.sortable;if(!r)return;var c=this.options,d=i.children;if(!Nt){c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag();T(Vt,c.selectedClass,!~Lt.indexOf(Vt));if(~Lt.indexOf(Vt)){Lt.splice(Lt.indexOf(Vt),1);Mt=null;ae({sortable:o,rootEl:n,name:"deselect",targetEl:Vt,originalEvent:r})}else{Lt.push(Vt);ae({sortable:o,rootEl:n,name:"select",targetEl:Vt,originalEvent:r});if(r.shiftKey&&Mt&&o.el.contains(Mt)){var f=V(Mt),p=V(Vt);if(~f&&~p&&f!==p){var h,g;if(p>f){g=f;h=p}else{g=p;h=f+1}for(;g<h;g++){if(~Lt.indexOf(d[g]))continue;T(d[g],c.selectedClass,true);Lt.push(d[g]);ae({sortable:o,rootEl:n,name:"select",targetEl:d[g],originalEvent:r})}}}else Mt=Vt;Rt=u}}if(Nt&&this.isMultiDrag){Bt=false;if((i[J].options.sort||i!==n)&&Lt.length>1){var v=R(Vt),m=V(Vt,":not(."+this.options.selectedClass+")");!Ft&&c.animation&&(Vt.thisAnimationDuration=null);u.captureAnimationState();if(!Ft){if(c.animation){Vt.fromRect=v;Lt.forEach(function(e){e.thisAnimationDuration=null;if(e!==Vt){var t=Bt?R(e):v;e.fromRect=t;u.addAnimationState({target:e,rect:t})}})}Ht();Lt.forEach(function(e){d[m]?i.insertBefore(e,d[m]):i.appendChild(e);m++});if(s===V(Vt)){var y=false;Lt.forEach(function(e){if(e.sortableIndex!==V(e)){y=true;return}});y&&a("update")}}Lt.forEach(function(e){X(e)});u.animateAll()}Rt=u}(n===i||l&&"clone"!==l.lastPutMode)&&It.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})},nullingGlobal:function e(){this.isMultiDrag=Nt=false;It.length=0},destroyGlobal:function e(){this._deselectMultiDrag();x(document,"pointerup",this._deselectMultiDrag);x(document,"mouseup",this._deselectMultiDrag);x(document,"touchend",this._deselectMultiDrag);x(document,"keydown",this._checkKeyDown);x(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function e(t){if("undefined"!==typeof Nt&&Nt)return;if(Rt!==this.sortable)return;if(t&&j(t.target,this.options.draggable,this.sortable.el,false))return;if(t&&0!==t.button)return;while(Lt.length){var r=Lt[0];T(r,this.options.selectedClass,false);Lt.shift();ae({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvent:t})}},_checkKeyDown:function e(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=true)},_checkKeyUp:function e(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=false)}};return s(e,{pluginName:"multiDrag",utils:{select:function e(t){var r=t.parentNode[J];if(!r||!r.options.multiDrag||~Lt.indexOf(t))return;if(Rt&&Rt!==r){Rt.multiDrag._deselectMultiDrag();Rt=r}T(t,r.options.selectedClass,true);Lt.push(t)},deselect:function e(t){var r=t.parentNode[J],n=Lt.indexOf(t);if(!r||!r.options.multiDrag||!~n)return;T(t,r.options.selectedClass,false);Lt.splice(n,1)}},eventProperties:function e(){var t=this;var r=[],n=[];Lt.forEach(function(e){r.push({multiDragElement:e,index:e.sortableIndex});var i;i=Bt&&e!==Vt?-1:Bt?V(e,":not(."+t.options.selectedClass+")"):V(e);n.push({multiDragElement:e,index:i})});return{items:c(Lt),clones:[].concat(It),oldIndicies:r,newIndicies:n}},optionListeners:{multiDragKey:function e(t){t=t.toLowerCase();"ctrl"===t?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1));return t}}})}function zt(e,t){Lt.forEach(function(r,n){var i=t.children[r.sortableIndex+(e?Number(n):0)];i?t.insertBefore(r,i):t.appendChild(r)})}function Gt(e,t){It.forEach(function(r,n){var i=t.children[r.sortableIndex+(e?Number(n):0)];i?t.insertBefore(r,i):t.appendChild(r)})}function Ht(){Lt.forEach(function(e){if(e===Vt)return;e.parentNode&&e.parentNode.removeChild(e)})}rt.mount(new kt);rt.mount(jt,Ot);const $t=rt},24910(e,t,r){"use strict";var n=r(70013);function i(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var o="function"===typeof Object.is?Object.is:i,a=n.useState,s=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue;function c(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];l(function(){i.value=r;i.getSnapshot=t;d(i)&&o({inst:i})},[e,r,t]);s(function(){d(i)&&o({inst:i});return e(function(){d(i)&&o({inst:i})})},[e]);u(r);return r}function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}function f(e,t){return t()}var p="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?f:c;t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:p},67969(e,t,r){"use strict";var n=r(70013),i=r(20343);function o(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var a="function"===typeof Object.is?Object.is:o,s=i.useSyncExternalStore,l=n.useRef,u=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=l(null);if(null===o.current){var f={hasValue:!1,value:null};o.current=f}else f=o.current;o=c(function(){function e(e){if(!o){o=!0;s=e;e=n(e);if(void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return l=t}return l=e}t=l;if(a(s,e))return t;var r=n(e);if(void 0!==i&&i(t,r))return t;s=e;return l=r}var o=!1,s,l,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,i]);var p=s(e,o[0],o[1]);u(function(){f.hasValue=!0;f.value=p},[p]);d(p);return p}},20343(e,t,r){"use strict";true;e.exports=r(24910)},52325(e,t,r){"use strict";true;e.exports=r(67969)},72314(e){(function(t,r){e.exports=r()})(this,function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=/^\s+/;var r=/\s+$/;function n(e,t){e=e||"";t=t||{};if(e instanceof n)return e;if(!(this instanceof n))return new n(e,t);var r=i(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format;this._gradientType=t.gradientType;this._r<1&&(this._r=Math.round(this._r));this._g<1&&(this._g=Math.round(this._g));this._b<1&&(this._b=Math.round(this._b));this._ok=r.ok}n.prototype={isDark:function e(){return this.getBrightness()<128},isLight:function e(){return!this.isDark()},isValid:function e(){return this._ok},getOriginalInput:function e(){return this._originalInput},getFormat:function e(){return this._format},getAlpha:function e(){return this._a},getBrightness:function e(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function e(){var t=this.toRgb();var r,n,i,o,a,s;r=t.r/255;n=t.g/255;i=t.b/255;o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);s=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return.2126*o+.7152*a+.0722*s},setAlpha:function e(t){this._a=O(t);this._roundA=Math.round(100*this._a)/100;return this},toHsv:function e(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function e(){var t=l(this._r,this._g,this._b);var r=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1==this._a?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function e(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function e(){var t=a(this._r,this._g,this._b);var r=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1==this._a?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function e(t){return c(this._r,this._g,this._b,t)},toHexString:function e(t){return"#"+this.toHex(t)},toHex8:function e(t){return d(this._r,this._g,this._b,this._a,t)},toHex8String:function e(t){return"#"+this.toHex8(t)},toRgb:function e(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function e(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function e(){return{r:Math.round(100*j(this._r,255))+"%",g:Math.round(100*j(this._g,255))+"%",b:Math.round(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function e(){return 1==this._a?"rgb("+Math.round(100*j(this._r,255))+"%, "+Math.round(100*j(this._g,255))+"%, "+Math.round(100*j(this._b,255))+"%)":"rgba("+Math.round(100*j(this._r,255))+"%, "+Math.round(100*j(this._g,255))+"%, "+Math.round(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function e(){if(0===this._a)return"transparent";if(this._a<1)return false;return x[c(this._r,this._g,this._b,true)]||false},toFilter:function e(t){var r="#"+f(this._r,this._g,this._b,this._a);var i=r;var o=this._gradientType?"GradientType = 1, ":"";if(t){var a=n(t);i="#"+f(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function e(t){var r=!!t;t=t||this._format;var n=false;var i=this._a<1&&this._a>=0;var o=!r&&i&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);if(o){if("name"===t&&0===this._a)return this.toName();return this.toRgbString()}"rgb"===t&&(n=this.toRgbString());"prgb"===t&&(n=this.toPercentageRgbString());"hex"!==t&&"hex6"!==t||(n=this.toHexString());"hex3"===t&&(n=this.toHexString(true));"hex4"===t&&(n=this.toHex8String(true));"hex8"===t&&(n=this.toHex8String());"name"===t&&(n=this.toName());"hsl"===t&&(n=this.toHslString());"hsv"===t&&(n=this.toHsvString());return n||this.toHexString()},clone:function e(){return n(this.toString())},_applyModification:function e(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));this._r=n._r;this._g=n._g;this._b=n._b;this.setAlpha(n._a);return this},lighten:function e(){return this._applyModification(v,arguments)},brighten:function e(){return this._applyModification(m,arguments)},darken:function e(){return this._applyModification(y,arguments)},desaturate:function e(){return this._applyModification(p,arguments)},saturate:function e(){return this._applyModification(h,arguments)},greyscale:function e(){return this._applyModification(g,arguments)},spin:function e(){return this._applyModification(b,arguments)},_applyCombination:function e(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function e(){return this._applyCombination(k,arguments)},complement:function e(){return this._applyCombination(w,arguments)},monochromatic:function e(){return this._applyCombination(P,arguments)},splitcomplement:function e(){return this._applyCombination(S,arguments)},triad:function e(){return this._applyCombination(_,[3])},tetrad:function e(){return this._applyCombination(_,[4])}};n.fromRatio=function(t,r){if("object"==e(t)){var i={};for(var o in t)t.hasOwnProperty(o)&&(i[o]="a"===o?t[o]:M(t[o]));t=i}return n(t,r)};function i(t){var r={r:0,g:0,b:0};var n=1;var i=null;var a=null;var l=null;var c=false;var d=false;"string"==typeof t&&(t=V(t));if("object"==e(t)){if(N(t.r)&&N(t.g)&&N(t.b)){r=o(t.r,t.g,t.b);c=true;d="%"===String(t.r).substr(-1)?"prgb":"rgb"}else if(N(t.h)&&N(t.s)&&N(t.v)){i=M(t.s);a=M(t.v);r=u(t.h,i,a);c=true;d="hsv"}else if(N(t.h)&&N(t.s)&&N(t.l)){i=M(t.s);l=M(t.l);r=s(t.h,i,l);c=true;d="hsl"}t.hasOwnProperty("a")&&(n=t.a)}n=O(n);return{ok:c,format:t.format||d,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:n}}function o(e,t,r){return{r:255*j(e,255),g:255*j(t,255),b:255*j(r,255)}}function a(e,t,r){e=j(e,255);t=j(t,255);r=j(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r);var o,a,s=(n+i)/2;if(n==i)o=a=0;else{var l=n-i;a=s>.5?l/(2-n-i):l/(n+i);switch(n){case e:o=(t-r)/l+(t<r?6:0);break;case t:o=(r-e)/l+2;break;case r:o=(e-t)/l+4;break}o/=6}return{h:o,s:a,l:s}}function s(e,t,r){var n,i,o;e=j(e,360);t=j(t,100);r=j(r,100);function a(e,t,r){r<0&&(r+=1);r>1&&(r-=1);if(r<1/6)return e+6*(t-e)*r;if(r<.5)return t;if(r<2/3)return e+(t-e)*(2/3-r)*6;return e}if(0===t)n=i=o=r;else{var s=r<.5?r*(1+t):r+t-r*t;var l=2*r-s;n=a(l,s,e+1/3);i=a(l,s,e);o=a(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*o}}function l(e,t,r){e=j(e,255);t=j(t,255);r=j(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r);var o,a,s=n;var l=n-i;a=0===n?0:l/n;if(n==i)o=0;else{switch(n){case e:o=(t-r)/l+(t<r?6:0);break;case t:o=(r-e)/l+2;break;case r:o=(e-t)/l+4;break}o/=6}return{h:o,s:a,v:s}}function u(e,t,r){e=6*j(e,360);t=j(t,100);r=j(r,100);var n=Math.floor(e),i=e-n,o=r*(1-t),a=r*(1-i*t),s=r*(1-(1-i)*t),l=n%6,u=[r,a,o,o,s,r][l],c=[s,r,r,a,o,o][l],d=[o,o,s,r,r,a][l];return{r:255*u,g:255*c,b:255*d}}function c(e,t,r,n){var i=[I(Math.round(e).toString(16)),I(Math.round(t).toString(16)),I(Math.round(r).toString(16))];if(n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0);return i.join("")}function d(e,t,r,n,i){var o=[I(Math.round(e).toString(16)),I(Math.round(t).toString(16)),I(Math.round(r).toString(16)),I(R(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}function f(e,t,r,n){var i=[I(R(n)),I(Math.round(e).toString(16)),I(Math.round(t).toString(16)),I(Math.round(r).toString(16))];return i.join("")}n.equals=function(e,t){if(!e||!t)return false;return n(e).toRgbString()==n(t).toRgbString()};n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function p(e,t){t=0===t?0:t||10;var r=n(e).toHsl();r.s-=t/100;r.s=A(r.s);return n(r)}function h(e,t){t=0===t?0:t||10;var r=n(e).toHsl();r.s+=t/100;r.s=A(r.s);return n(r)}function g(e){return n(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var r=n(e).toHsl();r.l+=t/100;r.l=A(r.l);return n(r)}function m(e,t){t=0===t?0:t||10;var r=n(e).toRgb();r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255)));r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255)));r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255)));return n(r)}function y(e,t){t=0===t?0:t||10;var r=n(e).toHsl();r.l-=t/100;r.l=A(r.l);return n(r)}function b(e,t){var r=n(e).toHsl();var i=(r.h+t)%360;r.h=i<0?360+i:i;return n(r)}function w(e){var t=n(e).toHsl();t.h=(t.h+180)%360;return n(t)}function _(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");var r=n(e).toHsl();var i=[n(e)];var o=360/t;for(var a=1;a<t;a++)i.push(n({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function S(e){var t=n(e).toHsl();var r=t.h;return[n(e),n({h:(r+72)%360,s:t.s,l:t.l}),n({h:(r+216)%360,s:t.s,l:t.l})]}function k(e,t,r){t=t||6;r=r||30;var i=n(e).toHsl();var o=360/r;var a=[n(e)];for(i.h=(i.h-(o*t>>1)+720)%360;--t;){i.h=(i.h+o)%360;a.push(n(i))}return a}function P(e,t){t=t||6;var r=n(e).toHsv();var i=r.h,o=r.s,a=r.v;var s=[];var l=1/t;while(t--){s.push(n({h:i,s:o,v:a}));a=(a+l)%1}return s}n.mix=function(e,t,r){r=0===r?0:r||50;var i=n(e).toRgb();var o=n(t).toRgb();var a=r/100;var s={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return n(s)};n.readability=function(e,t){var r=n(e);var i=n(t);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};n.isReadable=function(e,t,r){var i=n.readability(e,t);var o,a;a=false;o=q(r);switch(o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};n.mostReadable=function(e,t,r){var i=null;var o=0;var a;var s,l,u;r=r||{};s=r.includeFallbackColors;l=r.level;u=r.size;for(var c=0;c<t.length;c++){a=n.readability(e,t[c]);if(a>o){o=a;i=n(t[c])}}if(n.isReadable(e,i,{level:l,size:u})||!s)return i;r.includeFallbackColors=false;return n.mostReadable(e,["#fff","#000"],r)};var E=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var x=n.hexNames=C(E);function C(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function O(e){e=parseFloat(e);(isNaN(e)||e<0||e>1)&&(e=1);return e}function j(e,t){D(e)&&(e="100%");var r=L(e);e=Math.min(t,Math.max(0,parseFloat(e)));r&&(e=parseInt(e*t,10)/100);if(Math.abs(e-t)<1e-6)return 1;return e%t/parseFloat(t)}function A(e){return Math.min(1,Math.max(0,e))}function T(e){return parseInt(e,16)}function D(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function L(e){return"string"===typeof e&&-1!=e.indexOf("%")}function I(e){return 1==e.length?"0"+e:""+e}function M(e){e<=1&&(e=100*e+"%");return e}function R(e){return Math.round(255*parseFloat(e)).toString(16)}function F(e){return T(e)/255}var B=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var r="(?:"+t+")|(?:"+e+")";var n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";var i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function N(e){return!!B.CSS_UNIT.exec(e)}function V(e){e=e.replace(t,"").replace(r,"").toLowerCase();var n=false;if(E[e]){e=E[e];n=true}else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var i;if(i=B.rgb.exec(e))return{r:i[1],g:i[2],b:i[3]};if(i=B.rgba.exec(e))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=B.hsl.exec(e))return{h:i[1],s:i[2],l:i[3]};if(i=B.hsla.exec(e))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=B.hsv.exec(e))return{h:i[1],s:i[2],v:i[3]};if(i=B.hsva.exec(e))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=B.hex8.exec(e))return{r:T(i[1]),g:T(i[2]),b:T(i[3]),a:F(i[4]),format:n?"name":"hex8"};if(i=B.hex6.exec(e))return{r:T(i[1]),g:T(i[2]),b:T(i[3]),format:n?"name":"hex"};if(i=B.hex4.exec(e))return{r:T(i[1]+""+i[1]),g:T(i[2]+""+i[2]),b:T(i[3]+""+i[3]),a:F(i[4]+""+i[4]),format:n?"name":"hex8"};if(i=B.hex3.exec(e))return{r:T(i[1]+""+i[1]),g:T(i[2]+""+i[2]),b:T(i[3]+""+i[3]),format:n?"name":"hex"};return false}function q(e){var t,r;e=e||{level:"AA",size:"small"};t=(e.level||"AA").toUpperCase();r=(e.size||"small").toLowerCase();"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}return n})},41543(e,t,r){"use strict";r.r(t);r.d(t,{ApiProvider:()=>D,NamedSchemaError:()=>n.NamedSchemaError,QueryStatus:()=>n.QueryStatus,UNINITIALIZED_VALUE:()=>m,_NEVER:()=>n._NEVER,buildCreateApi:()=>n.buildCreateApi,copyWithStructuralSharing:()=>n.copyWithStructuralSharing,coreModule:()=>n.coreModule,coreModuleName:()=>n.coreModuleName,createApi:()=>L,defaultSerializeQueryArgs:()=>n.defaultSerializeQueryArgs,fakeBaseQuery:()=>n.fakeBaseQuery,fetchBaseQuery:()=>n.fetchBaseQuery,reactHooksModule:()=>T,reactHooksModuleName:()=>A,retry:()=>n.retry,setupListeners:()=>n.setupListeners,skipToken:()=>n.skipToken});var n=r(72);var i=r(46900);var o=r(84219);var a=r(44381);var s=r(70013);function l(e){return e.replace(e[0],e[0].toUpperCase())}function u(e){let t=0;for(const r in e)t++;return t}var c="query";var d="mutation";var f="infinitequery";function p(e){return e.type===c}function h(e){return e.type===d}function g(e){return e.type===f}function v(e,...t){return Object.assign(e,...t)}var m=Symbol();function y(e){const t=(0,s.useRef)(e);const r=(0,s.useMemo)(()=>(0,n.copyWithStructuralSharing)(t.current,e),[e]);(0,s.useEffect)(()=>{t.current!==r&&(t.current=r)},[r]);return r}function b(e){const t=(0,s.useRef)(e);(0,s.useEffect)(()=>{(0,i.shallowEqual)(t.current,e)||(t.current=e)},[e]);return(0,i.shallowEqual)(t.current,e)?t.current:e}var w=()=>!!("undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement);var _=w();var S=()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product;var k=S();var P=()=>_||k?s.useLayoutEffect:s.useEffect;var E=P();var x=e=>{if(e.isUninitialized)return{...e,isUninitialized:false,isFetching:true,isLoading:void 0===e.data,status:n.QueryStatus.pending};return e};function C(e,...t){const r={};t.forEach(t=>{r[t]=e[t]});return r}var O=["data","status","isLoading","isSuccess","isError","error"];function j({api:e,moduleOptions:{batch:t,hooks:{useDispatch:r,useSelector:o,useStore:l},unstable__sideEffectsInRender:u,createSelector:c},serializeQueryArgs:d,context:f}){const p=u?e=>e():s.useEffect;const h=e=>e.current?.unsubscribe?.();const v=f.endpointDefinitions;return{buildQueryHooks:T,buildInfiniteQueryHooks:D,buildMutationHook:L,usePrefetch:S};function w(e,t,r){if(t?.endpointName&&e.isUninitialized){const{endpointName:e}=t;const i=v[e];r!==n.skipToken&&d({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:e})===d({queryArgs:r,endpointDefinition:i,endpointName:e})&&(t=void 0)}let i=e.isSuccess?e.data:t?.data;void 0===i&&(i=e.data);const o=void 0!==i;const a=e.isLoading;const s=(!t||t.isLoading||t.isUninitialized)&&!o&&a;const l=e.isSuccess||o&&(a&&!t?.isError||e.isUninitialized);return{...e,data:i,currentData:e.data,isFetching:a,isLoading:s,isSuccess:l}}function _(e,t,r){if(t?.endpointName&&e.isUninitialized){const{endpointName:e}=t;const i=v[e];r!==n.skipToken&&d({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:e})===d({queryArgs:r,endpointDefinition:i,endpointName:e})&&(t=void 0)}let i=e.isSuccess?e.data:t?.data;void 0===i&&(i=e.data);const o=void 0!==i;const a=e.isLoading;const s=(!t||t.isLoading||t.isUninitialized)&&!o&&a;const l=e.isSuccess||a&&o;return{...e,data:i,currentData:e.data,isFetching:a,isLoading:s,isSuccess:l}}function S(t,n){const i=r();const o=b(n);return(0,s.useCallback)((r,n)=>i(e.util.prefetch(t,r,{...o,...n})),[t,i,o])}function k(t,i,{refetchOnReconnect:o,refetchOnFocus:a,refetchOnMountOrArgChange:l,skip:u=false,pollingInterval:c=0,skipPollingIfUnfocused:d=false,...f}={}){const{initiate:h}=e.endpoints[t];const m=r();const w=(0,s.useRef)(void 0);if(!w.current){const t=m(e.internalActions.internal_getRTKQSubscriptions());false;w.current=t}const _=y(u?n.skipToken:i);const S=b({refetchOnReconnect:o,refetchOnFocus:a,pollingInterval:c,skipPollingIfUnfocused:d});const k=f.initialPageParam;const P=b(k);const E=f.refetchCachedPages;const x=b(E);const C=(0,s.useRef)(void 0);let{queryCacheKey:O,requestId:j}=C.current||{};let A=false;O&&j&&(A=w.current.isRequestSubscribed(O,j));const T=!A&&void 0!==C.current;p(()=>{T&&(C.current=void 0)},[T]);p(()=>{const e=C.current;"undefined"!==typeof process&&false;if(_===n.skipToken){e?.unsubscribe();C.current=void 0;return}const r=C.current?.subscriptionOptions;if(e&&e.arg===_)S!==r&&e.updateSubscriptionOptions(S);else{e?.unsubscribe();const r=m(h(_,{subscriptionOptions:S,forceRefetch:l,...g(v[t])?{initialPageParam:P,refetchCachedPages:x}:{}}));C.current=r}},[m,h,l,_,S,T,P,x,t]);return[C,m,h,S]}function P(t,r){const a=(a,{skip:u=false,selectFromResult:d}={})=>{const{select:f}=e.endpoints[t];const p=y(u?n.skipToken:a);const h=(0,s.useRef)(void 0);const g=(0,s.useMemo)(()=>c([f(p),(e,t)=>t,e=>p],r,{memoizeOptions:{resultEqualityCheck:i.shallowEqual}}),[f,p]);const v=(0,s.useMemo)(()=>d?c([g],d,{devModeChecks:{identityFunctionCheck:"never"}}):g,[g,d]);const m=o(e=>v(e,h.current),i.shallowEqual);const b=l();const w=g(b.getState(),h.current);E(()=>{h.current=w},[w]);return m};return a}function j(e){(0,s.useEffect)(()=>()=>{h(e);e.current=void 0},[e])}function A(e){if(!e.current)throw new Error((0,a.formatProdErrorMessage)(38));return e.current.refetch()}function T(i){const o=(e,t={})=>{const[r]=k(i,e,t);j(r);return(0,s.useMemo)(()=>({refetch:()=>A(r)}),[r])};const a=({refetchOnReconnect:n,refetchOnFocus:o,pollingInterval:a=0,skipPollingIfUnfocused:l=false}={})=>{const{initiate:u}=e.endpoints[i];const c=r();const[d,f]=(0,s.useState)(m);const g=(0,s.useRef)(void 0);const v=b({refetchOnReconnect:n,refetchOnFocus:o,pollingInterval:a,skipPollingIfUnfocused:l});p(()=>{const e=g.current?.subscriptionOptions;v!==e&&g.current?.updateSubscriptionOptions(v)},[v]);const y=(0,s.useRef)(v);p(()=>{y.current=v},[v]);const w=(0,s.useCallback)(function(e,r=false){let n;t(()=>{h(g);g.current=n=c(u(e,{subscriptionOptions:y.current,forceRefetch:!r}));f(e)});return n},[c,u]);const _=(0,s.useCallback)(()=>{g.current?.queryCacheKey&&c(e.internalActions.removeQueryResult({queryCacheKey:g.current?.queryCacheKey}))},[c]);(0,s.useEffect)(()=>()=>{h(g)},[]);(0,s.useEffect)(()=>{d===m||g.current||w(d,true)},[d,w]);return(0,s.useMemo)(()=>[w,d,{reset:_}],[w,d,_])};const l=P(i,w);return{useQueryState:l,useQuerySubscription:o,useLazyQuerySubscription:a,useLazyQuery(e){const[t,r,{reset:n}]=a(e);const i=l(r,{...e,skip:r===m});const o=(0,s.useMemo)(()=>({lastArg:r}),[r]);return(0,s.useMemo)(()=>[t,{...i,reset:n},o],[t,i,n,o])},useQuery(e,t){const r=o(e,t);const i=l(e,{selectFromResult:e===n.skipToken||t?.skip?void 0:x,...t});const a=C(i,...O);(0,s.useDebugValue)(a);return(0,s.useMemo)(()=>({...i,...r}),[i,r])}}}function D(e){const r=(r,i={})=>{const[o,l,u,c]=k(e,r,i);const d=(0,s.useRef)(c);p(()=>{d.current=c},[c]);const f=i.refetchCachedPages;const g=b(f);const v=(0,s.useCallback)(function(e,r){let n;t(()=>{h(o);o.current=n=l(u(e,{subscriptionOptions:d.current,direction:r}))});return n},[o,l,u]);j(o);const m=y(i.skip?n.skipToken:r);const w=(0,s.useCallback)(e=>{if(!o.current)throw new Error((0,a.formatProdErrorMessage)(38));const t={refetchCachedPages:e?.refetchCachedPages??g};return o.current.refetch(t)},[o,g]);return(0,s.useMemo)(()=>{const e=()=>v(m,"forward");const t=()=>v(m,"backward");return{trigger:v,refetch:w,fetchNextPage:e,fetchPreviousPage:t}},[w,v,m])};const i=P(e,_);return{useInfiniteQueryState:i,useInfiniteQuerySubscription:r,useInfiniteQuery(e,t){const{refetch:o,fetchNextPage:a,fetchPreviousPage:l}=r(e,t);const u=i(e,{selectFromResult:e===n.skipToken||t?.skip?void 0:x,...t});const c=C(u,...O,"hasNextPage","hasPreviousPage");(0,s.useDebugValue)(c);return(0,s.useMemo)(()=>({...u,fetchNextPage:a,fetchPreviousPage:l,refetch:o}),[u,a,l,o])}}}function L(n){return({selectFromResult:a,fixedCacheKey:l}={})=>{const{select:u,initiate:d}=e.endpoints[n];const f=r();const[p,h]=(0,s.useState)();(0,s.useEffect)(()=>()=>{p?.arg.fixedCacheKey||p?.reset()},[p]);const g=(0,s.useCallback)(function(e){const t=f(d(e,{fixedCacheKey:l}));h(t);return t},[f,d,l]);const{requestId:v}=p||{};const m=(0,s.useMemo)(()=>u({fixedCacheKey:l,requestId:p?.requestId}),[l,p,u]);const y=(0,s.useMemo)(()=>a?c([m],a):m,[a,m]);const b=o(y,i.shallowEqual);const w=null==l?p?.arg.originalArgs:void 0;const _=(0,s.useCallback)(()=>{t(()=>{p&&h(void 0);l&&f(e.internalActions.removeMutationResult({requestId:v,fixedCacheKey:l}))})},[f,l,p,v]);const S=C(b,...O,"endpointName");(0,s.useDebugValue)(S);const k=(0,s.useMemo)(()=>({...b,originalArgs:w,reset:_}),[b,w,_]);return(0,s.useMemo)(()=>[g,k],[g,k])}}}var A=Symbol();var T=({batch:e=i.batch,hooks:t={useDispatch:i.useDispatch,useSelector:i.useSelector,useStore:i.useStore},createSelector:r=o.Mz,unstable__sideEffectsInRender:n=false,...a}={})=>{false;return{name:A,init(i,{serializeQueryArgs:o},a){const s=i;const{buildQueryHooks:u,buildInfiniteQueryHooks:c,buildMutationHook:d,usePrefetch:f}=j({api:i,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:n,createSelector:r},serializeQueryArgs:o,context:a});v(s,{usePrefetch:f});v(a,{batch:e});return{injectEndpoint(e,t){if(p(t)){const{useQuery:t,useLazyQuery:r,useLazyQuerySubscription:n,useQueryState:o,useQuerySubscription:a}=u(e);v(s.endpoints[e],{useQuery:t,useLazyQuery:r,useLazyQuerySubscription:n,useQueryState:o,useQuerySubscription:a});i[`use${l(e)}Query`]=t;i[`useLazy${l(e)}Query`]=r}if(h(t)){const t=d(e);v(s.endpoints[e],{useMutation:t});i[`use${l(e)}Mutation`]=t}else if(g(t)){const{useInfiniteQuery:t,useInfiniteQuerySubscription:r,useInfiniteQueryState:n}=c(e);v(s.endpoints[e],{useInfiniteQuery:t,useInfiniteQuerySubscription:r,useInfiniteQueryState:n});i[`use${l(e)}InfiniteQuery`]=t}}}}}};function D(e){const t=e.context||i.ReactReduxContext;const r=(0,s.useContext)(t);if(r)throw new Error((0,a.formatProdErrorMessage)(35));const[o]=s.useState(()=>(0,a.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:t=>t().concat(e.api.middleware)}));(0,s.useEffect)(()=>false===e.setupListeners?void 0:(0,n.setupListeners)(o.dispatch,e.setupListeners),[e.setupListeners,o.dispatch]);return s.createElement(i.Provider,{store:o,context:t},e.children)}var L=(0,n.buildCreateApi)((0,n.coreModule)(),T())},72(e,t,r){"use strict";r.r(t);r.d(t,{NamedSchemaError:()=>me,QueryStatus:()=>u,_NEVER:()=>Ve,buildCreateApi:()=>Ne,copyWithStructuralSharing:()=>v,coreModule:()=>rt,coreModuleName:()=>tt,createApi:()=>nt,defaultSerializeQueryArgs:()=>Be,fakeBaseQuery:()=>qe,fetchBaseQuery:()=>M,retry:()=>W,setupListeners:()=>te,skipToken:()=>De});var n=r(61579);var i=r(44381);var o=r(21275);var a=r(84219);function s(e){if(e.path?.length){let t="";for(const r of e.path){const e="object"===typeof r?r.key:r;if("string"!==typeof e&&"number"!==typeof e)return null;t+=t?`.${e}`:e}return t}return null}var l=class extends Error{issues;constructor(e){super(e[0].message);this.name="SchemaError";this.issues=e}};var u=(e=>{e["uninitialized"]="uninitialized";e["pending"]="pending";e["fulfilled"]="fulfilled";e["rejected"]="rejected";return e})(u||{});var c="uninitialized";var d="pending";var f="fulfilled";var p="rejected";function h(e){return{status:e,isUninitialized:e===c,isLoading:e===d,isSuccess:e===f,isError:e===p}}var g=n.Qd;function v(e,t){if(e===t||!(g(e)&&g(t)||Array.isArray(e)&&Array.isArray(t)))return t;const r=Object.keys(t);const n=Object.keys(e);let i=r.length===n.length;const o=Array.isArray(t)?[]:{};for(const n of r){o[n]=v(e[n],t[n]);i&&(i=e[n]===o[n])}return i?e:o}function m(e,t,r){return e.reduce((e,n,i)=>{t(n,i)&&e.push(r(n,i));return e},[]).flat()}function y(e){return new RegExp("(^|:)//").test(e)}function b(){if("undefined"===typeof document)return true;return"hidden"!==document.visibilityState}function w(e){return null!=e}function _(e){return[...e?.values()??[]].filter(w)}function S(){return"undefined"===typeof navigator||(void 0===navigator.onLine||navigator.onLine)}var k=e=>e.replace(/\/$/,"");var P=e=>e.replace(/^\//,"");function E(e,t){if(!e)return t;if(!t)return e;if(y(t))return t;const r=e.endsWith("/")||!t.startsWith("?")?"/":"";e=k(e);t=P(t);return`${e}${r}${t}`}function x(e,t,r){if(e.has(t))return e.get(t);return e.set(t,r(t)).get(t)}var C=()=>new Map;var O=e=>{const t=new AbortController;setTimeout(()=>{const e="signal timed out";const r="TimeoutError";t.abort("undefined"!==typeof DOMException?new DOMException(e,r):Object.assign(new Error(e),{name:r}))},e);return t.signal};var j=(...e)=>{for(const t of e)if(t.aborted)return AbortSignal.abort(t.reason);const t=new AbortController;for(const r of e)r.addEventListener("abort",()=>t.abort(r.reason),{signal:t.signal,once:true});return t.signal};var A=(...e)=>fetch(...e);var T=e=>e.status>=200&&e.status<=299;var D=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function L(e){if(!(0,n.Qd)(e))return e;const t={...e};for(const[e,r]of Object.entries(t))void 0===r&&delete t[e];return t}var I=e=>"object"===typeof e&&((0,n.Qd)(e)||Array.isArray(e)||"function"===typeof e.toJSON);function M({baseUrl:e,prepareHeaders:t=e=>e,fetchFn:r=A,paramsSerializer:n,isJsonContentType:i=D,jsonContentType:o="application/json",jsonReplacer:a,timeout:s,responseHandler:l,validateStatus:u,...c}={}){"undefined"===typeof fetch&&r===A&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments.");return async(f,p,h)=>{const{getState:g,extra:v,endpoint:m,forced:y,type:b}=p;let w;let{url:_,headers:S=new Headers(c.headers),params:k,responseHandler:P=l??"json",validateStatus:x=u??T,timeout:C=s,...A}="string"==typeof f?{url:f}:f;let D={...c,signal:C?j(p.signal,O(C)):p.signal,...A};S=new Headers(L(S));D.headers=await t(S,{getState:g,arg:f,extra:v,endpoint:m,forced:y,type:b,extraOptions:h})||S;const M=I(D.body);null==D.body||M||"string"===typeof D.body||D.headers.delete("content-type");!D.headers.has("content-type")&&M&&D.headers.set("content-type",o);M&&i(D.headers)&&(D.body=JSON.stringify(D.body,a));D.headers.has("accept")||("json"===P?D.headers.set("accept","application/json"):"text"===P&&D.headers.set("accept","text/plain, text/html, */*"));if(k){const e=~_.indexOf("?")?"&":"?";const t=n?n(k):new URLSearchParams(L(k));_+=e+t}_=E(e,_);const R=new Request(_,D);const F=new Request(_,D);w={request:F};let B;try{B=await r(R)}catch(e){return{error:{status:(e instanceof Error||"undefined"!==typeof DOMException&&e instanceof DOMException)&&"TimeoutError"===e.name?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(e)},meta:w}}const N=B.clone();w.response=N;let V;let q="";try{let e;await Promise.all([d(B,P).then(e=>V=e,t=>e=t),N.text().then(e=>q=e,()=>{})]);if(e)throw e}catch(e){return{error:{status:"PARSING_ERROR",originalStatus:B.status,data:q,error:String(e)},meta:w}}return x(B,V)?{data:V,meta:w}:{error:{status:B.status,data:V},meta:w}};async function d(e,t){if("function"===typeof t)return t(e);"content-type"===t&&(t=i(e.headers)?"json":"text");if("json"===t){const t=await e.text();return t.length?JSON.parse(t):null}return e.text()}}var R=class{constructor(e,t=void 0){this.value=e;this.meta=t}};async function F(e=0,t=5,r){const n=Math.min(e,t);const i=~~((Math.random()+.4)*(300<<n));await new Promise((e,t)=>{const n=setTimeout(()=>e(),i);if(r){const e=()=>{clearTimeout(n);t(new Error("Aborted"))};if(r.aborted){clearTimeout(n);t(new Error("Aborted"))}else r.addEventListener("abort",e,{once:true})}})}function B(e,t){throw Object.assign(new R({error:e,meta:t}),{throwImmediately:true})}function N(e){e.aborted&&B({status:"CUSTOM_ERROR",error:"Aborted"})}var V={};var q=(e,t)=>async(r,n,i)=>{const o=[5,(t||V).maxRetries,(i||V).maxRetries].filter(e=>void 0!==e);const[a]=o.slice(-1);const s=(e,t,{attempt:r})=>r<=a;const l={maxRetries:a,backoff:F,retryCondition:s,...t,...i};let u=0;while(true){N(n.signal);try{const t=await e(r,n,i);if(t.error)throw new R(t);return t}catch(e){u++;if(e.throwImmediately){if(e instanceof R)return e.value;throw e}if(e instanceof R){if(!l.retryCondition(e.value.error,r,{attempt:u,baseQueryApi:n,extraOptions:i}))return e.value}else if(u>l.maxRetries)return{error:e};N(n.signal);try{await l.backoff(u,l.maxRetries,n.signal)}catch(e){N(n.signal);throw e}}}};var W=Object.assign(q,{fail:B});var U="__rtkq/";var z="online";var G="offline";var H="focus";var $="focused";var K="visibilitychange";var Z=(0,i.createAction)(`${U}${$}`);var Q=(0,i.createAction)(`${U}un${$}`);var Y=(0,i.createAction)(`${U}${z}`);var X=(0,i.createAction)(`${U}${G}`);var J={onFocus:Z,onFocusLost:Q,onOnline:Y,onOffline:X};var ee=false;function te(e,t){function r(){const[t,r,n,i]=[Z,Q,Y,X].map(t=>()=>e(t()));const o=()=>{"visible"===window.document.visibilityState?t():r()};let a=()=>{ee=false};if(!ee&&"undefined"!==typeof window&&window.addEventListener){let e=function(e){Object.entries(r).forEach(([t,r])=>{e?window.addEventListener(t,r,false):window.removeEventListener(t,r)})};var s=e;const r={[H]:t,[K]:o,[z]:n,[G]:i};e(true);ee=true;a=()=>{e(false);ee=false}}return a}return t?t(e,J):r()}var re="query";var ne="mutation";var ie="infinitequery";function oe(e){return e.type===re}function ae(e){return e.type===ne}function se(e){return e.type===ie}function le(e){return oe(e)||se(e)}function ue(e,t,r,n,i,o){const a=ce(e)?e(t,r,n,i):e;if(a)return m(a,w,e=>o(de(e)));return[]}function ce(e){return"function"===typeof e}function de(e){return"string"===typeof e?{type:e}:e}function fe(e,t){return e.catch(t)}var pe=(e,t)=>e.endpointDefinitions[t];var he=Symbol("forceQueryFn");var ge=e=>"function"===typeof e[he];function ve({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:r,mutationThunk:n,api:i,context:o,getInternalState:a}){const s=e=>a(e)?.runningQueries;const l=e=>a(e)?.runningMutations;const{unsubscribeQueryResult:u,removeMutationResult:c,updateSubscriptionOptions:d}=i.internalActions;return{buildInitiateQuery:y,buildInitiateInfiniteQuery:b,buildInitiateMutation:w,getRunningQueryThunk:f,getRunningMutationThunk:p,getRunningQueriesThunk:h,getRunningMutationsThunk:g};function f(t,r){return n=>{const i=pe(o,t);const a=e({queryArgs:r,endpointDefinition:i,endpointName:t});return s(n)?.get(a)}}function p(e,t){return e=>l(e)?.get(t)}function h(){return e=>_(s(e))}function g(){return e=>_(l(e))}function v(e){false}function m(n,o){const a=(l,{subscribe:c=true,forceRefetch:f,subscriptionOptions:p,[he]:h,...g}={})=>(m,y)=>{const b=e({queryArgs:l,endpointDefinition:o,endpointName:n});let w;const _={...g,type:re,subscribe:c,forceRefetch:f,subscriptionOptions:p,endpointName:n,originalArgs:l,queryCacheKey:b,[he]:h};if(oe(o))w=t(_);else{const{direction:e,initialPageParam:t,refetchCachedPages:n}=g;w=r({..._,direction:e,initialPageParam:t,refetchCachedPages:n})}const S=i.endpoints[n].select(l);const k=m(w);const P=S(y());v(m);const{requestId:E,abort:x}=k;const C=P.requestId!==E;const O=s(m)?.get(b);const j=()=>S(y());const A=Object.assign(h?k.then(j):C&&!O?Promise.resolve(P):Promise.all([O,k]).then(j),{arg:l,requestId:E,subscriptionOptions:p,queryCacheKey:b,abort:x,async unwrap(){const e=await A;if(e.isError)throw e.error;return e.data},refetch:e=>m(a(l,{subscribe:false,forceRefetch:true,...e})),unsubscribe(){c&&m(u({queryCacheKey:b,requestId:E}))},updateSubscriptionOptions(e){A.subscriptionOptions=e;m(d({endpointName:n,requestId:E,queryCacheKey:b,options:e}))}});if(!O&&!C&&!h){const e=s(m);e.set(b,A);A.then(()=>{e.delete(b)})}return A};return a}function y(e,t){const r=m(e,t);return r}function b(e,t){const r=m(e,t);return r}function w(e){return(t,{track:r=true,fixedCacheKey:i}={})=>(o,a)=>{const s=n({type:"mutation",endpointName:e,originalArgs:t,track:r,fixedCacheKey:i});const u=o(s);v(o);const{requestId:d,abort:f,unwrap:p}=u;const h=fe(u.unwrap().then(e=>({data:e})),e=>({error:e}));const g=()=>{o(c({requestId:d,fixedCacheKey:i}))};const m=Object.assign(h,{arg:u.arg,requestId:d,abort:f,unwrap:p,reset:g});const y=l(o);y.set(d,m);m.then(()=>{y.delete(d)});if(i){y.set(i,m);m.then(()=>{y.get(i)===m&&y.delete(i)})}return m}}}var me=class extends l{constructor(e,t,r,n){super(e);this.value=t;this.schemaName=r;this._bqMeta=n}};var ye=(e,t)=>Array.isArray(e)?e.includes(t):!!e;async function be(e,t,r,n){const i=await e["~standard"].validate(t);if(i.issues)throw new me(i.issues,t,r,n);return i.value}function we(e){return e}var _e=(e={})=>({...e,[i.SHOULD_AUTOBATCH]:true});function Se({reducerPath:e,baseQuery:t,context:{endpointDefinitions:r},serializeQueryArgs:n,api:a,assertTagType:s,selectors:l,onSchemaFailure:u,catchSchemaFailure:d,skipSchemaValidation:f}){const p=(e,t,i,o)=>(l,u)=>{const c=r[e];const d=n({queryArgs:t,endpointDefinition:c,endpointName:e});l(a.internalActions.queryResultPatched({queryCacheKey:d,patches:i}));if(!o)return;const f=a.endpoints[e].select(t)(u());const p=ue(c.providesTags,f.data,void 0,t,{},s);l(a.internalActions.updateProvidedBy([{queryCacheKey:d,providedTags:p}]))};function h(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}function g(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}const v=(e,t,r,n=true)=>(i,s)=>{const l=a.endpoints[e];const u=l.select(t)(s());const d={patches:[],inversePatches:[],undo:()=>i(a.util.patchQueryData(e,t,d.inversePatches,n))};if(u.status===c)return d;let f;if("data"in u)if((0,o.a6)(u.data)){const[e,t,n]=(0,o.vI)(u.data,r);d.patches.push(...t);d.inversePatches.push(...n);f=e}else{f=r(u.data);d.patches.push({op:"replace",path:[],value:f});d.inversePatches.push({op:"replace",path:[],value:u.data})}if(0===d.patches.length)return d;i(a.util.patchQueryData(e,t,d.patches,n));return d};const m=(e,t,r)=>n=>{const i=n(a.endpoints[e].initiate(t,{subscribe:false,forceRefetch:true,[he]:()=>({data:r})}));return i};const y=(e,t)=>e.query&&e[t]?e[t]:we;const b=async(e,{signal:n,abort:i,rejectWithValue:o,fulfillWithValue:a,dispatch:s,getState:c,extra:p})=>{const v=r[e.endpointName];const{metaSchema:m,skipSchemaValidation:b=f}=v;const _=e.type===re;try{let S=we;const k={signal:n,abort:i,dispatch:s,getState:c,extra:p,endpoint:e.endpointName,type:e.type,forced:_?w(e,c()):void 0,queryCacheKey:_?e.queryCacheKey:void 0};const P=_?e[he]:void 0;let E;const x=async(t,r,n,i)=>{if(null==r&&t.pages.length)return Promise.resolve({data:t});const o={queryArg:e.originalArgs,pageParam:r};const a=await C(o);const s=i?h:g;return{data:{pages:s(t.pages,a.data,n),pageParams:s(t.pageParams,r,n)},meta:a.meta}};async function C(e){let r;const{extraOptions:n,argSchema:i,rawResponseSchema:o,responseSchema:a}=v;i&&!ye(b,"arg")&&(e=await be(i,e,"argSchema",{}));if(P)r=P();else if(v.query){S=y(v,"transformResponse");r=await t(v.query(e),k,n)}else r=await v.queryFn(e,k,n,e=>t(e,k,n));"undefined"!==typeof process&&false;if(r.error)throw new R(r.error,r.meta);let{data:s}=r;o&&!ye(b,"rawResponse")&&(s=await be(o,r.data,"rawResponseSchema",r.meta));let l=await S(s,r.meta,e);a&&!ye(b,"response")&&(l=await be(a,l,"responseSchema",r.meta));return{...r,data:l}}if(_&&"infiniteQueryOptions"in v){const{infiniteQueryOptions:O}=v;const{maxPages:j=Infinity}=O;const A=e.refetchCachedPages??O.refetchCachedPages??true;let T;const D={pages:[],pageParams:[]};const L=l.selectQueryEntry(c(),e.queryCacheKey)?.data;const I=w(e,c())&&!e.direction;const M=I||!L?D:L;if("direction"in e&&e.direction&&M.pages.length){const F="backward"===e.direction;const B=F?Pe:ke;const N=B(O,M,e.originalArgs);T=await x(M,N,j,F)}else{const{initialPageParam:V=O.initialPageParam}=e;const q=L?.pageParams??[];const W=q[0]??V;const U=q.length;T=await x(M,W,j);P&&(T={data:T.data.pages[0]});if(A)for(let z=1;z<U;z++){const G=ke(O,T.data,e.originalArgs);T=await x(T.data,G,j)}}E=T}else E=await C(e.originalArgs);m&&!ye(b,"meta")&&E.meta&&(E.meta=await be(m,E.meta,"metaSchema",E.meta));return a(E.data,_e({fulfilledTimeStamp:Date.now(),baseQueryMeta:E.meta}))}catch(H){let $=H;if($ instanceof R){let K=y(v,"transformErrorResponse");const{rawErrorResponseSchema:Z,errorResponseSchema:Q}=v;let{value:Y,meta:X}=$;try{Z&&!ye(b,"rawErrorResponse")&&(Y=await be(Z,Y,"rawErrorResponseSchema",X));m&&!ye(b,"meta")&&(X=await be(m,X,"metaSchema",X));let J=await K(Y,X,e.originalArgs);Q&&!ye(b,"errorResponse")&&(J=await be(Q,J,"errorResponseSchema",X));return o(J,_e({baseQueryMeta:X}))}catch(ee){$=ee}}try{if($ instanceof me){const te={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:_?e.queryCacheKey:void 0};v.onSchemaFailure?.($,te);u?.($,te);const{catchSchemaFailure:ne=d}=v;if(ne)return o(ne($,te),_e({baseQueryMeta:$._bqMeta}))}}catch(ie){$=ie}"undefined"!==typeof process&&false,console.error($);throw $}};function w(e,t){const r=l.selectQueryEntry(t,e.queryCacheKey);const n=l.selectConfig(t).refetchOnMountOrArgChange;const i=r?.fulfilledTimeStamp;const o=e.forceRefetch??(e.subscribe&&n);if(o)return true===o||(Number(new Date)-Number(i))/1e3>=o;return false}const _=()=>{const t=(0,i.createAsyncThunk)(`${e}/executeQuery`,b,{getPendingMeta({arg:e}){const t=r[e.endpointName];return _e({startedTimeStamp:Date.now(),...se(t)?{direction:e.direction}:{}})},condition(e,{getState:t}){const n=t();const i=l.selectQueryEntry(n,e.queryCacheKey);const o=i?.fulfilledTimeStamp;const a=e.originalArgs;const s=i?.originalArgs;const u=r[e.endpointName];const c=e.direction;if(ge(e))return true;if("pending"===i?.status)return false;if(w(e,n))return true;if(oe(u)&&u?.forceRefetch?.({currentArg:a,previousArg:s,endpointState:i,state:n}))return true;if(o&&!c)return false;return true},dispatchConditionRejection:true});return t};const S=_();const k=_();const P=(0,i.createAsyncThunk)(`${e}/executeMutation`,b,{getPendingMeta(){return _e({startedTimeStamp:Date.now()})}});const E=e=>"force"in e;const x=e=>"ifOlderThan"in e;const C=(e,t,r={})=>(n,i)=>{const o=E(r)&&r.force;const s=x(r)&&r.ifOlderThan;const l=(r=true)=>{const n={forceRefetch:r,subscribe:false};return a.endpoints[e].initiate(t,n)};const u=a.endpoints[e].select(t)(i());if(o)n(l());else if(s){const e=u?.fulfilledTimeStamp;if(!e){n(l());return}const t=(Number(new Date)-Number(new Date(e)))/1e3>=s;t&&n(l())}else n(l(false))};function O(e){return t=>t?.meta?.arg?.endpointName===e}function j(e,t){return{matchPending:(0,i.isAllOf)((0,i.isPending)(e),O(t)),matchFulfilled:(0,i.isAllOf)((0,i.isFulfilled)(e),O(t)),matchRejected:(0,i.isAllOf)((0,i.isRejected)(e),O(t))}}return{queryThunk:S,mutationThunk:P,infiniteQueryThunk:k,prefetch:C,updateQueryData:v,upsertQueryData:m,patchQueryData:p,buildMatchThunkActions:j}}function ke(e,{pages:t,pageParams:r},n){const i=t.length-1;return e.getNextPageParam(t[i],t,r[i],r,n)}function Pe(e,{pages:t,pageParams:r},n){return e.getPreviousPageParam?.(t[0],t,r[0],r,n)}function Ee(e,t,r,n){return ue(r[e.meta.arg.endpointName][t],(0,i.isFulfilled)(e)?e.payload:void 0,(0,i.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,n)}function xe(e){return(0,o.Qx)(e)?(0,o.ss)(e):e}function Ce(e,t,r){const n=e[t];n&&r(n)}function Oe(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function je(e,t,r){const n=e[Oe(t)];n&&r(n)}var Ae={};function Te({reducerPath:e,queryThunk:t,mutationThunk:r,serializeQueryArgs:a,context:{endpointDefinitions:s,apiUid:l,extractRehydrationInfo:u,hasRehydrationInfo:h},assertTagType:g,config:m}){const y=(0,i.createAction)(`${e}/resetApiState`);function w(e,t,r,n){e[t.queryCacheKey]??={status:c,endpointName:t.endpointName};Ce(e,t.queryCacheKey,e=>{e.status=d;e.requestId=r&&e.requestId?e.requestId:n.requestId;void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs);e.startedTimeStamp=n.startedTimeStamp;const i=s[n.arg.endpointName];se(i)&&"direction"in t&&(e.direction=t.direction)})}function _(e,t,r,n){Ce(e,t.arg.queryCacheKey,e=>{if(e.requestId!==t.requestId&&!n)return;const{merge:i}=s[t.arg.endpointName];e.status=f;if(i)if(void 0!==e.data){const{fulfilledTimeStamp:n,arg:a,baseQueryMeta:s,requestId:l}=t;let u=(0,o.jM)(e.data,e=>i(e,r,{arg:a.originalArgs,baseQueryMeta:s,fulfilledTimeStamp:n,requestId:l}));e.data=u}else e.data=r;else e.data=s[t.arg.endpointName].structuralSharing??true?v((0,o.Qx)(e.data)?(0,o.c2)(e.data):e.data,r):r;delete e.error;e.fulfilledTimeStamp=t.fulfilledTimeStamp})}const k=(0,i.createSlice)({name:`${e}/queries`,initialState:Ae,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:(0,i.prepareAutoBatched)()},cacheEntriesUpserted:{reducer(e,t){for(const r of t.payload){const{queryDescription:n,value:i}=r;w(e,n,true,{arg:n,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp});_(e,{arg:n,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},i,true)}},prepare:e=>{const t=e.map(e=>{const{endpointName:t,arg:r,value:n}=e;const i=s[t];const o={type:re,endpointName:t,originalArgs:e.arg,queryCacheKey:a({queryArgs:r,endpointDefinition:i,endpointName:t})};return{queryDescription:o,value:n}});const r={payload:t,meta:{[i.SHOULD_AUTOBATCH]:true,requestId:(0,i.nanoid)(),timestamp:Date.now()}};return r}},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:r}}){Ce(e,t,e=>{e.data=(0,o.$i)(e.data,r.concat())})},prepare:(0,i.prepareAutoBatched)()}},extraReducers(e){e.addCase(t.pending,(e,{meta:t,meta:{arg:r}})=>{const n=ge(r);w(e,r,n,t)}).addCase(t.fulfilled,(e,{meta:t,payload:r})=>{const n=ge(t.arg);_(e,t,r,n)}).addCase(t.rejected,(e,{meta:{condition:t,arg:r,requestId:n},error:i,payload:o})=>{Ce(e,r.queryCacheKey,e=>{if(t);else{if(e.requestId!==n)return;e.status=p;e.error=o??i}})}).addMatcher(h,(e,t)=>{const{queries:r}=u(t);for(const[t,n]of Object.entries(r))n?.status!==f&&n?.status!==p||(e[t]=n)})}});const P=(0,i.createSlice)({name:`${e}/mutations`,initialState:Ae,reducers:{removeMutationResult:{reducer(e,{payload:t}){const r=Oe(t);r in e&&delete e[r]},prepare:(0,i.prepareAutoBatched)()}},extraReducers(e){e.addCase(r.pending,(e,{meta:t,meta:{requestId:r,arg:n,startedTimeStamp:i}})=>{if(!n.track)return;e[Oe(t)]={requestId:r,status:d,endpointName:n.endpointName,startedTimeStamp:i}}).addCase(r.fulfilled,(e,{payload:t,meta:r})=>{if(!r.arg.track)return;je(e,r,e=>{if(e.requestId!==r.requestId)return;e.status=f;e.data=t;e.fulfilledTimeStamp=r.fulfilledTimeStamp})}).addCase(r.rejected,(e,{payload:t,error:r,meta:n})=>{if(!n.arg.track)return;je(e,n,e=>{if(e.requestId!==n.requestId)return;e.status=p;e.error=t??r})}).addMatcher(h,(e,t)=>{const{mutations:r}=u(t);for(const[t,n]of Object.entries(r))n?.status!==f&&n?.status!==p||t===n?.requestId||(e[t]=n)})}});const E={tags:{},keys:{}};const x=(0,i.createSlice)({name:`${e}/invalidation`,initialState:E,reducers:{updateProvidedBy:{reducer(e,t){for(const{queryCacheKey:r,providedTags:n}of t.payload){C(e,r);for(const{type:t,id:i}of n){const n=(e.tags[t]??={})[i||"__internal_without_id"]??=[];const o=n.includes(r);o||n.push(r)}e.keys[r]=n}},prepare:(0,i.prepareAutoBatched)()}},extraReducers(e){e.addCase(k.actions.removeQueryResult,(e,{payload:{queryCacheKey:t}})=>{C(e,t)}).addMatcher(h,(e,t)=>{const{provided:r}=u(t);for(const[t,n]of Object.entries(r.tags??{}))for(const[i,o]of Object.entries(n)){const n=(e.tags[t]??={})[i||"__internal_without_id"]??=[];for(const t of o){const i=n.includes(t);i||n.push(t);e.keys[t]=r.keys[t]}}}).addMatcher((0,i.isAnyOf)((0,i.isFulfilled)(t),(0,i.isRejectedWithValue)(t)),(e,t)=>{O(e,[t])}).addMatcher(k.actions.cacheEntriesUpserted.match,(e,t)=>{const r=t.payload.map(({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}}));O(e,r)})}});function C(e,t){const r=xe(e.keys[t]??[]);for(const n of r){const r=n.type;const i=n.id??"__internal_without_id";const o=e.tags[r]?.[i];o&&(e.tags[r][i]=xe(o).filter(e=>e!==t))}delete e.keys[t]}function O(e,t){const r=t.map(e=>{const t=Ee(e,"providesTags",s,g);const{queryCacheKey:r}=e.meta.arg;return{queryCacheKey:r,providedTags:t}});x.caseReducers.updateProvidedBy(e,x.actions.updateProvidedBy(r))}const j=(0,i.createSlice)({name:`${e}/subscriptions`,initialState:Ae,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}});const A=(0,i.createSlice)({name:`${e}/internalSubscriptions`,initialState:Ae,reducers:{subscriptionsUpdated:{reducer(e,t){return(0,o.$i)(e,t.payload)},prepare:(0,i.prepareAutoBatched)()}}});const T=(0,i.createSlice)({name:`${e}/config`,initialState:{online:S(),focused:b(),middlewareRegistered:false,...m},reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&l===t||"conflict"}},extraReducers:e=>{e.addCase(Y,e=>{e.online=true}).addCase(X,e=>{e.online=false}).addCase(Z,e=>{e.focused=true}).addCase(Q,e=>{e.focused=false}).addMatcher(h,e=>({...e}))}});const D=(0,n.HY)({queries:k.reducer,mutations:P.reducer,provided:x.reducer,subscriptions:A.reducer,config:T.reducer});const L=(e,t)=>D(y.match(t)?void 0:e,t);const I={...T.actions,...k.actions,...j.actions,...A.actions,...P.actions,...x.actions,resetApiState:y};return{reducer:L,actions:I}}var De=Symbol.for("RTKQ/skipToken");var Le={status:c};var Ie=(0,o.jM)(Le,()=>{});var Me=(0,o.jM)(Le,()=>{});function Re({serializeQueryArgs:e,reducerPath:t,createSelector:r}){const n=e=>Ie;const i=e=>Me;return{buildQuerySelector:p,buildInfiniteQuerySelector:g,buildMutationSelector:v,selectInvalidatedBy:y,selectCachedArgsForQuery:b,selectApiState:a,selectQueries:s,selectMutations:u,selectQueryEntry:l,selectConfig:d};function o(e){return{...e,...h(e.status)}}function a(e){const r=e[t];false;return r}function s(e){return a(e)?.queries}function l(e,t){return s(e)?.[t]}function u(e){return a(e)?.mutations}function d(e){return a(e)?.config}function f(t,i,o){return a=>{if(a===De)return r(n,o);const s=e({queryArgs:a,endpointDefinition:i,endpointName:t});const u=e=>l(e,s)??Ie;return r(u,o)}}function p(e,t){return f(e,t,o)}function g(e,t){const{infiniteQueryOptions:r}=t;function n(e){const t={...e,...h(e.status)};const{isLoading:n,isError:i,direction:o}=t;const a="forward"===o;const s="backward"===o;return{...t,hasNextPage:_(r,t.data,t.originalArgs),hasPreviousPage:S(r,t.data,t.originalArgs),isFetchingNextPage:n&&a,isFetchingPreviousPage:n&&s,isFetchNextPageError:i&&a,isFetchPreviousPageError:i&&s}}return f(e,t,n)}function v(){return e=>{let t;t="object"===typeof e?Oe(e)??De:e;const n=e=>a(e)?.mutations?.[t]??Me;const s=t===De?i:n;return r(s,o)}}function y(e,r){const n=e[t];const i=new Set;const o=m(r,w,de);for(const e of o){const t=n.provided.tags[e.type];if(!t)continue;let r=(void 0!==e.id?t[e.id]:Object.values(t).flat())??[];for(const e of r)i.add(e)}return Array.from(i.values()).flatMap(e=>{const t=n.queries[e];return t?{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}:[]})}function b(e,t){return m(Object.values(s(e)),e=>e?.endpointName===t&&e.status!==c,e=>e.originalArgs)}function _(e,t,r){if(!t)return false;return null!=ke(e,t,r)}function S(e,t,r){if(!t||!e.getPreviousPageParam)return false;return null!=Pe(e,t,r)}}var Fe=WeakMap?new WeakMap:void 0;var Be=({endpointName:e,queryArgs:t})=>{let r="";const i=Fe?.get(t);if("string"===typeof i)r=i;else{const e=JSON.stringify(t,(e,t)=>{t="bigint"===typeof t?{$bigint:t.toString()}:t;t=(0,n.Qd)(t)?Object.keys(t).sort().reduce((e,r)=>{e[r]=t[r];return e},{}):t;return t});(0,n.Qd)(t)&&Fe?.set(t,e);r=e}return`${e}(${r})`};function Ne(...e){return function t(r){const n=(0,a.X4)(e=>r.extractRehydrationInfo?.(e,{reducerPath:r.reducerPath??"api"}));const o={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:false,refetchOnFocus:false,refetchOnReconnect:false,invalidationBehavior:"delayed",...r,extractRehydrationInfo:n,serializeQueryArgs(e){let t=Be;if("serializeQueryArgs"in e.endpointDefinition){const r=e.endpointDefinition.serializeQueryArgs;t=e=>{const t=r(e);return"string"===typeof t?t:Be({...e,queryArgs:t})}}else r.serializeQueryArgs&&(t=r.serializeQueryArgs);return t(e)},tagTypes:[...r.tagTypes||[]]};const s={endpointDefinitions:{},batch(e){e()},apiUid:(0,i.nanoid)(),extractRehydrationInfo:n,hasRehydrationInfo:(0,a.X4)(e=>null!=n(e))};const l={injectEndpoints:c,enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const t of e)o.tagTypes.includes(t)||o.tagTypes.push(t);if(t)for(const[e,r]of Object.entries(t))"function"===typeof r?r(pe(s,e)):Object.assign(pe(s,e)||{},r);return l}};const u=e.map(e=>e.init(l,o,s));function c(e){const t=e.endpoints({query:e=>({...e,type:re}),mutation:e=>({...e,type:ne}),infiniteQuery:e=>({...e,type:ie})});for(const[r,n]of Object.entries(t)){if(true!==e.overrideExisting&&r in s.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error((0,i.formatProdErrorMessage)(39));"undefined"!==typeof process&&false;continue}"undefined"!==typeof process&&false;s.endpointDefinitions[r]=n;for(const e of u)e.injectEndpoint(r,n)}return l}return l.injectEndpoints({endpoints:r.endpoints})}}var Ve=Symbol();function qe(){return function(){throw new Error((0,i.formatProdErrorMessage)(33))}}function We(e){}function Ue(e,...t){return Object.assign(e,...t)}var ze=({api:e,queryThunk:t,internalState:r,mwApi:n})=>{const i=`${e.reducerPath}/subscriptions`;let a=null;let s=null;const{updateSubscriptionOptions:l,unsubscribeQueryResult:u}=e.internalActions;const c=(r,n)=>{if(l.match(n)){const{queryCacheKey:e,requestId:t,options:i}=n.payload;const o=r.get(e);o?.has(t)&&o.set(t,i);return true}if(u.match(n)){const{queryCacheKey:e,requestId:t}=n.payload;const i=r.get(e);i&&i.delete(t);return true}if(e.internalActions.removeQueryResult.match(n)){r.delete(n.payload.queryCacheKey);return true}if(t.pending.match(n)){const{meta:{arg:e,requestId:t}}=n;const i=x(r,e.queryCacheKey,C);e.subscribe&&i.set(t,e.subscriptionOptions??i.get(t)??{});return true}let i=false;if(t.rejected.match(n)){const{meta:{condition:e,arg:t,requestId:o}}=n;if(e&&t.subscribe){const e=x(r,t.queryCacheKey,C);e.set(o,t.subscriptionOptions??e.get(o)??{});i=true}}return i};const d=()=>r.currentSubscriptions;const f=e=>{const t=d();const r=t.get(e);return r?.size??0};const p=(e,t)=>{const r=d();return!!r?.get(e)?.get(t)};const h={getSubscriptions:d,getSubscriptionCount:f,isRequestSubscribed:p};function g(e){return JSON.parse(JSON.stringify(Object.fromEntries([...e].map(([e,t])=>[e,Object.fromEntries(t)]))))}return(n,l)=>{a||(a=g(r.currentSubscriptions));if(e.util.resetApiState.match(n)){a={};r.currentSubscriptions.clear();s=null;return[true,false]}if(e.internalActions.internal_getRTKQSubscriptions.match(n))return[false,h];const u=c(r.currentSubscriptions,n);let d=true;false;if(u){s||(s=setTimeout(()=>{const t=g(r.currentSubscriptions);const[,n]=(0,o.vI)(a,()=>t);l.next(e.internalActions.subscriptionsUpdated(n));a=t;s=null},500));const u="string"==typeof n.type&&!!n.type.startsWith(i);const c=t.rejected.match(n)&&n.meta.condition&&!!n.meta.arg.subscribe;d=!u&&!c}return[d,false]}};var Ge=2147482.647;var He=({reducerPath:e,api:t,queryThunk:r,context:n,internalState:o,selectors:{selectQueryEntry:a,selectConfig:s},getRunningQueryThunk:l,mwApi:u})=>{const{removeQueryResult:c,unsubscribeQueryResult:d,cacheEntriesUpserted:f}=t.internalActions;const p=(0,i.isAnyOf)(d.match,r.fulfilled,r.rejected,f.match);function h(e){const t=o.currentSubscriptions.get(e);if(!t)return false;const r=t.size>0;return r}const g={};function v(e){for(const t of e.values())t?.abort?.()}const m=(e,r)=>{const i=r.getState();const a=s(i);if(p(e)){let t;if(f.match(e))t=e.payload.map(e=>e.queryDescription.queryCacheKey);else{const{queryCacheKey:r}=d.match(e)?e.payload:e.meta.arg;t=[r]}y(t,r,a)}if(t.util.resetApiState.match(e)){for(const[e,t]of Object.entries(g)){t&&clearTimeout(t);delete g[e]}v(o.runningQueries);v(o.runningMutations)}if(n.hasRehydrationInfo(e)){const{queries:t}=n.extractRehydrationInfo(e);y(Object.keys(t),r,a)}};function y(e,t,r){const n=t.getState();for(const i of e){const e=a(n,i);e?.endpointName&&b(i,e.endpointName,t,r)}}function b(e,t,r,i){const o=pe(n,t);const s=o?.keepUnusedDataFor??i.keepUnusedDataFor;if(Infinity===s)return;const u=Math.max(0,Math.min(s,Ge));if(!h(e)){const t=g[e];t&&clearTimeout(t);g[e]=setTimeout(()=>{if(!h(e)){const t=a(r.getState(),e);if(t?.endpointName){const e=r.dispatch(l(t.endpointName,t.originalArgs));e?.abort()}r.dispatch(c({queryCacheKey:e}))}delete g[e]},1e3*u)}}return m};var $e=new Error("Promise never resolved before cacheEntryRemoved.");var Ke=({api:e,reducerPath:t,context:r,queryThunk:n,mutationThunk:o,internalState:a,selectors:{selectQueryEntry:s,selectApiState:l}})=>{const u=(0,i.isAsyncThunkAction)(n);const c=(0,i.isAsyncThunkAction)(o);const d=(0,i.isFulfilled)(n,o);const f={};const{removeQueryResult:p,removeMutationResult:h,cacheEntriesUpserted:g}=e.internalActions;function v(e,t,r){const n=f[e];if(n?.valueResolved){n.valueResolved({data:t,meta:r});delete n.valueResolved}}function m(e){const t=f[e];if(t){delete f[e];t.cacheEntryRemoved()}}function y(e){const{arg:t,requestId:r}=e.meta;const{endpointName:n,originalArgs:i}=t;return[n,i,r]}const b=(r,i,a)=>{const l=w(r);function u(e,t,r,n){const o=s(a,t);const l=s(i.getState(),t);!o&&l&&_(e,n,t,i,r)}if(n.pending.match(r)){const[e,t,n]=y(r);u(e,l,n,t)}else if(g.match(r))for(const{queryDescription:e,value:t}of r.payload){const{endpointName:n,originalArgs:i,queryCacheKey:o}=e;u(n,o,r.meta.requestId,i);v(o,t,{})}else if(o.pending.match(r)){const e=i.getState()[t].mutations[l];if(e){const[e,t,n]=y(r);_(e,t,l,i,n)}}else if(d(r))v(l,r.payload,r.meta.baseQueryMeta);else if(p.match(r)||h.match(r))m(l);else if(e.util.resetApiState.match(r))for(const e of Object.keys(f))m(e)};function w(e){if(u(e))return e.meta.arg.queryCacheKey;if(c(e))return e.meta.arg.fixedCacheKey??e.meta.requestId;if(p.match(e))return e.payload.queryCacheKey;if(h.match(e))return Oe(e.payload);return""}function _(t,n,i,o,a){const s=pe(r,t);const l=s?.onCacheEntryAdded;if(!l)return;const u={};const c=new Promise(e=>{u.cacheEntryRemoved=e});const d=Promise.race([new Promise(e=>{u.valueResolved=e}),c.then(()=>{throw $e})]);d.catch(()=>{});f[i]=u;const p=e.endpoints[t].select(le(s)?n:i);const h=o.dispatch((e,t,r)=>r);const g={...o,getCacheEntry:()=>p(o.getState()),requestId:a,extra:h,updateCachedData:le(s)?r=>o.dispatch(e.util.updateQueryData(t,n,r)):void 0,cacheDataLoaded:d,cacheEntryRemoved:c};const v=l(n,g);Promise.resolve(v).catch(e=>{if(e===$e)return;throw e})}return b};var Ze=({api:e,context:{apiUid:t},reducerPath:r})=>(r,n)=>{e.util.resetApiState.match(r)&&n.dispatch(e.internalActions.middlewareRegistered(t));"undefined"!==typeof process&&false};var Qe=({reducerPath:e,context:t,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:o,api:a,assertTagType:s,refetchQuery:l,internalState:u})=>{const{removeQueryResult:d}=a.internalActions;const f=(0,i.isAnyOf)((0,i.isFulfilled)(n),(0,i.isRejectedWithValue)(n));const p=(0,i.isAnyOf)((0,i.isFulfilled)(o,n),(0,i.isRejected)(o,n));let h=[];let g=0;const v=(e,t)=>{(o.pending.match(e)||n.pending.match(e))&&g++;p(e)&&(g=Math.max(0,g-1));f(e)?y(Ee(e,"invalidatesTags",r,s),t):p(e)?y([],t):a.util.invalidateTags.match(e)&&y(ue(e.payload,void 0,void 0,void 0,void 0,s),t)};function m(){return g>0}function y(r,n){const i=n.getState();const o=i[e];h.push(...r);if("delayed"===o.config.invalidationBehavior&&m())return;const s=h;h=[];if(0===s.length)return;const f=a.util.selectInvalidatedBy(i,s);t.batch(()=>{const e=Array.from(f.values());for(const{queryCacheKey:t}of e){const e=o.queries[t];const r=x(u.currentSubscriptions,t,C);e&&(0===r.size?n.dispatch(d({queryCacheKey:t})):e.status!==c&&n.dispatch(l(e)))}})}return v};var Ye=({reducerPath:e,queryThunk:t,api:r,refetchQuery:n,internalState:i})=>{const{currentPolls:o,currentSubscriptions:a}=i;const s=new Set;let l=null;const u=(e,n)=>{(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&d(e.payload.queryCacheKey,n);(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&d(e.meta.arg.queryCacheKey,n);(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&f(e.meta.arg,n);if(r.util.resetApiState.match(e)){g();if(l){clearTimeout(l);l=null}s.clear()}};function d(e,t){s.add(e);l||(l=setTimeout(()=>{for(const e of s)p({queryCacheKey:e},t);s.clear();l=null},0))}function f({queryCacheKey:t},r){const i=r.getState()[e];const s=i.queries[t];const l=a.get(t);if(!s||s.status===c)return;const{lowestPollingInterval:u,skipPollingIfUnfocused:d}=v(l);if(!Number.isFinite(u))return;const p=o.get(t);if(p?.timeout){clearTimeout(p.timeout);p.timeout=void 0}const h=Date.now()+u;o.set(t,{nextPollTimestamp:h,pollingInterval:u,timeout:setTimeout(()=>{!i.config.focused&&d||r.dispatch(n(s));f({queryCacheKey:t},r)},u)})}function p({queryCacheKey:t},r){const n=r.getState()[e];const i=n.queries[t];const s=a.get(t);if(!i||i.status===c)return;const{lowestPollingInterval:l}=v(s);false;if(!Number.isFinite(l)){h(t);return}const u=o.get(t);const d=Date.now()+l;(!u||d<u.nextPollTimestamp)&&f({queryCacheKey:t},r)}function h(e){const t=o.get(e);t?.timeout&&clearTimeout(t.timeout);o.delete(e)}function g(){for(const e of o.keys())h(e)}function v(e=new Map){let t=false;let r=Number.POSITIVE_INFINITY;for(const n of e.values())if(!!n.pollingInterval){r=Math.min(n.pollingInterval,r);t=n.skipPollingIfUnfocused||t}return{lowestPollingInterval:r,skipPollingIfUnfocused:t}}return u};var Xe=({api:e,context:t,queryThunk:r,mutationThunk:n})=>{const o=(0,i.isPending)(r,n);const a=(0,i.isRejected)(r,n);const s=(0,i.isFulfilled)(r,n);const l={};const u=(r,n)=>{if(o(r)){const{requestId:i,arg:{endpointName:o,originalArgs:a}}=r.meta;const s=pe(t,o);const u=s?.onQueryStarted;if(u){const t={};const r=new Promise((e,r)=>{t.resolve=e;t.reject=r});r.catch(()=>{});l[i]=t;const c=e.endpoints[o].select(le(s)?a:i);const d=n.dispatch((e,t,r)=>r);const f={...n,getCacheEntry:()=>c(n.getState()),requestId:i,extra:d,updateCachedData:le(s)?t=>n.dispatch(e.util.updateQueryData(o,a,t)):void 0,queryFulfilled:r};u(a,f)}}else if(s(r)){const{requestId:e,baseQueryMeta:t}=r.meta;l[e]?.resolve({data:r.payload,meta:t});delete l[e]}else if(a(r)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:n}=r.meta;l[e]?.reject({error:r.payload??r.error,isUnhandledError:!t,meta:n});delete l[e]}};return u};var Je=({reducerPath:e,context:t,api:r,refetchQuery:n,internalState:i})=>{const{removeQueryResult:o}=r.internalActions;const a=(e,t)=>{Z.match(e)&&s(t,"refetchOnFocus");Y.match(e)&&s(t,"refetchOnReconnect")};function s(r,a){const s=r.getState()[e];const l=s.queries;const u=i.currentSubscriptions;t.batch(()=>{for(const e of u.keys()){const t=l[e];const i=u.get(e);if(!i||!t)continue;const d=[...i.values()];const f=d.some(e=>true===e[a])||d.every(e=>void 0===e[a])&&s.config[a];f&&(0===i.size?r.dispatch(o({queryCacheKey:e})):t.status!==c&&r.dispatch(n(t)))}})}return a};function et(e){const{reducerPath:t,queryThunk:r,api:o,context:a,getInternalState:s}=e;const{apiUid:l}=a;const u={invalidateTags:(0,i.createAction)(`${t}/invalidateTags`)};const c=e=>e.type.startsWith(`${t}/`);const d=[Ze,He,Qe,Ye,Ke,Xe];const f=r=>{let i=false;const u=s(r.dispatch);const f={...e,internalState:u,refetchQuery:p,isThisApiSliceAction:c,mwApi:r};const h=d.map(e=>e(f));const g=ze(f);const v=Je(f);return e=>s=>{if(!(0,n.ve)(s))return e(s);if(!i){i=true;r.dispatch(o.internalActions.middlewareRegistered(l))}const u={...r,next:e};const d=r.getState();const[f,p]=g(s,u,d);let m;m=f?e(s):p;if(!!r.getState()[t]){v(s,u,d);if(c(s)||a.hasRehydrationInfo(s))for(const e of h)e(s,u,d)}return m}};return{middleware:f,actions:u};function p(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:false,forceRefetch:true})}}var tt=Symbol();var rt=({createSelector:e=a.Mz}={})=>({name:tt,init(t,{baseQuery:r,tagTypes:n,reducerPath:i,serializeQueryArgs:a,keepUnusedDataFor:s,refetchOnMountOrArgChange:l,refetchOnFocus:u,refetchOnReconnect:c,invalidationBehavior:d,onSchemaFailure:f,catchSchemaFailure:p,skipSchemaValidation:h},g){(0,o.YT)();We(a);const v=e=>{"undefined"!==typeof process&&false;return e};Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:Y,onOffline:X,onFocus:Z,onFocusLost:Q},util:{}});const m=Re({serializeQueryArgs:a,reducerPath:i,createSelector:e});const{selectInvalidatedBy:y,selectCachedArgsForQuery:b,buildQuerySelector:w,buildInfiniteQuerySelector:_,buildMutationSelector:S}=m;Ue(t.util,{selectInvalidatedBy:y,selectCachedArgsForQuery:b});const{queryThunk:k,infiniteQueryThunk:P,mutationThunk:E,patchQueryData:C,updateQueryData:O,upsertQueryData:j,prefetch:A,buildMatchThunkActions:T}=Se({baseQuery:r,reducerPath:i,context:g,api:t,serializeQueryArgs:a,assertTagType:v,selectors:m,onSchemaFailure:f,catchSchemaFailure:p,skipSchemaValidation:h});const{reducer:D,actions:L}=Te({context:g,queryThunk:k,infiniteQueryThunk:P,mutationThunk:E,serializeQueryArgs:a,reducerPath:i,assertTagType:v,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:l,keepUnusedDataFor:s,reducerPath:i,invalidationBehavior:d}});Ue(t.util,{patchQueryData:C,updateQueryData:O,upsertQueryData:j,prefetch:A,resetApiState:L.resetApiState,upsertQueryEntries:L.cacheEntriesUpserted});Ue(t.internalActions,L);const I=new WeakMap;const M=e=>{const t=x(I,e,()=>({currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map}));return t};const{buildInitiateQuery:R,buildInitiateInfiniteQuery:F,buildInitiateMutation:B,getRunningMutationThunk:N,getRunningMutationsThunk:V,getRunningQueriesThunk:q,getRunningQueryThunk:W}=ve({queryThunk:k,mutationThunk:E,infiniteQueryThunk:P,api:t,serializeQueryArgs:a,context:g,getInternalState:M});Ue(t.util,{getRunningMutationThunk:N,getRunningMutationsThunk:V,getRunningQueryThunk:W,getRunningQueriesThunk:q});const{middleware:U,actions:z}=et({reducerPath:i,context:g,queryThunk:k,mutationThunk:E,infiniteQueryThunk:P,api:t,assertTagType:v,selectors:m,getRunningQueryThunk:W,getInternalState:M});Ue(t.util,z);Ue(t,{reducer:D,middleware:U});return{name:tt,injectEndpoint(e,r){const n=t;const i=n.endpoints[e]??={};oe(r)&&Ue(i,{name:e,select:w(e,r),initiate:R(e,r)},T(k,e));ae(r)&&Ue(i,{name:e,select:S(),initiate:B(e)},T(E,e));se(r)&&Ue(i,{name:e,select:_(e,r),initiate:F(e,r)},T(k,e))}}}});var nt=Ne(rt())},44381(e,t,r){"use strict";r.r(t);r.d(t,{ReducerType:()=>fe,SHOULD_AUTOBATCH:()=>M,TaskAbortError:()=>He,Tuple:()=>_,__DO_NOT_USE__ActionTypes:()=>n.$d,addListener:()=>pt,applyMiddleware:()=>n.Tw,asyncThunkCreator:()=>de,autoBatchEnhancer:()=>B,bindActionCreators:()=>n.zH,buildCreateSlice:()=>he,clearAllListeners:()=>ht,combineReducers:()=>n.HY,combineSlices:()=>At,compose:()=>n.Zz,configureStore:()=>V,createAction:()=>h,createActionCreatorInvariantMiddleware:()=>b,createAsyncThunk:()=>se,createDraftSafeSelector:()=>c,createDraftSafeSelectorCreator:()=>u,createDynamicMiddleware:()=>wt,createEntityAdapter:()=>Fe,createImmutableStateInvariantMiddleware:()=>O,createListenerMiddleware:()=>mt,createNextState:()=>i.jM,createReducer:()=>U,createSelector:()=>o.Mz,createSelectorCreator:()=>o.Ad,createSerializableStateInvariantMiddleware:()=>D,createSlice:()=>ve,createStore:()=>n.y$,current:()=>i.ss,findNonSerializableValue:()=>A,formatProdErrorMessage:()=>Tt,freeze:()=>i.CN,isAction:()=>n.ve,isActionCreator:()=>g,isAllOf:()=>H,isAnyOf:()=>G,isAsyncThunkAction:()=>J,isDraft:()=>i.Qx,isFluxStandardAction:()=>v,isFulfilled:()=>X,isImmutableDefault:()=>P,isPending:()=>Z,isPlain:()=>j,isPlainObject:()=>n.Qd,isRejected:()=>Q,isRejectedWithValue:()=>Y,legacy_createStore:()=>n.Yl,lruMemoize:()=>o.i5,miniSerializeError:()=>oe,nanoid:()=>te,original:()=>i.c2,prepareAutoBatched:()=>R,removeListener:()=>gt,unwrapResult:()=>le,weakMapMemoize:()=>o.X4});var n=r(61579);var i=r(21275);var o=r(84219);function a(e){const t=({dispatch:t,getState:r})=>n=>i=>{if("function"===typeof i)return i(t,r,e);return n(i)};return t}var s=a();var l=a;var u=(...e)=>{const t=(0,o.Ad)(...e);const r=Object.assign((...e)=>{const r=t(...e);const n=(e,...t)=>r((0,i.Qx)(e)?(0,i.ss)(e):e,...t);Object.assign(n,r);return n},{withTypes:()=>r});return r};var c=u(o.X4);var d="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0===arguments.length)return;if("object"===typeof arguments[0])return n.Zz;return n.Zz.apply(null,arguments)};var f="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};var p=e=>e&&"function"===typeof e.match;function h(e,t){function r(...r){if(t){let n=t(...r);if(!n)throw new Error(Tt(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}r.toString=()=>`${e}`;r.type=e;r.match=t=>(0,n.ve)(t)&&t.type===e;return r}function g(e){return"function"===typeof e&&"type"in e&&p(e)}function v(e){return(0,n.ve)(e)&&Object.keys(e).every(m)}function m(e){return["type","payload","error","meta"].indexOf(e)>-1}function y(e){const t=e?`${e}`.split("/"):[];const r=t[t.length-1]||"actionCreator";return`Detected an action creator with type "${e||"unknown"}" being dispatched. \nMake sure you're calling the action creator before dispatching, i.e. \`dispatch(${r}())\` instead of \`dispatch(${r})\`. This is necessary even if the action has no payload.`}function b(e={}){true;return()=>e=>t=>e(t)}function w(e,t){let r=0;return{measureTime(e){const t=Date.now();try{return e()}finally{const e=Date.now();r+=e-t}},warnIfExceeded(){r>e&&console.warn(`${t} took ${r}ms, which is more than the warning threshold of ${e}ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.`)}}}var _=class e extends Array{constructor(...t){super(...t);Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){if(1===t.length&&Array.isArray(t[0]))return new e(...t[0].concat(this));return new e(...t.concat(this))}};function S(e){return(0,i.a6)(e)?(0,i.jM)(e,()=>{}):e}function k(e,t,r){if(e.has(t))return e.get(t);return e.set(t,r(t)).get(t)}function P(e){return"object"!==typeof e||null==e||Object.isFrozen(e)}function E(e,t,r){const n=x(e,t,r);return{detectMutations(){return C(e,t,n,r)}}}function x(e,t=[],r,n="",i=new Set){const o={value:r};if(!e(r)&&!i.has(r)){i.add(r);o.children={};const a=t.length>0;for(const i in r){const s=n?n+"."+i:i;if(a){const e=t.some(e=>{if(e instanceof RegExp)return e.test(s);return s===e});if(e)continue}o.children[i]=x(e,t,r[i],s)}}return o}function C(e,t=[],r,n,i=false,o=""){const a=r?r.value:void 0;const s=a===n;if(i&&!s&&!Number.isNaN(n))return{wasMutated:true,path:o};if(e(a)||e(n))return{wasMutated:false};const l={};for(let e in r.children)l[e]=true;for(let e in n)l[e]=true;const u=t.length>0;for(let i in l){const a=o?o+"."+i:i;if(u){const e=t.some(e=>{if(e instanceof RegExp)return e.test(a);return a===e});if(e)continue}const l=C(e,t,r.children[i],n[i],s,a);if(l.wasMutated)return l}return{wasMutated:false}}function O(e={}){true;return()=>e=>t=>e(t);var t,r}function j(e){const t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||(0,n.Qd)(e)}function A(e,t="",r=j,n,i=[],o){let a;if(!r(e))return{keyPath:t||"<root>",value:e};if("object"!==typeof e||null===e)return false;if(o?.has(e))return false;const s=null!=n?n(e):Object.entries(e);const l=i.length>0;for(const[e,u]of s){const s=t?t+"."+e:e;if(l){const e=i.some(e=>{if(e instanceof RegExp)return e.test(s);return s===e});if(e)continue}if(!r(u))return{keyPath:s,value:u};if("object"===typeof u){a=A(u,s,r,n,i,o);if(a)return a}}o&&T(e)&&o.add(e);return false}function T(e){if(!Object.isFrozen(e))return false;for(const t of Object.values(e)){if("object"!==typeof t||null===t)continue;if(!T(t))return false}return true}function D(e={}){true;return()=>e=>t=>e(t)}function L(e){return"boolean"===typeof e}var I=()=>function e(t){const{thunk:r=true,immutableCheck:n=true,serializableCheck:i=true,actionCreatorCheck:o=true}=t??{};let a=new _;r&&(L(r)?a.push(s):a.push(l(r.extraArgument)));false;return a};var M="RTK_autoBatch";var R=()=>e=>({payload:e,meta:{[M]:true}});var F=e=>t=>{setTimeout(t,e)};var B=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=true;let o=false;let a=false;const s=new Set;const l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:F(10):"callback"===e.type?e.queueNotification:F(e.timeout);const u=()=>{a=false;if(o){o=false;s.forEach(e=>e())}};return Object.assign({},n,{subscribe(e){const t=()=>i&&e();const r=n.subscribe(t);s.add(e);return()=>{r();s.delete(e)}},dispatch(e){try{i=!e?.meta?.[M];o=!i;if(o&&!a){a=true;l(u)}return n.dispatch(e)}finally{i=true}}})};var N=e=>function t(r){const{autoBatch:n=true}=r??{};let i=new _(e);n&&i.push(B("object"===typeof n?n:void 0));return i};function V(e){const t=I();const{reducer:r,middleware:i,devTools:o=true,duplicateMiddlewareCheck:a=true,preloadedState:s,enhancers:l}=e||{};let u;if("function"===typeof r)u=r;else{if(!(0,n.Qd)(r))throw new Error(Tt(1));u=(0,n.HY)(r)}false;let c;if("function"===typeof i){c=i(t);false}else c=t();false;false;let f=n.Zz;o&&(f=d({trace:false,..."object"===typeof o&&o}));const p=(0,n.Tw)(...c);const h=N(p);false;let g="function"===typeof l?l(h):h();false;false;false;const v=f(...g);return(0,n.y$)(u,s,v)}function q(e){const t={};const r=[];let n;const i={addCase(e,r){false;const n="string"===typeof e?e:e.type;if(!n)throw new Error(Tt(28));if(n in t)throw new Error(Tt(29));t[n]=r;return i},addAsyncThunk(e,n){false;n.pending&&(t[e.pending.type]=n.pending);n.rejected&&(t[e.rejected.type]=n.rejected);n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled);n.settled&&r.push({matcher:e.settled,reducer:n.settled});return i},addMatcher(e,t){false;r.push({matcher:e,reducer:t});return i},addDefaultCase(e){false;n=e;return i}};e(i);return[t,r,n]}function W(e){return"function"===typeof e}function U(e,t){false;let[r,n,o]=q(t);let a;if(W(e))a=()=>S(e());else{const t=S(e);a=()=>t}function s(e=a(),t){let s=[r[t.type],...n.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];0===s.filter(e=>!!e).length&&(s=[o]);return s.reduce((e,r)=>{if(r){if((0,i.Qx)(e)){const n=e;const i=r(n,t);if(void 0===i)return e;return i}if((0,i.a6)(e))return(0,i.jM)(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}s.getInitialState=a;return s}var z=(e,t)=>p(e)?e.match(t):e(t);function G(...e){return t=>e.some(e=>z(e,t))}function H(...e){return t=>e.every(e=>z(e,t))}function $(e,t){if(!e||!e.meta)return false;const r="string"===typeof e.meta.requestId;const n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function K(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Z(...e){if(0===e.length)return e=>$(e,["pending"]);if(!K(e))return Z()(e[0]);return G(...e.map(e=>e.pending))}function Q(...e){if(0===e.length)return e=>$(e,["rejected"]);if(!K(e))return Q()(e[0]);return G(...e.map(e=>e.rejected))}function Y(...e){const t=e=>e&&e.meta&&e.meta.rejectedWithValue;if(0===e.length)return H(Q(...e),t);if(!K(e))return Y()(e[0]);return H(Q(...e),t)}function X(...e){if(0===e.length)return e=>$(e,["fulfilled"]);if(!K(e))return X()(e[0]);return G(...e.map(e=>e.fulfilled))}function J(...e){if(0===e.length)return e=>$(e,["pending","fulfilled","rejected"]);if(!K(e))return J()(e[0]);return G(...e.flatMap(e=>[e.pending,e.rejected,e.fulfilled]))}var ee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";var te=(e=21)=>{let t="";let r=e;while(r--)t+=ee[64*Math.random()|0];return t};var re=["name","message","stack","code"];var ne=class{constructor(e,t){this.payload=e;this.meta=t}_type};var ie=class{constructor(e,t){this.payload=e;this.meta=t}_type};var oe=e=>{if("object"===typeof e&&null!==e){const t={};for(const r of re)"string"===typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}};var ae="External signal was aborted";var se=(()=>{function e(e,t,r){const n=h(e+"/fulfilled",(e,t,r,n)=>({payload:e,meta:{...n||{},arg:r,requestId:t,requestStatus:"fulfilled"}}));const i=h(e+"/pending",(e,t,r)=>({payload:void 0,meta:{...r||{},arg:t,requestId:e,requestStatus:"pending"}}));const o=h(e+"/rejected",(e,t,n,i,o)=>({payload:i,error:(r&&r.serializeError||oe)(e||"Rejected"),meta:{...o||{},arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}}));function a(e,{signal:a}={}){return(s,l,u)=>{const c=r?.idGenerator?r.idGenerator(e):te();const d=new AbortController;let f;let p;function h(e){p=e;d.abort()}a&&(a.aborted?h(ae):a.addEventListener("abort",()=>h(ae),{once:true}));const g=async function(){let a;try{let o=r?.condition?.(e,{getState:l,extra:u});ue(o)&&(o=await o);if(false===o||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const g=new Promise((e,t)=>{f=()=>{t({name:"AbortError",message:p||"Aborted"})};d.signal.addEventListener("abort",f,{once:true})});s(i(c,e,r?.getPendingMeta?.({requestId:c,arg:e},{getState:l,extra:u})));a=await Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:c,signal:d.signal,abort:h,rejectWithValue:(e,t)=>new ne(e,t),fulfillWithValue:(e,t)=>new ie(e,t)})).then(t=>{if(t instanceof ne)throw t;if(t instanceof ie)return n(t.payload,c,e,t.meta);return n(t,c,e)})])}catch(t){a=t instanceof ne?o(null,c,e,t.payload,t.meta):o(t,c,e)}finally{f&&d.signal.removeEventListener("abort",f)}const g=r&&!r.dispatchConditionRejection&&o.match(a)&&a.meta.condition;g||s(a);return a}();return Object.assign(g,{abort:h,requestId:c,arg:e,unwrap(){return g.then(le)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:n,settled:G(o,n),typePrefix:e})}e.withTypes=()=>e;return e})();function le(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function ue(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}var ce=Symbol.for("rtk-slice-createasyncthunk");var de={[ce]:se};var fe=(e=>{e["reducer"]="reducer";e["reducerWithPrepare"]="reducerWithPrepare";e["asyncThunk"]="asyncThunk";return e})(fe||{});function pe(e,t){return`${e}/${t}`}function he({creators:e}={}){const t=e?.asyncThunk?.[ce];return function e(r){const{name:n,reducerPath:i=n}=r;if(!n)throw new Error(Tt(11));"undefined"!==typeof process&&false;const o=("function"===typeof r.reducers?r.reducers(me()):r.reducers)||{};const a=Object.keys(o);const s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]};const l={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Tt(12));if(r in s.sliceCaseReducersByType)throw new Error(Tt(13));s.sliceCaseReducersByType[r]=t;return l},addMatcher(e,t){s.sliceMatchers.push({matcher:e,reducer:t});return l},exposeAction(e,t){s.actionCreators[e]=t;return l},exposeCaseReducer(e,t){s.sliceCaseReducersByName[e]=t;return l}};a.forEach(e=>{const i=o[e];const a={reducerName:e,type:pe(n,e),createNotation:"function"===typeof r.reducers};be(i)?_e(a,i,l,t):ye(a,i,l)});function u(){false;const[e={},t=[],n]="function"===typeof r.extraReducers?q(r.extraReducers):[r.extraReducers];const i={...e,...s.sliceCaseReducersByType};return U(r.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let r of t)e.addMatcher(r.matcher,r.reducer);n&&e.addDefaultCase(n)})}const c=e=>e;const d=new Map;const f=new WeakMap;let p;function h(e,t){p||(p=u());return p(e,t)}function g(){p||(p=u());return p.getInitialState()}function v(e,t=false){function n(r){let i=r[e];"undefined"===typeof i&&!!t&&(i=k(f,n,g));return i}function i(e=c){const n=k(d,t,()=>new WeakMap);return k(n,e,()=>{const n={};for(const[i,o]of Object.entries(r.selectors??{}))n[i]=ge(o,e,()=>k(f,e,g),t);return n})}return{reducerPath:e,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}const m={name:n,reducer:h,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:g,...v(i),injectInto(e,{reducerPath:t,...r}={}){const n=t??i;e.inject({reducerPath:n,reducer:h},r);return{...m,...v(n,true)}}};return m}}function ge(e,t,r,n){function i(i,...o){let a=t(i);"undefined"===typeof a&&!!n&&(a=r());return e(a,...o)}i.unwrapped=e;return i}var ve=he();function me(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}e.withTypes=()=>e;return{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}function ye({type:e,reducerName:t,createNotation:r},n,i){let o;let a;if("reducer"in n){if(r&&!we(n))throw new Error(Tt(17));o=n.reducer;a=n.prepare}else o=n;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?h(e,a):h(e))}function be(e){return"asyncThunk"===e._reducerDefinitionType}function we(e){return"reducerWithPrepare"===e._reducerDefinitionType}function _e({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Tt(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=r;const d=i(e,o,c);n.exposeAction(t,d);a&&n.addCase(d.fulfilled,a);s&&n.addCase(d.pending,s);l&&n.addCase(d.rejected,l);u&&n.addMatcher(d.settled,u);n.exposeCaseReducer(t,{fulfilled:a||Se,pending:s||Se,rejected:l||Se,settled:u||Se})}function Se(){}function ke(){return{ids:[],entities:{}}}function Pe(e){function t(t={},r){const n=Object.assign(ke(),t);return r?e.setAll(n,r):n}return{getInitialState:t}}function Ee(){function e(e,t={}){const{createSelector:r=c}=t;const n=e=>e.ids;const i=e=>e.entities;const o=r(n,i,(e,t)=>e.map(e=>t[e]));const a=(e,t)=>t;const s=(e,t)=>e[t];const l=r(n,e=>e.length);if(!e)return{selectIds:n,selectEntities:i,selectAll:o,selectTotal:l,selectById:r(i,a,s)};const u=r(e,i);return{selectIds:r(e,n),selectEntities:u,selectAll:r(e,o),selectTotal:r(e,l),selectById:r(u,a,s)}}return{getSelectors:e}}var xe=i.Qx;function Ce(e){const t=Oe((t,r)=>e(r));return function e(r){return t(r,void 0)}}function Oe(e){return function t(r,n){function o(e){return v(e)}const a=t=>{o(n)?e(n.payload,t):e(n,t)};if(xe(r)){a(r);return r}return(0,i.jM)(r,a)}}function je(e,t){const r=t(e);false;return r}function Ae(e){Array.isArray(e)||(e=Object.values(e));return e}function Te(e){return(0,i.Qx)(e)?(0,i.ss)(e):e}function De(e,t,r){e=Ae(e);const n=Te(r.ids);const i=new Set(n);const o=[];const a=new Set([]);const s=[];for(const r of e){const e=je(r,t);if(i.has(e)||a.has(e))s.push({id:e,changes:r});else{a.add(e);o.push(r)}}return[o,s,n]}function Le(e){function t(t,r){const n=je(t,e);if(n in r.entities)return;r.ids.push(n);r.entities[n]=t}function r(e,r){e=Ae(e);for(const n of e)t(n,r)}function n(t,r){const n=je(t,e);n in r.entities||r.ids.push(n);r.entities[n]=t}function i(e,t){e=Ae(e);for(const r of e)n(r,t)}function o(e,t){e=Ae(e);t.ids=[];t.entities={};r(e,t)}function a(e,t){return s([e],t)}function s(e,t){let r=false;e.forEach(e=>{if(e in t.entities){delete t.entities[e];r=true}});r&&(t.ids=t.ids.filter(e=>e in t.entities))}function l(e){Object.assign(e,{ids:[],entities:{}})}function u(t,r,n){const i=n.entities[r.id];if(void 0===i)return false;const o=Object.assign({},i,r.changes);const a=je(o,e);const s=a!==r.id;if(s){t[r.id]=a;delete n.entities[r.id]}n.entities[a]=o;return s}function c(e,t){return d([e],t)}function d(t,r){const n={};const i={};t.forEach(e=>{e.id in r.entities&&(i[e.id]={id:e.id,changes:{...i[e.id]?.changes,...e.changes}})});t=Object.values(i);const o=t.length>0;if(o){const i=t.filter(e=>u(n,e,r)).length>0;i&&(r.ids=Object.values(r.entities).map(t=>je(t,e)))}}function f(e,t){return p([e],t)}function p(t,n){const[i,o]=De(t,e,n);r(i,n);d(o,n)}return{removeAll:Ce(l),addOne:Oe(t),addMany:Oe(r),setOne:Oe(n),setMany:Oe(i),setAll:Oe(o),updateOne:Oe(c),updateMany:Oe(d),upsertOne:Oe(f),upsertMany:Oe(p),removeOne:Oe(a),removeMany:Oe(s)}}function Ie(e,t,r){let n=0;let i=e.length;while(n<i){let o=n+i>>>1;const a=e[o];const s=r(t,a);s>=0?n=o+1:i=o}return n}function Me(e,t,r){const n=Ie(e,t,r);e.splice(n,0,t);return e}function Re(e,t){const{removeOne:r,removeMany:n,removeAll:i}=Le(e);function o(e,t){return a([e],t)}function a(t,r,n){t=Ae(t);const i=new Set(n??Te(r.ids));const o=new Set;const a=t.filter(t=>{const r=je(t,e);const n=!o.has(r);n&&o.add(r);return!i.has(r)&&n});0!==a.length&&g(r,a)}function s(e,t){return l([e],t)}function l(t,r){let n={};t=Ae(t);if(0!==t.length){for(const i of t){const t=e(i);n[t]=i;delete r.entities[t]}t=Ae(n);g(r,t)}}function u(e,t){e=Ae(e);t.entities={};t.ids=[];a(e,t,[])}function c(e,t){return d([e],t)}function d(t,r){let n=false;let i=false;for(let o of t){const t=r.entities[o.id];if(!t)continue;n=true;Object.assign(t,o.changes);const a=e(t);if(o.id!==a){i=true;delete r.entities[o.id];const e=r.ids.indexOf(o.id);r.ids[e]=a;r.entities[a]=t}}n&&g(r,[],n,i)}function f(e,t){return p([e],t)}function p(t,r){const[n,i,o]=De(t,e,r);n.length&&a(n,r,o);i.length&&d(i,r)}function h(e,t){if(e.length!==t.length)return false;for(let r=0;r<e.length;r++){if(e[r]===t[r])continue;return false}return true}const g=(r,n,i,o)=>{const a=Te(r.entities);const s=Te(r.ids);const l=r.entities;let u=s;o&&(u=new Set(s));let c=[];for(const e of u){const t=a[e];t&&c.push(t)}const d=0===c.length;for(const r of n){l[e(r)]=r;d||Me(c,r,t)}d?c=n.slice().sort(t):i&&c.sort(t);const f=c.map(e);h(s,f)||(r.ids=f)};return{removeOne:r,removeMany:n,removeAll:i,addOne:Oe(o),updateOne:Oe(c),upsertOne:Oe(f),setOne:Oe(s),setMany:Oe(l),setAll:Oe(u),addMany:Oe(a),updateMany:Oe(d),upsertMany:Oe(p)}}function Fe(e={}){const{selectId:t,sortComparer:r}={sortComparer:false,selectId:e=>e.id,...e};const n=r?Re(t,r):Le(t);const i=Pe(n);const o=Ee();return{selectId:t,sortComparer:r,...i,...o,...n}}var Be="task";var Ne="listener";var Ve="completed";var qe="cancelled";var We=`task-${qe}`;var Ue=`task-${Ve}`;var ze=`${Ne}-${qe}`;var Ge=`${Ne}-${Ve}`;var He=class{constructor(e){this.code=e;this.message=`${Be} ${qe} (reason: ${e})`}name="TaskAbortError";message};var $e=(e,t)=>{if("function"!==typeof e)throw new TypeError(Tt(32))};var Ke=()=>{};var Ze=(e,t=Ke)=>{e.catch(t);return e};var Qe=(e,t)=>{e.addEventListener("abort",t,{once:true});return()=>e.removeEventListener("abort",t)};var Ye=e=>{if(e.aborted)throw new He(e.reason)};function Xe(e,t){let r=Ke;return new Promise((n,i)=>{const o=()=>i(new He(e.reason));if(e.aborted){o();return}r=Qe(e,o);t.finally(()=>r()).then(n,i)}).finally(()=>{r=Ke})}var Je=async(e,t)=>{try{await Promise.resolve();const t=await e();return{status:"ok",value:t}}catch(e){return{status:e instanceof He?"cancelled":"rejected",error:e}}finally{t?.()}};var et=e=>t=>Ze(Xe(e,t).then(t=>{Ye(e);return t}));var tt=e=>{const t=et(e);return e=>t(new Promise(t=>setTimeout(t,e)))};var{assign:rt}=Object;var nt={};var it="listenerMiddleware";var ot=(e,t)=>{const r=t=>Qe(e,()=>t.abort(e.reason));return(n,i)=>{$e(n,"taskExecutor");const o=new AbortController;r(o);const a=Je(async()=>{Ye(e);Ye(o.signal);const t=await n({pause:et(o.signal),delay:tt(o.signal),signal:o.signal});Ye(o.signal);return t},()=>o.abort(Ue));i?.autoJoin&&t.push(a.catch(Ke));return{result:et(e)(a),cancel(){o.abort(We)}}}};var at=(e,t)=>{const r=async(r,n)=>{Ye(t);let i=()=>{};const o=new Promise((t,n)=>{let o=e({predicate:r,effect:(e,r)=>{r.unsubscribe();t([e,r.getState(),r.getOriginalState()])}});i=()=>{o();n()}});const a=[o];null!=n&&a.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await Xe(t,Promise.race(a));Ye(t);return e}finally{i()}};return(e,t)=>Ze(r(e,t))};var st=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:o}=e;if(t)i=h(t).match;else if(r){t=r.type;i=r.match}else if(n)i=n;else if(!i)throw new Error(Tt(21));$e(o,"options.listener");return{predicate:i,type:t,effect:o}};var lt=rt(e=>{const{type:t,predicate:r,effect:n}=st(e);const i={id:te(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Tt(22))}};return i},{withTypes:()=>lt});var ut=(e,t)=>{const{type:r,effect:n,predicate:i}=st(t);return Array.from(e.values()).find(e=>{const t="string"===typeof r?e.type===r:e.predicate===i;return t&&e.effect===n})};var ct=e=>{e.pending.forEach(e=>{e.abort(ze)})};var dt=(e,t)=>()=>{for(const e of t.keys())ct(e);e.clear()};var ft=(e,t,r)=>{try{e(t,r)}catch(e){setTimeout(()=>{throw e},0)}};var pt=rt(h(`${it}/add`),{withTypes:()=>pt});var ht=h(`${it}/removeAll`);var gt=rt(h(`${it}/remove`),{withTypes:()=>gt});var vt=(...e)=>{console.error(`${it}/error`,...e)};var mt=(e={})=>{const t=new Map;const r=new Map;const i=e=>{const t=r.get(e)??0;r.set(e,t+1)};const o=e=>{const t=r.get(e)??1;1===t?r.delete(e):r.set(e,t-1)};const{extra:a,onError:s=vt}=e;$e(s,"onError");const l=e=>{e.unsubscribe=()=>t.delete(e.id);t.set(e.id,e);return t=>{e.unsubscribe();t?.cancelActive&&ct(e)}};const u=e=>{const r=ut(t,e)??lt(e);return l(r)};rt(u,{withTypes:()=>u});const c=e=>{const r=ut(t,e);if(r){r.unsubscribe();e.cancelActive&&ct(r)}return!!r};rt(c,{withTypes:()=>c});const d=async(e,r,n,l)=>{const c=new AbortController;const d=at(u,c.signal);const f=[];try{e.pending.add(c);i(e);await Promise.resolve(e.effect(r,rt({},n,{getOriginalState:l,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:tt(c.signal),pause:et(c.signal),extra:a,signal:c.signal,fork:ot(c.signal,f),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{if(e!==c){e.abort(ze);r.delete(e)}})},cancel:()=>{c.abort(ze);e.pending.delete(c)},throwIfCancelled:()=>{Ye(c.signal)}})))}catch(e){e instanceof He||ft(s,e,{raisedBy:"effect"})}finally{await Promise.all(f);c.abort(Ge);o(e);e.pending.delete(c)}};const f=dt(t,r);const p=e=>r=>i=>{if(!(0,n.ve)(i))return r(i);if(pt.match(i))return u(i.payload);if(ht.match(i)){f();return}if(gt.match(i))return c(i.payload);let o=e.getState();const a=()=>{if(o===nt)throw new Error(Tt(23));return o};let l;try{l=r(i);if(t.size>0){const r=e.getState();const n=Array.from(t.values());for(const t of n){let n=false;try{n=t.predicate(i,r,o)}catch(e){n=false;ft(s,e,{raisedBy:"predicate"})}if(!n)continue;d(t,i,e,a)}}}finally{o=nt}return l};return{middleware:p,startListening:u,stopListening:c,clearListeners:f}};var yt=e=>({middleware:e,applied:new Map});var bt=e=>t=>t?.meta?.instanceId===e;var wt=()=>{const e=te();const t=new Map;const r=Object.assign(h("dynamicMiddleware/add",(...t)=>({payload:t,meta:{instanceId:e}})),{withTypes:()=>r});const i=Object.assign(function e(...r){r.forEach(e=>{k(t,e,yt)})},{withTypes:()=>i});const o=e=>{const r=Array.from(t.values()).map(t=>k(t.applied,e,t.middleware));return(0,n.Zz)(...r)};const a=H(r,bt(e));const s=e=>t=>r=>{if(a(r)){i(...r.payload);return e.dispatch}return o(e)(t)(r)};return{middleware:s,addMiddleware:i,withMiddleware:r,instanceId:e}};var _t=e=>"reducerPath"in e&&"string"===typeof e.reducerPath;var St=e=>e.flatMap(e=>_t(e)?[[e.reducerPath,e.reducer]]:Object.entries(e));var kt=Symbol.for("rtk-state-proxy-original");var Pt=e=>!!e&&!!e[kt];var Et=new WeakMap;var xt=(e,t,r)=>k(Et,e,()=>new Proxy(e,{get:(e,n,i)=>{if(n===kt)return e;const o=Reflect.get(e,n,i);if("undefined"===typeof o){const e=r[n];if("undefined"!==typeof e)return e;const i=t[n];if(i){const e=i(void 0,{type:te()});if("undefined"===typeof e)throw new Error(Tt(24));r[n]=e;return e}}return o}}));var Ct=e=>{if(!Pt(e))throw new Error(Tt(25));return e[kt]};var Ot={};var jt=(e=Ot)=>e;function At(...e){const t=Object.fromEntries(St(e));const r=()=>Object.keys(t).length?(0,n.HY)(t):jt;let i=r();function o(e,t){return i(e,t)}o.withLazyLoadedSlices=()=>o;const a={};const s=(e,n={})=>{const{reducerPath:s,reducer:l}=e;const u=t[s];if(!n.overrideExisting&&u&&u!==l){"undefined"!==typeof process&&false;return o}n.overrideExisting&&u!==l&&delete a[s];t[s]=l;i=r();return o};const l=Object.assign(function e(r,n){return function e(i,...o){return r(xt(n?n(i,...o):i,t,a),...o)}},{original:Ct});return Object.assign(o,{inject:s,selector:l})}function Tt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}},21275(e,t,r){"use strict";r.d(t,{$i:()=>Fe,CN:()=>V,Qx:()=>v,YT:()=>Oe,a6:()=>m,c2:()=>_,jM:()=>De,ss:()=>xe,vI:()=>Le});var n=Symbol.for("immer-nothing");var i=Symbol.for("immer-draftable");var o=Symbol.for("immer-state");var a=[];function s(e,...t){false;throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var l=Object;var u=l.getPrototypeOf;var c="constructor";var d="prototype";var f="configurable";var p="enumerable";var h="writable";var g="value";var v=e=>!!e&&!!e[o];function m(e){if(!e)return false;return w(e)||O(e)||!!e[i]||!!e[c]?.[i]||j(e)||A(e)}var y=l[d][c].toString();var b=new WeakMap;function w(e){if(!e||!T(e))return false;const t=u(e);if(null===t||t===l[d])return true;const r=l.hasOwnProperty.call(t,c)&&t[c];if(r===Object)return true;if(!D(r))return false;let n=b.get(r);if(void 0===n){n=Function.toString.call(r);b.set(r,n)}return n===y}function _(e){v(e)||s(15,e);return e[o].base_}function S(e,t,r=true){if(0===k(e)){const n=r?Reflect.ownKeys(e):l.keys(e);n.forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function k(e){const t=e[o];return t?t.type_:O(e)?1:j(e)?2:A(e)?3:0}var P=(e,t,r=k(e))=>2===r?e.has(t):l[d].hasOwnProperty.call(e,t);var E=(e,t,r=k(e))=>2===r?e.get(t):e[t];var x=(e,t,r,n=k(e))=>{2===n?e.set(t,r):3===n?e.add(r):e[t]=r};function C(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var O=Array.isArray;var j=e=>e instanceof Map;var A=e=>e instanceof Set;var T=e=>"object"===typeof e;var D=e=>"function"===typeof e;var L=e=>"boolean"===typeof e;function I(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var M=e=>{if(!T(e))return null;return e?.[o]};var R=e=>e.copy_||e.base_;var F=e=>{const t=M(e);return t?t.copy_??t.base_:e};var B=e=>e.modified_?e.copy_:e.base_;function N(e,t){if(j(e))return new Map(e);if(A(e))return new Set(e);if(O(e))return Array[d].slice.call(e);const r=w(e);if(true===t||"class_only"===t&&!r){const t=l.getOwnPropertyDescriptors(e);delete t[o];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n];const o=t[i];if(false===o[h]){o[h]=true;o[f]=true}(o.get||o.set)&&(t[i]={[f]:true,[h]:true,[p]:o[p],[g]:e[i]})}return l.create(u(e),t)}{const t=u(e);if(null!==t&&r)return{...e};const n=l.create(t);return l.assign(n,e)}}function V(e,t=false){if(U(e)||v(e)||!m(e))return e;k(e)>1&&l.defineProperties(e,{set:W,add:W,clear:W,delete:W});l.freeze(e);t&&S(e,(e,t)=>{V(t,true)},false);return e}function q(){s(2)}var W={[g]:q};function U(e){if(null===e||!T(e))return true;return l.isFrozen(e)}var z="MapSet";var G="Patches";var H="ArrayMethods";var $={};function K(e){const t=$[e];t||s(0,e);return t}var Z=e=>!!$[e];function Q(e,t){$[e]||($[e]=t)}var Y;var X=()=>Y;var J=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:true,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Z(z)?K(z):void 0,arrayMethodsPlugin_:Z(H)?K(H):void 0});function ee(e,t){if(t){e.patchPlugin_=K(G);e.patches_=[];e.inversePatches_=[];e.patchListener_=t}}function te(e){re(e);e.drafts_.forEach(ie);e.drafts_=null}function re(e){e===Y&&(Y=e.parent_)}var ne=e=>Y=J(Y,e);function ie(e){const t=e[o];0===t.type_||1===t.type_?t.revoke_():t.revoked_=true}function oe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];const i=void 0!==e&&e!==r;if(i){if(r[o].modified_){te(t);s(4)}m(e)&&(e=ae(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[o].base_,e,t)}else e=ae(t,r);se(t,e,true);te(t);t.patches_&&t.patchListener_(t.patches_,t.inversePatches_);return e!==n?e:void 0}function ae(e,t){if(U(t))return t;const r=t[o];if(!r){const r=ge(t,e.handledSet_,e);return r}if(!ue(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)while(t.length>0){const r=t.pop();r(e)}pe(r,e)}return r.copy_}function se(e,t,r=false){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V(t,r)}function le(e){e.finalized_=true;e.scope_.unfinalizedDrafts_--}var ue=(e,t)=>e.scope_===t;var ce=[];function de(e,t,r,n){const i=R(e);const o=e.type_;if(void 0!==n){const e=E(i,n,o);if(e===t){x(i,n,r,o);return}}if(!e.draftLocations_){const t=e.draftLocations_=new Map;S(i,(e,r)=>{if(v(r)){const n=t.get(r)||[];n.push(e);t.set(r,n)}})}const a=e.draftLocations_.get(t)??ce;for(const e of a)x(i,e,r,o)}function fe(e,t,r){e.callbacks_.push(function n(i){const o=t;if(!o||!ue(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const a=B(o);de(e,o.draft_??o,a,r);pe(o,i)})}function pe(e,t){const r=e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0);if(r){const{patchPlugin_:r}=t;if(r){const n=r.getPath(e);n&&r.generatePatches_(e,n,t)}le(e)}}function he(e,t,r){const{scope_:n}=e;if(v(r)){const i=r[o];ue(i,n)&&i.callbacks_.push(function n(){ke(e);const o=B(i);de(e,r,o,t)})}else m(r)&&e.callbacks_.push(function i(){const o=R(e);3===e.type_?o.has(r)&&ge(r,n.handledSet_,n):E(o,t,e.type_)===r&&n.drafts_.length>1&&true===(e.assigned_.get(t)??false)&&e.copy_&&ge(E(e.copy_,t,e.type_),n.handledSet_,n)})}function ge(e,t,r){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return e;if(v(e)||t.has(e)||!m(e)||U(e))return e;t.add(e);S(e,(n,i)=>{if(v(i)){const t=i[o];if(ue(t,r)){const r=B(t);x(e,n,r,e.type_);le(t)}}else m(i)&&ge(i,t,r)});return e}function ve(e,t){const r=O(e);const n={type_:r?1:0,scope_:t?t.scope_:X(),modified_:false,finalized_:false,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:false,callbacks_:void 0};let i=n;let o=me;if(r){i=[n];o=ye}const{revoke:a,proxy:s}=Proxy.revocable(i,o);n.draft_=s;n.revoke_=a;return[s,n]}var me={get(e,t){if(t===o)return e;let r=e.scope_.arrayMethodsPlugin_;const n=1===e.type_&&"string"===typeof t;if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=R(e);if(!P(i,t,e.type_))return we(e,i,t);const a=i[t];if(e.finalized_||!m(a))return a;if(n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&I(t))return a;if(a===be(e.base_,t)){ke(e);const r=1===e.type_?+t:t;const n=Ee(e.scope_,a,e,r);return e.copy_[r]=n}return a},has(e,t){return t in R(e)},ownKeys(e){return Reflect.ownKeys(R(e))},set(e,t,r){const n=_e(R(e),t);if(n?.set){n.set.call(e.draft_,r);return true}if(!e.modified_){const n=be(R(e),t);const i=n?.[o];if(i&&i.base_===r){e.copy_[t]=r;e.assigned_.set(t,false);return true}if(C(r,n)&&(void 0!==r||P(e.base_,t,e.type_)))return true;ke(e);Se(e)}if(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))return true;e.copy_[t]=r;e.assigned_.set(t,true);he(e,t,r);return true},deleteProperty(e,t){ke(e);if(void 0!==be(e.base_,t)||t in e.base_){e.assigned_.set(t,false);Se(e)}else e.assigned_.delete(t);e.copy_&&delete e.copy_[t];return true},getOwnPropertyDescriptor(e,t){const r=R(e);const n=Reflect.getOwnPropertyDescriptor(r,t);if(!n)return n;return{[h]:true,[f]:1!==e.type_||"length"!==t,[p]:n[p],[g]:r[t]}},defineProperty(){s(11)},getPrototypeOf(e){return u(e.base_)},setPrototypeOf(){s(12)}};var ye={};for(let e in me){let t=me[e];ye[e]=function(){const e=arguments;e[0]=e[0][0];return t.apply(this,e)}}ye.deleteProperty=function(e,t){false;return ye.set.call(this,e,t,void 0)};ye.set=function(e,t,r){false;return me.set.call(this,e[0],t,r,e[0])};function be(e,t){const r=e[o];const n=r?R(r):e;return n[t]}function we(e,t,r){const n=_e(t,r);return n?g in n?n[g]:n.get?.call(e.draft_):void 0}function _e(e,t){if(!(t in e))return;let r=u(e);while(r){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=u(r)}return}function Se(e){if(!e.modified_){e.modified_=true;e.parent_&&Se(e.parent_)}}function ke(e){if(!e.copy_){e.assigned_=new Map;e.copy_=N(e.base_,e.scope_.immer_.useStrictShallowCopy_)}}var Pe=class{constructor(e){this.autoFreeze_=true;this.useStrictShallowCopy_=false;this.useStrictIteration_=false;this.produce=(e,t,r)=>{if(D(e)&&!D(t)){const r=t;t=e;const n=this;return function e(i=r,...o){return n.produce(i,e=>t.call(this,e,...o))}}D(t)||s(6);void 0===r||D(r)||s(7);let i;if(m(e)){const n=ne(this);const o=Ee(n,e,void 0);let a=true;try{i=t(o);a=false}finally{a?te(n):re(n)}ee(n,r);return oe(i,n)}if(!e||!T(e)){i=t(e);void 0===i&&(i=e);i===n&&(i=void 0);this.autoFreeze_&&V(i,true);if(r){const t=[];const n=[];K(G).generateReplacementPatches_(e,i,{patches_:t,inversePatches_:n});r(t,n)}return i}s(1,e)};this.produceWithPatches=(e,t)=>{if(D(e))return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;const i=this.produce(e,t,(e,t)=>{r=e;n=t});return[i,r,n]};L(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze);L(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy);L(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){m(e)||s(8);v(e)&&(e=xe(e));const t=ne(this);const r=Ee(t,e,void 0);r[o].isManual_=true;re(t);return r}finishDraft(e,t){const r=e&&e[o];r&&r.isManual_||s(9);const{scope_:n}=r;ee(n,t);return oe(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=K(G).applyPatches_;if(v(e))return n(e,t);return this.produce(e,e=>n(e,t))}};function Ee(e,t,r,n){const[i,o]=j(t)?K(z).proxyMap_(t,r):A(t)?K(z).proxySet_(t,r):ve(t,r);const a=r?.scope_??X();a.drafts_.push(i);o.callbacks_=r?.callbacks_??[];o.key_=n;r&&void 0!==n?fe(r,o,n):o.callbacks_.push(function e(t){t.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:r}=t;o.modified_&&r&&r.generatePatches_(o,[],t)});return i}function xe(e){v(e)||s(10,e);return Ce(e)}function Ce(e){if(!m(e)||U(e))return e;const t=e[o];let r;let n=true;if(t){if(!t.modified_)return t.base_;t.finalized_=true;r=N(e,t.scope_.immer_.useStrictShallowCopy_);n=t.scope_.immer_.shouldUseStrictIteration()}else r=N(e,true);S(r,(e,t)=>{x(r,e,Ce(t))},n);t&&(t.finalized_=false);return r}function Oe(){const e=16;false;function t(e,n=[]){if(void 0!==e.key_){const t=e.parent_.copy_??e.parent_.base_;const r=M(E(t,e.key_));const i=E(t,e.key_);if(void 0===i)return null;if(i!==e.draft_&&i!==e.base_&&i!==e.copy_)return null;if(null!=r&&r.base_!==e.base_)return null;const o=3===e.parent_.type_;let a;if(o){const t=e.parent_;a=Array.from(t.drafts_.keys()).indexOf(e.key_)}else a=e.key_;if(!(o&&t.size>a||P(t,a)))return null;n.push(a)}if(e.parent_)return t(e.parent_,n);n.reverse();try{r(e.copy_,n)}catch(e){return null}return n}function r(e,t){let r=e;for(let e=0;e<t.length-1;e++){const n=t[e];r=E(r,n);if(!T(r)||null===r)throw new Error(`Cannot resolve path at '${t.join("/")}'`)}return r}const a="replace";const l="add";const f="remove";function p(e,t,r){if(e.scope_.processedForPatches_.has(e))return;e.scope_.processedForPatches_.add(e);const{patches_:n,inversePatches_:i}=r;switch(e.type_){case 0:case 2:return g(e,t,n,i);case 1:return h(e,t,n,i);case 3:return y(e,t,n,i)}}function h(e,t,r,n){let{base_:i,assigned_:s}=e;let u=e.copy_;if(u.length<i.length){[i,u]=[u,i];[r,n]=[n,r]}const c=true===e.allIndicesReassigned_;for(let e=0;e<i.length;e++){const l=u[e];const d=i[e];const f=c||s?.get(e.toString());if(f&&l!==d){const i=l?.[o];if(i&&i.modified_)continue;const s=t.concat([e]);r.push({op:a,path:s,value:x(l)});n.push({op:a,path:s,value:x(d)})}}for(let e=i.length;e<u.length;e++){const n=t.concat([e]);r.push({op:l,path:n,value:x(u[e])})}for(let e=u.length-1;i.length<=e;--e){const r=t.concat([e]);n.push({op:f,path:r})}}function g(e,t,r,n){const{base_:i,copy_:o,type_:s}=e;S(e.assigned_,(e,u)=>{const c=E(i,e,s);const d=E(o,e,s);const p=u?P(i,e)?a:l:f;if(c===d&&p===a)return;const h=t.concat(e);r.push(p===f?{op:p,path:h}:{op:p,path:h,value:x(d)});n.push(p===l?{op:f,path:h}:p===f?{op:l,path:h,value:x(c)}:{op:a,path:h,value:x(c)})})}function y(e,t,r,n){let{base_:i,copy_:o}=e;let a=0;i.forEach(e=>{if(!o.has(e)){const i=t.concat([a]);r.push({op:f,path:i,value:e});n.unshift({op:l,path:i,value:e})}a++});a=0;o.forEach(e=>{if(!i.has(e)){const i=t.concat([a]);r.push({op:l,path:i,value:e});n.unshift({op:f,path:i,value:e})}a++})}function b(e,t,r){const{patches_:i,inversePatches_:o}=r;i.push({op:a,path:[],value:t===n?void 0:t});o.push({op:a,path:[],value:e})}function w(t,r){r.forEach(r=>{const{path:n,op:i}=r;let o=t;for(let t=0;t<n.length-1;t++){const r=k(o);let i=n[t];"string"!==typeof i&&"number"!==typeof i&&(i=""+i);0!==r&&1!==r||"__proto__"!==i&&i!==c||s(e+3);D(o)&&i===d&&s(e+3);o=E(o,i);T(o)||s(e+2,n.join("/"))}const u=k(o);const p=_(r.value);const h=n[n.length-1];switch(i){case a:switch(u){case 2:return o.set(h,p);case 3:s(e);default:return o[h]=p}case l:switch(u){case 1:return"-"===h?o.push(p):o.splice(h,0,p);case 2:return o.set(h,p);case 3:return o.add(p);default:return o[h]=p}case f:switch(u){case 1:return o.splice(h,1);case 2:return o.delete(h);case 3:return o.delete(r.value);default:return delete o[h]}default:s(e+1,i)}});return t}function _(e){if(!m(e))return e;if(O(e))return e.map(_);if(j(e))return new Map(Array.from(e.entries()).map(([e,t])=>[e,_(t)]));if(A(e))return new Set(Array.from(e).map(_));const t=Object.create(u(e));for(const r in e)t[r]=_(e[r]);P(e,i)&&(t[i]=e[i]);return t}function x(e){return v(e)?_(e):e}Q(G,{applyPatches_:w,generatePatches_:p,generateReplacementPatches_:b,getPath:t})}function je(){class e extends Map{constructor(e,t){super();this[o]={type_:2,parent_:t,scope_:t?t.scope_:X(),modified_:false,finalized_:false,copy_:void 0,assigned_:void 0,base_:e,draft_:this,isManual_:false,revoked_:false,callbacks_:[]}}get size(){return R(this[o]).size}has(e){return R(this[o]).has(e)}set(e,t){const n=this[o];l(n);if(!R(n).has(e)||R(n).get(e)!==t){r(n);Se(n);n.assigned_.set(e,true);n.copy_.set(e,t);n.assigned_.set(e,true);he(n,e,t)}return this}delete(e){if(!this.has(e))return false;const t=this[o];l(t);r(t);Se(t);t.base_.has(e)?t.assigned_.set(e,false):t.assigned_.delete(e);t.copy_.delete(e);return true}clear(){const e=this[o];l(e);if(R(e).size){r(e);Se(e);e.assigned_=new Map;S(e.base_,t=>{e.assigned_.set(t,false)});e.copy_.clear()}}forEach(e,t){const r=this[o];R(r).forEach((r,n,i)=>{e.call(t,this.get(n),n,this)})}get(e){const t=this[o];l(t);const n=R(t).get(e);if(t.finalized_||!m(n))return n;if(n!==t.base_.get(e))return n;const i=Ee(t.scope_,n,t,e);r(t);t.copy_.set(e,i);return i}keys(){return R(this[o]).keys()}values(){const e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const t=e.next();if(t.done)return t;const r=this.get(t.value);return{done:false,value:r}}}}entries(){const e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const r=this.get(t.value);return{done:false,value:[t.value,r]}}}}[(o,Symbol.iterator)](){return this.entries()}}function t(t,r){const n=new e(t,r);return[n,n[o]]}function r(e){if(!e.copy_){e.assigned_=new Map;e.copy_=new Map(e.base_)}}class n extends Set{constructor(e,t){super();this[o]={type_:3,parent_:t,scope_:t?t.scope_:X(),modified_:false,finalized_:false,copy_:void 0,base_:e,draft_:this,drafts_:new Map,revoked_:false,isManual_:false,assigned_:void 0,callbacks_:[]}}get size(){return R(this[o]).size}has(e){const t=this[o];l(t);if(!t.copy_)return t.base_.has(e);if(t.copy_.has(e))return true;if(t.drafts_.has(e)&&t.copy_.has(t.drafts_.get(e)))return true;return false}add(e){const t=this[o];l(t);if(!this.has(e)){a(t);Se(t);t.copy_.add(e);he(t,e,e)}return this}delete(e){if(!this.has(e))return false;const t=this[o];l(t);a(t);Se(t);return t.copy_.delete(e)||!!t.drafts_.has(e)&&t.copy_.delete(t.drafts_.get(e))}clear(){const e=this[o];l(e);if(R(e).size){a(e);Se(e);e.copy_.clear()}}values(){const e=this[o];l(e);a(e);return e.copy_.values()}entries(){const e=this[o];l(e);a(e);return e.copy_.entries()}keys(){return this.values()}[(o,Symbol.iterator)](){return this.values()}forEach(e,t){const r=this.values();let n=r.next();while(!n.done){e.call(t,n.value,n.value,this);n=r.next()}}}function i(e,t){const r=new n(e,t);return[r,r[o]]}function a(e){if(!e.copy_){e.copy_=new Set;e.base_.forEach(t=>{if(m(t)){const r=Ee(e.scope_,t,e,t);e.drafts_.set(t,r);e.copy_.add(r)}else e.copy_.add(t)})}}function l(e){e.revoked_&&s(3,JSON.stringify(R(e)))}function u(e){if(3===e.type_&&e.copy_){const t=new Set(e.copy_);e.copy_.clear();t.forEach(t=>{e.copy_.add(F(t))})}}Q(z,{proxyMap_:t,proxySet_:i,fixSetContents:u})}function Ae(){const e=new Set(["shift","unshift"]);const t=new Set(["push","pop"]);const r=new Set([...t,...e]);const n=new Set(["reverse","sort"]);const i=new Set([...r,...n,"splice"]);const o=new Set(["find","findLast"]);const a=new Set(["filter","slice","concat","flat",...o,"findIndex","findLastIndex","some","every","indexOf","lastIndexOf","includes","join","toString","toLocaleString"]);function s(e){return i.has(e)}function l(e){return a.has(e)}function u(e){return s(e)||l(e)}function c(e,t){e.operationMethod=t}function d(e){e.operationMethod=void 0}function f(e,t,r=true){ke(e);const n=t();Se(e);r&&e.assigned_.set("length",true);return n}function p(e){e.allIndicesReassigned_=true}function h(e,t){if(e<0)return Math.max(t+e,0);return Math.min(e,t)}function g(t,n,i){return f(t,()=>{const o=t.copy_[n](...i);e.has(n)&&p(t);return r.has(n)?o:t.draft_})}function v(e,t,r){return f(e,()=>{e.copy_[t](...r);p(e);return e.draft_},false)}function m(e,t){return function i(...o){const a=t;c(e,a);try{if(!s(a))return y(e,a,o);if(r.has(a))return g(e,a,o);if(n.has(a))return v(e,a,o);if("splice"===a){const t=f(e,()=>e.copy_.splice(...o));p(e);return t}}finally{d(e)}}}function y(e,t,r){const n=R(e);if("filter"===t){const t=r[0];const i=[];for(let r=0;r<n.length;r++)t(n[r],r,n)&&i.push(e.draft_[r]);return i}if(o.has(t)){const i=r[0];const o="find"===t;const a=o?1:-1;const s=o?0:n.length-1;for(let t=s;t>=0&&t<n.length;t+=a)if(i(n[t],t,n))return e.draft_[t];return}if("slice"===t){const t=r[0]??0;const i=r[1]??n.length;const o=h(t,n.length);const a=h(i,n.length);const s=[];for(let t=o;t<a;t++)s.push(e.draft_[t]);return s}return n[t](...r)}Q(H,{createMethodInterceptor:m,isArrayOperationMethod:u,isMutatingArrayMethod:s})}var Te=new Pe;var De=Te.produce;var Le=Te.produceWithPatches.bind(Te);var Ie=null;var Me=null;var Re=null;var Fe=Te.applyPatches.bind(Te);var Be=null;var Ne=null;var Ve=e=>e;var qe=e=>e},61579(e,t,r){"use strict";r.d(t,{$d:()=>l,HY:()=>w,Qd:()=>u,Tw:()=>P,Yl:()=>v,Zz:()=>k,ve:()=>E,y$:()=>g,zH:()=>S});function n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var i=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")();var o=i;var a=()=>Math.random().toString(36).substring(7).split("").join(".");var s={INIT:`@@redux/INIT${a()}`,REPLACE:`@@redux/REPLACE${a()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${a()}`};var l=s;function u(e){if("object"!==typeof e||null===e)return false;let t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function c(e){if(void 0===e)return"undefined";if(null===e)return"null";const t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(p(e))return"date";if(f(e))return"error";const r=d(e);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return Object.prototype.toString.call(e).slice(8,-1).toLowerCase().replace(/\s/g,"")}function d(e){return"function"===typeof e.constructor?e.constructor.name:null}function f(e){return e instanceof Error||"string"===typeof e.message&&e.constructor&&"number"===typeof e.constructor.stackTraceLimit}function p(e){if(e instanceof Date)return true;return"function"===typeof e.toDateString&&"function"===typeof e.getDate&&"function"===typeof e.setDate}function h(e){let t=typeof e;false;return t}function g(e,t,r){if("function"!==typeof e)throw new Error(n(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(n(0));if("function"===typeof t&&"undefined"===typeof r){r=t;t=void 0}if("undefined"!==typeof r){if("function"!==typeof r)throw new Error(n(1));return r(g)(e,t)}let i=e;let a=t;let s=new Map;let c=s;let d=0;let f=false;function p(){if(c===s){c=new Map;s.forEach((e,t)=>{c.set(t,e)})}}function h(){if(f)throw new Error(n(3));return a}function v(e){if("function"!==typeof e)throw new Error(n(4));if(f)throw new Error(n(5));let t=true;p();const r=d++;c.set(r,e);return function e(){if(!t)return;if(f)throw new Error(n(6));t=false;p();c.delete(r);s=null}}function m(e){if(!u(e))throw new Error(n(7));if("undefined"===typeof e.type)throw new Error(n(8));if("string"!==typeof e.type)throw new Error(n(17));if(f)throw new Error(n(9));try{f=true;a=i(a,e)}finally{f=false}const t=s=c;t.forEach(e=>{e()});return e}function y(e){if("function"!==typeof e)throw new Error(n(10));i=e;m({type:l.REPLACE})}function b(){const e=v;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(n(11));function r(){const e=t;e.next&&e.next(h())}r();const i=e(r);return{unsubscribe:i}},[o](){return this}}}m({type:l.INIT});const w={dispatch:m,subscribe:v,getState:h,replaceReducer:y,[o]:b};return w}function v(e,t,r){return g(e,t,r)}function m(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function y(e,t,r,n){const i=Object.keys(t);const o=r&&r.type===l.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===i.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!u(e))return`The ${o} has unexpected type of "${h(e)}". Expected argument to be an object with the following keys: "${i.join('", "')}"`;const a=Object.keys(e).filter(e=>!t.hasOwnProperty(e)&&!n[e]);a.forEach(e=>{n[e]=true});if(r&&r.type===l.REPLACE)return;if(a.length>0)return`Unexpected ${a.length>1?"keys":"key"} "${a.join('", "')}" found in ${o}. Expected to find one of the known reducer keys instead: "${i.join('", "')}". Unexpected keys will be ignored.`}function b(e){Object.keys(e).forEach(t=>{const r=e[t];const i=r(void 0,{type:l.INIT});if("undefined"===typeof i)throw new Error(n(12));if("undefined"===typeof r(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(n(13))})}function w(e){const t=Object.keys(e);const r={};for(let n=0;n<t.length;n++){const i=t[n];false;"function"===typeof e[i]&&(r[i]=e[i])}const i=Object.keys(r);let o;false;let a;try{b(r)}catch(e){a=e}return function e(t={},o){if(a)throw a;false;let s=false;const l={};for(let e=0;e<i.length;e++){const a=i[e];const u=r[a];const c=t[a];const d=u(c,o);if("undefined"===typeof d){const e=o&&o.type;throw new Error(n(14))}l[a]=d;s=s||d!==c}s=s||i.length!==Object.keys(t).length;return s?l:t}}function _(e,t){return function(...r){return t(e.apply(this,r))}}function S(e,t){if("function"===typeof e)return _(e,t);if("object"!==typeof e||null===e)throw new Error(n(16));const r={};for(const n in e){const i=e[n];"function"===typeof i&&(r[n]=_(i,t))}return r}function k(...e){if(0===e.length)return e=>e;if(1===e.length)return e[0];return e.reduce((e,t)=>(...r)=>e(t(...r)))}function P(...e){return t=>(r,i)=>{const o=t(r,i);let a=()=>{throw new Error(n(15))};const s={getState:o.getState,dispatch:(e,...t)=>a(e,...t)};const l=e.map(e=>e(s));a=k(...l)(o.dispatch);return{...o,dispatch:a}}}function E(e){return u(e)&&"type"in e&&"string"===typeof e.type}},84219(e,t,r){"use strict";r.d(t,{Ad:()=>Y,Mz:()=>X,X4:()=>Q,i5:()=>U});var n=(e,t,r)=>{if(1===t.length&&t[0]===r){let t=false;try{const r={};e(r)===r&&(t=true)}catch{}if(t){let e;try{throw new Error}catch(t){({stack:e}=t)}console.warn("The result function returned its own inputs without modification. e.g\n`createSelector([state => state.todos], todos => todos)`\nThis could lead to inefficient memoization and unnecessary re-renders.\nEnsure transformation logic is in the result function, and extraction logic is in the input selectors.",{stack:e})}}};var i=(e,t,r)=>{const{memoize:n,memoizeOptions:i}=t;const{inputSelectorResults:o,inputSelectorResultsCopy:a}=e;const s=n(()=>({}),...i);const l=s.apply(null,o)===s.apply(null,a);if(!l){let e;try{throw new Error}catch(t){({stack:e}=t)}console.warn("An input selector returned a different result when passed same arguments.\nThis means your output selector will likely run more frequently than intended.\nAvoid returning a new reference inside your input selector, e.g.\n`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)`",{arguments:r,firstInputs:o,secondInputs:a,stack:e})}};var o={inputStabilityCheck:"once",identityFunctionCheck:"once"};var a=e=>{Object.assign(o,e)};var s="NOT_FOUND";function l(e,t="expected a function, instead received "+typeof e){if("function"!==typeof e)throw new TypeError(t)}function u(e,t="expected an object, instead received "+typeof e){if("object"!==typeof e)throw new TypeError(t)}function c(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}var d=e=>Array.isArray(e)?e:[e];function f(e){const t=Array.isArray(e[0])?e[0]:e;c(t,"createSelector expects all input-selectors to be functions, but received the following types: ");return t}function p(e,t){const r=[];const{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var h=(e,t)=>{const{identityFunctionCheck:r,inputStabilityCheck:a}={...o,...t};return{identityFunctionCheck:{shouldRun:"always"===r||"once"===r&&e,run:n},inputStabilityCheck:{shouldRun:"always"===a||"once"===a&&e,run:i}}};var g=0;var v=null;var m=class{revision=g;_value;_lastValue;_isEqual=y;constructor(e,t=y){this._value=this._lastValue=e;this._isEqual=t}get value(){v?.add(this);return this._value}set value(e){if(this.value===e)return;this._value=e;this.revision=++g}};function y(e,t){return e===t}var b=class{_cachedValue;_cachedRevision=-1;_deps=[];hits=0;fn;constructor(e){this.fn=e}clear(){this._cachedValue=void 0;this._cachedRevision=-1;this._deps=[];this.hits=0}get value(){if(this.revision>this._cachedRevision){const{fn:e}=this;const t=new Set;const r=v;v=t;this._cachedValue=e();v=r;this.hits++;this._deps=Array.from(t);this._cachedRevision=this.revision}v?.add(this);return this._cachedValue}get revision(){return Math.max(...this._deps.map(e=>e.revision),0)}};function w(e){e instanceof m||console.warn("Not a valid cell! ",e);return e.value}function _(e,t){if(!(e instanceof m))throw new TypeError("setValue must be passed a tracked store created with `createStorage`.");e.value=e._lastValue=t}function S(e,t=y){return new m(e,t)}function k(e){l(e,"the first parameter to `createCache` must be a function");return new b(e)}var P=(e,t)=>false;function E(){return S(null,P)}function x(e,t){_(e,t)}var C=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=E());w(t)};var O=e=>{const t=e.collectionTag;null!==t&&x(t,null)};var j=Symbol();var A=0;var T=Object.getPrototypeOf({});var D=class{constructor(e){this.value=e;this.value=e;this.tag.value=e}proxy=new Proxy(this,L);tag=E();tags={};children={};collectionTag=null;id=A++};var L={get(e,t){function r(){const{value:r}=e;const n=Reflect.get(r,t);if("symbol"===typeof t)return n;if(t in T)return n;if("object"===typeof n&&null!==n){let r=e.children[t];void 0===r&&(r=e.children[t]=R(n));r.tag&&w(r.tag);return r.proxy}{let r=e.tags[t];if(void 0===r){r=e.tags[t]=E();r.value=n}w(r);return n}}const n=r();return n},ownKeys(e){C(e);return Reflect.ownKeys(e.value)},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(e.value,t)},has(e,t){return Reflect.has(e.value,t)}};var I=class{constructor(e){this.value=e;this.value=e;this.tag.value=e}proxy=new Proxy([this],M);tag=E();tags={};children={};collectionTag=null;id=A++};var M={get([e],t){"length"===t&&C(e);return L.get(e,t)},ownKeys([e]){return L.ownKeys(e)},getOwnPropertyDescriptor([e],t){return L.getOwnPropertyDescriptor(e,t)},has([e],t){return L.has(e,t)}};function R(e){if(Array.isArray(e))return new I(e);return new D(e)}function F(e,t){const{value:r,tags:n,children:i}=e;e.value=t;if(Array.isArray(r)&&Array.isArray(t)&&r.length!==t.length)O(e);else if(r!==t){let n=0;let i=0;let o=false;for(const e in r)n++;for(const e in t){i++;if(!(e in r)){o=true;break}}const a=o||n!==i;a&&O(e)}for(const i in n){const o=r[i];const a=t[i];if(o!==a){O(e);x(n[i],a)}"object"===typeof a&&null!==a&&delete n[i]}for(const e in i){const r=i[e];const n=t[e];const o=r.value;if(o===n)continue;if("object"===typeof n&&null!==n)F(r,n);else{B(r);delete i[e]}}}function B(e){e.tag&&x(e.tag,null);O(e);for(const t in e.tags)x(e.tags[t],null);for(const t in e.children)B(e.children[t])}function N(e){let t;return{get(r){if(t&&e(t.key,r))return t.value;return s},put(e,r){t={key:e,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function V(e,t){let r=[];function n(e){const n=r.findIndex(r=>t(e,r.key));if(n>-1){const e=r[n];if(n>0){r.splice(n,1);r.unshift(e)}return e.value}return s}function i(t,i){if(n(t)===s){r.unshift({key:t,value:i});r.length>e&&r.pop()}}function o(){return r}function a(){r=[]}return{get:n,put:i,getEntries:o,clear:a}}var q=(e,t)=>e===t;function W(e){return function t(r,n){if(null===r||null===n||r.length!==n.length)return false;const{length:i}=r;for(let t=0;t<i;t++)if(!e(r[t],n[t]))return false;return true}}function U(e,t){const r="object"===typeof t?t:{equalityCheck:t};const{equalityCheck:n=q,maxSize:i=1,resultEqualityCheck:o}=r;const a=W(n);let l=0;const u=1===i?N(a):V(i,a);function c(){let t=u.get(arguments);if(t===s){t=e.apply(null,arguments);l++;if(o){const e=u.getEntries();const r=e.find(e=>o(e.value,t));if(r){t=r.value;0!==l&&l--}}u.put(arguments,t)}return t}c.clearCache=()=>{u.clear();c.resetResultsCount()};c.resultsCount=()=>l;c.resetResultsCount=()=>{l=0};return c}function z(e){const t=R([]);let r=null;const n=W(q);const i=k(()=>{const r=e.apply(null,t.proxy);return r});function o(){if(!n(r,arguments)){F(t,arguments);r=arguments}return i.value}o.clearCache=()=>i.clear();return o}var G=class{constructor(e){this.value=e}deref(){return this.value}};var H="undefined"!==typeof WeakRef?WeakRef:G;var $=0;var K=1;function Z(){return{s:$,v:void 0,o:null,p:null}}function Q(e,t={}){let r=Z();const{resultEqualityCheck:n}=t;let i;let o=0;function a(){let t=r;const{length:a}=arguments;for(let e=0,r=a;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);if(void 0===n){t=Z();e.set(r,t)}else t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);if(void 0===n){t=Z();e.set(r,t)}else t=n}}const s=t;let l;if(t.s===K)l=t.v;else{l=e.apply(null,arguments);o++}s.s=K;if(n){const e=i?.deref?.()??i;if(null!=e&&n(e,l)){l=e;0!==o&&o--}const t="object"===typeof l&&null!==l||"function"===typeof l;i=t?new H(l):l}s.v=l;return l}a.clearCache=()=>{r=Z();a.resetResultsCount()};a.resultsCount=()=>o;a.resetResultsCount=()=>{o=0};return a}function Y(e,...t){const r="function"===typeof e?{memoize:e,memoizeOptions:t}:e;const n=(...e)=>{let t=0;let n=0;let i;let o={};let a=e.pop();if("object"===typeof a){o=a;a=e.pop()}l(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const s={...r,...o};const{memoize:u,memoizeOptions:c=[],argsMemoize:h=Q,argsMemoizeOptions:g=[],devModeChecks:v={}}=s;const m=d(c);const y=d(g);const b=f(e);const w=u(function e(){t++;return a.apply(null,arguments)},...m);let _=true;const S=h(function e(){n++;const t=p(b,arguments);i=w.apply(null,t);false;return i},...y);return Object.assign(S,{resultFunc:a,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>i,recomputations:()=>t,resetRecomputations:()=>{t=0},memoize:u,argsMemoize:h})};Object.assign(n,{withTypes:()=>n});return n}var X=Y(Q);var J=Object.assign((e,t=X)=>{u(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);const n=r.map(t=>e[t]);const i=t(n,(...e)=>e.reduce((e,t,n)=>{e[r[n]]=t;return e},{}));return i},{withTypes:()=>J})}};var __webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__);r.loaded=true;return r.exports}(()=>{__webpack_require__.amdO={}})();(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t}})();(()=>{__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:true,get:t[r]})}})();(()=>{__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__webpack_require__.nmd=e=>{e.paths=[];e.children||(e.children=[]);return e}})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__(55751);var e=t(__webpack_require__(1903));function t(e){return e&&e.__esModule?e:{default:e}}e["default"]._babelPolyfill&&"undefined"!==typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning.");e["default"]._babelPolyfill=true})();(()=>{"use strict";var e=n(__webpack_require__(11825));var t=n(__webpack_require__(35032));var r=n(__webpack_require__(91088));function n(e){return e&&e.__esModule?e:{default:e}}window.Site={load:function e(){this._initialiseWidgets();this._initialiseLanguageSelector();Server.ecwidStoreId&&this._initialiseEcwid()},_initialiseWidgets:function r(){var n=(0,t.default)();n.forEach(function(t){e.default.WidgetFactory.build(t)})},_initialiseLanguageSelector:function t(){if(Server.isFullVersionTenSite)return;var r=e.default.languageMenuRendererFactory.build(document.body);r.display()},_initialiseEcwid:function e(){r.default.addEcwidScript()}}})()})();